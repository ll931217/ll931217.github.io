try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="80cd9bb5-8903-44a4-b86c-99f0c6d4d924",t._sentryDebugIdIdentifier="sentry-dbid-80cd9bb5-8903-44a4-b86c-99f0c6d4d924")}catch{}function Uj(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"2d658a99a88b64b71cd64515792df260836b5055"}}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function kx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e3={exports:{}},Rv={};var t2;function Bj(){if(t2)return Rv;t2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:t,type:i,key:a,ref:r!==void 0?r:null,props:s}}return Rv.Fragment=e,Rv.jsx=n,Rv.jsxs=n,Rv}var n2;function zj(){return n2||(n2=1,e3.exports=Bj()),e3.exports}var V=zj(),t3={exports:{}},Iv={},n3={exports:{}},i3={};var i2;function Hj(){return i2||(i2=1,(function(t){function e(W,q){var te=W.length;W.push(q);e:for(;0<te;){var se=te-1>>>1,Z=W[se];if(0<r(Z,q))W[se]=q,W[te]=Z,te=se;else break e}}function n(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var q=W[0],te=W.pop();if(te!==q){W[0]=te;e:for(var se=0,Z=W.length,j=Z>>>1;se<j;){var ue=2*(se+1)-1,ge=W[ue],Se=ue+1,Fe=W[Se];if(0>r(ge,te))Se<Z&&0>r(Fe,ge)?(W[se]=Fe,W[Se]=te,se=Se):(W[se]=ge,W[ue]=te,se=ue);else if(Se<Z&&0>r(Fe,te))W[se]=Fe,W[Se]=te,se=Se;else break e}}return q}function r(W,q){var te=W.sortIndex-q.sortIndex;return te!==0?te:W.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],f=[],p=1,g=null,y=3,_=!1,x=!1,S=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function R(W){for(var q=n(f);q!==null;){if(q.callback===null)i(f);else if(q.startTime<=W)i(f),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(f)}}function N(W){if(S=!1,R(W),!x)if(n(l)!==null)x=!0,O||(O=!0,$());else{var q=n(f);q!==null&&re(N,q.startTime-W)}}var O=!1,P=-1,z=5,k=-1;function F(){return E?!0:!(t.unstable_now()-k<z)}function G(){if(E=!1,O){var W=t.unstable_now();k=W;var q=!0;try{e:{x=!1,S&&(S=!1,C(P),P=-1),_=!0;var te=y;try{t:{for(R(W),g=n(l);g!==null&&!(g.expirationTime>W&&F());){var se=g.callback;if(typeof se=="function"){g.callback=null,y=g.priorityLevel;var Z=se(g.expirationTime<=W);if(W=t.unstable_now(),typeof Z=="function"){g.callback=Z,R(W),q=!0;break t}g===n(l)&&i(l),R(W)}else i(l);g=n(l)}if(g!==null)q=!0;else{var j=n(f);j!==null&&re(N,j.startTime-W),q=!1}}break e}finally{g=null,y=te,_=!1}q=void 0}}finally{q?$():O=!1}}}var $;if(typeof A=="function")$=function(){A(G)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ne=ee.port2;ee.port1.onmessage=G,$=function(){ne.postMessage(null)}}else $=function(){w(G,0)};function re(W,q){P=w(function(){W(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(W){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var te=y;y=q;try{return W()}finally{y=te}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(W,q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=y;y=W;try{return q()}finally{y=te}},t.unstable_scheduleCallback=function(W,q,te){var se=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?se+te:se):te=se,W){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=te+Z,W={id:p++,callback:q,priorityLevel:W,startTime:te,expirationTime:Z,sortIndex:-1},te>se?(W.sortIndex=te,e(f,W),n(l)===null&&W===n(f)&&(S?(C(P),P=-1):S=!0,re(N,te-se))):(W.sortIndex=Z,e(l,W),x||_||(x=!0,O||(O=!0,$()))),W},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(W){var q=y;return function(){var te=y;y=q;try{return W.apply(this,arguments)}finally{y=te}}}})(i3)),i3}var r2;function X5(){return r2||(r2=1,n3.exports=Hj()),n3.exports}var r3={exports:{}},Dn={};var s2;function Vj(){if(s2)return Dn;s2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function w(j,ue,ge){this.props=j,this.context=ue,this.refs=E,this.updater=ge||x}w.prototype.isReactComponent={},w.prototype.setState=function(j,ue){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ue,"setState")},w.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function C(){}C.prototype=w.prototype;function A(j,ue,ge){this.props=j,this.context=ue,this.refs=E,this.updater=ge||x}var R=A.prototype=new C;R.constructor=A,S(R,w.prototype),R.isPureReactComponent=!0;var N=Array.isArray;function O(){}var P={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function k(j,ue,ge){var Se=ge.ref;return{$$typeof:t,type:j,key:ue,ref:Se!==void 0?Se:null,props:ge}}function F(j,ue){return k(j.type,ue,j.props)}function G(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function $(j){var ue={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ge){return ue[ge]})}var ee=/\/+/g;function ne(j,ue){return typeof j=="object"&&j!==null&&j.key!=null?$(""+j.key):ue.toString(36)}function re(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(O,O):(j.status="pending",j.then(function(ue){j.status==="pending"&&(j.status="fulfilled",j.value=ue)},function(ue){j.status==="pending"&&(j.status="rejected",j.reason=ue)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function W(j,ue,ge,Se,Fe){var ve=typeof j;(ve==="undefined"||ve==="boolean")&&(j=null);var fe=!1;if(j===null)fe=!0;else switch(ve){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(j.$$typeof){case t:case e:fe=!0;break;case p:return fe=j._init,W(fe(j._payload),ue,ge,Se,Fe)}}if(fe)return Fe=Fe(j),fe=Se===""?"."+ne(j,0):Se,N(Fe)?(ge="",fe!=null&&(ge=fe.replace(ee,"$&/")+"/"),W(Fe,ue,ge,"",function(Ye){return Ye})):Fe!=null&&(G(Fe)&&(Fe=F(Fe,ge+(Fe.key==null||j&&j.key===Fe.key?"":(""+Fe.key).replace(ee,"$&/")+"/")+fe)),ue.push(Fe)),1;fe=0;var He=Se===""?".":Se+":";if(N(j))for(var Xe=0;Xe<j.length;Xe++)Se=j[Xe],ve=He+ne(Se,Xe),fe+=W(Se,ue,ge,ve,Fe);else if(Xe=_(j),typeof Xe=="function")for(j=Xe.call(j),Xe=0;!(Se=j.next()).done;)Se=Se.value,ve=He+ne(Se,Xe++),fe+=W(Se,ue,ge,ve,Fe);else if(ve==="object"){if(typeof j.then=="function")return W(re(j),ue,ge,Se,Fe);throw ue=String(j),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return fe}function q(j,ue,ge){if(j==null)return j;var Se=[],Fe=0;return W(j,Se,"","",function(ve){return ue.call(ge,ve,Fe++)}),Se}function te(j){if(j._status===-1){var ue=j._result;ue=ue(),ue.then(function(ge){(j._status===0||j._status===-1)&&(j._status=1,j._result=ge)},function(ge){(j._status===0||j._status===-1)&&(j._status=2,j._result=ge)}),j._status===-1&&(j._status=0,j._result=ue)}if(j._status===1)return j._result.default;throw j._result}var se=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Z={map:q,forEach:function(j,ue,ge){q(j,function(){ue.apply(this,arguments)},ge)},count:function(j){var ue=0;return q(j,function(){ue++}),ue},toArray:function(j){return q(j,function(ue){return ue})||[]},only:function(j){if(!G(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Dn.Activity=g,Dn.Children=Z,Dn.Component=w,Dn.Fragment=n,Dn.Profiler=r,Dn.PureComponent=A,Dn.StrictMode=i,Dn.Suspense=l,Dn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Dn.__COMPILER_RUNTIME={__proto__:null,c:function(j){return P.H.useMemoCache(j)}},Dn.cache=function(j){return function(){return j.apply(null,arguments)}},Dn.cacheSignal=function(){return null},Dn.cloneElement=function(j,ue,ge){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Se=S({},j.props),Fe=j.key;if(ue!=null)for(ve in ue.key!==void 0&&(Fe=""+ue.key),ue)!z.call(ue,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&ue.ref===void 0||(Se[ve]=ue[ve]);var ve=arguments.length-2;if(ve===1)Se.children=ge;else if(1<ve){for(var fe=Array(ve),He=0;He<ve;He++)fe[He]=arguments[He+2];Se.children=fe}return k(j.type,Fe,Se)},Dn.createContext=function(j){return j={$$typeof:a,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},Dn.createElement=function(j,ue,ge){var Se,Fe={},ve=null;if(ue!=null)for(Se in ue.key!==void 0&&(ve=""+ue.key),ue)z.call(ue,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Fe[Se]=ue[Se]);var fe=arguments.length-2;if(fe===1)Fe.children=ge;else if(1<fe){for(var He=Array(fe),Xe=0;Xe<fe;Xe++)He[Xe]=arguments[Xe+2];Fe.children=He}if(j&&j.defaultProps)for(Se in fe=j.defaultProps,fe)Fe[Se]===void 0&&(Fe[Se]=fe[Se]);return k(j,ve,Fe)},Dn.createRef=function(){return{current:null}},Dn.forwardRef=function(j){return{$$typeof:o,render:j}},Dn.isValidElement=G,Dn.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:te}},Dn.memo=function(j,ue){return{$$typeof:f,type:j,compare:ue===void 0?null:ue}},Dn.startTransition=function(j){var ue=P.T,ge={};P.T=ge;try{var Se=j(),Fe=P.S;Fe!==null&&Fe(ge,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(O,se)}catch(ve){se(ve)}finally{ue!==null&&ge.types!==null&&(ue.types=ge.types),P.T=ue}},Dn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Dn.use=function(j){return P.H.use(j)},Dn.useActionState=function(j,ue,ge){return P.H.useActionState(j,ue,ge)},Dn.useCallback=function(j,ue){return P.H.useCallback(j,ue)},Dn.useContext=function(j){return P.H.useContext(j)},Dn.useDebugValue=function(){},Dn.useDeferredValue=function(j,ue){return P.H.useDeferredValue(j,ue)},Dn.useEffect=function(j,ue){return P.H.useEffect(j,ue)},Dn.useEffectEvent=function(j){return P.H.useEffectEvent(j)},Dn.useId=function(){return P.H.useId()},Dn.useImperativeHandle=function(j,ue,ge){return P.H.useImperativeHandle(j,ue,ge)},Dn.useInsertionEffect=function(j,ue){return P.H.useInsertionEffect(j,ue)},Dn.useLayoutEffect=function(j,ue){return P.H.useLayoutEffect(j,ue)},Dn.useMemo=function(j,ue){return P.H.useMemo(j,ue)},Dn.useOptimistic=function(j,ue){return P.H.useOptimistic(j,ue)},Dn.useReducer=function(j,ue,ge){return P.H.useReducer(j,ue,ge)},Dn.useRef=function(j){return P.H.useRef(j)},Dn.useState=function(j){return P.H.useState(j)},Dn.useSyncExternalStore=function(j,ue,ge){return P.H.useSyncExternalStore(j,ue,ge)},Dn.useTransition=function(){return P.H.useTransition()},Dn.version="19.2.4",Dn}var a2;function Px(){return a2||(a2=1,r3.exports=Vj()),r3.exports}var s3={exports:{}},ca={};var o2;function Gj(){if(o2)return ca;o2=1;var t=Px();function e(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:l,containerInfo:f,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,f){if(l==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ca.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ca.createPortal=function(l,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(l,f,null,p)},ca.flushSync=function(l){var f=a.T,p=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=f,i.p=p,i.d.f()}},ca.preconnect=function(l,f){typeof l=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(l,f))},ca.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},ca.preinit=function(l,f){if(typeof l=="string"&&f&&typeof f.as=="string"){var p=f.as,g=o(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(l,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:_}):p==="script"&&i.d.X(l,{crossOrigin:g,integrity:y,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ca.preinitModule=function(l,f){if(typeof l=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=o(f.as,f.crossOrigin);i.d.M(l,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(l)},ca.preload=function(l,f){if(typeof l=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=o(p,f.crossOrigin);i.d.L(l,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ca.preloadModule=function(l,f){if(typeof l=="string")if(f){var p=o(f.as,f.crossOrigin);i.d.m(l,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(l)},ca.requestFormReset=function(l){i.d.r(l)},ca.unstable_batchedUpdates=function(l,f){return l(f)},ca.useFormState=function(l,f,p){return a.H.useFormState(l,f,p)},ca.useFormStatus=function(){return a.H.useHostTransitionStatus()},ca.version="19.2.4",ca}var u2;function Y5(){if(u2)return s3.exports;u2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),s3.exports=Gj(),s3.exports}var l2;function Wj(){if(l2)return Iv;l2=1;var t=X5(),e=Px(),n=Y5();function i(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function s(u){var c=u,m=u;if(u.alternate)for(;c.return;)c=c.return;else{u=c;do c=u,(c.flags&4098)!==0&&(m=c.return),u=c.return;while(u)}return c.tag===3?m:null}function a(u){if(u.tag===13){var c=u.memoizedState;if(c===null&&(u=u.alternate,u!==null&&(c=u.memoizedState)),c!==null)return c.dehydrated}return null}function o(u){if(u.tag===31){var c=u.memoizedState;if(c===null&&(u=u.alternate,u!==null&&(c=u.memoizedState)),c!==null)return c.dehydrated}return null}function l(u){if(s(u)!==u)throw Error(i(188))}function f(u){var c=u.alternate;if(!c){if(c=s(u),c===null)throw Error(i(188));return c!==u?null:u}for(var m=u,v=c;;){var M=m.return;if(M===null)break;var D=M.alternate;if(D===null){if(v=M.return,v!==null){m=v;continue}break}if(M.child===D.child){for(D=M.child;D;){if(D===m)return l(M),u;if(D===v)return l(M),c;D=D.sibling}throw Error(i(188))}if(m.return!==v.return)m=M,v=D;else{for(var B=!1,K=M.child;K;){if(K===m){B=!0,m=M,v=D;break}if(K===v){B=!0,v=M,m=D;break}K=K.sibling}if(!B){for(K=D.child;K;){if(K===m){B=!0,m=D,v=M;break}if(K===v){B=!0,v=D,m=M;break}K=K.sibling}if(!B)throw Error(i(189))}}if(m.alternate!==v)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?u:c}function p(u){var c=u.tag;if(c===5||c===26||c===27||c===6)return u;for(u=u.child;u!==null;){if(c=p(u),c!==null)return c;u=u.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),A=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function $(u){return u===null||typeof u!="object"?null:(u=G&&u[G]||u["@@iterator"],typeof u=="function"?u:null)}var ee=Symbol.for("react.client.reference");function ne(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===ee?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case S:return"Fragment";case w:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList";case k:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case x:return"Portal";case A:return u.displayName||"Context";case C:return(u._context.displayName||"Context")+".Consumer";case R:var c=u.render;return u=u.displayName,u||(u=c.displayName||c.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case P:return c=u.displayName||null,c!==null?c:ne(u.type)||"Memo";case z:c=u._payload,u=u._init;try{return ne(u(c))}catch{}}return null}var re=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},se=[],Z=-1;function j(u){return{current:u}}function ue(u){0>Z||(u.current=se[Z],se[Z]=null,Z--)}function ge(u,c){Z++,se[Z]=u.current,u.current=c}var Se=j(null),Fe=j(null),ve=j(null),fe=j(null);function He(u,c){switch(ge(ve,c),ge(Fe,u),ge(Se,null),c.nodeType){case 9:case 11:u=(u=c.documentElement)&&(u=u.namespaceURI)?wk(u):0;break;default:if(u=c.tagName,c=c.namespaceURI)c=wk(c),u=Tk(c,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}ue(Se),ge(Se,u)}function Xe(){ue(Se),ue(Fe),ue(ve)}function Ye(u){u.memoizedState!==null&&ge(fe,u);var c=Se.current,m=Tk(c,u.type);c!==m&&(ge(Fe,u),ge(Se,m))}function bt(u){Fe.current===u&&(ue(Se),ue(Fe)),fe.current===u&&(ue(fe),Mv._currentValue=te)}var Ct,at;function Ae(u){if(Ct===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);Ct=c&&c[1]||"",at=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+u+at}var Ve=!1;function Ue(u,c){if(!u||Ve)return"";Ve=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(We){var Le=We}Reflect.construct(u,[],ut)}else{try{ut.call()}catch(We){Le=We}u.call(ut.prototype)}}else{try{throw Error()}catch(We){Le=We}(ut=u())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(We){if(We&&Le&&typeof We.stack=="string")return[We.stack,Le.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=v.DetermineComponentFrameRoot(),B=D[0],K=D[1];if(B&&K){var me=B.split(`
`),ke=K.split(`
`);for(M=v=0;v<me.length&&!me[v].includes("DetermineComponentFrameRoot");)v++;for(;M<ke.length&&!ke[M].includes("DetermineComponentFrameRoot");)M++;if(v===me.length||M===ke.length)for(v=me.length-1,M=ke.length-1;1<=v&&0<=M&&me[v]!==ke[M];)M--;for(;1<=v&&0<=M;v--,M--)if(me[v]!==ke[M]){if(v!==1||M!==1)do if(v--,M--,0>M||me[v]!==ke[M]){var Ke=`
`+me[v].replace(" at new "," at ");return u.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",u.displayName)),Ke}while(1<=v&&0<=M);break}}}finally{Ve=!1,Error.prepareStackTrace=m}return(m=u?u.displayName||u.name:"")?Ae(m):""}function de(u,c){switch(u.tag){case 26:case 27:case 5:return Ae(u.type);case 16:return Ae("Lazy");case 13:return u.child!==c&&c!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return Ue(u.type,!1);case 11:return Ue(u.type.render,!1);case 1:return Ue(u.type,!0);case 31:return Ae("Activity");default:return""}}function ie(u){try{var c="",m=null;do c+=de(u,m),m=u,u=u.return;while(u);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var It=Object.prototype.hasOwnProperty,$e=t.unstable_scheduleCallback,dt=t.unstable_cancelCallback,Be=t.unstable_shouldYield,Q=t.unstable_requestPaint,H=t.unstable_now,pe=t.unstable_getCurrentPriorityLevel,we=t.unstable_ImmediatePriority,Re=t.unstable_UserBlockingPriority,Ie=t.unstable_NormalPriority,St=t.unstable_LowPriority,lt=t.unstable_IdlePriority,kt=t.log,Nt=t.unstable_setDisableYieldValue,Je=null,tt=null;function xt(u){if(typeof kt=="function"&&Nt(u),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Je,u)}catch{}}var _t=Math.clz32?Math.clz32:ce,pt=Math.log,Zt=Math.LN2;function ce(u){return u>>>=0,u===0?32:31-(pt(u)/Zt|0)|0}var yt=256,rt=262144,gt=4194304;function je(u){var c=u&42;if(c!==0)return c;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function J(u,c,m){var v=u.pendingLanes;if(v===0)return 0;var M=0,D=u.suspendedLanes,B=u.pingedLanes;u=u.warmLanes;var K=v&134217727;return K!==0?(v=K&~D,v!==0?M=je(v):(B&=K,B!==0?M=je(B):m||(m=K&~u,m!==0&&(M=je(m))))):(K=v&~D,K!==0?M=je(K):B!==0?M=je(B):m||(m=v&~u,m!==0&&(M=je(m)))),M===0?0:c!==0&&c!==M&&(c&D)===0&&(D=M&-M,m=c&-c,D>=m||D===32&&(m&4194048)!==0)?c:M}function le(u,c){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&c)===0}function xe(u,c){switch(u){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function et(){var u=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),u}function ot(u){for(var c=[],m=0;31>m;m++)c.push(u);return c}function ht(u,c){u.pendingLanes|=c,c!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Qe(u,c,m,v,M,D){var B=u.pendingLanes;u.pendingLanes=m,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=m,u.entangledLanes&=m,u.errorRecoveryDisabledLanes&=m,u.shellSuspendCounter=0;var K=u.entanglements,me=u.expirationTimes,ke=u.hiddenUpdates;for(m=B&~m;0<m;){var Ke=31-_t(m),ut=1<<Ke;K[Ke]=0,me[Ke]=-1;var Le=ke[Ke];if(Le!==null)for(ke[Ke]=null,Ke=0;Ke<Le.length;Ke++){var We=Le[Ke];We!==null&&(We.lane&=-536870913)}m&=~ut}v!==0&&Ne(u,v,0),D!==0&&M===0&&u.tag!==0&&(u.suspendedLanes|=D&~(B&~c))}function Ne(u,c,m){u.pendingLanes|=c,u.suspendedLanes&=~c;var v=31-_t(c);u.entangledLanes|=c,u.entanglements[v]=u.entanglements[v]|1073741824|m&261930}function st(u,c){var m=u.entangledLanes|=c;for(u=u.entanglements;m;){var v=31-_t(m),M=1<<v;M&c|u[v]&c&&(u[v]|=c),m&=~M}}function Et(u,c){var m=c&-c;return m=(m&42)!==0?1:At(m),(m&(u.suspendedLanes|c))!==0?0:m}function At(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function Mn(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function un(){var u=q.p;return u!==0?u:(u=window.event,u===void 0?32:Xk(u.type))}function yn(u,c){var m=q.p;try{return q.p=u,c()}finally{q.p=m}}var Qn=Math.random().toString(36).slice(2),tn="__reactFiber$"+Qn,Jt="__reactProps$"+Qn,pn="__reactContainer$"+Qn,Ei="__reactEvents$"+Qn,En="__reactListeners$"+Qn,wi="__reactHandles$"+Qn,_r="__reactResources$"+Qn,Tt="__reactMarker$"+Qn;function he(u){delete u[tn],delete u[Jt],delete u[Ei],delete u[En],delete u[wi]}function Ze(u){var c=u[tn];if(c)return c;for(var m=u.parentNode;m;){if(c=m[pn]||m[tn]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(u=Nk(u);u!==null;){if(m=u[tn])return m;u=Nk(u)}return c}u=m,m=u.parentNode}return null}function Ot(u){if(u=u[tn]||u[pn]){var c=u.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return u}return null}function In(u){var c=u.tag;if(c===5||c===26||c===27||c===6)return u.stateNode;throw Error(i(33))}function mn(u){var c=u[_r];return c||(c=u[_r]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function X(u){u[Tt]=!0}var ye=new Set,De={};function Ce(u,c){ae(u,c),ae(u+"Capture",c)}function ae(u,c){for(De[u]=c,u=0;u<c.length;u++)ye.add(c[u])}var Te=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nt={},qe={};function vt(u){return It.call(qe,u)?!0:It.call(nt,u)?!1:Te.test(u)?qe[u]=!0:(nt[u]=!0,!1)}function Ft(u,c,m){if(vt(c))if(m===null)u.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":u.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){u.removeAttribute(c);return}}u.setAttribute(c,""+m)}}function qt(u,c,m){if(m===null)u.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(c);return}u.setAttribute(c,""+m)}}function Ht(u,c,m,v){if(v===null)u.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttributeNS(c,m,""+v)}}function Gt(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function xn(u){var c=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Di(u,c,m){var v=Object.getOwnPropertyDescriptor(u.constructor.prototype,c);if(!u.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var M=v.get,D=v.set;return Object.defineProperty(u,c,{configurable:!0,get:function(){return M.call(this)},set:function(B){m=""+B,D.call(this,B)}}),Object.defineProperty(u,c,{enumerable:v.enumerable}),{getValue:function(){return m},setValue:function(B){m=""+B},stopTracking:function(){u._valueTracker=null,delete u[c]}}}}function yi(u){if(!u._valueTracker){var c=xn(u)?"checked":"value";u._valueTracker=Di(u,c,""+u[c])}}function dn(u){if(!u)return!1;var c=u._valueTracker;if(!c)return!0;var m=c.getValue(),v="";return u&&(v=xn(u)?u.checked?"true":"false":u.value),u=v,u!==m?(c.setValue(u),!0):!1}function Pt(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var Jn=/[\n"\\]/g;function on(u){return u.replace(Jn,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function yr(u,c,m,v,M,D,B,K){u.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?u.type=B:u.removeAttribute("type"),c!=null?B==="number"?(c===0&&u.value===""||u.value!=c)&&(u.value=""+Gt(c)):u.value!==""+Gt(c)&&(u.value=""+Gt(c)):B!=="submit"&&B!=="reset"||u.removeAttribute("value"),c!=null?Oi(u,B,Gt(c)):m!=null?Oi(u,B,Gt(m)):v!=null&&u.removeAttribute("value"),M==null&&D!=null&&(u.defaultChecked=!!D),M!=null&&(u.checked=M&&typeof M!="function"&&typeof M!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?u.name=""+Gt(K):u.removeAttribute("name")}function ws(u,c,m,v,M,D,B,K){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(u.type=D),c!=null||m!=null){if(!(D!=="submit"&&D!=="reset"||c!=null)){yi(u);return}m=m!=null?""+Gt(m):"",c=c!=null?""+Gt(c):m,K||c===u.value||(u.value=c),u.defaultValue=c}v=v??M,v=typeof v!="function"&&typeof v!="symbol"&&!!v,u.checked=K?u.checked:!!v,u.defaultChecked=!!v,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(u.name=B),yi(u)}function Oi(u,c,m){c==="number"&&Pt(u.ownerDocument)===u||u.defaultValue===""+m||(u.defaultValue=""+m)}function Bi(u,c,m,v){if(u=u.options,c){c={};for(var M=0;M<m.length;M++)c["$"+m[M]]=!0;for(m=0;m<u.length;m++)M=c.hasOwnProperty("$"+u[m].value),u[m].selected!==M&&(u[m].selected=M),M&&v&&(u[m].defaultSelected=!0)}else{for(m=""+Gt(m),c=null,M=0;M<u.length;M++){if(u[M].value===m){u[M].selected=!0,v&&(u[M].defaultSelected=!0);return}c!==null||u[M].disabled||(c=u[M])}c!==null&&(c.selected=!0)}}function di(u,c,m){if(c!=null&&(c=""+Gt(c),c!==u.value&&(u.value=c),m==null)){u.defaultValue!==c&&(u.defaultValue=c);return}u.defaultValue=m!=null?""+Gt(m):""}function ar(u,c,m,v){if(c==null){if(v!=null){if(m!=null)throw Error(i(92));if(re(v)){if(1<v.length)throw Error(i(93));v=v[0]}m=v}m==null&&(m=""),c=m}m=Gt(c),u.defaultValue=m,v=u.textContent,v===m&&v!==""&&v!==null&&(u.value=v),yi(u)}function Wt(u,c){if(c){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=c;return}}u.textContent=c}var wr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ei(u,c,m){var v=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?u.setProperty(c,""):c==="float"?u.cssFloat="":u[c]="":v?u.setProperty(c,m):typeof m!="number"||m===0||wr.has(c)?c==="float"?u.cssFloat=m:u[c]=(""+m).trim():u[c]=m+"px"}function ui(u,c,m){if(c!=null&&typeof c!="object")throw Error(i(62));if(u=u.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?u.setProperty(v,""):v==="float"?u.cssFloat="":u[v]="");for(var M in c)v=c[M],c.hasOwnProperty(M)&&m[M]!==v&&ei(u,M,v)}else for(var D in c)c.hasOwnProperty(D)&&ei(u,D,c[D])}function hs(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(u){return Hc.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function Rt(){}var Yt=null;function Sn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var jn=null,qi=null;function Ta(u){var c=Ot(u);if(c&&(u=c.stateNode)){var m=u[Jt]||null;e:switch(u=c.stateNode,c.type){case"input":if(yr(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+on(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var v=m[c];if(v!==u&&v.form===u.form){var M=v[Jt]||null;if(!M)throw Error(i(90));yr(v,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(c=0;c<m.length;c++)v=m[c],v.form===u.form&&dn(v)}break e;case"textarea":di(u,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Bi(u,!!m.multiple,c,!1)}}}var Zf=!1;function Zh(u,c,m){if(Zf)return u(c,m);Zf=!0;try{var v=u(c);return v}finally{if(Zf=!1,(jn!==null||qi!==null)&&(jo(),jn&&(c=jn,u=qi,qi=jn=null,Ta(c),u)))for(c=0;c<u.length;c++)Ta(u[c])}}function Kf(u,c){var m=u.stateNode;if(m===null)return null;var v=m[Jt]||null;if(v===null)return null;m=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(u=u.type,v=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!v;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(i(231,c,typeof m));return m}var gu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ly=!1;if(gu)try{var Qf={};Object.defineProperty(Qf,"passive",{get:function(){ly=!0}}),window.addEventListener("test",Qf,Qf),window.removeEventListener("test",Qf,Qf)}catch{ly=!1}var Ma=null,e0=null,Vc=null;function Kh(){if(Vc)return Vc;var u,c=e0,m=c.length,v,M="value"in Ma?Ma.value:Ma.textContent,D=M.length;for(u=0;u<m&&c[u]===M[u];u++);var B=m-u;for(v=1;v<=B&&c[m-v]===M[D-v];v++);return Vc=M.slice(u,1<v?1-v:void 0)}function Qh(u){var c=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&c===13&&(u=13)):u=c,u===10&&(u=13),32<=u||u===13?u:0}function Jf(){return!0}function _1(){return!1}function Fs(u){function c(m,v,M,D,B){this._reactName=m,this._targetInst=M,this.type=v,this.nativeEvent=D,this.target=B,this.currentTarget=null;for(var K in u)u.hasOwnProperty(K)&&(m=u[K],this[K]=m?m(D):D[K]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Jf:_1,this.isPropagationStopped=_1,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Jf)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Jf)},persist:function(){},isPersistent:Jf}),c}var Ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jh=Fs(Ul),ed=g({},Ul,{view:0,detail:0}),y1=Fs(ed),ep,t0,td,nd=g({},ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s0,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==td&&(td&&u.type==="mousemove"?(ep=u.screenX-td.screenX,t0=u.screenY-td.screenY):t0=ep=0,td=u),ep)},movementY:function(u){return"movementY"in u?u.movementY:t0}}),cy=Fs(nd),v1=g({},nd,{dataTransfer:0}),b1=Fs(v1),fy=g({},ed,{relatedTarget:0}),n0=Fs(fy),x1=g({},Ul,{animationName:0,elapsedTime:0,pseudoElement:0}),bA=Fs(x1),xA=g({},Ul,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),S1=Fs(xA),tp=g({},Ul,{data:0}),i0=Fs(tp),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dy(u){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(u):(u=w1[u])?!!c[u]:!1}function s0(){return dy}var T1=g({},ed,{key:function(u){if(u.key){var c=r0[u.key]||u.key;if(c!=="Unidentified")return c}return u.type==="keypress"?(u=Qh(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?E1[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s0,charCode:function(u){return u.type==="keypress"?Qh(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Qh(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Gc=Fs(T1),a0=g({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hy=Fs(a0),py=g({},ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s0}),M1=Fs(py),C1=g({},Ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),SA=Fs(C1),ps=g({},nd,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),A1=Fs(ps),D1=g({},Ul,{newState:0,oldState:0}),R1=Fs(D1),I1=[9,13,27,32],Wc=gu&&"CompositionEvent"in window,id=null;gu&&"documentMode"in document&&(id=document.documentMode);var o0=gu&&"TextEvent"in window&&!id,my=gu&&(!Wc||id&&8<id&&11>=id),N1=" ",np=!1;function u0(u,c){switch(u){case"keyup":return I1.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gy(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var jc=!1;function O1(u,c){switch(u){case"compositionend":return gy(c);case"keypress":return c.which!==32?null:(np=!0,N1);case"textInput":return u=c.data,u===N1&&np?null:u;default:return null}}function _y(u,c){if(jc)return u==="compositionend"||!Wc&&u0(u,c)?(u=Kh(),Vc=e0=Ma=null,jc=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return my&&c.locale!=="ko"?null:c.data;default:return null}}var yy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vy(u){var c=u&&u.nodeName&&u.nodeName.toLowerCase();return c==="input"?!!yy[u.type]:c==="textarea"}function l0(u,c,m,v){jn?qi?qi.push(v):qi=[v]:jn=v,c=US(c,"onChange"),0<c.length&&(m=new Jh("onChange","change",null,m,v),u.push({event:m,listeners:c}))}var Bl=null,qc=null;function k1(u){yk(u,0)}function rd(u){var c=In(u);if(dn(c))return u}function by(u,c){if(u==="change")return c}var _u=!1;if(gu){var ip;if(gu){var xy="oninput"in document;if(!xy){var Sy=document.createElement("div");Sy.setAttribute("oninput","return;"),xy=typeof Sy.oninput=="function"}ip=xy}else ip=!1;_u=ip&&(!document.documentMode||9<document.documentMode)}function io(){Bl&&(Bl.detachEvent("onpropertychange",rp),qc=Bl=null)}function rp(u){if(u.propertyName==="value"&&rd(qc)){var c=[];l0(c,qc,u,Sn(u)),Zh(k1,c)}}function P1(u,c,m){u==="focusin"?(io(),Bl=c,qc=m,Bl.attachEvent("onpropertychange",rp)):u==="focusout"&&io()}function Ey(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return rd(qc)}function L1(u,c){if(u==="click")return rd(c)}function F1(u,c){if(u==="input"||u==="change")return rd(c)}function wy(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var Us=typeof Object.is=="function"?Object.is:wy;function sd(u,c){if(Us(u,c))return!0;if(typeof u!="object"||u===null||typeof c!="object"||c===null)return!1;var m=Object.keys(u),v=Object.keys(c);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var M=m[v];if(!It.call(c,M)||!Us(u[M],c[M]))return!1}return!0}function sp(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function ad(u,c){var m=sp(u);u=0;for(var v;m;){if(m.nodeType===3){if(v=u+m.textContent.length,u<=c&&v>=c)return{node:m,offset:c-u};u=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=sp(m)}}function zi(u,c){return u&&c?u===c?!0:u&&u.nodeType===3?!1:c&&c.nodeType===3?zi(u,c.parentNode):"contains"in u?u.contains(c):u.compareDocumentPosition?!!(u.compareDocumentPosition(c)&16):!1:!1}function U1(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var c=Pt(u.document);c instanceof u.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)u=c.contentWindow;else break;c=Pt(u.document)}return c}function Ty(u){var c=u&&u.nodeName&&u.nodeName.toLowerCase();return c&&(c==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||c==="textarea"||u.contentEditable==="true")}var B1=gu&&"documentMode"in document&&11>=document.documentMode,yu=null,vu=null,od=null,c0=!1;function ud(u,c,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;c0||yu==null||yu!==Pt(v)||(v=yu,"selectionStart"in v&&Ty(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),od&&sd(od,v)||(od=v,v=US(vu,"onSelect"),0<v.length&&(c=new Jh("onSelect","select",null,c,m),u.push({event:c,listeners:v}),c.target=yu)))}function Ts(u,c){var m={};return m[u.toLowerCase()]=c.toLowerCase(),m["Webkit"+u]="webkit"+c,m["Moz"+u]="moz"+c,m}var $c={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},ap={},My={};gu&&(My=document.createElement("div").style,"AnimationEvent"in window||(delete $c.animationend.animation,delete $c.animationiteration.animation,delete $c.animationstart.animation),"TransitionEvent"in window||delete $c.transitionend.transition);function rl(u){if(ap[u])return ap[u];if(!$c[u])return u;var c=$c[u],m;for(m in c)if(c.hasOwnProperty(m)&&m in My)return ap[u]=c[m];return u}var f0=rl("animationend"),op=rl("animationiteration"),Cy=rl("animationstart"),z1=rl("transitionrun"),EA=rl("transitionstart"),H1=rl("transitioncancel"),Ay=rl("transitionend"),ro=new Map,up="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");up.push("scrollEnd");function so(u,c){ro.set(u,c),Ce(c,[u])}var lp=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},ao=[],sl=0,es=0;function cp(){for(var u=sl,c=es=sl=0;c<u;){var m=ao[c];ao[c++]=null;var v=ao[c];ao[c++]=null;var M=ao[c];ao[c++]=null;var D=ao[c];if(ao[c++]=null,v!==null&&M!==null){var B=v.pending;B===null?M.next=M:(M.next=B.next,B.next=M),v.pending=M}D!==0&&zl(m,M,D)}}function ts(u,c,m,v){ao[sl++]=u,ao[sl++]=c,ao[sl++]=m,ao[sl++]=v,es|=v,u.lanes|=v,u=u.alternate,u!==null&&(u.lanes|=v)}function d0(u,c,m,v){return ts(u,c,m,v),oo(u)}function Bs(u,c){return ts(u,null,null,c),oo(u)}function zl(u,c,m){u.lanes|=m;var v=u.alternate;v!==null&&(v.lanes|=m);for(var M=!1,D=u.return;D!==null;)D.childLanes|=m,v=D.alternate,v!==null&&(v.childLanes|=m),D.tag===22&&(u=D.stateNode,u===null||u._visibility&1||(M=!0)),u=D,D=D.return;return u.tag===3?(D=u.stateNode,M&&c!==null&&(M=31-_t(m),u=D.hiddenUpdates,v=u[M],v===null?u[M]=[c]:v.push(c),c.lane=m|536870912),D):null}function oo(u){if(50<sc)throw sc=0,hf=null,Error(i(185));for(var c=u.return;c!==null;)u=c,c=u.return;return u.tag===3?u.stateNode:null}var Hl={};function Dy(u,c,m,v){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(u,c,m,v){return new Dy(u,c,m,v)}function h0(u){return u=u.prototype,!(!u||!u.isReactComponent)}function ea(u,c){var m=u.alternate;return m===null?(m=or(u.tag,c,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=c,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&65011712,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,c=u.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m.refCleanup=u.refCleanup,m}function ld(u,c){u.flags&=65011714;var m=u.alternate;return m===null?(u.childLanes=0,u.lanes=c,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,c=m.dependencies,u.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),u}function bu(u,c,m,v,M,D){var B=0;if(v=u,typeof u=="function")h0(u)&&(B=1);else if(typeof u=="string")B=Mj(u,m,Se.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case k:return u=or(31,m,c,M),u.elementType=k,u.lanes=D,u;case S:return Vl(m.children,M,D,c);case E:B=8,M|=24;break;case w:return u=or(12,m,c,M|2),u.elementType=w,u.lanes=D,u;case N:return u=or(13,m,c,M),u.elementType=N,u.lanes=D,u;case O:return u=or(19,m,c,M),u.elementType=O,u.lanes=D,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case A:B=10;break e;case C:B=9;break e;case R:B=11;break e;case P:B=14;break e;case z:B=16,v=null;break e}B=29,m=Error(i(130,u===null?"null":typeof u,"")),v=null}return c=or(B,m,c,M),c.elementType=u,c.type=v,c.lanes=D,c}function Vl(u,c,m,v){return u=or(7,u,v,c),u.lanes=m,u}function p0(u,c,m){return u=or(6,u,null,c),u.lanes=m,u}function cd(u){var c=or(18,null,null,0);return c.stateNode=u,c}function m0(u,c,m){return c=or(4,u.children!==null?u.children:[],u.key,c),c.lanes=m,c.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},c}var fp=new WeakMap;function Ca(u,c){if(typeof u=="object"&&u!==null){var m=fp.get(u);return m!==void 0?m:(c={value:u,source:c,stack:ie(c)},fp.set(u,c),c)}return{value:u,source:c,stack:ie(c)}}var Gl=[],Wl=0,fd=null,dd=0,ta=[],Ki=0,al=null,ur=1,Ho="";function xu(u,c){Gl[Wl++]=dd,Gl[Wl++]=fd,fd=u,dd=c}function V1(u,c,m){ta[Ki++]=ur,ta[Ki++]=Ho,ta[Ki++]=al,al=u;var v=ur;u=Ho;var M=32-_t(v)-1;v&=~(1<<M),m+=1;var D=32-_t(c)+M;if(30<D){var B=M-M%5;D=(v&(1<<B)-1).toString(32),v>>=B,M-=B,ur=1<<32-_t(c)+M|m<<M|v,Ho=D+u}else ur=1<<D|m<<M|v,Ho=u}function Su(u){u.return!==null&&(xu(u,1),V1(u,1,0))}function g0(u){for(;u===fd;)fd=Gl[--Wl],Gl[Wl]=null,dd=Gl[--Wl],Gl[Wl]=null;for(;u===al;)al=ta[--Ki],ta[Ki]=null,Ho=ta[--Ki],ta[Ki]=null,ur=ta[--Ki],ta[Ki]=null}function _0(u,c){ta[Ki++]=ur,ta[Ki++]=Ho,ta[Ki++]=al,ur=c.id,Ho=c.overflow,al=u}var vr=null,Hi=null,ti=!1,ol=null,Aa=!1,hd=Error(i(519));function Eu(u){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wu(Ca(c,u)),hd}function G1(u){var c=u.stateNode,m=u.type,v=u.memoizedProps;switch(c[tn]=u,c[Jt]=v,m){case"dialog":oi("cancel",c),oi("close",c);break;case"iframe":case"object":case"embed":oi("load",c);break;case"video":case"audio":for(m=0;m<xo.length;m++)oi(xo[m],c);break;case"source":oi("error",c);break;case"img":case"image":case"link":oi("error",c),oi("load",c);break;case"details":oi("toggle",c);break;case"input":oi("invalid",c),ws(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":oi("invalid",c);break;case"textarea":oi("invalid",c),ar(c,v.value,v.defaultValue,v.children)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||v.suppressHydrationWarning===!0||Sk(c.textContent,m)?(v.popover!=null&&(oi("beforetoggle",c),oi("toggle",c)),v.onScroll!=null&&oi("scroll",c),v.onScrollEnd!=null&&oi("scrollend",c),v.onClick!=null&&(c.onclick=Rt),c=!0):c=!1,c||Eu(u,!0)}function W1(u){for(vr=u.return;vr;)switch(vr.tag){case 5:case 31:case 13:Aa=!1;return;case 27:case 3:Aa=!0;return;default:vr=vr.return}}function pd(u){if(u!==vr)return!1;if(!ti)return W1(u),ti=!0,!1;var c=u.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=u.type,m=!(m!=="form"&&m!=="button")||BA(u.type,u.memoizedProps)),m=!m),m&&Hi&&Eu(u),W1(u),c===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));Hi=Ik(u)}else if(c===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));Hi=Ik(u)}else c===27?(c=Hi,kd(u.type)?(u=WA,WA=null,Hi=u):Hi=c):Hi=vr?Uu(u.stateNode.nextSibling):null;return!0}function jl(){Hi=vr=null,ti=!1}function y0(){var u=ol;return u!==null&&(xr===null?xr=u:xr.push.apply(xr,u),ol=null),u}function wu(u){ol===null?ol=[u]:ol.push(u)}var md=j(null),ql=null,Tu=null;function ul(u,c,m){ge(md,c._currentValue),c._currentValue=m}function Mu(u){u._currentValue=md.current,ue(md)}function v0(u,c,m){for(;u!==null;){var v=u.alternate;if((u.childLanes&c)!==c?(u.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),u===m)break;u=u.return}}function b0(u,c,m,v){var M=u.child;for(M!==null&&(M.return=u);M!==null;){var D=M.dependencies;if(D!==null){var B=M.child;D=D.firstContext;e:for(;D!==null;){var K=D;D=M;for(var me=0;me<c.length;me++)if(K.context===c[me]){D.lanes|=m,K=D.alternate,K!==null&&(K.lanes|=m),v0(D.return,m,u),v||(B=null);break e}D=K.next}}else if(M.tag===18){if(B=M.return,B===null)throw Error(i(341));B.lanes|=m,D=B.alternate,D!==null&&(D.lanes|=m),v0(B,m,u),B=null}else B=M.child;if(B!==null)B.return=M;else for(B=M;B!==null;){if(B===u){B=null;break}if(M=B.sibling,M!==null){M.return=B.return,B=M;break}B=B.return}M=B}}function Cu(u,c,m,v){u=null;for(var M=c,D=!1;M!==null;){if(!D){if((M.flags&524288)!==0)D=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var B=M.alternate;if(B===null)throw Error(i(387));if(B=B.memoizedProps,B!==null){var K=M.type;Us(M.pendingProps.value,B.value)||(u!==null?u.push(K):u=[K])}}else if(M===fe.current){if(B=M.alternate,B===null)throw Error(i(387));B.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(u!==null?u.push(Mv):u=[Mv])}M=M.return}u!==null&&b0(c,u,m,v),c.flags|=262144}function dp(u){for(u=u.firstContext;u!==null;){if(!Us(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function $l(u){ql=u,Tu=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function fn(u){return j1(ql,u)}function gd(u,c){return ql===null&&$l(u),j1(u,c)}function j1(u,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Tu===null){if(u===null)throw Error(i(308));Tu=c,u.dependencies={lanes:0,firstContext:c},u.flags|=524288}else Tu=Tu.next=c;return m}var q1=typeof AbortController<"u"?AbortController:function(){var u=[],c=this.signal={aborted:!1,addEventListener:function(m,v){u.push(v)}};this.abort=function(){c.aborted=!0,u.forEach(function(m){return m()})}},wA=t.unstable_scheduleCallback,TA=t.unstable_NormalPriority,Lr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ry(){return{controller:new q1,data:new Map,refCount:0}}function Xc(u){u.refCount--,u.refCount===0&&wA(TA,function(){u.controller.abort()})}var Da=null,x0=0,ll=0,uo=null;function Iy(u,c){if(Da===null){var m=Da=[];x0=0,ll=ze(),uo={status:"pending",value:void 0,then:function(v){m.push(v)}}}return x0++,c.then(Ny,Ny),c}function Ny(){if(--x0===0&&Da!==null){uo!==null&&(uo.status="fulfilled");var u=Da;Da=null,ll=0,uo=null;for(var c=0;c<u.length;c++)(0,u[c])()}}function Oy(u,c){var m=[],v={status:"pending",value:null,reason:null,then:function(M){m.push(M)}};return u.then(function(){v.status="fulfilled",v.value=c;for(var M=0;M<m.length;M++)(0,m[M])(c)},function(M){for(v.status="rejected",v.reason=M,M=0;M<m.length;M++)(0,m[M])(void 0)}),v}var $1=W.S;W.S=function(u,c){bv=H(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Iy(u,c),$1!==null&&$1(u,c)};var Xl=j(null);function S0(){var u=Xl.current;return u!==null?u:gn.pooledCache}function hp(u,c){c===null?ge(Xl,Xl.current):ge(Xl,c.pool)}function ky(){var u=S0();return u===null?null:{parent:Lr._currentValue,pool:u}}var Yc=Error(i(460)),pp=Error(i(474)),kn=Error(i(542)),E0={then:function(){}};function na(u){return u=u.status,u==="fulfilled"||u==="rejected"}function w0(u,c,m){switch(m=u[m],m===void 0?u.push(c):m!==c&&(c.then(Rt,Rt),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw u=c.reason,Qc(u),u;default:if(typeof c.status=="string")c.then(Rt,Rt);else{if(u=gn,u!==null&&100<u.shellSuspendCounter)throw Error(i(482));u=c,u.status="pending",u.then(function(v){if(c.status==="pending"){var M=c;M.status="fulfilled",M.value=v}},function(v){if(c.status==="pending"){var M=c;M.status="rejected",M.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw u=c.reason,Qc(u),u}throw Au=c,Yc}}function Zc(u){try{var c=u._init;return c(u._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Au=m,Yc):m}}var Au=null;function Kc(){if(Au===null)throw Error(i(459));var u=Au;return Au=null,u}function Qc(u){if(u===Yc||u===kn)throw Error(i(483))}var Jc=null,ef=0;function mp(u){var c=ef;return ef+=1,Jc===null&&(Jc=[]),w0(Jc,u,c)}function lo(u,c){c=c.props.ref,u.ref=c!==void 0?c:null}function _d(u,c){throw c.$$typeof===y?Error(i(525)):(u=Object.prototype.toString.call(c),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":u)))}function T0(u){function c(Ee,be){if(u){var Oe=Ee.deletions;Oe===null?(Ee.deletions=[be],Ee.flags|=16):Oe.push(be)}}function m(Ee,be){if(!u)return null;for(;be!==null;)c(Ee,be),be=be.sibling;return null}function v(Ee){for(var be=new Map;Ee!==null;)Ee.key!==null?be.set(Ee.key,Ee):be.set(Ee.index,Ee),Ee=Ee.sibling;return be}function M(Ee,be){return Ee=ea(Ee,be),Ee.index=0,Ee.sibling=null,Ee}function D(Ee,be,Oe){return Ee.index=Oe,u?(Oe=Ee.alternate,Oe!==null?(Oe=Oe.index,Oe<be?(Ee.flags|=67108866,be):Oe):(Ee.flags|=67108866,be)):(Ee.flags|=1048576,be)}function B(Ee){return u&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function K(Ee,be,Oe,it){return be===null||be.tag!==6?(be=p0(Oe,Ee.mode,it),be.return=Ee,be):(be=M(be,Oe),be.return=Ee,be)}function me(Ee,be,Oe,it){var rn=Oe.type;return rn===S?Ke(Ee,be,Oe.props.children,it,Oe.key):be!==null&&(be.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===z&&Zc(rn)===be.type)?(be=M(be,Oe.props),lo(be,Oe),be.return=Ee,be):(be=bu(Oe.type,Oe.key,Oe.props,null,Ee.mode,it),lo(be,Oe),be.return=Ee,be)}function ke(Ee,be,Oe,it){return be===null||be.tag!==4||be.stateNode.containerInfo!==Oe.containerInfo||be.stateNode.implementation!==Oe.implementation?(be=m0(Oe,Ee.mode,it),be.return=Ee,be):(be=M(be,Oe.children||[]),be.return=Ee,be)}function Ke(Ee,be,Oe,it,rn){return be===null||be.tag!==7?(be=Vl(Oe,Ee.mode,it,rn),be.return=Ee,be):(be=M(be,Oe),be.return=Ee,be)}function ut(Ee,be,Oe){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=p0(""+be,Ee.mode,Oe),be.return=Ee,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case _:return Oe=bu(be.type,be.key,be.props,null,Ee.mode,Oe),lo(Oe,be),Oe.return=Ee,Oe;case x:return be=m0(be,Ee.mode,Oe),be.return=Ee,be;case z:return be=Zc(be),ut(Ee,be,Oe)}if(re(be)||$(be))return be=Vl(be,Ee.mode,Oe,null),be.return=Ee,be;if(typeof be.then=="function")return ut(Ee,mp(be),Oe);if(be.$$typeof===A)return ut(Ee,gd(Ee,be),Oe);_d(Ee,be)}return null}function Le(Ee,be,Oe,it){var rn=be!==null?be.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return rn!==null?null:K(Ee,be,""+Oe,it);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case _:return Oe.key===rn?me(Ee,be,Oe,it):null;case x:return Oe.key===rn?ke(Ee,be,Oe,it):null;case z:return Oe=Zc(Oe),Le(Ee,be,Oe,it)}if(re(Oe)||$(Oe))return rn!==null?null:Ke(Ee,be,Oe,it,null);if(typeof Oe.then=="function")return Le(Ee,be,mp(Oe),it);if(Oe.$$typeof===A)return Le(Ee,be,gd(Ee,Oe),it);_d(Ee,Oe)}return null}function We(Ee,be,Oe,it,rn){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Ee=Ee.get(Oe)||null,K(be,Ee,""+it,rn);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case _:return Ee=Ee.get(it.key===null?Oe:it.key)||null,me(be,Ee,it,rn);case x:return Ee=Ee.get(it.key===null?Oe:it.key)||null,ke(be,Ee,it,rn);case z:return it=Zc(it),We(Ee,be,Oe,it,rn)}if(re(it)||$(it))return Ee=Ee.get(Oe)||null,Ke(be,Ee,it,rn,null);if(typeof it.then=="function")return We(Ee,be,Oe,mp(it),rn);if(it.$$typeof===A)return We(Ee,be,Oe,gd(be,it),rn);_d(be,it)}return null}function $t(Ee,be,Oe,it){for(var rn=null,Ti=null,Kt=be,zn=be=0,ci=null;Kt!==null&&zn<Oe.length;zn++){Kt.index>zn?(ci=Kt,Kt=null):ci=Kt.sibling;var Mi=Le(Ee,Kt,Oe[zn],it);if(Mi===null){Kt===null&&(Kt=ci);break}u&&Kt&&Mi.alternate===null&&c(Ee,Kt),be=D(Mi,be,zn),Ti===null?rn=Mi:Ti.sibling=Mi,Ti=Mi,Kt=ci}if(zn===Oe.length)return m(Ee,Kt),ti&&xu(Ee,zn),rn;if(Kt===null){for(;zn<Oe.length;zn++)Kt=ut(Ee,Oe[zn],it),Kt!==null&&(be=D(Kt,be,zn),Ti===null?rn=Kt:Ti.sibling=Kt,Ti=Kt);return ti&&xu(Ee,zn),rn}for(Kt=v(Kt);zn<Oe.length;zn++)ci=We(Kt,Ee,zn,Oe[zn],it),ci!==null&&(u&&ci.alternate!==null&&Kt.delete(ci.key===null?zn:ci.key),be=D(ci,be,zn),Ti===null?rn=ci:Ti.sibling=ci,Ti=ci);return u&&Kt.forEach(function(Bd){return c(Ee,Bd)}),ti&&xu(Ee,zn),rn}function cn(Ee,be,Oe,it){if(Oe==null)throw Error(i(151));for(var rn=null,Ti=null,Kt=be,zn=be=0,ci=null,Mi=Oe.next();Kt!==null&&!Mi.done;zn++,Mi=Oe.next()){Kt.index>zn?(ci=Kt,Kt=null):ci=Kt.sibling;var Bd=Le(Ee,Kt,Mi.value,it);if(Bd===null){Kt===null&&(Kt=ci);break}u&&Kt&&Bd.alternate===null&&c(Ee,Kt),be=D(Bd,be,zn),Ti===null?rn=Bd:Ti.sibling=Bd,Ti=Bd,Kt=ci}if(Mi.done)return m(Ee,Kt),ti&&xu(Ee,zn),rn;if(Kt===null){for(;!Mi.done;zn++,Mi=Oe.next())Mi=ut(Ee,Mi.value,it),Mi!==null&&(be=D(Mi,be,zn),Ti===null?rn=Mi:Ti.sibling=Mi,Ti=Mi);return ti&&xu(Ee,zn),rn}for(Kt=v(Kt);!Mi.done;zn++,Mi=Oe.next())Mi=We(Kt,Ee,zn,Mi.value,it),Mi!==null&&(u&&Mi.alternate!==null&&Kt.delete(Mi.key===null?zn:Mi.key),be=D(Mi,be,zn),Ti===null?rn=Mi:Ti.sibling=Mi,Ti=Mi);return u&&Kt.forEach(function(Fj){return c(Ee,Fj)}),ti&&xu(Ee,zn),rn}function Wi(Ee,be,Oe,it){if(typeof Oe=="object"&&Oe!==null&&Oe.type===S&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case _:e:{for(var rn=Oe.key;be!==null;){if(be.key===rn){if(rn=Oe.type,rn===S){if(be.tag===7){m(Ee,be.sibling),it=M(be,Oe.props.children),it.return=Ee,Ee=it;break e}}else if(be.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===z&&Zc(rn)===be.type){m(Ee,be.sibling),it=M(be,Oe.props),lo(it,Oe),it.return=Ee,Ee=it;break e}m(Ee,be);break}else c(Ee,be);be=be.sibling}Oe.type===S?(it=Vl(Oe.props.children,Ee.mode,it,Oe.key),it.return=Ee,Ee=it):(it=bu(Oe.type,Oe.key,Oe.props,null,Ee.mode,it),lo(it,Oe),it.return=Ee,Ee=it)}return B(Ee);case x:e:{for(rn=Oe.key;be!==null;){if(be.key===rn)if(be.tag===4&&be.stateNode.containerInfo===Oe.containerInfo&&be.stateNode.implementation===Oe.implementation){m(Ee,be.sibling),it=M(be,Oe.children||[]),it.return=Ee,Ee=it;break e}else{m(Ee,be);break}else c(Ee,be);be=be.sibling}it=m0(Oe,Ee.mode,it),it.return=Ee,Ee=it}return B(Ee);case z:return Oe=Zc(Oe),Wi(Ee,be,Oe,it)}if(re(Oe))return $t(Ee,be,Oe,it);if($(Oe)){if(rn=$(Oe),typeof rn!="function")throw Error(i(150));return Oe=rn.call(Oe),cn(Ee,be,Oe,it)}if(typeof Oe.then=="function")return Wi(Ee,be,mp(Oe),it);if(Oe.$$typeof===A)return Wi(Ee,be,gd(Ee,Oe),it);_d(Ee,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,be!==null&&be.tag===6?(m(Ee,be.sibling),it=M(be,Oe),it.return=Ee,Ee=it):(m(Ee,be),it=p0(Oe,Ee.mode,it),it.return=Ee,Ee=it),B(Ee)):m(Ee,be)}return function(Ee,be,Oe,it){try{ef=0;var rn=Wi(Ee,be,Oe,it);return Jc=null,rn}catch(Kt){if(Kt===Yc||Kt===kn)throw Kt;var Ti=or(29,Kt,null,Ee.mode);return Ti.lanes=it,Ti.return=Ee,Ti}}}var cl=T0(!0),M0=T0(!1),zs=!1;function gp(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Py(u,c){u=u.updateQueue,c.updateQueue===u&&(c.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function fl(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Yl(u,c,m){var v=u.updateQueue;if(v===null)return null;if(v=v.shared,(Qt&2)!==0){var M=v.pending;return M===null?c.next=c:(c.next=M.next,M.next=c),v.pending=c,c=oo(u),zl(u,null,m),c}return ts(u,v,c,m),oo(u)}function Zl(u,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var v=c.lanes;v&=u.pendingLanes,m|=v,c.lanes=m,st(u,m)}}function nn(u,c){var m=u.updateQueue,v=u.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var M=null,D=null;if(m=m.firstBaseUpdate,m!==null){do{var B={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};D===null?M=D=B:D=D.next=B,m=m.next}while(m!==null);D===null?M=D=c:D=D.next=c}else M=D=c;m={baseState:v.baseState,firstBaseUpdate:M,lastBaseUpdate:D,shared:v.shared,callbacks:v.callbacks},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=c:u.next=c,m.lastBaseUpdate=c}var Ly=!1;function _p(){if(Ly){var u=uo;if(u!==null)throw u}}function yd(u,c,m,v){Ly=!1;var M=u.updateQueue;zs=!1;var D=M.firstBaseUpdate,B=M.lastBaseUpdate,K=M.shared.pending;if(K!==null){M.shared.pending=null;var me=K,ke=me.next;me.next=null,B===null?D=ke:B.next=ke,B=me;var Ke=u.alternate;Ke!==null&&(Ke=Ke.updateQueue,K=Ke.lastBaseUpdate,K!==B&&(K===null?Ke.firstBaseUpdate=ke:K.next=ke,Ke.lastBaseUpdate=me))}if(D!==null){var ut=M.baseState;B=0,Ke=ke=me=null,K=D;do{var Le=K.lane&-536870913,We=Le!==K.lane;if(We?(Nn&Le)===Le:(v&Le)===Le){Le!==0&&Le===ll&&(Ly=!0),Ke!==null&&(Ke=Ke.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var $t=u,cn=K;Le=c;var Wi=m;switch(cn.tag){case 1:if($t=cn.payload,typeof $t=="function"){ut=$t.call(Wi,ut,Le);break e}ut=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=cn.payload,Le=typeof $t=="function"?$t.call(Wi,ut,Le):$t,Le==null)break e;ut=g({},ut,Le);break e;case 2:zs=!0}}Le=K.callback,Le!==null&&(u.flags|=64,We&&(u.flags|=8192),We=M.callbacks,We===null?M.callbacks=[Le]:We.push(Le))}else We={lane:Le,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ke===null?(ke=Ke=We,me=ut):Ke=Ke.next=We,B|=Le;if(K=K.next,K===null){if(K=M.shared.pending,K===null)break;We=K,K=We.next,We.next=null,M.lastBaseUpdate=We,M.shared.pending=null}}while(!0);Ke===null&&(me=ut),M.baseState=me,M.firstBaseUpdate=ke,M.lastBaseUpdate=Ke,D===null&&(M.shared.lanes=0),Pu|=B,u.lanes=B,u.memoizedState=ut}}function vd(u,c){if(typeof u!="function")throw Error(i(191,u));u.call(c)}function X1(u,c){var m=u.callbacks;if(m!==null)for(u.callbacks=null,u=0;u<m.length;u++)vd(m[u],c)}var bd=j(null),C0=j(0);function Y1(u,c){u=Oa,ge(C0,u),ge(bd,c),Oa=u|c.baseLanes}function Fy(){ge(C0,Oa),ge(bd,bd.current)}function yp(){Oa=C0.current,ue(bd),ue(C0)}var ia=j(null),Hs=null;function dl(u){var c=u.alternate;ge(ni,ni.current&1),ge(ia,u),Hs===null&&(c===null||bd.current!==null||c.memoizedState!==null)&&(Hs=u)}function Uy(u){ge(ni,ni.current),ge(ia,u),Hs===null&&(Hs=u)}function Z1(u){u.tag===22?(ge(ni,ni.current),ge(ia,u),Hs===null&&(Hs=u)):ra()}function ra(){ge(ni,ni.current),ge(ia,ia.current)}function Tr(u){ue(ia),Hs===u&&(Hs=null),ue(ni)}var ni=j(0);function Ra(u){for(var c=u;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||VA(m)||GA(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Qi=0,Cn=null,ki=null,qn=null,co=!1,xd=!1,tf=!1,A0=0,vp=0,Sd=null,By=0;function lr(){throw Error(i(321))}function zy(u,c){if(c===null)return!1;for(var m=0;m<c.length&&m<u.length;m++)if(!Us(u[m],c[m]))return!1;return!0}function D0(u,c,m,v,M,D){return Qi=D,Cn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,W.H=u===null||u.memoizedState===null?AS:av,tf=!1,D=m(v,M),tf=!1,xd&&(D=nf(c,m,v,M)),K1(u),D}function K1(u){W.H=Ed;var c=ki!==null&&ki.next!==null;if(Qi=0,qn=ki=Cn=null,co=!1,vp=0,Sd=null,c)throw Error(i(300));u===null||Fr||(u=u.dependencies,u!==null&&dp(u)&&(Fr=!0))}function nf(u,c,m,v){Cn=u;var M=0;do{if(xd&&(Sd=null),vp=0,xd=!1,25<=M)throw Error(i(301));if(M+=1,qn=ki=null,u.updateQueue!=null){var D=u.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}W.H=fo,D=c(m,v)}while(xd);return D}function rf(){var u=W.H,c=u.useState()[0];return c=typeof c.then=="function"?bp(c):c,u=u.useState()[0],(ki!==null?ki.memoizedState:null)!==u&&(Cn.flags|=1024),c}function Hy(){var u=A0!==0;return A0=0,u}function Vy(u,c,m){c.updateQueue=u.updateQueue,c.flags&=-2053,u.lanes&=~m}function Gy(u){if(co){for(u=u.memoizedState;u!==null;){var c=u.queue;c!==null&&(c.pending=null),u=u.next}co=!1}Qi=0,qn=ki=Cn=null,xd=!1,vp=A0=0,Sd=null}function jr(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?Cn.memoizedState=qn=u:qn=qn.next=u,qn}function Mr(){if(ki===null){var u=Cn.alternate;u=u!==null?u.memoizedState:null}else u=ki.next;var c=qn===null?Cn.memoizedState:qn.next;if(c!==null)qn=c,ki=u;else{if(u===null)throw Cn.alternate===null?Error(i(467)):Error(i(310));ki=u,u={memoizedState:ki.memoizedState,baseState:ki.baseState,baseQueue:ki.baseQueue,queue:ki.queue,next:null},qn===null?Cn.memoizedState=qn=u:qn=qn.next=u}return qn}function R0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bp(u){var c=vp;return vp+=1,Sd===null&&(Sd=[]),u=w0(Sd,u,c),c=Cn,(qn===null?c.memoizedState:qn.next)===null&&(c=c.alternate,W.H=c===null||c.memoizedState===null?AS:av),u}function Kl(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return bp(u);if(u.$$typeof===A)return fn(u)}throw Error(i(438,String(u)))}function Wy(u){var c=null,m=Cn.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var v=Cn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(M){return M.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=R0(),Cn.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(u),v=0;v<u;v++)m[v]=F;return c.index++,m}function hl(u,c){return typeof c=="function"?c(u):c}function I0(u){var c=Mr();return jy(c,ki,u)}function jy(u,c,m){var v=u.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=m;var M=u.baseQueue,D=v.pending;if(D!==null){if(M!==null){var B=M.next;M.next=D.next,D.next=B}c.baseQueue=M=D,v.pending=null}if(D=u.baseState,M===null)u.memoizedState=D;else{c=M.next;var K=B=null,me=null,ke=c,Ke=!1;do{var ut=ke.lane&-536870913;if(ut!==ke.lane?(Nn&ut)===ut:(Qi&ut)===ut){var Le=ke.revertLane;if(Le===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),ut===ll&&(Ke=!0);else if((Qi&Le)===Le){ke=ke.next,Le===ll&&(Ke=!0);continue}else ut={lane:0,revertLane:ke.revertLane,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},me===null?(K=me=ut,B=D):me=me.next=ut,Cn.lanes|=Le,Pu|=Le;ut=ke.action,tf&&m(D,ut),D=ke.hasEagerState?ke.eagerState:m(D,ut)}else Le={lane:ut,revertLane:ke.revertLane,gesture:ke.gesture,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},me===null?(K=me=Le,B=D):me=me.next=Le,Cn.lanes|=ut,Pu|=ut;ke=ke.next}while(ke!==null&&ke!==c);if(me===null?B=D:me.next=K,!Us(D,u.memoizedState)&&(Fr=!0,Ke&&(m=uo,m!==null)))throw m;u.memoizedState=D,u.baseState=B,u.baseQueue=me,v.lastRenderedState=D}return M===null&&(v.lanes=0),[u.memoizedState,v.dispatch]}function qy(u){var c=Mr(),m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=u;var v=m.dispatch,M=m.pending,D=c.memoizedState;if(M!==null){m.pending=null;var B=M=M.next;do D=u(D,B.action),B=B.next;while(B!==M);Us(D,c.memoizedState)||(Fr=!0),c.memoizedState=D,c.baseQueue===null&&(c.baseState=D),m.lastRenderedState=D}return[D,v]}function Q1(u,c,m){var v=Cn,M=Mr(),D=ti;if(D){if(m===void 0)throw Error(i(407));m=m()}else m=c();var B=!Us((ki||M).memoizedState,m);if(B&&(M.memoizedState=m,Fr=!0),M=M.queue,ev(tS.bind(null,v,M,u),[u]),M.getSnapshot!==c||B||qn!==null&&qn.memoizedState.tag&1){if(v.flags|=2048,Ql(9,{destroy:void 0},eS.bind(null,v,M,m,c),null),gn===null)throw Error(i(349));D||(Qi&127)!==0||J1(v,c,m)}return m}function J1(u,c,m){u.flags|=16384,u={getSnapshot:c,value:m},c=Cn.updateQueue,c===null?(c=R0(),Cn.updateQueue=c,c.stores=[u]):(m=c.stores,m===null?c.stores=[u]:m.push(u))}function eS(u,c,m,v){c.value=m,c.getSnapshot=v,nS(c)&&iS(u)}function tS(u,c,m){return m(function(){nS(c)&&iS(u)})}function nS(u){var c=u.getSnapshot;u=u.value;try{var m=c();return!Us(u,m)}catch{return!0}}function iS(u){var c=Bs(u,2);c!==null&&Ln(c,u,2)}function $y(u){var c=jr();if(typeof u=="function"){var m=u;if(u=m(),tf){xt(!0);try{m()}finally{xt(!1)}}}return c.memoizedState=c.baseState=u,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:u},c}function Xy(u,c,m,v){return u.baseState=m,jy(u,ki,typeof v=="function"?v:hl)}function MA(u,c,m,v,M){if(P0(u))throw Error(i(485));if(u=c.action,u!==null){var D={payload:M,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){D.listeners.push(B)}};W.T!==null?m(!0):D.isTransition=!1,v(D),m=c.pending,m===null?(D.next=c.pending=D,rS(c,D)):(D.next=m.next,c.pending=m.next=D)}}function rS(u,c){var m=c.action,v=c.payload,M=u.state;if(c.isTransition){var D=W.T,B={};W.T=B;try{var K=m(M,v),me=W.S;me!==null&&me(B,K),sS(u,c,K)}catch(ke){Yy(u,c,ke)}finally{D!==null&&B.types!==null&&(D.types=B.types),W.T=D}}else try{D=m(M,v),sS(u,c,D)}catch(ke){Yy(u,c,ke)}}function sS(u,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){aS(u,c,v)},function(v){return Yy(u,c,v)}):aS(u,c,m)}function aS(u,c,m){c.status="fulfilled",c.value=m,oS(c),u.state=m,c=u.pending,c!==null&&(m=c.next,m===c?u.pending=null:(m=m.next,c.next=m,rS(u,m)))}function Yy(u,c,m){var v=u.pending;if(u.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=m,oS(c),c=c.next;while(c!==v)}u.action=null}function oS(u){u=u.listeners;for(var c=0;c<u.length;c++)(0,u[c])()}function Zy(u,c){return c}function Ky(u,c){if(ti){var m=gn.formState;if(m!==null){e:{var v=Cn;if(ti){if(Hi){t:{for(var M=Hi,D=Aa;M.nodeType!==8;){if(!D){M=null;break t}if(M=Uu(M.nextSibling),M===null){M=null;break t}}D=M.data,M=D==="F!"||D==="F"?M:null}if(M){Hi=Uu(M.nextSibling),v=M.data==="F!";break e}}Eu(v)}v=!1}v&&(c=m[0])}}return m=jr(),m.memoizedState=m.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:c},m.queue=v,m=TS.bind(null,Cn,v),v.dispatch=m,v=$y(!1),D=sv.bind(null,Cn,!1,v.queue),v=jr(),M={state:c,dispatch:null,action:u,pending:null},v.queue=M,m=MA.bind(null,Cn,M,D,m),M.dispatch=m,v.memoizedState=u,[c,m,!1]}function uS(u){var c=Mr();return Qy(c,ki,u)}function Qy(u,c,m){if(c=jy(u,c,Zy)[0],u=I0(hl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=bp(c)}catch(B){throw B===Yc?kn:B}else v=c;c=Mr();var M=c.queue,D=M.dispatch;return m!==c.memoizedState&&(Cn.flags|=2048,Ql(9,{destroy:void 0},lS.bind(null,M,m),null)),[v,D,u]}function lS(u,c){u.action=c}function Jy(u){var c=Mr(),m=ki;if(m!==null)return Qy(c,m,u);Mr(),c=c.memoizedState,m=Mr();var v=m.queue.dispatch;return m.memoizedState=u,[c,v,!1]}function Ql(u,c,m,v){return u={tag:u,create:m,deps:v,inst:c,next:null},c=Cn.updateQueue,c===null&&(c=R0(),Cn.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=u.next=u:(v=m.next,m.next=u,u.next=v,c.lastEffect=u),u}function N0(){return Mr().memoizedState}function O0(u,c,m,v){var M=jr();Cn.flags|=u,M.memoizedState=Ql(1|c,{destroy:void 0},m,v===void 0?null:v)}function k0(u,c,m,v){var M=Mr();v=v===void 0?null:v;var D=M.memoizedState.inst;ki!==null&&v!==null&&zy(v,ki.memoizedState.deps)?M.memoizedState=Ql(c,D,m,v):(Cn.flags|=u,M.memoizedState=Ql(1|c,D,m,v))}function cS(u,c){O0(8390656,8,u,c)}function ev(u,c){k0(2048,8,u,c)}function fS(u){Cn.flags|=4;var c=Cn.updateQueue;if(c===null)c=R0(),Cn.updateQueue=c,c.events=[u];else{var m=c.events;m===null?c.events=[u]:m.push(u)}}function dS(u){var c=Mr().memoizedState;return fS({ref:c,nextImpl:u}),function(){if((Qt&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function hS(u,c){return k0(4,2,u,c)}function pS(u,c){return k0(4,4,u,c)}function mS(u,c){if(typeof c=="function"){u=u();var m=c(u);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return u=u(),c.current=u,function(){c.current=null}}function gS(u,c,m){m=m!=null?m.concat([u]):null,k0(4,4,mS.bind(null,c,u),m)}function tv(){}function _S(u,c){var m=Mr();c=c===void 0?null:c;var v=m.memoizedState;return c!==null&&zy(c,v[1])?v[0]:(m.memoizedState=[u,c],u)}function yS(u,c){var m=Mr();c=c===void 0?null:c;var v=m.memoizedState;if(c!==null&&zy(c,v[1]))return v[0];if(v=u(),tf){xt(!0);try{u()}finally{xt(!1)}}return m.memoizedState=[v,c],v}function nv(u,c,m){return m===void 0||(Qi&1073741824)!==0&&(Nn&261930)===0?u.memoizedState=c:(u.memoizedState=m,u=Gn(),Cn.lanes|=u,Pu|=u,m)}function vS(u,c,m,v){return Us(m,c)?m:bd.current!==null?(u=nv(u,m,v),Us(u,c)||(Fr=!0),u):(Qi&42)===0||(Qi&1073741824)!==0&&(Nn&261930)===0?(Fr=!0,u.memoizedState=m):(u=Gn(),Cn.lanes|=u,Pu|=u,c)}function bS(u,c,m,v,M){var D=q.p;q.p=D!==0&&8>D?D:8;var B=W.T,K={};W.T=K,sv(u,!1,c,m);try{var me=M(),ke=W.S;if(ke!==null&&ke(K,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ke=Oy(me,v);xp(u,c,Ke,Pa(u))}else xp(u,c,v,Pa(u))}catch(ut){xp(u,c,{then:function(){},status:"rejected",reason:ut},Pa())}finally{q.p=D,B!==null&&K.types!==null&&(B.types=K.types),W.T=B}}function CA(){}function iv(u,c,m,v){if(u.tag!==5)throw Error(i(476));var M=xS(u).queue;bS(u,M,c,te,m===null?CA:function(){return SS(u),m(v)})}function xS(u){var c=u.memoizedState;if(c!==null)return c;c={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:te},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:m},next:null},u.memoizedState=c,u=u.alternate,u!==null&&(u.memoizedState=c),c}function SS(u){var c=xS(u);c.next===null&&(c=u.alternate.memoizedState),xp(u,c.next.queue,{},Pa())}function rv(){return fn(Mv)}function ES(){return Mr().memoizedState}function wS(){return Mr().memoizedState}function AA(u){for(var c=u.return;c!==null;){switch(c.tag){case 24:case 3:var m=Pa();u=fl(m);var v=Yl(c,u,m);v!==null&&(Ln(v,c,m),Zl(v,c,m)),c={cache:Ry()},u.payload=c;return}c=c.return}}function DA(u,c,m){var v=Pa();m={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},P0(u)?MS(c,m):(m=d0(u,c,m,v),m!==null&&(Ln(m,u,v),CS(m,c,v)))}function TS(u,c,m){var v=Pa();xp(u,c,m,v)}function xp(u,c,m,v){var M={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(P0(u))MS(c,M);else{var D=u.alternate;if(u.lanes===0&&(D===null||D.lanes===0)&&(D=c.lastRenderedReducer,D!==null))try{var B=c.lastRenderedState,K=D(B,m);if(M.hasEagerState=!0,M.eagerState=K,Us(K,B))return ts(u,c,M,0),gn===null&&cp(),!1}catch{}if(m=d0(u,c,M,v),m!==null)return Ln(m,u,v),CS(m,c,v),!0}return!1}function sv(u,c,m,v){if(v={lane:2,revertLane:ze(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},P0(u)){if(c)throw Error(i(479))}else c=d0(u,m,v,2),c!==null&&Ln(c,u,2)}function P0(u){var c=u.alternate;return u===Cn||c!==null&&c===Cn}function MS(u,c){xd=co=!0;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}function CS(u,c,m){if((m&4194048)!==0){var v=c.lanes;v&=u.pendingLanes,m|=v,c.lanes=m,st(u,m)}}var Ed={readContext:fn,use:Kl,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr,useHostTransitionStatus:lr,useFormState:lr,useActionState:lr,useOptimistic:lr,useMemoCache:lr,useCacheRefresh:lr};Ed.useEffectEvent=lr;var AS={readContext:fn,use:Kl,useCallback:function(u,c){return jr().memoizedState=[u,c===void 0?null:c],u},useContext:fn,useEffect:cS,useImperativeHandle:function(u,c,m){m=m!=null?m.concat([u]):null,O0(4194308,4,mS.bind(null,c,u),m)},useLayoutEffect:function(u,c){return O0(4194308,4,u,c)},useInsertionEffect:function(u,c){O0(4,2,u,c)},useMemo:function(u,c){var m=jr();c=c===void 0?null:c;var v=u();if(tf){xt(!0);try{u()}finally{xt(!1)}}return m.memoizedState=[v,c],v},useReducer:function(u,c,m){var v=jr();if(m!==void 0){var M=m(c);if(tf){xt(!0);try{m(c)}finally{xt(!1)}}}else M=c;return v.memoizedState=v.baseState=M,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:M},v.queue=u,u=u.dispatch=DA.bind(null,Cn,u),[v.memoizedState,u]},useRef:function(u){var c=jr();return u={current:u},c.memoizedState=u},useState:function(u){u=$y(u);var c=u.queue,m=TS.bind(null,Cn,c);return c.dispatch=m,[u.memoizedState,m]},useDebugValue:tv,useDeferredValue:function(u,c){var m=jr();return nv(m,u,c)},useTransition:function(){var u=$y(!1);return u=bS.bind(null,Cn,u.queue,!0,!1),jr().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,c,m){var v=Cn,M=jr();if(ti){if(m===void 0)throw Error(i(407));m=m()}else{if(m=c(),gn===null)throw Error(i(349));(Nn&127)!==0||J1(v,c,m)}M.memoizedState=m;var D={value:m,getSnapshot:c};return M.queue=D,cS(tS.bind(null,v,D,u),[u]),v.flags|=2048,Ql(9,{destroy:void 0},eS.bind(null,v,D,m,c),null),m},useId:function(){var u=jr(),c=gn.identifierPrefix;if(ti){var m=Ho,v=ur;m=(v&~(1<<32-_t(v)-1)).toString(32)+m,c="_"+c+"R_"+m,m=A0++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=By++,c="_"+c+"r_"+m.toString(32)+"_";return u.memoizedState=c},useHostTransitionStatus:rv,useFormState:Ky,useActionState:Ky,useOptimistic:function(u){var c=jr();c.memoizedState=c.baseState=u;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=sv.bind(null,Cn,!0,m),m.dispatch=c,[u,c]},useMemoCache:Wy,useCacheRefresh:function(){return jr().memoizedState=AA.bind(null,Cn)},useEffectEvent:function(u){var c=jr(),m={impl:u};return c.memoizedState=m,function(){if((Qt&2)!==0)throw Error(i(440));return m.impl.apply(void 0,arguments)}}},av={readContext:fn,use:Kl,useCallback:_S,useContext:fn,useEffect:ev,useImperativeHandle:gS,useInsertionEffect:hS,useLayoutEffect:pS,useMemo:yS,useReducer:I0,useRef:N0,useState:function(){return I0(hl)},useDebugValue:tv,useDeferredValue:function(u,c){var m=Mr();return vS(m,ki.memoizedState,u,c)},useTransition:function(){var u=I0(hl)[0],c=Mr().memoizedState;return[typeof u=="boolean"?u:bp(u),c]},useSyncExternalStore:Q1,useId:ES,useHostTransitionStatus:rv,useFormState:uS,useActionState:uS,useOptimistic:function(u,c){var m=Mr();return Xy(m,ki,u,c)},useMemoCache:Wy,useCacheRefresh:wS};av.useEffectEvent=dS;var fo={readContext:fn,use:Kl,useCallback:_S,useContext:fn,useEffect:ev,useImperativeHandle:gS,useInsertionEffect:hS,useLayoutEffect:pS,useMemo:yS,useReducer:qy,useRef:N0,useState:function(){return qy(hl)},useDebugValue:tv,useDeferredValue:function(u,c){var m=Mr();return ki===null?nv(m,u,c):vS(m,ki.memoizedState,u,c)},useTransition:function(){var u=qy(hl)[0],c=Mr().memoizedState;return[typeof u=="boolean"?u:bp(u),c]},useSyncExternalStore:Q1,useId:ES,useHostTransitionStatus:rv,useFormState:Jy,useActionState:Jy,useOptimistic:function(u,c){var m=Mr();return ki!==null?Xy(m,ki,u,c):(m.baseState=u,[u,m.queue.dispatch])},useMemoCache:Wy,useCacheRefresh:wS};fo.useEffectEvent=dS;function L0(u,c,m,v){c=u.memoizedState,m=m(v,c),m=m==null?c:g({},c,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var Sp={enqueueSetState:function(u,c,m){u=u._reactInternals;var v=Pa(),M=fl(v);M.payload=c,m!=null&&(M.callback=m),c=Yl(u,M,v),c!==null&&(Ln(c,u,v),Zl(c,u,v))},enqueueReplaceState:function(u,c,m){u=u._reactInternals;var v=Pa(),M=fl(v);M.tag=1,M.payload=c,m!=null&&(M.callback=m),c=Yl(u,M,v),c!==null&&(Ln(c,u,v),Zl(c,u,v))},enqueueForceUpdate:function(u,c){u=u._reactInternals;var m=Pa(),v=fl(m);v.tag=2,c!=null&&(v.callback=c),c=Yl(u,v,m),c!==null&&(Ln(c,u,m),Zl(c,u,m))}};function ov(u,c,m,v,M,D,B){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(v,D,B):c.prototype&&c.prototype.isPureReactComponent?!sd(m,v)||!sd(M,D):!0}function uv(u,c,m,v){u=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,v),c.state!==u&&Sp.enqueueReplaceState(c,c.state,null)}function Jl(u,c){var m=c;if("ref"in c){m={};for(var v in c)v!=="ref"&&(m[v]=c[v])}if(u=u.defaultProps){m===c&&(m=g({},m));for(var M in u)m[M]===void 0&&(m[M]=u[M])}return m}function DS(u){lp(u)}function lv(u){console.error(u)}function cv(u){lp(u)}function F0(u,c){try{var m=u.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function RS(u,c,m){try{var v=u.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function fv(u,c,m){return m=fl(m),m.tag=3,m.payload={element:null},m.callback=function(){F0(u,c)},m}function dv(u){return u=fl(u),u.tag=3,u}function IS(u,c,m,v){var M=m.type.getDerivedStateFromError;if(typeof M=="function"){var D=v.value;u.payload=function(){return M(D)},u.callback=function(){RS(c,m,v)}}var B=m.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(u.callback=function(){RS(c,m,v),typeof M!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var K=v.stack;this.componentDidCatch(v.value,{componentStack:K!==null?K:""})})}function qr(u,c,m,v,M){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=m.alternate,c!==null&&Cu(c,m,M,!0),m=ia.current,m!==null){switch(m.tag){case 31:case 13:return Hs===null?Rd():m.alternate===null&&cr===0&&(cr=3),m.flags&=-257,m.flags|=65536,m.lanes=M,v===E0?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([v]):c.add(v),kp(u,v,M)),!1;case 22:return m.flags|=65536,v===E0?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([v]):m.add(v)),kp(u,v,M)),!1}throw Error(i(435,m.tag))}return kp(u,v,M),Rd(),!1}if(ti)return c=ia.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=M,v!==hd&&(u=Error(i(422),{cause:v}),wu(Ca(u,m)))):(v!==hd&&(c=Error(i(423),{cause:v}),wu(Ca(c,m))),u=u.current.alternate,u.flags|=65536,M&=-M,u.lanes|=M,v=Ca(v,m),M=fv(u.stateNode,v,M),nn(u,M),cr!==4&&(cr=2)),!1;var D=Error(i(520),{cause:v});if(D=Ca(D,m),df===null?df=[D]:df.push(D),cr!==4&&(cr=2),c===null)return!0;v=Ca(v,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,u=M&-M,m.lanes|=u,u=fv(m.stateNode,v,u),nn(m,u),!1;case 1:if(c=m.type,D=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Dr===null||!Dr.has(D))))return m.flags|=65536,M&=-M,m.lanes|=M,M=dv(M),IS(M,u,m,v),nn(m,M),!1}m=m.return}while(m!==null);return!1}var U0=Error(i(461)),Fr=!1;function ns(u,c,m,v){c.child=u===null?M0(c,null,m,v):cl(c,u.child,m,v)}function hv(u,c,m,v,M){m=m.render;var D=c.ref;if("ref"in v){var B={};for(var K in v)K!=="ref"&&(B[K]=v[K])}else B=v;return $l(c),v=D0(u,c,m,B,D,M),K=Hy(),u!==null&&!Fr?(Vy(u,c,M),Cr(u,c,M)):(ti&&K&&Su(c),c.flags|=1,ns(u,c,v,M),c.child)}function sf(u,c,m,v,M){if(u===null){var D=m.type;return typeof D=="function"&&!h0(D)&&D.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=D,B0(u,c,D,v,M)):(u=bu(m.type,null,v,c,c.mode,M),u.ref=c.ref,u.return=c,c.child=u)}if(D=u.child,!j0(u,M)){var B=D.memoizedProps;if(m=m.compare,m=m!==null?m:sd,m(B,v)&&u.ref===c.ref)return Cr(u,c,M)}return c.flags|=1,u=ea(D,v),u.ref=c.ref,u.return=c,c.child=u}function B0(u,c,m,v,M){if(u!==null){var D=u.memoizedProps;if(sd(D,v)&&u.ref===c.ref)if(Fr=!1,c.pendingProps=v=D,j0(u,M))(u.flags&131072)!==0&&(Fr=!0);else return c.lanes=u.lanes,Cr(u,c,M)}return wd(u,c,m,v,M)}function af(u,c,m,v){var M=v.children,D=u!==null?u.memoizedState:null;if(u===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(D=D!==null?D.baseLanes|m:m,u!==null){for(v=c.child=u.child,M=0;v!==null;)M=M|v.lanes|v.childLanes,v=v.sibling;v=M&~D}else v=0,c.child=null;return sa(u,c,D,m,v)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},u!==null&&hp(c,D!==null?D.cachePool:null),D!==null?Y1(c,D):Fy(),Z1(c);else return v=c.lanes=536870912,sa(u,c,D!==null?D.baseLanes|m:m,m,v)}else D!==null?(hp(c,D.cachePool),Y1(c,D),ra(),c.memoizedState=null):(u!==null&&hp(c,null),Fy(),ra());return ns(u,c,M,m),c.child}function Du(u,c){return u!==null&&u.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function sa(u,c,m,v,M){var D=S0();return D=D===null?null:{parent:Lr._currentValue,pool:D},c.memoizedState={baseLanes:m,cachePool:D},u!==null&&hp(c,null),Fy(),Z1(c),u!==null&&Cu(u,c,v,!0),c.childLanes=M,null}function z0(u,c){return c=W0({mode:c.mode,children:c.children},u.mode),c.ref=u.ref,u.child=c,c.return=u,c}function NS(u,c,m){return cl(c,u.child,null,m),u=z0(c,c.pendingProps),u.flags|=2,Tr(c),c.memoizedState=null,u}function H0(u,c,m){var v=c.pendingProps,M=(c.flags&128)!==0;if(c.flags&=-129,u===null){if(ti){if(v.mode==="hidden")return u=z0(c,v),c.lanes=536870912,Du(null,u);if(Uy(c),(u=Hi)?(u=Rk(u,Aa),u=u!==null&&u.data==="&"?u:null,u!==null&&(c.memoizedState={dehydrated:u,treeContext:al!==null?{id:ur,overflow:Ho}:null,retryLane:536870912,hydrationErrors:null},m=cd(u),m.return=c,c.child=m,vr=c,Hi=null)):u=null,u===null)throw Eu(c);return c.lanes=536870912,null}return z0(c,v)}var D=u.memoizedState;if(D!==null){var B=D.dehydrated;if(Uy(c),M)if(c.flags&256)c.flags&=-257,c=NS(u,c,m);else if(c.memoizedState!==null)c.child=u.child,c.flags|=128,c=null;else throw Error(i(558));else if(Fr||Cu(u,c,m,!1),M=(m&u.childLanes)!==0,Fr||M){if(v=gn,v!==null&&(B=Et(v,m),B!==0&&B!==D.retryLane))throw D.retryLane=B,Bs(u,B),Ln(v,u,B),U0;Rd(),c=NS(u,c,m)}else u=D.treeContext,Hi=Uu(B.nextSibling),vr=c,ti=!0,ol=null,Aa=!1,u!==null&&_0(c,u),c=z0(c,v),c.flags|=4096;return c}return u=ea(u.child,{mode:v.mode,children:v.children}),u.ref=c.ref,c.child=u,u.return=c,u}function of(u,c){var m=c.ref;if(m===null)u!==null&&u.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(u===null||u.ref!==m)&&(c.flags|=4194816)}}function wd(u,c,m,v,M){return $l(c),m=D0(u,c,m,v,void 0,M),v=Hy(),u!==null&&!Fr?(Vy(u,c,M),Cr(u,c,M)):(ti&&v&&Su(c),c.flags|=1,ns(u,c,m,M),c.child)}function Ep(u,c,m,v,M,D){return $l(c),c.updateQueue=null,m=nf(c,v,m,M),K1(u),v=Hy(),u!==null&&!Fr?(Vy(u,c,D),Cr(u,c,D)):(ti&&v&&Su(c),c.flags|=1,ns(u,c,m,D),c.child)}function V0(u,c,m,v,M){if($l(c),c.stateNode===null){var D=Hl,B=m.contextType;typeof B=="object"&&B!==null&&(D=fn(B)),D=new m(v,D),c.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=Sp,c.stateNode=D,D._reactInternals=c,D=c.stateNode,D.props=v,D.state=c.memoizedState,D.refs={},gp(c),B=m.contextType,D.context=typeof B=="object"&&B!==null?fn(B):Hl,D.state=c.memoizedState,B=m.getDerivedStateFromProps,typeof B=="function"&&(L0(c,m,B,v),D.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(B=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),B!==D.state&&Sp.enqueueReplaceState(D,D.state,null),yd(c,v,D,M),_p(),D.state=c.memoizedState),typeof D.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(u===null){D=c.stateNode;var K=c.memoizedProps,me=Jl(m,K);D.props=me;var ke=D.context,Ke=m.contextType;B=Hl,typeof Ke=="object"&&Ke!==null&&(B=fn(Ke));var ut=m.getDerivedStateFromProps;Ke=typeof ut=="function"||typeof D.getSnapshotBeforeUpdate=="function",K=c.pendingProps!==K,Ke||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(K||ke!==B)&&uv(c,D,v,B),zs=!1;var Le=c.memoizedState;D.state=Le,yd(c,v,D,M),_p(),ke=c.memoizedState,K||Le!==ke||zs?(typeof ut=="function"&&(L0(c,m,ut,v),ke=c.memoizedState),(me=zs||ov(c,m,me,v,Le,ke,B))?(Ke||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=ke),D.props=v,D.state=ke,D.context=B,v=me):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{D=c.stateNode,Py(u,c),B=c.memoizedProps,Ke=Jl(m,B),D.props=Ke,ut=c.pendingProps,Le=D.context,ke=m.contextType,me=Hl,typeof ke=="object"&&ke!==null&&(me=fn(ke)),K=m.getDerivedStateFromProps,(ke=typeof K=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(B!==ut||Le!==me)&&uv(c,D,v,me),zs=!1,Le=c.memoizedState,D.state=Le,yd(c,v,D,M),_p();var We=c.memoizedState;B!==ut||Le!==We||zs||u!==null&&u.dependencies!==null&&dp(u.dependencies)?(typeof K=="function"&&(L0(c,m,K,v),We=c.memoizedState),(Ke=zs||ov(c,m,Ke,v,Le,We,me)||u!==null&&u.dependencies!==null&&dp(u.dependencies))?(ke||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(v,We,me),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(v,We,me)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||B===u.memoizedProps&&Le===u.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||B===u.memoizedProps&&Le===u.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=We),D.props=v,D.state=We,D.context=me,v=Ke):(typeof D.componentDidUpdate!="function"||B===u.memoizedProps&&Le===u.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||B===u.memoizedProps&&Le===u.memoizedState||(c.flags|=1024),v=!1)}return D=v,of(u,c),v=(c.flags&128)!==0,D||v?(D=c.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:D.render(),c.flags|=1,u!==null&&v?(c.child=cl(c,u.child,null,M),c.child=cl(c,null,m,M)):ns(u,c,m,M),c.memoizedState=D.state,u=c.child):u=Cr(u,c,M),u}function OS(u,c,m,v){return jl(),c.flags|=256,ns(u,c,m,v),c.child}var pv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ms(u){return{baseLanes:u,cachePool:ky()}}function G0(u,c,m){return u=u!==null?u.childLanes&~m:0,c&&(u|=Ws),u}function kS(u,c,m){var v=c.pendingProps,M=!1,D=(c.flags&128)!==0,B;if((B=D)||(B=u!==null&&u.memoizedState===null?!1:(ni.current&2)!==0),B&&(M=!0,c.flags&=-129),B=(c.flags&32)!==0,c.flags&=-33,u===null){if(ti){if(M?dl(c):ra(),(u=Hi)?(u=Rk(u,Aa),u=u!==null&&u.data!=="&"?u:null,u!==null&&(c.memoizedState={dehydrated:u,treeContext:al!==null?{id:ur,overflow:Ho}:null,retryLane:536870912,hydrationErrors:null},m=cd(u),m.return=c,c.child=m,vr=c,Hi=null)):u=null,u===null)throw Eu(c);return GA(u)?c.lanes=32:c.lanes=536870912,null}var K=v.children;return v=v.fallback,M?(ra(),M=c.mode,K=W0({mode:"hidden",children:K},M),v=Vl(v,M,m,null),K.return=c,v.return=c,K.sibling=v,c.child=K,v=c.child,v.memoizedState=Ms(m),v.childLanes=G0(u,B,m),c.memoizedState=pv,Du(null,v)):(dl(c),wp(c,K))}var me=u.memoizedState;if(me!==null&&(K=me.dehydrated,K!==null)){if(D)c.flags&256?(dl(c),c.flags&=-257,c=mv(u,c,m)):c.memoizedState!==null?(ra(),c.child=u.child,c.flags|=128,c=null):(ra(),K=v.fallback,M=c.mode,v=W0({mode:"visible",children:v.children},M),K=Vl(K,M,m,null),K.flags|=2,v.return=c,K.return=c,v.sibling=K,c.child=v,cl(c,u.child,null,m),v=c.child,v.memoizedState=Ms(m),v.childLanes=G0(u,B,m),c.memoizedState=pv,c=Du(null,v));else if(dl(c),GA(K)){if(B=K.nextSibling&&K.nextSibling.dataset,B)var ke=B.dgst;B=ke,v=Error(i(419)),v.stack="",v.digest=B,wu({value:v,source:null,stack:null}),c=mv(u,c,m)}else if(Fr||Cu(u,c,m,!1),B=(m&u.childLanes)!==0,Fr||B){if(B=gn,B!==null&&(v=Et(B,m),v!==0&&v!==me.retryLane))throw me.retryLane=v,Bs(u,v),Ln(B,u,v),U0;VA(K)||Rd(),c=mv(u,c,m)}else VA(K)?(c.flags|=192,c.child=u.child,c=null):(u=me.treeContext,Hi=Uu(K.nextSibling),vr=c,ti=!0,ol=null,Aa=!1,u!==null&&_0(c,u),c=wp(c,v.children),c.flags|=4096);return c}return M?(ra(),K=v.fallback,M=c.mode,me=u.child,ke=me.sibling,v=ea(me,{mode:"hidden",children:v.children}),v.subtreeFlags=me.subtreeFlags&65011712,ke!==null?K=ea(ke,K):(K=Vl(K,M,m,null),K.flags|=2),K.return=c,v.return=c,v.sibling=K,c.child=v,Du(null,v),v=c.child,K=u.child.memoizedState,K===null?K=Ms(m):(M=K.cachePool,M!==null?(me=Lr._currentValue,M=M.parent!==me?{parent:me,pool:me}:M):M=ky(),K={baseLanes:K.baseLanes|m,cachePool:M}),v.memoizedState=K,v.childLanes=G0(u,B,m),c.memoizedState=pv,Du(u.child,v)):(dl(c),m=u.child,u=m.sibling,m=ea(m,{mode:"visible",children:v.children}),m.return=c,m.sibling=null,u!==null&&(B=c.deletions,B===null?(c.deletions=[u],c.flags|=16):B.push(u)),c.child=m,c.memoizedState=null,m)}function wp(u,c){return c=W0({mode:"visible",children:c},u.mode),c.return=u,u.child=c}function W0(u,c){return u=or(22,u,null,c),u.lanes=0,u}function mv(u,c,m){return cl(c,u.child,null,m),u=wp(c,c.pendingProps.children),u.flags|=2,c.memoizedState=null,u}function PS(u,c,m){u.lanes|=c;var v=u.alternate;v!==null&&(v.lanes|=c),v0(u.return,c,m)}function uf(u,c,m,v,M,D){var B=u.memoizedState;B===null?u.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:M,treeForkCount:D}:(B.isBackwards=c,B.rendering=null,B.renderingStartTime=0,B.last=v,B.tail=m,B.tailMode=M,B.treeForkCount=D)}function aa(u,c,m){var v=c.pendingProps,M=v.revealOrder,D=v.tail;v=v.children;var B=ni.current,K=(B&2)!==0;if(K?(B=B&1|2,c.flags|=128):B&=1,ge(ni,B),ns(u,c,v,m),v=ti?dd:0,!K&&u!==null&&(u.flags&128)!==0)e:for(u=c.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&PS(u,m,c);else if(u.tag===19)PS(u,m,c);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(M){case"forwards":for(m=c.child,M=null;m!==null;)u=m.alternate,u!==null&&Ra(u)===null&&(M=m),m=m.sibling;m=M,m===null?(M=c.child,c.child=null):(M=m.sibling,m.sibling=null),uf(c,!1,M,m,D,v);break;case"backwards":case"unstable_legacy-backwards":for(m=null,M=c.child,c.child=null;M!==null;){if(u=M.alternate,u!==null&&Ra(u)===null){c.child=M;break}u=M.sibling,M.sibling=m,m=M,M=u}uf(c,!0,m,null,D,v);break;case"together":uf(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function Cr(u,c,m){if(u!==null&&(c.dependencies=u.dependencies),Pu|=c.lanes,(m&c.childLanes)===0)if(u!==null){if(Cu(u,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(u!==null&&c.child!==u.child)throw Error(i(153));if(c.child!==null){for(u=c.child,m=ea(u,u.pendingProps),c.child=m,m.return=c;u.sibling!==null;)u=u.sibling,m=m.sibling=ea(u,u.pendingProps),m.return=c;m.sibling=null}return c.child}function j0(u,c){return(u.lanes&c)!==0?!0:(u=u.dependencies,!!(u!==null&&dp(u)))}function RA(u,c,m){switch(c.tag){case 3:He(c,c.stateNode.containerInfo),ul(c,Lr,u.memoizedState.cache),jl();break;case 27:case 5:Ye(c);break;case 4:He(c,c.stateNode.containerInfo);break;case 10:ul(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Uy(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(dl(c),c.flags|=128,null):(m&c.child.childLanes)!==0?kS(u,c,m):(dl(c),u=Cr(u,c,m),u!==null?u.sibling:null);dl(c);break;case 19:var M=(u.flags&128)!==0;if(v=(m&c.childLanes)!==0,v||(Cu(u,c,m,!1),v=(m&c.childLanes)!==0),M){if(v)return aa(u,c,m);c.flags|=128}if(M=c.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),ge(ni,ni.current),v)break;return null;case 22:return c.lanes=0,af(u,c,m,c.pendingProps);case 24:ul(c,Lr,u.memoizedState.cache)}return Cr(u,c,m)}function q0(u,c,m){if(u!==null)if(u.memoizedProps!==c.pendingProps)Fr=!0;else{if(!j0(u,m)&&(c.flags&128)===0)return Fr=!1,RA(u,c,m);Fr=(u.flags&131072)!==0}else Fr=!1,ti&&(c.flags&1048576)!==0&&V1(c,dd,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(u=Zc(c.elementType),c.type=u,typeof u=="function")h0(u)?(v=Jl(u,v),c.tag=1,c=V0(null,c,u,v,m)):(c.tag=0,c=wd(null,c,u,v,m));else{if(u!=null){var M=u.$$typeof;if(M===R){c.tag=11,c=hv(null,c,u,v,m);break e}else if(M===P){c.tag=14,c=sf(null,c,u,v,m);break e}}throw c=ne(u)||u,Error(i(306,c,""))}}return c;case 0:return wd(u,c,c.type,c.pendingProps,m);case 1:return v=c.type,M=Jl(v,c.pendingProps),V0(u,c,v,M,m);case 3:e:{if(He(c,c.stateNode.containerInfo),u===null)throw Error(i(387));v=c.pendingProps;var D=c.memoizedState;M=D.element,Py(u,c),yd(c,v,null,m);var B=c.memoizedState;if(v=B.cache,ul(c,Lr,v),v!==D.cache&&b0(c,[Lr],m,!0),_p(),v=B.element,D.isDehydrated)if(D={element:v,isDehydrated:!1,cache:B.cache},c.updateQueue.baseState=D,c.memoizedState=D,c.flags&256){c=OS(u,c,v,m);break e}else if(v!==M){M=Ca(Error(i(424)),c),wu(M),c=OS(u,c,v,m);break e}else for(u=c.stateNode.containerInfo,u.nodeType===9?u=u.body:u=u.nodeName==="HTML"?u.ownerDocument.body:u,Hi=Uu(u.firstChild),vr=c,ti=!0,ol=null,Aa=!0,m=M0(c,null,v,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(jl(),v===M){c=Cr(u,c,m);break e}ns(u,c,v,m)}c=c.child}return c;case 26:return of(u,c),u===null?(m=Lk(c.type,null,c.pendingProps,null))?c.memoizedState=m:ti||(m=c.type,u=c.pendingProps,v=BS(ve.current).createElement(m),v[tn]=c,v[Jt]=u,qs(v,m,u),X(v),c.stateNode=v):c.memoizedState=Lk(c.type,u.memoizedProps,c.pendingProps,u.memoizedState),null;case 27:return Ye(c),u===null&&ti&&(v=c.stateNode=Ok(c.type,c.pendingProps,ve.current),vr=c,Aa=!0,M=Hi,kd(c.type)?(WA=M,Hi=Uu(v.firstChild)):Hi=M),ns(u,c,c.pendingProps.children,m),of(u,c),u===null&&(c.flags|=4194304),c.child;case 5:return u===null&&ti&&((M=v=Hi)&&(v=hj(v,c.type,c.pendingProps,Aa),v!==null?(c.stateNode=v,vr=c,Hi=Uu(v.firstChild),Aa=!1,M=!0):M=!1),M||Eu(c)),Ye(c),M=c.type,D=c.pendingProps,B=u!==null?u.memoizedProps:null,v=D.children,BA(M,D)?v=null:B!==null&&BA(M,B)&&(c.flags|=32),c.memoizedState!==null&&(M=D0(u,c,rf,null,null,m),Mv._currentValue=M),of(u,c),ns(u,c,v,m),c.child;case 6:return u===null&&ti&&((u=m=Hi)&&(m=pj(m,c.pendingProps,Aa),m!==null?(c.stateNode=m,vr=c,Hi=null,u=!0):u=!1),u||Eu(c)),null;case 13:return kS(u,c,m);case 4:return He(c,c.stateNode.containerInfo),v=c.pendingProps,u===null?c.child=cl(c,null,v,m):ns(u,c,v,m),c.child;case 11:return hv(u,c,c.type,c.pendingProps,m);case 7:return ns(u,c,c.pendingProps,m),c.child;case 8:return ns(u,c,c.pendingProps.children,m),c.child;case 12:return ns(u,c,c.pendingProps.children,m),c.child;case 10:return v=c.pendingProps,ul(c,c.type,v.value),ns(u,c,v.children,m),c.child;case 9:return M=c.type._context,v=c.pendingProps.children,$l(c),M=fn(M),v=v(M),c.flags|=1,ns(u,c,v,m),c.child;case 14:return sf(u,c,c.type,c.pendingProps,m);case 15:return B0(u,c,c.type,c.pendingProps,m);case 19:return aa(u,c,m);case 31:return H0(u,c,m);case 22:return af(u,c,m,c.pendingProps);case 24:return $l(c),v=fn(Lr),u===null?(M=S0(),M===null&&(M=gn,D=Ry(),M.pooledCache=D,D.refCount++,D!==null&&(M.pooledCacheLanes|=m),M=D),c.memoizedState={parent:v,cache:M},gp(c),ul(c,Lr,M)):((u.lanes&m)!==0&&(Py(u,c),yd(c,null,null,m),_p()),M=u.memoizedState,D=c.memoizedState,M.parent!==v?(M={parent:v,cache:v},c.memoizedState=M,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=M),ul(c,Lr,v)):(v=D.cache,ul(c,Lr,v),v!==M.cache&&b0(c,[Lr],m,!0))),ns(u,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function Ru(u){u.flags|=4}function Tp(u,c,m,v,M){if((c=(u.mode&32)!==0)&&(c=!1),c){if(u.flags|=16777216,(M&335544128)===M)if(u.stateNode.complete)u.flags|=8192;else if(dr())u.flags|=8192;else throw Au=E0,pp}else u.flags&=-16777217}function gv(u,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!Hk(c))if(dr())u.flags|=8192;else throw Au=E0,pp}function pl(u,c){c!==null&&(u.flags|=4),u.flags&16384&&(c=u.tag!==22?et():536870912,u.lanes|=c,$i|=c)}function Iu(u,c){if(!ti)switch(u.tailMode){case"hidden":c=u.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?c||u.tail===null?u.tail=null:u.tail.sibling=null:v.sibling=null}}function Pi(u){var c=u.alternate!==null&&u.alternate.child===u.child,m=0,v=0;if(c)for(var M=u.child;M!==null;)m|=M.lanes|M.childLanes,v|=M.subtreeFlags&65011712,v|=M.flags&65011712,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)m|=M.lanes|M.childLanes,v|=M.subtreeFlags,v|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=v,u.childLanes=m,c}function Mp(u,c,m){var v=c.pendingProps;switch(g0(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(c),null;case 1:return Pi(c),null;case 3:return m=c.stateNode,v=null,u!==null&&(v=u.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Mu(Lr),Xe(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(u===null||u.child===null)&&(pd(c)?Ru(c):u===null||u.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,y0())),Pi(c),null;case 26:var M=c.type,D=c.memoizedState;return u===null?(Ru(c),D!==null?(Pi(c),gv(c,D)):(Pi(c),Tp(c,M,null,v,m))):D?D!==u.memoizedState?(Ru(c),Pi(c),gv(c,D)):(Pi(c),c.flags&=-16777217):(u=u.memoizedProps,u!==v&&Ru(c),Pi(c),Tp(c,M,u,v,m)),null;case 27:if(bt(c),m=ve.current,M=c.type,u!==null&&c.stateNode!=null)u.memoizedProps!==v&&Ru(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return Pi(c),null}u=Se.current,pd(c)?G1(c):(u=Ok(M,v,m),c.stateNode=u,Ru(c))}return Pi(c),null;case 5:if(bt(c),M=c.type,u!==null&&c.stateNode!=null)u.memoizedProps!==v&&Ru(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return Pi(c),null}if(D=Se.current,pd(c))G1(c);else{var B=BS(ve.current);switch(D){case 1:D=B.createElementNS("http://www.w3.org/2000/svg",M);break;case 2:D=B.createElementNS("http://www.w3.org/1998/Math/MathML",M);break;default:switch(M){case"svg":D=B.createElementNS("http://www.w3.org/2000/svg",M);break;case"math":D=B.createElementNS("http://www.w3.org/1998/Math/MathML",M);break;case"script":D=B.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof v.is=="string"?B.createElement("select",{is:v.is}):B.createElement("select"),v.multiple?D.multiple=!0:v.size&&(D.size=v.size);break;default:D=typeof v.is=="string"?B.createElement(M,{is:v.is}):B.createElement(M)}}D[tn]=c,D[Jt]=v;e:for(B=c.child;B!==null;){if(B.tag===5||B.tag===6)D.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===c)break e;for(;B.sibling===null;){if(B.return===null||B.return===c)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}c.stateNode=D;e:switch(qs(D,M,v),M){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Ru(c)}}return Pi(c),Tp(c,c.type,u===null?null:u.memoizedProps,c.pendingProps,m),null;case 6:if(u&&c.stateNode!=null)u.memoizedProps!==v&&Ru(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(i(166));if(u=ve.current,pd(c)){if(u=c.stateNode,m=c.memoizedProps,v=null,M=vr,M!==null)switch(M.tag){case 27:case 5:v=M.memoizedProps}u[tn]=c,u=!!(u.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||Sk(u.nodeValue,m)),u||Eu(c,!0)}else u=BS(u).createTextNode(v),u[tn]=c,c.stateNode=u}return Pi(c),null;case 31:if(m=c.memoizedState,u===null||u.memoizedState!==null){if(v=pd(c),m!==null){if(u===null){if(!v)throw Error(i(318));if(u=c.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(557));u[tn]=c}else jl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Pi(c),u=!1}else m=y0(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=m),u=!0;if(!u)return c.flags&256?(Tr(c),c):(Tr(c),null);if((c.flags&128)!==0)throw Error(i(558))}return Pi(c),null;case 13:if(v=c.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(M=pd(c),v!==null&&v.dehydrated!==null){if(u===null){if(!M)throw Error(i(318));if(M=c.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(i(317));M[tn]=c}else jl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Pi(c),M=!1}else M=y0(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=M),M=!0;if(!M)return c.flags&256?(Tr(c),c):(Tr(c),null)}return Tr(c),(c.flags&128)!==0?(c.lanes=m,c):(m=v!==null,u=u!==null&&u.memoizedState!==null,m&&(v=c.child,M=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(M=v.alternate.memoizedState.cachePool.pool),D=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(D=v.memoizedState.cachePool.pool),D!==M&&(v.flags|=2048)),m!==u&&m&&(c.child.flags|=8192),pl(c,c.updateQueue),Pi(c),null);case 4:return Xe(),u===null&&kA(c.stateNode.containerInfo),Pi(c),null;case 10:return Mu(c.type),Pi(c),null;case 19:if(ue(ni),v=c.memoizedState,v===null)return Pi(c),null;if(M=(c.flags&128)!==0,D=v.rendering,D===null)if(M)Iu(v,!1);else{if(cr!==0||u!==null&&(u.flags&128)!==0)for(u=c.child;u!==null;){if(D=Ra(u),D!==null){for(c.flags|=128,Iu(v,!1),u=D.updateQueue,c.updateQueue=u,pl(c,u),c.subtreeFlags=0,u=m,m=c.child;m!==null;)ld(m,u),m=m.sibling;return ge(ni,ni.current&1|2),ti&&xu(c,v.treeForkCount),c.child}u=u.sibling}v.tail!==null&&H()>Ar&&(c.flags|=128,M=!0,Iu(v,!1),c.lanes=4194304)}else{if(!M)if(u=Ra(D),u!==null){if(c.flags|=128,M=!0,u=u.updateQueue,c.updateQueue=u,pl(c,u),Iu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!D.alternate&&!ti)return Pi(c),null}else 2*H()-v.renderingStartTime>Ar&&m!==536870912&&(c.flags|=128,M=!0,Iu(v,!1),c.lanes=4194304);v.isBackwards?(D.sibling=c.child,c.child=D):(u=v.last,u!==null?u.sibling=D:c.child=D,v.last=D)}return v.tail!==null?(u=v.tail,v.rendering=u,v.tail=u.sibling,v.renderingStartTime=H(),u.sibling=null,m=ni.current,ge(ni,M?m&1|2:m&1),ti&&xu(c,v.treeForkCount),u):(Pi(c),null);case 22:case 23:return Tr(c),yp(),v=c.memoizedState!==null,u!==null?u.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(m&536870912)!==0&&(c.flags&128)===0&&(Pi(c),c.subtreeFlags&6&&(c.flags|=8192)):Pi(c),m=c.updateQueue,m!==null&&pl(c,m.retryQueue),m=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048),u!==null&&ue(Xl),null;case 24:return m=null,u!==null&&(m=u.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Mu(Lr),Pi(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function ho(u,c){switch(g0(c),c.tag){case 1:return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 3:return Mu(Lr),Xe(),u=c.flags,(u&65536)!==0&&(u&128)===0?(c.flags=u&-65537|128,c):null;case 26:case 27:case 5:return bt(c),null;case 31:if(c.memoizedState!==null){if(Tr(c),c.alternate===null)throw Error(i(340));jl()}return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 13:if(Tr(c),u=c.memoizedState,u!==null&&u.dehydrated!==null){if(c.alternate===null)throw Error(i(340));jl()}return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 19:return ue(ni),null;case 4:return Xe(),null;case 10:return Mu(c.type),null;case 22:case 23:return Tr(c),yp(),u!==null&&ue(Xl),u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 24:return Mu(Lr),null;case 25:return null;default:return null}}function Ia(u,c){switch(g0(c),c.tag){case 3:Mu(Lr),Xe();break;case 26:case 27:case 5:bt(c);break;case 4:Xe();break;case 31:c.memoizedState!==null&&Tr(c);break;case 13:Tr(c);break;case 19:ue(ni);break;case 10:Mu(c.type);break;case 22:case 23:Tr(c),yp(),u!==null&&ue(Xl);break;case 24:Mu(Lr)}}function po(u,c){try{var m=c.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var M=v.next;m=M;do{if((m.tag&u)===u){v=void 0;var D=m.create,B=m.inst;v=D(),B.destroy=v}m=m.next}while(m!==M)}}catch(K){hi(c,c.return,K)}}function ms(u,c,m){try{var v=c.updateQueue,M=v!==null?v.lastEffect:null;if(M!==null){var D=M.next;v=D;do{if((v.tag&u)===u){var B=v.inst,K=B.destroy;if(K!==void 0){B.destroy=void 0,M=c;var me=m,ke=K;try{ke()}catch(Ke){hi(M,me,Ke)}}}v=v.next}while(v!==D)}}catch(Ke){hi(c,c.return,Ke)}}function Vo(u){var c=u.updateQueue;if(c!==null){var m=u.stateNode;try{X1(c,m)}catch(v){hi(u,u.return,v)}}}function is(u,c,m){m.props=Jl(u.type,u.memoizedProps),m.state=u.memoizedState;try{m.componentWillUnmount()}catch(v){hi(u,c,v)}}function ml(u,c){try{var m=u.ref;if(m!==null){switch(u.tag){case 26:case 27:case 5:var v=u.stateNode;break;case 30:v=u.stateNode;break;default:v=u.stateNode}typeof m=="function"?u.refCleanup=m(v):m.current=v}}catch(M){hi(u,c,M)}}function gs(u,c){var m=u.ref,v=u.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(M){hi(u,c,M)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(M){hi(u,c,M)}else m.current=null}function Cp(u){var c=u.type,m=u.memoizedProps,v=u.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(M){hi(u,u.return,M)}}function $r(u,c,m){try{var v=u.stateNode;oj(v,u.type,m,c),v[Jt]=c}catch(M){hi(u,u.return,M)}}function Ji(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&kd(u.type)||u.tag===4}function $n(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Ji(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&kd(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Nu(u,c,m){var v=u.tag;if(v===5||v===6)u=u.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(u,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(u),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Rt));else if(v!==4&&(v===27&&kd(u.type)&&(m=u.stateNode,c=null),u=u.child,u!==null))for(Nu(u,c,m),u=u.sibling;u!==null;)Nu(u,c,m),u=u.sibling}function Vs(u,c,m){var v=u.tag;if(v===5||v===6)u=u.stateNode,c?m.insertBefore(u,c):m.appendChild(u);else if(v!==4&&(v===27&&kd(u.type)&&(m=u.stateNode),u=u.child,u!==null))for(Vs(u,c,m),u=u.sibling;u!==null;)Vs(u,c,m),u=u.sibling}function $0(u){var c=u.stateNode,m=u.memoizedProps;try{for(var v=u.type,M=c.attributes;M.length;)c.removeAttributeNode(M[0]);qs(c,v,m),c[tn]=u,c[Jt]=m}catch(D){hi(u,u.return,D)}}var mo=!1,Vi=!1,Go=!1,LS=typeof WeakSet=="function"?WeakSet:Set,rs=null;function IA(u,c){if(u=u.containerInfo,FA=qS,u=U1(u),Ty(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var M=v.anchorOffset,D=v.focusNode;v=v.focusOffset;try{m.nodeType,D.nodeType}catch{m=null;break e}var B=0,K=-1,me=-1,ke=0,Ke=0,ut=u,Le=null;t:for(;;){for(var We;ut!==m||M!==0&&ut.nodeType!==3||(K=B+M),ut!==D||v!==0&&ut.nodeType!==3||(me=B+v),ut.nodeType===3&&(B+=ut.nodeValue.length),(We=ut.firstChild)!==null;)Le=ut,ut=We;for(;;){if(ut===u)break t;if(Le===m&&++ke===M&&(K=B),Le===D&&++Ke===v&&(me=B),(We=ut.nextSibling)!==null)break;ut=Le,Le=ut.parentNode}ut=We}m=K===-1||me===-1?null:{start:K,end:me}}else m=null}m=m||{start:0,end:0}}else m=null;for(UA={focusedElem:u,selectionRange:m},qS=!1,rs=c;rs!==null;)if(c=rs,u=c.child,(c.subtreeFlags&1028)!==0&&u!==null)u.return=c,rs=u;else for(;rs!==null;){switch(c=rs,D=c.alternate,u=c.flags,c.tag){case 0:if((u&4)!==0&&(u=c.updateQueue,u=u!==null?u.events:null,u!==null))for(m=0;m<u.length;m++)M=u[m],M.ref.impl=M.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&D!==null){u=void 0,m=c,M=D.memoizedProps,D=D.memoizedState,v=m.stateNode;try{var $t=Jl(m.type,M);u=v.getSnapshotBeforeUpdate($t,D),v.__reactInternalSnapshotBeforeUpdate=u}catch(cn){hi(m,m.return,cn)}}break;case 3:if((u&1024)!==0){if(u=c.stateNode.containerInfo,m=u.nodeType,m===9)HA(u);else if(m===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":HA(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(i(163))}if(u=c.sibling,u!==null){u.return=c.return,rs=u;break}rs=c.return}}function er(u,c,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:yo(u,m),v&4&&po(5,m);break;case 1:if(yo(u,m),v&4)if(u=m.stateNode,c===null)try{u.componentDidMount()}catch(B){hi(m,m.return,B)}else{var M=Jl(m.type,c.memoizedProps);c=c.memoizedState;try{u.componentDidUpdate(M,c,u.__reactInternalSnapshotBeforeUpdate)}catch(B){hi(m,m.return,B)}}v&64&&Vo(m),v&512&&ml(m,m.return);break;case 3:if(yo(u,m),v&64&&(u=m.updateQueue,u!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{X1(u,c)}catch(B){hi(m,m.return,B)}}break;case 27:c===null&&v&4&&$0(m);case 26:case 5:yo(u,m),c===null&&v&4&&Cp(m),v&512&&ml(m,m.return);break;case 12:yo(u,m);break;case 31:yo(u,m),v&4&&ec(u,m);break;case 13:yo(u,m),v&4&&Td(u,m),v&64&&(u=m.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(m=b.bind(null,m),mj(u,m))));break;case 22:if(v=m.memoizedState!==null||mo,!v){c=c!==null&&c.memoizedState!==null||Vi,M=mo;var D=Vi;mo=v,(Vi=c)&&!D?Gs(u,m,(m.subtreeFlags&8772)!==0):yo(u,m),mo=M,Vi=D}break;case 30:break;default:yo(u,m)}}function Ap(u){var c=u.alternate;c!==null&&(u.alternate=null,Ap(c)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(c=u.stateNode,c!==null&&he(c)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Ri=null,Cs=!1;function go(u,c,m){for(m=m.child;m!==null;)X0(u,c,m),m=m.sibling}function X0(u,c,m){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Je,m)}catch{}switch(m.tag){case 26:Vi||gs(m,c),go(u,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Vi||gs(m,c);var v=Ri,M=Cs;kd(m.type)&&(Ri=m.stateNode,Cs=!1),go(u,c,m),Ev(m.stateNode),Ri=v,Cs=M;break;case 5:Vi||gs(m,c);case 6:if(v=Ri,M=Cs,Ri=null,go(u,c,m),Ri=v,Cs=M,Ri!==null)if(Cs)try{(Ri.nodeType===9?Ri.body:Ri.nodeName==="HTML"?Ri.ownerDocument.body:Ri).removeChild(m.stateNode)}catch(D){hi(m,c,D)}else try{Ri.removeChild(m.stateNode)}catch(D){hi(m,c,D)}break;case 18:Ri!==null&&(Cs?(u=Ri,Ak(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,m.stateNode),ng(u)):Ak(Ri,m.stateNode));break;case 4:v=Ri,M=Cs,Ri=m.stateNode.containerInfo,Cs=!0,go(u,c,m),Ri=v,Cs=M;break;case 0:case 11:case 14:case 15:ms(2,m,c),Vi||ms(4,m,c),go(u,c,m);break;case 1:Vi||(gs(m,c),v=m.stateNode,typeof v.componentWillUnmount=="function"&&is(m,c,v)),go(u,c,m);break;case 21:go(u,c,m);break;case 22:Vi=(v=Vi)||m.memoizedState!==null,go(u,c,m),Vi=v;break;default:go(u,c,m)}}function ec(u,c){if(c.memoizedState===null&&(u=c.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{ng(u)}catch(m){hi(c,c.return,m)}}}function Td(u,c){if(c.memoizedState===null&&(u=c.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{ng(u)}catch(m){hi(c,c.return,m)}}function _v(u){switch(u.tag){case 31:case 13:case 19:var c=u.stateNode;return c===null&&(c=u.stateNode=new LS),c;case 22:return u=u.stateNode,c=u._retryCache,c===null&&(c=u._retryCache=new LS),c;default:throw Error(i(435,u.tag))}}function gl(u,c){var m=_v(u);c.forEach(function(v){if(!m.has(v)){m.add(v);var M=T.bind(null,u,v);v.then(M,M)}})}function Xr(u,c){var m=c.deletions;if(m!==null)for(var v=0;v<m.length;v++){var M=m[v],D=u,B=c,K=B;e:for(;K!==null;){switch(K.tag){case 27:if(kd(K.type)){Ri=K.stateNode,Cs=!1;break e}break;case 5:Ri=K.stateNode,Cs=!1;break e;case 3:case 4:Ri=K.stateNode.containerInfo,Cs=!0;break e}K=K.return}if(Ri===null)throw Error(i(160));X0(D,B,M),Ri=null,Cs=!1,D=M.alternate,D!==null&&(D.return=null),M.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)tc(c,u),c=c.sibling}var _o=null;function tc(u,c){var m=u.alternate,v=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Xr(c,u),Yr(u),v&4&&(ms(3,u,u.return),po(3,u),ms(5,u,u.return));break;case 1:Xr(c,u),Yr(u),v&512&&(Vi||m===null||gs(m,m.return)),v&64&&mo&&(u=u.updateQueue,u!==null&&(v=u.callbacks,v!==null&&(m=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var M=_o;if(Xr(c,u),Yr(u),v&512&&(Vi||m===null||gs(m,m.return)),v&4){var D=m!==null?m.memoizedState:null;if(v=u.memoizedState,m===null)if(v===null)if(u.stateNode===null){e:{v=u.type,m=u.memoizedProps,M=M.ownerDocument||M;t:switch(v){case"title":D=M.getElementsByTagName("title")[0],(!D||D[Tt]||D[tn]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=M.createElement(v),M.head.insertBefore(D,M.querySelector("head > title"))),qs(D,v,m),D[tn]=u,X(D),v=D;break e;case"link":var B=Bk("link","href",M).get(v+(m.href||""));if(B){for(var K=0;K<B.length;K++)if(D=B[K],D.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&D.getAttribute("rel")===(m.rel==null?null:m.rel)&&D.getAttribute("title")===(m.title==null?null:m.title)&&D.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){B.splice(K,1);break t}}D=M.createElement(v),qs(D,v,m),M.head.appendChild(D);break;case"meta":if(B=Bk("meta","content",M).get(v+(m.content||""))){for(K=0;K<B.length;K++)if(D=B[K],D.getAttribute("content")===(m.content==null?null:""+m.content)&&D.getAttribute("name")===(m.name==null?null:m.name)&&D.getAttribute("property")===(m.property==null?null:m.property)&&D.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&D.getAttribute("charset")===(m.charSet==null?null:m.charSet)){B.splice(K,1);break t}}D=M.createElement(v),qs(D,v,m),M.head.appendChild(D);break;default:throw Error(i(468,v))}D[tn]=u,X(D),v=D}u.stateNode=v}else zk(M,u.type,u.stateNode);else u.stateNode=Uk(M,v,u.memoizedProps);else D!==v?(D===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):D.count--,v===null?zk(M,u.type,u.stateNode):Uk(M,v,u.memoizedProps)):v===null&&u.stateNode!==null&&$r(u,u.memoizedProps,m.memoizedProps)}break;case 27:Xr(c,u),Yr(u),v&512&&(Vi||m===null||gs(m,m.return)),m!==null&&v&4&&$r(u,u.memoizedProps,m.memoizedProps);break;case 5:if(Xr(c,u),Yr(u),v&512&&(Vi||m===null||gs(m,m.return)),u.flags&32){M=u.stateNode;try{Wt(M,"")}catch($t){hi(u,u.return,$t)}}v&4&&u.stateNode!=null&&(M=u.memoizedProps,$r(u,M,m!==null?m.memoizedProps:M)),v&1024&&(Go=!0);break;case 6:if(Xr(c,u),Yr(u),v&4){if(u.stateNode===null)throw Error(i(162));v=u.memoizedProps,m=u.stateNode;try{m.nodeValue=v}catch($t){hi(u,u.return,$t)}}break;case 3:if(VS=null,M=_o,_o=zS(c.containerInfo),Xr(c,u),_o=M,Yr(u),v&4&&m!==null&&m.memoizedState.isDehydrated)try{ng(c.containerInfo)}catch($t){hi(u,u.return,$t)}Go&&(Go=!1,Y0(u));break;case 4:v=_o,_o=zS(u.stateNode.containerInfo),Xr(c,u),Yr(u),_o=v;break;case 12:Xr(c,u),Yr(u);break;case 31:Xr(c,u),Yr(u),v&4&&(v=u.updateQueue,v!==null&&(u.updateQueue=null,gl(u,v)));break;case 13:Xr(c,u),Yr(u),u.child.flags&8192&&u.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Md=H()),v&4&&(v=u.updateQueue,v!==null&&(u.updateQueue=null,gl(u,v)));break;case 22:M=u.memoizedState!==null;var me=m!==null&&m.memoizedState!==null,ke=mo,Ke=Vi;if(mo=ke||M,Vi=Ke||me,Xr(c,u),Vi=Ke,mo=ke,Yr(u),v&8192)e:for(c=u.stateNode,c._visibility=M?c._visibility&-2:c._visibility|1,M&&(m===null||me||mo||Vi||Ou(u)),m=null,c=u;;){if(c.tag===5||c.tag===26){if(m===null){me=m=c;try{if(D=me.stateNode,M)B=D.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{K=me.stateNode;var ut=me.memoizedProps.style,Le=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;K.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch($t){hi(me,me.return,$t)}}}else if(c.tag===6){if(m===null){me=c;try{me.stateNode.nodeValue=M?"":me.memoizedProps}catch($t){hi(me,me.return,$t)}}}else if(c.tag===18){if(m===null){me=c;try{var We=me.stateNode;M?Dk(We,!0):Dk(me.stateNode,!1)}catch($t){hi(me,me.return,$t)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===u)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=u.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,gl(u,m))));break;case 19:Xr(c,u),Yr(u),v&4&&(v=u.updateQueue,v!==null&&(u.updateQueue=null,gl(u,v)));break;case 30:break;case 21:break;default:Xr(c,u),Yr(u)}}function Yr(u){var c=u.flags;if(c&2){try{for(var m,v=u.return;v!==null;){if(Ji(v)){m=v;break}v=v.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var M=m.stateNode,D=$n(u);Vs(u,D,M);break;case 5:var B=m.stateNode;m.flags&32&&(Wt(B,""),m.flags&=-33);var K=$n(u);Vs(u,K,B);break;case 3:case 4:var me=m.stateNode.containerInfo,ke=$n(u);Nu(u,ke,me);break;default:throw Error(i(161))}}catch(Ke){hi(u,u.return,Ke)}u.flags&=-3}c&4096&&(u.flags&=-4097)}function Y0(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var c=u;Y0(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),u=u.sibling}}function yo(u,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)er(u,c.alternate,c),c=c.sibling}function Ou(u){for(u=u.child;u!==null;){var c=u;switch(c.tag){case 0:case 11:case 14:case 15:ms(4,c,c.return),Ou(c);break;case 1:gs(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&is(c,c.return,m),Ou(c);break;case 27:Ev(c.stateNode);case 26:case 5:gs(c,c.return),Ou(c);break;case 22:c.memoizedState===null&&Ou(c);break;case 30:Ou(c);break;default:Ou(c)}u=u.sibling}}function Gs(u,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,M=u,D=c,B=D.flags;switch(D.tag){case 0:case 11:case 15:Gs(M,D,m),po(4,D);break;case 1:if(Gs(M,D,m),v=D,M=v.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(ke){hi(v,v.return,ke)}if(v=D,M=v.updateQueue,M!==null){var K=v.stateNode;try{var me=M.shared.hiddenCallbacks;if(me!==null)for(M.shared.hiddenCallbacks=null,M=0;M<me.length;M++)vd(me[M],K)}catch(ke){hi(v,v.return,ke)}}m&&B&64&&Vo(D),ml(D,D.return);break;case 27:$0(D);case 26:case 5:Gs(M,D,m),m&&v===null&&B&4&&Cp(D),ml(D,D.return);break;case 12:Gs(M,D,m);break;case 31:Gs(M,D,m),m&&B&4&&ec(M,D);break;case 13:Gs(M,D,m),m&&B&4&&Td(M,D);break;case 22:D.memoizedState===null&&Gs(M,D,m),ml(D,D.return);break;case 30:break;default:Gs(M,D,m)}c=c.sibling}}function nc(u,c){var m=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),u=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(u=c.memoizedState.cachePool.pool),u!==m&&(u!=null&&u.refCount++,m!=null&&Xc(m))}function lf(u,c){u=null,c.alternate!==null&&(u=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==u&&(c.refCount++,u!=null&&Xc(u))}function _s(u,c,m,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)yv(u,c,m,v),c=c.sibling}function yv(u,c,m,v){var M=c.flags;switch(c.tag){case 0:case 11:case 15:_s(u,c,m,v),M&2048&&po(9,c);break;case 1:_s(u,c,m,v);break;case 3:_s(u,c,m,v),M&2048&&(u=null,c.alternate!==null&&(u=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==u&&(c.refCount++,u!=null&&Xc(u)));break;case 12:if(M&2048){_s(u,c,m,v),u=c.stateNode;try{var D=c.memoizedProps,B=D.id,K=D.onPostCommit;typeof K=="function"&&K(B,c.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(me){hi(c,c.return,me)}}else _s(u,c,m,v);break;case 31:_s(u,c,m,v);break;case 13:_s(u,c,m,v);break;case 23:break;case 22:D=c.stateNode,B=c.alternate,c.memoizedState!==null?D._visibility&2?_s(u,c,m,v):ku(u,c):D._visibility&2?_s(u,c,m,v):(D._visibility|=2,ys(u,c,m,v,(c.subtreeFlags&10256)!==0||!1)),M&2048&&nc(B,c);break;case 24:_s(u,c,m,v),M&2048&&lf(c.alternate,c);break;default:_s(u,c,m,v)}}function ys(u,c,m,v,M){for(M=M&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var D=u,B=c,K=m,me=v,ke=B.flags;switch(B.tag){case 0:case 11:case 15:ys(D,B,K,me,M),po(8,B);break;case 23:break;case 22:var Ke=B.stateNode;B.memoizedState!==null?Ke._visibility&2?ys(D,B,K,me,M):ku(D,B):(Ke._visibility|=2,ys(D,B,K,me,M)),M&&ke&2048&&nc(B.alternate,B);break;case 24:ys(D,B,K,me,M),M&&ke&2048&&lf(B.alternate,B);break;default:ys(D,B,K,me,M)}c=c.sibling}}function ku(u,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=u,v=c,M=v.flags;switch(v.tag){case 22:ku(m,v),M&2048&&nc(v.alternate,v);break;case 24:ku(m,v),M&2048&&lf(v.alternate,v);break;default:ku(m,v)}c=c.sibling}}var cf=8192;function Na(u,c,m){if(u.subtreeFlags&cf)for(u=u.child;u!==null;)Z0(u,c,m),u=u.sibling}function Z0(u,c,m){switch(u.tag){case 26:Na(u,c,m),u.flags&cf&&u.memoizedState!==null&&Cj(m,_o,u.memoizedState,u.memoizedProps);break;case 5:Na(u,c,m);break;case 3:case 4:var v=_o;_o=zS(u.stateNode.containerInfo),Na(u,c,m),_o=v;break;case 22:u.memoizedState===null&&(v=u.alternate,v!==null&&v.memoizedState!==null?(v=cf,cf=16777216,Na(u,c,m),cf=v):Na(u,c,m));break;default:Na(u,c,m)}}function ff(u){var c=u.alternate;if(c!==null&&(u=c.child,u!==null)){c.child=null;do c=u.sibling,u.sibling=null,u=c;while(u!==null)}}function ic(u){var c=u.deletions;if((u.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];rs=v,br(v,u)}ff(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)oa(u),u=u.sibling}function oa(u){switch(u.tag){case 0:case 11:case 15:ic(u),u.flags&2048&&ms(9,u,u.return);break;case 3:ic(u);break;case 12:ic(u);break;case 22:var c=u.stateNode;u.memoizedState!==null&&c._visibility&2&&(u.return===null||u.return.tag!==13)?(c._visibility&=-3,ua(u)):ic(u);break;default:ic(u)}}function ua(u){var c=u.deletions;if((u.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];rs=v,br(v,u)}ff(u)}for(u=u.child;u!==null;){switch(c=u,c.tag){case 0:case 11:case 15:ms(8,c,c.return),ua(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,ua(c));break;default:ua(c)}u=u.sibling}}function br(u,c){for(;rs!==null;){var m=rs;switch(m.tag){case 0:case 11:case 15:ms(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Xc(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,rs=v;else e:for(m=u;rs!==null;){v=rs;var M=v.sibling,D=v.return;if(Ap(v),v===m){rs=null;break e}if(M!==null){M.return=D,rs=M;break e}rs=D}}}var _l={getCacheForType:function(u){var c=fn(Lr),m=c.data.get(u);return m===void 0&&(m=u(),c.data.set(u,m)),m},cacheSignal:function(){return fn(Lr).controller.signal}},An=typeof WeakMap=="function"?WeakMap:Map,Qt=0,gn=null,Pn=null,Nn=0,ai=0,As=null,vo=!1,Wo=!1,vv=!1,Oa=0,cr=0,Pu=0,rc=0,Dp=0,Ws=0,$i=0,df=null,xr=null,Sr=!1,Md=0,bv=0,Ar=1/0,fr=null,Dr=null,Ii=0,ka=null,Cd=null,bo=0,Ad=0,Dd=null,Rp=null,sc=0,hf=null;function Pa(){return(Qt&2)!==0&&Nn!==0?Nn&-Nn:W.T!==null?ze():un()}function Gn(){if(Ws===0)if((Nn&536870912)===0||ti){var u=rt;rt<<=1,(rt&3932160)===0&&(rt=262144),Ws=u}else Ws=536870912;return u=ia.current,u!==null&&(u.flags|=32),Ws}function Ln(u,c,m){(u===gn&&(ai===2||ai===9)||u.cancelPendingCommit!==null)&&(oc(u,0),Ur(u,Nn,Ws,!1)),ht(u,m),((Qt&2)===0||u!==gn)&&(u===gn&&((Qt&2)===0&&(rc|=m),cr===4&&Ur(u,Nn,Ws,!1)),mt(u))}function Wn(u,c,m){if((Qt&6)!==0)throw Error(i(327));var v=!m&&(c&127)===0&&(c&u.expiredLanes)===0||le(u,c),M=v?Ip(u,c):js(u,c,!0),D=v;do{if(M===0){Wo&&!v&&Ur(u,c,0,!1);break}else{if(m=u.current.alternate,D&&!Ni(m)){M=js(u,c,!1),D=!1;continue}if(M===2){if(D=c,u.errorRecoveryDisabledLanes&D)var B=0;else B=u.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){c=B;e:{var K=u;M=df;var me=K.current.memoizedState.isDehydrated;if(me&&(oc(K,B).flags|=256),B=js(K,B,!1),B!==2){if(vv&&!me){K.errorRecoveryDisabledLanes|=D,rc|=D,M=4;break e}D=xr,xr=M,D!==null&&(xr===null?xr=D:xr.push.apply(xr,D))}M=B}if(D=!1,M!==2)continue}}if(M===1){oc(u,0),Ur(u,c,0,!0);break}e:{switch(v=u,D=M,D){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:Ur(v,c,Ws,!vo);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(M=Md+300-H(),10<M)){if(Ur(v,c,Ws,!vo),J(v,0,!0)!==0)break e;bo=c,v.timeoutHandle=Mk(Xn.bind(null,v,m,xr,fr,Sr,c,Ws,rc,$i,vo,D,"Throttled",-0,0),M);break e}Xn(v,m,xr,fr,Sr,c,Ws,rc,$i,vo,D,null,-0,0)}}break}while(!0);mt(u)}function Xn(u,c,m,v,M,D,B,K,me,ke,Ke,ut,Le,We){if(u.timeoutHandle=-1,ut=c.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt},Z0(c,D,ut);var $t=(D&62914560)===D?Md-H():(D&4194048)===D?bv-H():0;if($t=Aj(ut,$t),$t!==null){bo=D,u.cancelPendingCommit=$t(vl.bind(null,u,c,D,m,v,M,B,K,me,Ke,ut,null,Le,We)),Ur(u,D,B,!ke);return}}vl(u,c,D,m,v,M,B,K,me)}function Ni(u){for(var c=u;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var M=m[v],D=M.getSnapshot;M=M.value;try{if(!Us(D(),M))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Ur(u,c,m,v){c&=~Dp,c&=~rc,u.suspendedLanes|=c,u.pingedLanes&=~c,v&&(u.warmLanes|=c),v=u.expirationTimes;for(var M=c;0<M;){var D=31-_t(M),B=1<<D;v[D]=-1,M&=~B}m!==0&&Ne(u,m,c)}function jo(){return(Qt&6)===0?(zt(0),!1):!0}function ac(){if(Pn!==null){if(ai===0)var u=Pn.return;else u=Pn,Tu=ql=null,Gy(u),Jc=null,ef=0,u=Pn;for(;u!==null;)Ia(u.alternate,u),u=u.return;Pn=null}}function oc(u,c){var m=u.timeoutHandle;m!==-1&&(u.timeoutHandle=-1,cj(m)),m=u.cancelPendingCommit,m!==null&&(u.cancelPendingCommit=null,m()),bo=0,ac(),gn=u,Pn=m=ea(u.current,null),Nn=c,ai=0,As=null,vo=!1,Wo=le(u,c),vv=!1,$i=Ws=Dp=rc=Pu=cr=0,xr=df=null,Sr=!1,(c&8)!==0&&(c|=c&32);var v=u.entangledLanes;if(v!==0)for(u=u.entanglements,v&=c;0<v;){var M=31-_t(v),D=1<<M;c|=u[M],v&=~D}return Oa=c,cp(),m}function Lu(u,c){Cn=null,W.H=Ed,c===Yc||c===kn?(c=Kc(),ai=3):c===pp?(c=Kc(),ai=4):ai=c===U0?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,As=c,Pn===null&&(cr=1,F0(u,Ca(c,u.current)))}function dr(){var u=ia.current;return u===null?!0:(Nn&4194048)===Nn?Hs===null:(Nn&62914560)===Nn||(Nn&536870912)!==0?u===Hs:!1}function yl(){var u=W.H;return W.H=Ed,u===null?Ed:u}function uc(){var u=W.A;return W.A=_l,u}function Rd(){cr=4,vo||(Nn&4194048)!==Nn&&ia.current!==null||(Wo=!0),(Pu&134217727)===0&&(rc&134217727)===0||gn===null||Ur(gn,Nn,Ws,!1)}function js(u,c,m){var v=Qt;Qt|=2;var M=yl(),D=uc();(gn!==u||Nn!==c)&&(fr=null,oc(u,c)),c=!1;var B=cr;e:do try{if(ai!==0&&Pn!==null){var K=Pn,me=As;switch(ai){case 8:ac(),B=6;break e;case 3:case 2:case 9:case 6:ia.current===null&&(c=!0);var ke=ai;if(ai=0,As=null,pf(u,K,me,ke),m&&Wo){B=0;break e}break;default:ke=ai,ai=0,As=null,pf(u,K,me,ke)}}Id(),B=cr;break}catch(Ke){Lu(u,Ke)}while(!0);return c&&u.shellSuspendCounter++,Tu=ql=null,Qt=v,W.H=M,W.A=D,Pn===null&&(gn=null,Nn=0,cp()),B}function Id(){for(;Pn!==null;)K0(Pn)}function Ip(u,c){var m=Qt;Qt|=2;var v=yl(),M=uc();gn!==u||Nn!==c?(fr=null,Ar=H()+500,oc(u,c)):Wo=le(u,c);e:do try{if(ai!==0&&Pn!==null){c=Pn;var D=As;t:switch(ai){case 1:ai=0,As=null,pf(u,c,D,1);break;case 2:case 9:if(na(D)){ai=0,As=null,Np(c);break}c=function(){ai!==2&&ai!==9||gn!==u||(ai=7),mt(u)},D.then(c,c);break e;case 3:ai=7;break e;case 4:ai=5;break e;case 7:na(D)?(ai=0,As=null,Np(c)):(ai=0,As=null,pf(u,c,D,7));break;case 5:var B=null;switch(Pn.tag){case 26:B=Pn.memoizedState;case 5:case 27:var K=Pn;if(B?Hk(B):K.stateNode.complete){ai=0,As=null;var me=K.sibling;if(me!==null)Pn=me;else{var ke=K.return;ke!==null?(Pn=ke,lc(ke)):Pn=null}break t}}ai=0,As=null,pf(u,c,D,5);break;case 6:ai=0,As=null,pf(u,c,D,6);break;case 8:ac(),cr=6;break e;default:throw Error(i(462))}}la();break}catch(Ke){Lu(u,Ke)}while(!0);return Tu=ql=null,W.H=v,W.A=M,Qt=m,Pn!==null?0:(gn=null,Nn=0,cp(),cr)}function la(){for(;Pn!==null&&!Be();)K0(Pn)}function K0(u){var c=q0(u.alternate,u,Oa);u.memoizedProps=u.pendingProps,c===null?lc(u):Pn=c}function Np(u){var c=u,m=c.alternate;switch(c.tag){case 15:case 0:c=Ep(m,c,c.pendingProps,c.type,void 0,Nn);break;case 11:c=Ep(m,c,c.pendingProps,c.type.render,c.ref,Nn);break;case 5:Gy(c);default:Ia(m,c),c=Pn=ld(c,Oa),c=q0(m,c,Oa)}u.memoizedProps=u.pendingProps,c===null?lc(u):Pn=c}function pf(u,c,m,v){Tu=ql=null,Gy(c),Jc=null,ef=0;var M=c.return;try{if(qr(u,M,c,m,Nn)){cr=1,F0(u,Ca(m,u.current)),Pn=null;return}}catch(D){if(M!==null)throw Pn=M,D;cr=1,F0(u,Ca(m,u.current)),Pn=null;return}c.flags&32768?(ti||v===1?u=!0:Wo||(Nn&536870912)!==0?u=!1:(vo=u=!0,(v===2||v===9||v===3||v===6)&&(v=ia.current,v!==null&&v.tag===13&&(v.flags|=16384))),Op(c,u)):lc(c)}function lc(u){var c=u;do{if((c.flags&32768)!==0){Op(c,vo);return}u=c.return;var m=Mp(c.alternate,c,Oa);if(m!==null){Pn=m;return}if(c=c.sibling,c!==null){Pn=c;return}Pn=c=u}while(c!==null);cr===0&&(cr=5)}function Op(u,c){do{var m=ho(u.alternate,u);if(m!==null){m.flags&=32767,Pn=m;return}if(m=u.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(u=u.sibling,u!==null)){Pn=u;return}Pn=u=m}while(u!==null);cr=6,Pn=null}function vl(u,c,m,v,M,D,B,K,me){u.cancelPendingCommit=null;do Nd();while(Ii!==0);if((Qt&6)!==0)throw Error(i(327));if(c!==null){if(c===u.current)throw Error(i(177));if(D=c.lanes|c.childLanes,D|=es,Qe(u,m,D,B,K,me),u===gn&&(Pn=gn=null,Nn=0),Cd=c,ka=u,bo=m,Ad=D,Dd=M,Rp=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,I(Ie,function(){return Q0(),null})):(u.callbackNode=null,u.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=W.T,W.T=null,M=q.p,q.p=2,B=Qt,Qt|=4;try{IA(u,c,m)}finally{Qt=B,q.p=M,W.T=v}}Ii=1,Br(),bl(),mf()}}function Br(){if(Ii===1){Ii=0;var u=ka,c=Cd,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=W.T,W.T=null;var v=q.p;q.p=2;var M=Qt;Qt|=4;try{tc(c,u);var D=UA,B=U1(u.containerInfo),K=D.focusedElem,me=D.selectionRange;if(B!==K&&K&&K.ownerDocument&&zi(K.ownerDocument.documentElement,K)){if(me!==null&&Ty(K)){var ke=me.start,Ke=me.end;if(Ke===void 0&&(Ke=ke),"selectionStart"in K)K.selectionStart=ke,K.selectionEnd=Math.min(Ke,K.value.length);else{var ut=K.ownerDocument||document,Le=ut&&ut.defaultView||window;if(Le.getSelection){var We=Le.getSelection(),$t=K.textContent.length,cn=Math.min(me.start,$t),Wi=me.end===void 0?cn:Math.min(me.end,$t);!We.extend&&cn>Wi&&(B=Wi,Wi=cn,cn=B);var Ee=ad(K,cn),be=ad(K,Wi);if(Ee&&be&&(We.rangeCount!==1||We.anchorNode!==Ee.node||We.anchorOffset!==Ee.offset||We.focusNode!==be.node||We.focusOffset!==be.offset)){var Oe=ut.createRange();Oe.setStart(Ee.node,Ee.offset),We.removeAllRanges(),cn>Wi?(We.addRange(Oe),We.extend(be.node,be.offset)):(Oe.setEnd(be.node,be.offset),We.addRange(Oe))}}}}for(ut=[],We=K;We=We.parentNode;)We.nodeType===1&&ut.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<ut.length;K++){var it=ut[K];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}qS=!!FA,UA=FA=null}finally{Qt=M,q.p=v,W.T=m}}u.current=c,Ii=2}}function bl(){if(Ii===2){Ii=0;var u=ka,c=Cd,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=W.T,W.T=null;var v=q.p;q.p=2;var M=Qt;Qt|=4;try{er(u,c.alternate,c)}finally{Qt=M,q.p=v,W.T=m}}Ii=3}}function mf(){if(Ii===4||Ii===3){Ii=0,Q();var u=ka,c=Cd,m=bo,v=Rp;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ii=5:(Ii=0,Cd=ka=null,Fu(u,u.pendingLanes));var M=u.pendingLanes;if(M===0&&(Dr=null),Mn(m),c=c.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Je,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=W.T,M=q.p,q.p=2,W.T=null;try{for(var D=u.onRecoverableError,B=0;B<v.length;B++){var K=v[B];D(K.value,{componentStack:K.stack})}}finally{W.T=c,q.p=M}}(bo&3)!==0&&Nd(),mt(u),M=u.pendingLanes,(m&261930)!==0&&(M&42)!==0?u===hf?sc++:(sc=0,hf=u):sc=0,zt(0)}}function Fu(u,c){(u.pooledCacheLanes&=c)===0&&(c=u.pooledCache,c!=null&&(u.pooledCache=null,Xc(c)))}function Nd(){return Br(),bl(),mf(),Q0()}function Q0(){if(Ii!==5)return!1;var u=ka,c=Ad;Ad=0;var m=Mn(bo),v=W.T,M=q.p;try{q.p=32>m?32:m,W.T=null,m=Dd,Dd=null;var D=ka,B=bo;if(Ii=0,Cd=ka=null,bo=0,(Qt&6)!==0)throw Error(i(331));var K=Qt;if(Qt|=4,oa(D.current),yv(D,D.current,B,m),Qt=K,zt(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Je,D)}catch{}return!0}finally{q.p=M,W.T=v,Fu(u,c)}}function xv(u,c,m){c=Ca(m,c),c=fv(u.stateNode,c,2),u=Yl(u,c,2),u!==null&&(ht(u,2),mt(u))}function hi(u,c,m){if(u.tag===3)xv(u,u,m);else for(;c!==null;){if(c.tag===3){xv(c,u,m);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Dr===null||!Dr.has(v))){u=Ca(m,u),m=dv(2),v=Yl(c,m,2),v!==null&&(IS(m,v,c,u),ht(v,2),mt(v));break}}c=c.return}}function kp(u,c,m){var v=u.pingCache;if(v===null){v=u.pingCache=new An;var M=new Set;v.set(c,M)}else M=v.get(c),M===void 0&&(M=new Set,v.set(c,M));M.has(m)||(vv=!0,M.add(m),u=d.bind(null,u,c,m),c.then(u,u))}function d(u,c,m){var v=u.pingCache;v!==null&&v.delete(c),u.pingedLanes|=u.suspendedLanes&m,u.warmLanes&=~m,gn===u&&(Nn&m)===m&&(cr===4||cr===3&&(Nn&62914560)===Nn&&300>H()-Md?(Qt&2)===0&&oc(u,0):Dp|=m,$i===Nn&&($i=0)),mt(u)}function h(u,c){c===0&&(c=et()),u=Bs(u,c),u!==null&&(ht(u,c),mt(u))}function b(u){var c=u.memoizedState,m=0;c!==null&&(m=c.retryLane),h(u,m)}function T(u,c){var m=0;switch(u.tag){case 31:case 13:var v=u.stateNode,M=u.memoizedState;M!==null&&(m=M.retryLane);break;case 19:v=u.stateNode;break;case 22:v=u.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(c),h(u,m)}function I(u,c){return $e(u,c)}var L=null,Y=null,_e=!1,Ge=!1,ct=!1,Mt=0;function mt(u){u!==Y&&u.next===null&&(Y===null?L=Y=u:Y=Y.next=u),Ge=!0,_e||(_e=!0,Me())}function zt(u,c){if(!ct&&Ge){ct=!0;do for(var m=!1,v=L;v!==null;){if(u!==0){var M=v.pendingLanes;if(M===0)var D=0;else{var B=v.suspendedLanes,K=v.pingedLanes;D=(1<<31-_t(42|u)+1)-1,D&=M&~(B&~K),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(m=!0,Pe(v,D))}else D=Nn,D=J(v,v===gn?D:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(D&3)===0||le(v,D)||(m=!0,Pe(v,D));v=v.next}while(m);ct=!1}}function wn(){Rr()}function Rr(){Ge=_e=!1;var u=0;Mt!==0&&lj()&&(u=Mt);for(var c=H(),m=null,v=L;v!==null;){var M=v.next,D=Od(v,c);D===0?(v.next=null,m===null?L=M:m.next=M,M===null&&(Y=m)):(m=v,(u!==0||(D&3)!==0)&&(Ge=!0)),v=M}Ii!==0&&Ii!==5||zt(u),Mt!==0&&(Mt=0)}function Od(u,c){for(var m=u.suspendedLanes,v=u.pingedLanes,M=u.expirationTimes,D=u.pendingLanes&-62914561;0<D;){var B=31-_t(D),K=1<<B,me=M[B];me===-1?((K&m)===0||(K&v)!==0)&&(M[B]=xe(K,c)):me<=c&&(u.expiredLanes|=K),D&=~K}if(c=gn,m=Nn,m=J(u,u===c?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),v=u.callbackNode,m===0||u===c&&(ai===2||ai===9)||u.cancelPendingCommit!==null)return v!==null&&v!==null&&dt(v),u.callbackNode=null,u.callbackPriority=0;if((m&3)===0||le(u,m)){if(c=m&-m,c===u.callbackPriority)return c;switch(v!==null&&dt(v),Mn(m)){case 2:case 8:m=Re;break;case 32:m=Ie;break;case 268435456:m=lt;break;default:m=Ie}return v=cc.bind(null,u),m=$e(m,v),u.callbackPriority=c,u.callbackNode=m,c}return v!==null&&v!==null&&dt(v),u.callbackPriority=2,u.callbackNode=null,2}function cc(u,c){if(Ii!==0&&Ii!==5)return u.callbackNode=null,u.callbackPriority=0,null;var m=u.callbackNode;if(Nd()&&u.callbackNode!==m)return null;var v=Nn;return v=J(u,u===gn?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),v===0?null:(Wn(u,v,c),Od(u,H()),u.callbackNode!=null&&u.callbackNode===m?cc.bind(null,u):null)}function Pe(u,c){if(Nd())return null;Wn(u,c,!0)}function Me(){fj(function(){(Qt&6)!==0?$e(we,wn):Rr()})}function ze(){if(Mt===0){var u=ll;u===0&&(u=yt,yt<<=1,(yt&261888)===0&&(yt=256)),Mt=u}return Mt}function wt(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:il(""+u)}function an(u,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,u.id&&m.setAttribute("form",u.id),c.parentNode.insertBefore(m,c),u=new FormData(u),m.parentNode.removeChild(m),u}function hr(u,c,m,v,M){if(c==="submit"&&m&&m.stateNode===M){var D=wt((M[Jt]||null).action),B=v.submitter;B&&(c=(c=B[Jt]||null)?wt(c.formAction):B.getAttribute("formAction"),c!==null&&(D=c,B=null));var K=new Jh("action","action",null,v,M);u.push({event:K,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Mt!==0){var me=B?an(M,B):new FormData(M);iv(m,{pending:!0,data:me,method:M.method,action:D},null,me)}}else typeof D=="function"&&(K.preventDefault(),me=B?an(M,B):new FormData(M),iv(m,{pending:!0,data:me,method:M.method,action:D},D,me))},currentTarget:M}]})}}for(var ln=0;ln<up.length;ln++){var li=up[ln],ss=li.toLowerCase(),gi=li[0].toUpperCase()+li.slice(1);so(ss,"on"+gi)}so(f0,"onAnimationEnd"),so(op,"onAnimationIteration"),so(Cy,"onAnimationStart"),so("dblclick","onDoubleClick"),so("focusin","onFocus"),so("focusout","onBlur"),so(z1,"onTransitionRun"),so(EA,"onTransitionStart"),so(H1,"onTransitionCancel"),so(Ay,"onTransitionEnd"),ae("onMouseEnter",["mouseout","mouseover"]),ae("onMouseLeave",["mouseout","mouseover"]),ae("onPointerEnter",["pointerout","pointerover"]),ae("onPointerLeave",["pointerout","pointerover"]),Ce("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ce("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ce("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ce("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ce("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ce("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function yk(u,c){c=(c&4)!==0;for(var m=0;m<u.length;m++){var v=u[m],M=v.event;v=v.listeners;e:{var D=void 0;if(c)for(var B=v.length-1;0<=B;B--){var K=v[B],me=K.instance,ke=K.currentTarget;if(K=K.listener,me!==D&&M.isPropagationStopped())break e;D=K,M.currentTarget=ke;try{D(M)}catch(Ke){lp(Ke)}M.currentTarget=null,D=me}else for(B=0;B<v.length;B++){if(K=v[B],me=K.instance,ke=K.currentTarget,K=K.listener,me!==D&&M.isPropagationStopped())break e;D=K,M.currentTarget=ke;try{D(M)}catch(Ke){lp(Ke)}M.currentTarget=null,D=me}}}}function oi(u,c){var m=c[Ei];m===void 0&&(m=c[Ei]=new Set);var v=u+"__bubble";m.has(v)||(vk(c,u,2,!1),m.add(v))}function OA(u,c,m){var v=0;c&&(v|=4),vk(m,u,v,c)}var FS="_reactListening"+Math.random().toString(36).slice(2);function kA(u){if(!u[FS]){u[FS]=!0,ye.forEach(function(m){m!=="selectionchange"&&(NA.has(m)||OA(m,!1,u),OA(m,!0,u))});var c=u.nodeType===9?u:u.ownerDocument;c===null||c[FS]||(c[FS]=!0,OA("selectionchange",!1,c))}}function vk(u,c,m,v){switch(Xk(c)){case 2:var M=Ij;break;case 8:M=Nj;break;default:M=YA}m=M.bind(null,c,m,u),M=void 0,!ly||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(M=!0),v?M!==void 0?u.addEventListener(c,m,{capture:!0,passive:M}):u.addEventListener(c,m,!0):M!==void 0?u.addEventListener(c,m,{passive:M}):u.addEventListener(c,m,!1)}function PA(u,c,m,v,M){var D=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var B=v.tag;if(B===3||B===4){var K=v.stateNode.containerInfo;if(K===M)break;if(B===4)for(B=v.return;B!==null;){var me=B.tag;if((me===3||me===4)&&B.stateNode.containerInfo===M)return;B=B.return}for(;K!==null;){if(B=Ze(K),B===null)return;if(me=B.tag,me===5||me===6||me===26||me===27){v=D=B;continue e}K=K.parentNode}}v=v.return}Zh(function(){var ke=D,Ke=Sn(m),ut=[];e:{var Le=ro.get(u);if(Le!==void 0){var We=Jh,$t=u;switch(u){case"keypress":if(Qh(m)===0)break e;case"keydown":case"keyup":We=Gc;break;case"focusin":$t="focus",We=n0;break;case"focusout":$t="blur",We=n0;break;case"beforeblur":case"afterblur":We=n0;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=b1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=M1;break;case f0:case op:case Cy:We=bA;break;case Ay:We=SA;break;case"scroll":case"scrollend":We=y1;break;case"wheel":We=A1;break;case"copy":case"cut":case"paste":We=S1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=hy;break;case"toggle":case"beforetoggle":We=R1}var cn=(c&4)!==0,Wi=!cn&&(u==="scroll"||u==="scrollend"),Ee=cn?Le!==null?Le+"Capture":null:Le;cn=[];for(var be=ke,Oe;be!==null;){var it=be;if(Oe=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Oe===null||Ee===null||(it=Kf(be,Ee),it!=null&&cn.push(Sv(be,it,Oe))),Wi)break;be=be.return}0<cn.length&&(Le=new We(Le,$t,null,m,Ke),ut.push({event:Le,listeners:cn}))}}if((c&7)===0){e:{if(Le=u==="mouseover"||u==="pointerover",We=u==="mouseout"||u==="pointerout",Le&&m!==Yt&&($t=m.relatedTarget||m.fromElement)&&(Ze($t)||$t[pn]))break e;if((We||Le)&&(Le=Ke.window===Ke?Ke:(Le=Ke.ownerDocument)?Le.defaultView||Le.parentWindow:window,We?($t=m.relatedTarget||m.toElement,We=ke,$t=$t?Ze($t):null,$t!==null&&(Wi=s($t),cn=$t.tag,$t!==Wi||cn!==5&&cn!==27&&cn!==6)&&($t=null)):(We=null,$t=ke),We!==$t)){if(cn=cy,it="onMouseLeave",Ee="onMouseEnter",be="mouse",(u==="pointerout"||u==="pointerover")&&(cn=hy,it="onPointerLeave",Ee="onPointerEnter",be="pointer"),Wi=We==null?Le:In(We),Oe=$t==null?Le:In($t),Le=new cn(it,be+"leave",We,m,Ke),Le.target=Wi,Le.relatedTarget=Oe,it=null,Ze(Ke)===ke&&(cn=new cn(Ee,be+"enter",$t,m,Ke),cn.target=Oe,cn.relatedTarget=Wi,it=cn),Wi=it,We&&$t)t:{for(cn=rj,Ee=We,be=$t,Oe=0,it=Ee;it;it=cn(it))Oe++;it=0;for(var rn=be;rn;rn=cn(rn))it++;for(;0<Oe-it;)Ee=cn(Ee),Oe--;for(;0<it-Oe;)be=cn(be),it--;for(;Oe--;){if(Ee===be||be!==null&&Ee===be.alternate){cn=Ee;break t}Ee=cn(Ee),be=cn(be)}cn=null}else cn=null;We!==null&&bk(ut,Le,We,cn,!1),$t!==null&&Wi!==null&&bk(ut,Wi,$t,cn,!0)}}e:{if(Le=ke?In(ke):window,We=Le.nodeName&&Le.nodeName.toLowerCase(),We==="select"||We==="input"&&Le.type==="file")var Ti=by;else if(vy(Le))if(_u)Ti=F1;else{Ti=Ey;var Kt=P1}else We=Le.nodeName,!We||We.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?ke&&hs(ke.elementType)&&(Ti=by):Ti=L1;if(Ti&&(Ti=Ti(u,ke))){l0(ut,Ti,m,Ke);break e}Kt&&Kt(u,Le,ke),u==="focusout"&&ke&&Le.type==="number"&&ke.memoizedProps.value!=null&&Oi(Le,"number",Le.value)}switch(Kt=ke?In(ke):window,u){case"focusin":(vy(Kt)||Kt.contentEditable==="true")&&(yu=Kt,vu=ke,od=null);break;case"focusout":od=vu=yu=null;break;case"mousedown":c0=!0;break;case"contextmenu":case"mouseup":case"dragend":c0=!1,ud(ut,m,Ke);break;case"selectionchange":if(B1)break;case"keydown":case"keyup":ud(ut,m,Ke)}var zn;if(Wc)e:{switch(u){case"compositionstart":var ci="onCompositionStart";break e;case"compositionend":ci="onCompositionEnd";break e;case"compositionupdate":ci="onCompositionUpdate";break e}ci=void 0}else jc?u0(u,m)&&(ci="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(ci="onCompositionStart");ci&&(my&&m.locale!=="ko"&&(jc||ci!=="onCompositionStart"?ci==="onCompositionEnd"&&jc&&(zn=Kh()):(Ma=Ke,e0="value"in Ma?Ma.value:Ma.textContent,jc=!0)),Kt=US(ke,ci),0<Kt.length&&(ci=new i0(ci,u,null,m,Ke),ut.push({event:ci,listeners:Kt}),zn?ci.data=zn:(zn=gy(m),zn!==null&&(ci.data=zn)))),(zn=o0?O1(u,m):_y(u,m))&&(ci=US(ke,"onBeforeInput"),0<ci.length&&(Kt=new i0("onBeforeInput","beforeinput",null,m,Ke),ut.push({event:Kt,listeners:ci}),Kt.data=zn)),hr(ut,u,ke,m,Ke)}yk(ut,c)})}function Sv(u,c,m){return{instance:u,listener:c,currentTarget:m}}function US(u,c){for(var m=c+"Capture",v=[];u!==null;){var M=u,D=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||D===null||(M=Kf(u,m),M!=null&&v.unshift(Sv(u,M,D)),M=Kf(u,c),M!=null&&v.push(Sv(u,M,D))),u.tag===3)return v;u=u.return}return[]}function rj(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function bk(u,c,m,v,M){for(var D=c._reactName,B=[];m!==null&&m!==v;){var K=m,me=K.alternate,ke=K.stateNode;if(K=K.tag,me!==null&&me===v)break;K!==5&&K!==26&&K!==27||ke===null||(me=ke,M?(ke=Kf(m,D),ke!=null&&B.unshift(Sv(m,ke,me))):M||(ke=Kf(m,D),ke!=null&&B.push(Sv(m,ke,me)))),m=m.return}B.length!==0&&u.push({event:c,listeners:B})}var sj=/\r\n?/g,aj=/\u0000|\uFFFD/g;function xk(u){return(typeof u=="string"?u:""+u).replace(sj,`
`).replace(aj,"")}function Sk(u,c){return c=xk(c),xk(u)===c}function Gi(u,c,m,v,M,D){switch(m){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Wt(u,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Wt(u,""+v);break;case"className":qt(u,"class",v);break;case"tabIndex":qt(u,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":qt(u,m,v);break;case"style":ui(u,v,D);break;case"data":if(c!=="object"){qt(u,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||m!=="href")){u.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){u.removeAttribute(m);break}v=il(""+v),u.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){u.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(m==="formAction"?(c!=="input"&&Gi(u,c,"name",M.name,M,null),Gi(u,c,"formEncType",M.formEncType,M,null),Gi(u,c,"formMethod",M.formMethod,M,null),Gi(u,c,"formTarget",M.formTarget,M,null)):(Gi(u,c,"encType",M.encType,M,null),Gi(u,c,"method",M.method,M,null),Gi(u,c,"target",M.target,M,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){u.removeAttribute(m);break}v=il(""+v),u.setAttribute(m,v);break;case"onClick":v!=null&&(u.onclick=Rt);break;case"onScroll":v!=null&&oi("scroll",u);break;case"onScrollEnd":v!=null&&oi("scrollend",u);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(m=v.__html,m!=null){if(M.children!=null)throw Error(i(60));u.innerHTML=m}}break;case"multiple":u.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":u.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){u.removeAttribute("xlink:href");break}m=il(""+v),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?u.setAttribute(m,""+v):u.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?u.setAttribute(m,""):u.removeAttribute(m);break;case"capture":case"download":v===!0?u.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?u.setAttribute(m,v):u.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?u.setAttribute(m,v):u.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?u.removeAttribute(m):u.setAttribute(m,v);break;case"popover":oi("beforetoggle",u),oi("toggle",u),Ft(u,"popover",v);break;case"xlinkActuate":Ht(u,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Ht(u,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Ht(u,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Ht(u,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Ht(u,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Ht(u,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Ht(u,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Ht(u,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Ht(u,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Ft(u,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=mu.get(m)||m,Ft(u,m,v))}}function LA(u,c,m,v,M,D){switch(m){case"style":ui(u,v,D);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(m=v.__html,m!=null){if(M.children!=null)throw Error(i(60));u.innerHTML=m}}break;case"children":typeof v=="string"?Wt(u,v):(typeof v=="number"||typeof v=="bigint")&&Wt(u,""+v);break;case"onScroll":v!=null&&oi("scroll",u);break;case"onScrollEnd":v!=null&&oi("scrollend",u);break;case"onClick":v!=null&&(u.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!De.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(M=m.endsWith("Capture"),c=m.slice(2,M?m.length-7:void 0),D=u[Jt]||null,D=D!=null?D[m]:null,typeof D=="function"&&u.removeEventListener(c,D,M),typeof v=="function")){typeof D!="function"&&D!==null&&(m in u?u[m]=null:u.hasAttribute(m)&&u.removeAttribute(m)),u.addEventListener(c,v,M);break e}m in u?u[m]=v:v===!0?u.setAttribute(m,""):Ft(u,m,v)}}}function qs(u,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oi("error",u),oi("load",u);var v=!1,M=!1,D;for(D in m)if(m.hasOwnProperty(D)){var B=m[D];if(B!=null)switch(D){case"src":v=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Gi(u,c,D,B,m,null)}}M&&Gi(u,c,"srcSet",m.srcSet,m,null),v&&Gi(u,c,"src",m.src,m,null);return;case"input":oi("invalid",u);var K=D=B=M=null,me=null,ke=null;for(v in m)if(m.hasOwnProperty(v)){var Ke=m[v];if(Ke!=null)switch(v){case"name":M=Ke;break;case"type":B=Ke;break;case"checked":me=Ke;break;case"defaultChecked":ke=Ke;break;case"value":D=Ke;break;case"defaultValue":K=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(i(137,c));break;default:Gi(u,c,v,Ke,m,null)}}ws(u,D,K,me,ke,B,M,!1);return;case"select":oi("invalid",u),v=B=D=null;for(M in m)if(m.hasOwnProperty(M)&&(K=m[M],K!=null))switch(M){case"value":D=K;break;case"defaultValue":B=K;break;case"multiple":v=K;default:Gi(u,c,M,K,m,null)}c=D,m=B,u.multiple=!!v,c!=null?Bi(u,!!v,c,!1):m!=null&&Bi(u,!!v,m,!0);return;case"textarea":oi("invalid",u),D=M=v=null;for(B in m)if(m.hasOwnProperty(B)&&(K=m[B],K!=null))switch(B){case"value":v=K;break;case"defaultValue":M=K;break;case"children":D=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(91));break;default:Gi(u,c,B,K,m,null)}ar(u,v,M,D);return;case"option":for(me in m)m.hasOwnProperty(me)&&(v=m[me],v!=null)&&(me==="selected"?u.selected=v&&typeof v!="function"&&typeof v!="symbol":Gi(u,c,me,v,m,null));return;case"dialog":oi("beforetoggle",u),oi("toggle",u),oi("cancel",u),oi("close",u);break;case"iframe":case"object":oi("load",u);break;case"video":case"audio":for(v=0;v<xo.length;v++)oi(xo[v],u);break;case"image":oi("error",u),oi("load",u);break;case"details":oi("toggle",u);break;case"embed":case"source":case"link":oi("error",u),oi("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in m)if(m.hasOwnProperty(ke)&&(v=m[ke],v!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Gi(u,c,ke,v,m,null)}return;default:if(hs(c)){for(Ke in m)m.hasOwnProperty(Ke)&&(v=m[Ke],v!==void 0&&LA(u,c,Ke,v,m,void 0));return}}for(K in m)m.hasOwnProperty(K)&&(v=m[K],v!=null&&Gi(u,c,K,v,m,null))}function oj(u,c,m,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,D=null,B=null,K=null,me=null,ke=null,Ke=null;for(We in m){var ut=m[We];if(m.hasOwnProperty(We)&&ut!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":me=ut;default:v.hasOwnProperty(We)||Gi(u,c,We,null,v,ut)}}for(var Le in v){var We=v[Le];if(ut=m[Le],v.hasOwnProperty(Le)&&(We!=null||ut!=null))switch(Le){case"type":D=We;break;case"name":M=We;break;case"checked":ke=We;break;case"defaultChecked":Ke=We;break;case"value":B=We;break;case"defaultValue":K=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,c));break;default:We!==ut&&Gi(u,c,Le,We,v,ut)}}yr(u,B,K,me,ke,Ke,D,M);return;case"select":We=B=K=Le=null;for(D in m)if(me=m[D],m.hasOwnProperty(D)&&me!=null)switch(D){case"value":break;case"multiple":We=me;default:v.hasOwnProperty(D)||Gi(u,c,D,null,v,me)}for(M in v)if(D=v[M],me=m[M],v.hasOwnProperty(M)&&(D!=null||me!=null))switch(M){case"value":Le=D;break;case"defaultValue":K=D;break;case"multiple":B=D;default:D!==me&&Gi(u,c,M,D,v,me)}c=K,m=B,v=We,Le!=null?Bi(u,!!m,Le,!1):!!v!=!!m&&(c!=null?Bi(u,!!m,c,!0):Bi(u,!!m,m?[]:"",!1));return;case"textarea":We=Le=null;for(K in m)if(M=m[K],m.hasOwnProperty(K)&&M!=null&&!v.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Gi(u,c,K,null,v,M)}for(B in v)if(M=v[B],D=m[B],v.hasOwnProperty(B)&&(M!=null||D!=null))switch(B){case"value":Le=M;break;case"defaultValue":We=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:M!==D&&Gi(u,c,B,M,v,D)}di(u,Le,We);return;case"option":for(var $t in m)Le=m[$t],m.hasOwnProperty($t)&&Le!=null&&!v.hasOwnProperty($t)&&($t==="selected"?u.selected=!1:Gi(u,c,$t,null,v,Le));for(me in v)Le=v[me],We=m[me],v.hasOwnProperty(me)&&Le!==We&&(Le!=null||We!=null)&&(me==="selected"?u.selected=Le&&typeof Le!="function"&&typeof Le!="symbol":Gi(u,c,me,Le,v,We));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var cn in m)Le=m[cn],m.hasOwnProperty(cn)&&Le!=null&&!v.hasOwnProperty(cn)&&Gi(u,c,cn,null,v,Le);for(ke in v)if(Le=v[ke],We=m[ke],v.hasOwnProperty(ke)&&Le!==We&&(Le!=null||We!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(i(137,c));break;default:Gi(u,c,ke,Le,v,We)}return;default:if(hs(c)){for(var Wi in m)Le=m[Wi],m.hasOwnProperty(Wi)&&Le!==void 0&&!v.hasOwnProperty(Wi)&&LA(u,c,Wi,void 0,v,Le);for(Ke in v)Le=v[Ke],We=m[Ke],!v.hasOwnProperty(Ke)||Le===We||Le===void 0&&We===void 0||LA(u,c,Ke,Le,v,We);return}}for(var Ee in m)Le=m[Ee],m.hasOwnProperty(Ee)&&Le!=null&&!v.hasOwnProperty(Ee)&&Gi(u,c,Ee,null,v,Le);for(ut in v)Le=v[ut],We=m[ut],!v.hasOwnProperty(ut)||Le===We||Le==null&&We==null||Gi(u,c,ut,Le,v,We)}function Ek(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uj(){if(typeof performance.getEntriesByType=="function"){for(var u=0,c=0,m=performance.getEntriesByType("resource"),v=0;v<m.length;v++){var M=m[v],D=M.transferSize,B=M.initiatorType,K=M.duration;if(D&&K&&Ek(B)){for(B=0,K=M.responseEnd,v+=1;v<m.length;v++){var me=m[v],ke=me.startTime;if(ke>K)break;var Ke=me.transferSize,ut=me.initiatorType;Ke&&Ek(ut)&&(me=me.responseEnd,B+=Ke*(me<K?1:(K-ke)/(me-ke)))}if(--v,c+=8*(D+B)/(M.duration/1e3),u++,10<u)break}}if(0<u)return c/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var FA=null,UA=null;function BS(u){return u.nodeType===9?u:u.ownerDocument}function wk(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tk(u,c){if(u===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&c==="foreignObject"?0:u}function BA(u,c){return u==="textarea"||u==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var zA=null;function lj(){var u=window.event;return u&&u.type==="popstate"?u===zA?!1:(zA=u,!0):(zA=null,!1)}var Mk=typeof setTimeout=="function"?setTimeout:void 0,cj=typeof clearTimeout=="function"?clearTimeout:void 0,Ck=typeof Promise=="function"?Promise:void 0,fj=typeof queueMicrotask=="function"?queueMicrotask:typeof Ck<"u"?function(u){return Ck.resolve(null).then(u).catch(dj)}:Mk;function dj(u){setTimeout(function(){throw u})}function kd(u){return u==="head"}function Ak(u,c){var m=c,v=0;do{var M=m.nextSibling;if(u.removeChild(m),M&&M.nodeType===8)if(m=M.data,m==="/$"||m==="/&"){if(v===0){u.removeChild(M),ng(c);return}v--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")v++;else if(m==="html")Ev(u.ownerDocument.documentElement);else if(m==="head"){m=u.ownerDocument.head,Ev(m);for(var D=m.firstChild;D;){var B=D.nextSibling,K=D.nodeName;D[Tt]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&D.rel.toLowerCase()==="stylesheet"||m.removeChild(D),D=B}}else m==="body"&&Ev(u.ownerDocument.body);m=M}while(m);ng(c)}function Dk(u,c){var m=u;u=0;do{var v=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),v&&v.nodeType===8)if(m=v.data,m==="/$"){if(u===0)break;u--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||u++;m=v}while(m)}function HA(u){var c=u.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":HA(m),he(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}u.removeChild(m)}}function hj(u,c,m,v){for(;u.nodeType===1;){var M=m;if(u.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(v){if(!u[Tt])switch(c){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(D=u.getAttribute("rel"),D==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(D!==M.rel||u.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||u.getAttribute("title")!==(M.title==null?null:M.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(D=u.getAttribute("src"),(D!==(M.src==null?null:M.src)||u.getAttribute("type")!==(M.type==null?null:M.type)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&D&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(c==="input"&&u.type==="hidden"){var D=M.name==null?null:""+M.name;if(M.type==="hidden"&&u.getAttribute("name")===D)return u}else return u;if(u=Uu(u.nextSibling),u===null)break}return null}function pj(u,c,m){if(c==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!m||(u=Uu(u.nextSibling),u===null))return null;return u}function Rk(u,c){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!c||(u=Uu(u.nextSibling),u===null))return null;return u}function VA(u){return u.data==="$?"||u.data==="$~"}function GA(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function mj(u,c){var m=u.ownerDocument;if(u.data==="$~")u._reactRetry=c;else if(u.data!=="$?"||m.readyState!=="loading")c();else{var v=function(){c(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),u._reactRetry=v}}function Uu(u){for(;u!=null;u=u.nextSibling){var c=u.nodeType;if(c===1||c===3)break;if(c===8){if(c=u.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return u}var WA=null;function Ik(u){u=u.nextSibling;for(var c=0;u;){if(u.nodeType===8){var m=u.data;if(m==="/$"||m==="/&"){if(c===0)return Uu(u.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}u=u.nextSibling}return null}function Nk(u){u=u.previousSibling;for(var c=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return u;c--}else m!=="/$"&&m!=="/&"||c++}u=u.previousSibling}return null}function Ok(u,c,m){switch(c=BS(m),u){case"html":if(u=c.documentElement,!u)throw Error(i(452));return u;case"head":if(u=c.head,!u)throw Error(i(453));return u;case"body":if(u=c.body,!u)throw Error(i(454));return u;default:throw Error(i(451))}}function Ev(u){for(var c=u.attributes;c.length;)u.removeAttributeNode(c[0]);he(u)}var Bu=new Map,kk=new Set;function zS(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var gf=q.d;q.d={f:gj,r:_j,D:yj,C:vj,L:bj,m:xj,X:Ej,S:Sj,M:wj};function gj(){var u=gf.f(),c=jo();return u||c}function _j(u){var c=Ot(u);c!==null&&c.tag===5&&c.type==="form"?SS(c):gf.r(u)}var J0=typeof document>"u"?null:document;function Pk(u,c,m){var v=J0;if(v&&typeof c=="string"&&c){var M=on(c);M='link[rel="'+u+'"][href="'+M+'"]',typeof m=="string"&&(M+='[crossorigin="'+m+'"]'),kk.has(M)||(kk.add(M),u={rel:u,crossOrigin:m,href:c},v.querySelector(M)===null&&(c=v.createElement("link"),qs(c,"link",u),X(c),v.head.appendChild(c)))}}function yj(u){gf.D(u),Pk("dns-prefetch",u,null)}function vj(u,c){gf.C(u,c),Pk("preconnect",u,c)}function bj(u,c,m){gf.L(u,c,m);var v=J0;if(v&&u&&c){var M='link[rel="preload"][as="'+on(c)+'"]';c==="image"&&m&&m.imageSrcSet?(M+='[imagesrcset="'+on(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(M+='[imagesizes="'+on(m.imageSizes)+'"]')):M+='[href="'+on(u)+'"]';var D=M;switch(c){case"style":D=eg(u);break;case"script":D=tg(u)}Bu.has(D)||(u=g({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:u,as:c},m),Bu.set(D,u),v.querySelector(M)!==null||c==="style"&&v.querySelector(wv(D))||c==="script"&&v.querySelector(Tv(D))||(c=v.createElement("link"),qs(c,"link",u),X(c),v.head.appendChild(c)))}}function xj(u,c){gf.m(u,c);var m=J0;if(m&&u){var v=c&&typeof c.as=="string"?c.as:"script",M='link[rel="modulepreload"][as="'+on(v)+'"][href="'+on(u)+'"]',D=M;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=tg(u)}if(!Bu.has(D)&&(u=g({rel:"modulepreload",href:u},c),Bu.set(D,u),m.querySelector(M)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Tv(D)))return}v=m.createElement("link"),qs(v,"link",u),X(v),m.head.appendChild(v)}}}function Sj(u,c,m){gf.S(u,c,m);var v=J0;if(v&&u){var M=mn(v).hoistableStyles,D=eg(u);c=c||"default";var B=M.get(D);if(!B){var K={loading:0,preload:null};if(B=v.querySelector(wv(D)))K.loading=5;else{u=g({rel:"stylesheet",href:u,"data-precedence":c},m),(m=Bu.get(D))&&jA(u,m);var me=B=v.createElement("link");X(me),qs(me,"link",u),me._p=new Promise(function(ke,Ke){me.onload=ke,me.onerror=Ke}),me.addEventListener("load",function(){K.loading|=1}),me.addEventListener("error",function(){K.loading|=2}),K.loading|=4,HS(B,c,v)}B={type:"stylesheet",instance:B,count:1,state:K},M.set(D,B)}}}function Ej(u,c){gf.X(u,c);var m=J0;if(m&&u){var v=mn(m).hoistableScripts,M=tg(u),D=v.get(M);D||(D=m.querySelector(Tv(M)),D||(u=g({src:u,async:!0},c),(c=Bu.get(M))&&qA(u,c),D=m.createElement("script"),X(D),qs(D,"link",u),m.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(M,D))}}function wj(u,c){gf.M(u,c);var m=J0;if(m&&u){var v=mn(m).hoistableScripts,M=tg(u),D=v.get(M);D||(D=m.querySelector(Tv(M)),D||(u=g({src:u,async:!0,type:"module"},c),(c=Bu.get(M))&&qA(u,c),D=m.createElement("script"),X(D),qs(D,"link",u),m.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},v.set(M,D))}}function Lk(u,c,m,v){var M=(M=ve.current)?zS(M):null;if(!M)throw Error(i(446));switch(u){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=eg(m.href),m=mn(M).hoistableStyles,v=m.get(c),v||(v={type:"style",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){u=eg(m.href);var D=mn(M).hoistableStyles,B=D.get(u);if(B||(M=M.ownerDocument||M,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(u,B),(D=M.querySelector(wv(u)))&&!D._p&&(B.instance=D,B.state.loading=5),Bu.has(u)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Bu.set(u,m),D||Tj(M,u,m,B.state))),c&&v===null)throw Error(i(528,""));return B}if(c&&v!==null)throw Error(i(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=tg(m),m=mn(M).hoistableScripts,v=m.get(c),v||(v={type:"script",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,u))}}function eg(u){return'href="'+on(u)+'"'}function wv(u){return'link[rel="stylesheet"]['+u+"]"}function Fk(u){return g({},u,{"data-precedence":u.precedence,precedence:null})}function Tj(u,c,m,v){u.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=u.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),qs(c,"link",m),X(c),u.head.appendChild(c))}function tg(u){return'[src="'+on(u)+'"]'}function Tv(u){return"script[async]"+u}function Uk(u,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var v=u.querySelector('style[data-href~="'+on(m.href)+'"]');if(v)return c.instance=v,X(v),v;var M=g({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(u.ownerDocument||u).createElement("style"),X(v),qs(v,"style",M),HS(v,m.precedence,u),c.instance=v;case"stylesheet":M=eg(m.href);var D=u.querySelector(wv(M));if(D)return c.state.loading|=4,c.instance=D,X(D),D;v=Fk(m),(M=Bu.get(M))&&jA(v,M),D=(u.ownerDocument||u).createElement("link"),X(D);var B=D;return B._p=new Promise(function(K,me){B.onload=K,B.onerror=me}),qs(D,"link",v),c.state.loading|=4,HS(D,m.precedence,u),c.instance=D;case"script":return D=tg(m.src),(M=u.querySelector(Tv(D)))?(c.instance=M,X(M),M):(v=m,(M=Bu.get(D))&&(v=g({},m),qA(v,M)),u=u.ownerDocument||u,M=u.createElement("script"),X(M),qs(M,"link",v),u.head.appendChild(M),c.instance=M);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,HS(v,m.precedence,u));return c.instance}function HS(u,c,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=v.length?v[v.length-1]:null,D=M,B=0;B<v.length;B++){var K=v[B];if(K.dataset.precedence===c)D=K;else if(D!==M)break}D?D.parentNode.insertBefore(u,D.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(u,c.firstChild))}function jA(u,c){u.crossOrigin==null&&(u.crossOrigin=c.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=c.referrerPolicy),u.title==null&&(u.title=c.title)}function qA(u,c){u.crossOrigin==null&&(u.crossOrigin=c.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=c.referrerPolicy),u.integrity==null&&(u.integrity=c.integrity)}var VS=null;function Bk(u,c,m){if(VS===null){var v=new Map,M=VS=new Map;M.set(m,v)}else M=VS,v=M.get(m),v||(v=new Map,M.set(m,v));if(v.has(u))return v;for(v.set(u,null),m=m.getElementsByTagName(u),M=0;M<m.length;M++){var D=m[M];if(!(D[Tt]||D[tn]||u==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var B=D.getAttribute(c)||"";B=u+B;var K=v.get(B);K?K.push(D):v.set(B,[D])}}return v}function zk(u,c,m){u=u.ownerDocument||u,u.head.insertBefore(m,c==="title"?u.querySelector("head > title"):null)}function Mj(u,c,m){if(m===1||c.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(u=c.disabled,typeof c.precedence=="string"&&u==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Hk(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function Cj(u,c,m,v){if(m.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var M=eg(v.href),D=c.querySelector(wv(M));if(D){c=D._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(u.count++,u=GS.bind(u),c.then(u,u)),m.state.loading|=4,m.instance=D,X(D);return}D=c.ownerDocument||c,v=Fk(v),(M=Bu.get(M))&&jA(v,M),D=D.createElement("link"),X(D);var B=D;B._p=new Promise(function(K,me){B.onload=K,B.onerror=me}),qs(D,"link",v),m.instance=D}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(u.count++,m=GS.bind(u),c.addEventListener("load",m),c.addEventListener("error",m))}}var $A=0;function Aj(u,c){return u.stylesheets&&u.count===0&&jS(u,u.stylesheets),0<u.count||0<u.imgCount?function(m){var v=setTimeout(function(){if(u.stylesheets&&jS(u,u.stylesheets),u.unsuspend){var D=u.unsuspend;u.unsuspend=null,D()}},6e4+c);0<u.imgBytes&&$A===0&&($A=62500*uj());var M=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&jS(u,u.stylesheets),u.unsuspend)){var D=u.unsuspend;u.unsuspend=null,D()}},(u.imgBytes>$A?50:800)+c);return u.unsuspend=m,function(){u.unsuspend=null,clearTimeout(v),clearTimeout(M)}}:null}function GS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jS(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var WS=null;function jS(u,c){u.stylesheets=null,u.unsuspend!==null&&(u.count++,WS=new Map,c.forEach(Dj,u),WS=null,GS.call(u))}function Dj(u,c){if(!(c.state.loading&4)){var m=WS.get(u);if(m)var v=m.get(null);else{m=new Map,WS.set(u,m);for(var M=u.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<M.length;D++){var B=M[D];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(m.set(B.dataset.precedence,B),v=B)}v&&m.set(null,v)}M=c.instance,B=M.getAttribute("data-precedence"),D=m.get(B)||v,D===v&&m.set(null,M),m.set(B,M),this.count++,v=GS.bind(this),M.addEventListener("load",v),M.addEventListener("error",v),D?D.parentNode.insertBefore(M,D.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(M,u.firstChild)),c.state.loading|=4}}var Mv={$$typeof:A,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Rj(u,c,m,v,M,D,B,K,me){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ot(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ot(0),this.hiddenUpdates=ot(null),this.identifierPrefix=v,this.onUncaughtError=M,this.onCaughtError=D,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function Vk(u,c,m,v,M,D,B,K,me,ke,Ke,ut){return u=new Rj(u,c,m,B,me,ke,Ke,ut,K),c=1,D===!0&&(c|=24),D=or(3,null,null,c),u.current=D,D.stateNode=u,c=Ry(),c.refCount++,u.pooledCache=c,c.refCount++,D.memoizedState={element:v,isDehydrated:m,cache:c},gp(D),u}function Gk(u){return u?(u=Hl,u):Hl}function Wk(u,c,m,v,M,D){M=Gk(M),v.context===null?v.context=M:v.pendingContext=M,v=fl(c),v.payload={element:m},D=D===void 0?null:D,D!==null&&(v.callback=D),m=Yl(u,v,c),m!==null&&(Ln(m,u,c),Zl(m,u,c))}function jk(u,c){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<c?m:c}}function XA(u,c){jk(u,c),(u=u.alternate)&&jk(u,c)}function qk(u){if(u.tag===13||u.tag===31){var c=Bs(u,67108864);c!==null&&Ln(c,u,67108864),XA(u,67108864)}}function $k(u){if(u.tag===13||u.tag===31){var c=Pa();c=At(c);var m=Bs(u,c);m!==null&&Ln(m,u,c),XA(u,c)}}var qS=!0;function Ij(u,c,m,v){var M=W.T;W.T=null;var D=q.p;try{q.p=2,YA(u,c,m,v)}finally{q.p=D,W.T=M}}function Nj(u,c,m,v){var M=W.T;W.T=null;var D=q.p;try{q.p=8,YA(u,c,m,v)}finally{q.p=D,W.T=M}}function YA(u,c,m,v){if(qS){var M=ZA(v);if(M===null)PA(u,c,v,$S,m),Yk(u,v);else if(kj(M,u,c,m,v))v.stopPropagation();else if(Yk(u,v),c&4&&-1<Oj.indexOf(u)){for(;M!==null;){var D=Ot(M);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var B=je(D.pendingLanes);if(B!==0){var K=D;for(K.pendingLanes|=2,K.entangledLanes|=2;B;){var me=1<<31-_t(B);K.entanglements[1]|=me,B&=~me}mt(D),(Qt&6)===0&&(Ar=H()+500,zt(0))}}break;case 31:case 13:K=Bs(D,2),K!==null&&Ln(K,D,2),jo(),XA(D,2)}if(D=ZA(v),D===null&&PA(u,c,v,$S,m),D===M)break;M=D}M!==null&&v.stopPropagation()}else PA(u,c,v,null,m)}}function ZA(u){return u=Sn(u),KA(u)}var $S=null;function KA(u){if($S=null,u=Ze(u),u!==null){var c=s(u);if(c===null)u=null;else{var m=c.tag;if(m===13){if(u=a(c),u!==null)return u;u=null}else if(m===31){if(u=o(c),u!==null)return u;u=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;u=null}else c!==u&&(u=null)}}return $S=u,null}function Xk(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pe()){case we:return 2;case Re:return 8;case Ie:case St:return 32;case lt:return 268435456;default:return 32}default:return 32}}var QA=!1,Pd=null,Ld=null,Fd=null,Cv=new Map,Av=new Map,Ud=[],Oj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yk(u,c){switch(u){case"focusin":case"focusout":Pd=null;break;case"dragenter":case"dragleave":Ld=null;break;case"mouseover":case"mouseout":Fd=null;break;case"pointerover":case"pointerout":Cv.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Av.delete(c.pointerId)}}function Dv(u,c,m,v,M,D){return u===null||u.nativeEvent!==D?(u={blockedOn:c,domEventName:m,eventSystemFlags:v,nativeEvent:D,targetContainers:[M]},c!==null&&(c=Ot(c),c!==null&&qk(c)),u):(u.eventSystemFlags|=v,c=u.targetContainers,M!==null&&c.indexOf(M)===-1&&c.push(M),u)}function kj(u,c,m,v,M){switch(c){case"focusin":return Pd=Dv(Pd,u,c,m,v,M),!0;case"dragenter":return Ld=Dv(Ld,u,c,m,v,M),!0;case"mouseover":return Fd=Dv(Fd,u,c,m,v,M),!0;case"pointerover":var D=M.pointerId;return Cv.set(D,Dv(Cv.get(D)||null,u,c,m,v,M)),!0;case"gotpointercapture":return D=M.pointerId,Av.set(D,Dv(Av.get(D)||null,u,c,m,v,M)),!0}return!1}function Zk(u){var c=Ze(u.target);if(c!==null){var m=s(c);if(m!==null){if(c=m.tag,c===13){if(c=a(m),c!==null){u.blockedOn=c,yn(u.priority,function(){$k(m)});return}}else if(c===31){if(c=o(m),c!==null){u.blockedOn=c,yn(u.priority,function(){$k(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function XS(u){if(u.blockedOn!==null)return!1;for(var c=u.targetContainers;0<c.length;){var m=ZA(u.nativeEvent);if(m===null){m=u.nativeEvent;var v=new m.constructor(m.type,m);Yt=v,m.target.dispatchEvent(v),Yt=null}else return c=Ot(m),c!==null&&qk(c),u.blockedOn=m,!1;c.shift()}return!0}function Kk(u,c,m){XS(u)&&m.delete(c)}function Pj(){QA=!1,Pd!==null&&XS(Pd)&&(Pd=null),Ld!==null&&XS(Ld)&&(Ld=null),Fd!==null&&XS(Fd)&&(Fd=null),Cv.forEach(Kk),Av.forEach(Kk)}function YS(u,c){u.blockedOn===c&&(u.blockedOn=null,QA||(QA=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Pj)))}var ZS=null;function Qk(u){ZS!==u&&(ZS=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ZS===u&&(ZS=null);for(var c=0;c<u.length;c+=3){var m=u[c],v=u[c+1],M=u[c+2];if(typeof v!="function"){if(KA(v||m)===null)continue;break}var D=Ot(m);D!==null&&(u.splice(c,3),c-=3,iv(D,{pending:!0,data:M,method:m.method,action:v},v,M))}}))}function ng(u){function c(me){return YS(me,u)}Pd!==null&&YS(Pd,u),Ld!==null&&YS(Ld,u),Fd!==null&&YS(Fd,u),Cv.forEach(c),Av.forEach(c);for(var m=0;m<Ud.length;m++){var v=Ud[m];v.blockedOn===u&&(v.blockedOn=null)}for(;0<Ud.length&&(m=Ud[0],m.blockedOn===null);)Zk(m),m.blockedOn===null&&Ud.shift();if(m=(u.ownerDocument||u).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var M=m[v],D=m[v+1],B=M[Jt]||null;if(typeof D=="function")B||Qk(m);else if(B){var K=null;if(D&&D.hasAttribute("formAction")){if(M=D,B=D[Jt]||null)K=B.formAction;else if(KA(M)!==null)continue}else K=B.action;typeof K=="function"?m[v+1]=K:(m.splice(v,3),v-=3),Qk(m)}}}function Jk(){function u(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(B){return M=B})},focusReset:"manual",scroll:"manual"})}function c(){M!==null&&(M(),M=null),v||setTimeout(m,20)}function m(){if(!v&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,M=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){v=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),M!==null&&(M(),M=null)}}}function JA(u){this._internalRoot=u}KS.prototype.render=JA.prototype.render=function(u){var c=this._internalRoot;if(c===null)throw Error(i(409));var m=c.current,v=Pa();Wk(m,v,u,c,null,null)},KS.prototype.unmount=JA.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var c=u.containerInfo;Wk(u.current,2,null,u,null,null),jo(),c[pn]=null}};function KS(u){this._internalRoot=u}KS.prototype.unstable_scheduleHydration=function(u){if(u){var c=un();u={blockedOn:null,target:u,priority:c};for(var m=0;m<Ud.length&&c!==0&&c<Ud[m].priority;m++);Ud.splice(m,0,u),m===0&&Zk(u)}};var e2=e.version;if(e2!=="19.2.4")throw Error(i(527,e2,"19.2.4"));q.findDOMNode=function(u){var c=u._reactInternals;if(c===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=f(c),u=u!==null?p(u):null,u=u===null?null:u.stateNode,u};var Lj={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var QS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!QS.isDisabled&&QS.supportsFiber)try{Je=QS.inject(Lj),tt=QS}catch{}}return Iv.createRoot=function(u,c){if(!r(u))throw Error(i(299));var m=!1,v="",M=DS,D=lv,B=cv;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(M=c.onUncaughtError),c.onCaughtError!==void 0&&(D=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError)),c=Vk(u,1,!1,null,null,m,v,null,M,D,B,Jk),u[pn]=c.current,kA(u),new JA(c)},Iv.hydrateRoot=function(u,c,m){if(!r(u))throw Error(i(299));var v=!1,M="",D=DS,B=lv,K=cv,me=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(M=m.identifierPrefix),m.onUncaughtError!==void 0&&(D=m.onUncaughtError),m.onCaughtError!==void 0&&(B=m.onCaughtError),m.onRecoverableError!==void 0&&(K=m.onRecoverableError),m.formState!==void 0&&(me=m.formState)),c=Vk(u,1,!0,c,m??null,v,M,me,D,B,K,Jk),c.context=Gk(null),m=c.current,v=Pa(),v=At(v),M=fl(v),M.callback=null,Yl(m,M,v),m=v,c.current.lanes=m,ht(c,m),mt(c),u[pn]=c.current,kA(u),new KS(c)},Iv.version="19.2.4",Iv}var c2;function jj(){if(c2)return t3.exports;c2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),t3.exports=Wj(),t3.exports}var qj=jj();const sn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ai=globalThis,hm="9.47.1";function Vm(){return YM(Ai),Ai}function YM(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||hm,e[hm]=e[hm]||{}}function Lx(t,e,n=Ai){const i=n.__SENTRY__=n.__SENTRY__||{},r=i[hm]=i[hm]||{};return r[t]||(r[t]=e())}const $j=["debug","info","warn","error","log","assert","trace"],Xj="Sentry Logger ",oT={};function Gm(t){if(!("console"in Ai))return t();const e=Ai.console,n={},i=Object.keys(oT);i.forEach(r=>{const s=oT[r];n[r]=e[r],e[r]=s});try{return t()}finally{i.forEach(r=>{e[r]=n[r]})}}function Yj(){MN().enabled=!0}function Zj(){MN().enabled=!1}function Z5(){return MN().enabled}function Kj(...t){TN("log",...t)}function Qj(...t){TN("warn",...t)}function Jj(...t){TN("error",...t)}function TN(t,...e){sn&&Z5()&&Gm(()=>{Ai.console[t](`${Xj}[${t}]:`,...e)})}function MN(){return sn?Lx("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const Lt={enable:Yj,disable:Zj,isEnabled:Z5,log:Kj,warn:Qj,error:Jj},K5=50,Cm="?",f2=/\(error: (.*)\)/,d2=/captureMessage|captureException/;function Q5(...t){const e=t.sort((n,i)=>n[0]-i[0]).map(n=>n[1]);return(n,i=0,r=0)=>{const s=[],a=n.split(`
`);for(let o=i;o<a.length;o++){const l=a[o];if(l.length>1024)continue;const f=f2.test(l)?l.replace(f2,"$1"):l;if(!f.match(/\S*Error: /)){for(const p of e){const g=p(f);if(g){s.push(g);break}}if(s.length>=K5+r)break}}return tq(s.slice(r))}}function eq(t){return Array.isArray(t)?Q5(...t):t}function tq(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(JS(e).function||"")&&e.pop(),e.reverse(),d2.test(JS(e).function||"")&&(e.pop(),d2.test(JS(e).function||"")&&e.pop()),e.slice(0,K5).map(n=>({...n,filename:n.filename||JS(e).filename,function:n.function||Cm}))}function JS(t){return t[t.length-1]||{}}const a3="<anonymous>";function Ff(t){try{return!t||typeof t!="function"?a3:t.name||a3}catch{return a3}}function h2(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(i=>{i.stacktrace.frames&&n.push(...i.stacktrace.frames)}),n}catch{return}}}const kw={},p2={};function zh(t,e){kw[t]=kw[t]||[],kw[t].push(e)}function Hh(t,e){if(!p2[t]){p2[t]=!0;try{e()}catch(n){sn&&Lt.error(`Error while instrumenting ${t}`,n)}}}function $u(t,e){const n=t&&kw[t];if(n)for(const i of n)try{i(e)}catch(r){sn&&Lt.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ff(i)}
Error:`,r)}}let o3=null;function J5(t){const e="error";zh(e,t),Hh(e,nq)}function nq(){o3=Ai.onerror,Ai.onerror=function(t,e,n,i,r){return $u("error",{column:i,error:r,line:n,msg:t,url:e}),o3?o3.apply(this,arguments):!1},Ai.onerror.__SENTRY_INSTRUMENTED__=!0}let u3=null;function e8(t){const e="unhandledrejection";zh(e,t),Hh(e,iq)}function iq(){u3=Ai.onunhandledrejection,Ai.onunhandledrejection=function(t){return $u("unhandledrejection",t),u3?u3.apply(this,arguments):!0},Ai.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const t8=Object.prototype.toString;function CN(t){switch(t8.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Uf(t,Error)}}function H_(t,e){return t8.call(t)===`[object ${e}]`}function n8(t){return H_(t,"ErrorEvent")}function m2(t){return H_(t,"DOMError")}function rq(t){return H_(t,"DOMException")}function If(t){return H_(t,"String")}function AN(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Gb(t){return t===null||AN(t)||typeof t!="object"&&typeof t!="function"}function Wb(t){return H_(t,"Object")}function ZM(t){return typeof Event<"u"&&Uf(t,Event)}function sq(t){return typeof Element<"u"&&Uf(t,Element)}function aq(t){return H_(t,"RegExp")}function Fx(t){return!!(t?.then&&typeof t.then=="function")}function oq(t){return Wb(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Uf(t,e){try{return t instanceof e}catch{return!1}}function i8(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function r8(t){return typeof Request<"u"&&Uf(t,Request)}const DN=Ai,uq=80;function Zu(t,e={}){if(!t)return"<unknown>";try{let n=t;const i=5,r=[];let s=0,a=0;const o=" > ",l=o.length;let f;const p=Array.isArray(e)?e:e.keyAttrs,g=!Array.isArray(e)&&e.maxStringLength||uq;for(;n&&s++<i&&(f=lq(n,p),!(f==="html"||s>1&&a+r.length*l+f.length>=g));)r.push(f),a+=f.length,n=n.parentNode;return r.reverse().join(o)}catch{return"<unknown>"}}function lq(t,e){const n=t,i=[];if(!n?.tagName)return"";if(DN.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}i.push(n.tagName.toLowerCase());const r=e?.length?e.filter(a=>n.getAttribute(a)).map(a=>[a,n.getAttribute(a)]):null;if(r?.length)r.forEach(a=>{i.push(`[${a[0]}="${a[1]}"]`)});else{n.id&&i.push(`#${n.id}`);const a=n.className;if(a&&If(a)){const o=a.split(/\s+/);for(const l of o)i.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const a of s){const o=n.getAttribute(a);o&&i.push(`[${a}="${o}"]`)}return i.join("")}function V_(){try{return DN.document.location.href}catch{return""}}function s8(t){if(!DN.HTMLElement)return null;let e=t;const n=5;for(let i=0;i<n;i++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}function uT(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function g2(t,e){if(!Array.isArray(t))return"";const n=[];for(let i=0;i<t.length;i++){const r=t[i];try{i8(r)?n.push("[VueViewModel]"):n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function cq(t,e,n=!1){return If(t)?aq(e)?e.test(t):If(e)?n?t===e:t.includes(e):!1:!1}function Nf(t,e=[],n=!1){return e.some(i=>cq(t,i,n))}function Ro(t,e,n){if(!(e in t))return;const i=t[e];if(typeof i!="function")return;const r=n(i);typeof r=="function"&&a8(r,i);try{t[e]=r}catch{sn&&Lt.log(`Failed to replace method "${e}" in object`,t)}}function cu(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{sn&&Lt.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function a8(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,cu(t,"__sentry_original__",e)}catch{}}function RN(t){return t.__sentry_original__}function o8(t){if(CN(t))return{message:t.message,name:t.name,stack:t.stack,...y2(t)};if(ZM(t)){const e={type:t.type,target:_2(t.target),currentTarget:_2(t.currentTarget),...y2(t)};return typeof CustomEvent<"u"&&Uf(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function _2(t){try{return sq(t)?Zu(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function y2(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function fq(t,e=40){const n=Object.keys(o8(t));n.sort();const i=n[0];if(!i)return"[object has no keys]";if(i.length>=e)return uT(i,e);for(let r=n.length;r>0;r--){const s=n.slice(0,r).join(", ");if(!(s.length>e))return r===n.length?s:uT(s,e)}return""}function dq(){const t=Ai;return t.crypto||t.msCrypto}function su(t=dq()){let e=()=>Math.random()*16;try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"");t?.getRandomValues&&(e=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(e()&15)>>n/4).toString(16))}function u8(t){return t.exception?.values?.[0]}function nm(t){const{message:e,event_id:n}=t;if(e)return e;const i=u8(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||n||"<unknown>":n||"<unknown>"}function mR(t,e,n){const i=t.exception=t.exception||{},r=i.values=i.values||[],s=r[0]=r[0]||{};s.value||(s.value=e||""),s.type||(s.type="Error")}function l_(t,e){const n=u8(t);if(!n)return;const i={type:"generic",handled:!0},r=n.mechanism;if(n.mechanism={...i,...r,...e},e&&"data"in e){const s={...r?.data,...e.data};n.mechanism.data=s}}function v2(t){if(hq(t))return!0;try{cu(t,"__sentry_captured__",!0)}catch{}return!1}function hq(t){try{return t.__sentry_captured__}catch{}}const l8=1e3;function Wm(){return Date.now()/l8}function pq(){const{performance:t}=Ai;if(!t?.now||!t.timeOrigin)return Wm;const e=t.timeOrigin;return()=>(e+t.now())/l8}let b2;function Zs(){return(b2??(b2=pq()))()}let l3;function mq(){const{performance:t}=Ai;if(!t?.now)return[void 0,"none"];const e=3600*1e3,n=t.now(),i=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,s=r<e,a=t.timing?.navigationStart,l=typeof a=="number"?Math.abs(a+n-i):e,f=l<e;return s||f?r<=l?[t.timeOrigin,"timeOrigin"]:[a,"navigationStart"]:[i,"dateNow"]}function eo(){return l3||(l3=mq()),l3[0]}function gq(t){const e=Zs(),n={sid:su(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>yq(n)};return t&&c_(n,t),n}function c_(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Zs(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:su()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function _q(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),c_(t,n)}function yq(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}function Ux(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&Object.keys(e).length===0)return t;const i={...t};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=Ux(i[r],e[r],n-1));return i}function xh(){return su()}function Bx(){return su().substring(16)}const gR="_sentrySpan";function f_(t,e){e?cu(t,gR,e):delete t[gR]}function lT(t){return t[gR]}const vq=100;class Bf{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:xh(),sampleRand:Math.random()}}clone(){const e=new Bf;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,f_(e,lT(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&c_(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,i=n instanceof Bf?n.getScopeData():Wb(n)?e:void 0,{tags:r,extra:s,user:a,contexts:o,level:l,fingerprint:f=[],propagationContext:p}=i||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...s},this._contexts={...this._contexts,...o},a&&Object.keys(a).length&&(this._user=a),l&&(this._level=l),f.length&&(this._fingerprint=f),p&&(this._propagationContext=p),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,f_(this,void 0),this._attachments=[],this.setPropagationContext({traceId:xh(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const i=typeof n=="number"?n:vq;if(i<=0)return this;const r={timestamp:Wm(),...e,message:e.message?uT(e.message,2048):e.message};return this._breadcrumbs.push(r),this._breadcrumbs.length>i&&(this._breadcrumbs=this._breadcrumbs.slice(-i),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:lT(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=Ux(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const i=n?.event_id||su();if(!this._client)return sn&&Lt.warn("No client configured on scope - will not capture exception!"),i;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...n,event_id:i},this),i}captureMessage(e,n,i){const r=i?.event_id||su();if(!this._client)return sn&&Lt.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...i,event_id:r},this),r}captureEvent(e,n){const i=n?.event_id||su();return this._client?(this._client.captureEvent(e,{...n,event_id:i},this),i):(sn&&Lt.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function bq(){return Lx("defaultCurrentScope",()=>new Bf)}function xq(){return Lx("defaultIsolationScope",()=>new Bf)}class Sq{constructor(e,n){let i;e?i=e:i=new Bf;let r;n?r=n:r=new Bf,this._stack=[{scope:i}],this._isolationScope=r}withScope(e){const n=this._pushScope();let i;try{i=e(n)}catch(r){throw this._popScope(),r}return Fx(i)?i.then(r=>(this._popScope(),r),r=>{throw this._popScope(),r}):(this._popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function d_(){const t=Vm(),e=YM(t);return e.stack=e.stack||new Sq(bq(),xq())}function Eq(t){return d_().withScope(t)}function wq(t,e){const n=d_();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function x2(t){return d_().withScope(()=>t(d_().getIsolationScope()))}function Tq(){return{withIsolationScope:x2,withScope:Eq,withSetScope:wq,withSetIsolationScope:(t,e)=>x2(e),getCurrentScope:()=>d_().getScope(),getIsolationScope:()=>d_().getIsolationScope()}}function G_(t){const e=YM(t);return e.acs?e.acs:Tq()}function Ui(){const t=Vm();return G_(t).getCurrentScope()}function Pc(){const t=Vm();return G_(t).getIsolationScope()}function Mq(){return Lx("globalScope",()=>new Bf)}function KM(...t){const e=Vm(),n=G_(e);if(t.length===2){const[i,r]=t;return i?n.withSetScope(i,r):n.withScope(r)}return n.withScope(t[0])}function mi(){return Ui().getClient()}function Cq(t){const e=t.getPropagationContext(),{traceId:n,parentSpanId:i,propagationSpanId:r}=e,s={trace_id:n,span_id:r||Bx()};return i&&(s.parent_span_id=i),s}const Il="sentry.source",IN="sentry.sample_rate",c8="sentry.previous_trace_sample_rate",zf="sentry.op",fs="sentry.origin",cT="sentry.idle_span_finish_reason",zx="sentry.measurement_unit",Hx="sentry.measurement_value",S2="sentry.custom_span_name",NN="sentry.profile_id",W_="sentry.exclusive_time",Aq="sentry.link.type",Dq=0,f8=1,bs=2;function Rq(t){if(t<400&&t>=100)return{code:f8};if(t>=400&&t<500)switch(t){case 401:return{code:bs,message:"unauthenticated"};case 403:return{code:bs,message:"permission_denied"};case 404:return{code:bs,message:"not_found"};case 409:return{code:bs,message:"already_exists"};case 413:return{code:bs,message:"failed_precondition"};case 429:return{code:bs,message:"resource_exhausted"};case 499:return{code:bs,message:"cancelled"};default:return{code:bs,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:bs,message:"unimplemented"};case 503:return{code:bs,message:"unavailable"};case 504:return{code:bs,message:"deadline_exceeded"};default:return{code:bs,message:"internal_error"}}return{code:bs,message:"unknown_error"}}function d8(t,e){t.setAttribute("http.response.status_code",e);const n=Rq(e);n.message!=="unknown_error"&&t.setStatus(n)}const h8="_sentryScope",p8="_sentryIsolationScope";function Iq(t,e,n){t&&(cu(t,p8,n),cu(t,h8,e))}function fT(t){return{scope:t[h8],isolationScope:t[p8]}}const ON="sentry-",Nq=/^sentry-/,Oq=8192;function m8(t){const e=Pq(t);if(!e)return;const n=Object.entries(e).reduce((i,[r,s])=>{if(r.match(Nq)){const a=r.slice(ON.length);i[a]=s}return i},{});if(Object.keys(n).length>0)return n}function kq(t){if(!t)return;const e=Object.entries(t).reduce((n,[i,r])=>(r&&(n[`${ON}${i}`]=r),n),{});return Lq(e)}function Pq(t){if(!(!t||!If(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,n)=>{const i=E2(n);return Object.entries(i).forEach(([r,s])=>{e[r]=s}),e},{}):E2(t)}function E2(t){return t.split(",").map(e=>e.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((e,[n,i])=>(n&&i&&(e[n]=i),e),{})}function Lq(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[n,i],r)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(i)}`,a=r===0?s:`${e},${s}`;return a.length>Oq?(sn&&Lt.warn(`Not adding key: ${n} with val: ${i} to baggage header due to exceeding baggage size limits.`),e):a},"")}function Am(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}const g8=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Fq(t){if(!t)return;const e=t.match(g8);if(!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function Uq(t,e){const n=Fq(t),i=m8(e);if(!n?.traceId)return{traceId:xh(),sampleRand:Math.random()};const r=Bq(n,i);i&&(i.sample_rand=r.toString());const{traceId:s,parentSpanId:a,parentSampled:o}=n;return{traceId:s,parentSpanId:a,sampled:o,dsc:i||{},sampleRand:r}}function _8(t=xh(),e=Bx(),n){let i="";return n!==void 0&&(i=n?"-1":"-0"),`${t}-${e}${i}`}function Bq(t,e){const n=Am(e?.sample_rand);if(n!==void 0)return n;const i=Am(e?.sample_rate);return i&&t?.parentSampled!==void 0?t.parentSampled?Math.random()*i:i+Math.random()*(1-i):Math.random()}const y8=0,kN=1;let w2=!1;function zq(t){const{spanId:e,traceId:n}=t.spanContext(),{data:i,op:r,parent_span_id:s,status:a,origin:o,links:l}=Ci(t);return{parent_span_id:s,span_id:e,trace_id:n,data:i,op:r,status:a,origin:o,links:l}}function Hq(t){const{spanId:e,traceId:n,isRemote:i}=t.spanContext(),r=i?e:Ci(t).parent_span_id,s=fT(t).scope,a=i?s?.getPropagationContext().propagationSpanId||Bx():e;return{parent_span_id:r,span_id:a,trace_id:n}}function Vq(t){const{traceId:e,spanId:n}=t.spanContext(),i=jm(t);return _8(e,n,i)}function v8(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:n,traceFlags:i,...r},attributes:s})=>({span_id:e,trace_id:n,sampled:i===kN,attributes:s,...r}))}function pm(t){return typeof t=="number"?T2(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?T2(t.getTime()):Zs()}function T2(t){return t>9999999999?t/1e3:t}function Ci(t){if(Wq(t))return t.getSpanJSON();const{spanId:e,traceId:n}=t.spanContext();if(Gq(t)){const{attributes:i,startTime:r,name:s,endTime:a,status:o,links:l}=t,f="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0;return{span_id:e,trace_id:n,data:i,description:s,parent_span_id:f,start_timestamp:pm(r),timestamp:pm(a)||void 0,status:b8(o),op:i[zf],origin:i[fs],links:v8(l)}}return{span_id:e,trace_id:n,start_timestamp:0,data:{}}}function Gq(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}function Wq(t){return typeof t.getSpanJSON=="function"}function jm(t){const{traceFlags:e}=t.spanContext();return e===kN}function b8(t){if(!(!t||t.code===Dq))return t.code===f8?"ok":t.message||"unknown_error"}const mm="_sentryChildSpans",_R="_sentryRootSpan";function x8(t,e){const n=t[_R]||t;cu(e,_R,n),t[mm]?t[mm].add(e):cu(t,mm,new Set([e]))}function jq(t,e){t[mm]&&t[mm].delete(e)}function Pw(t){const e=new Set;function n(i){if(!e.has(i)&&jm(i)){e.add(i);const r=i[mm]?Array.from(i[mm]):[];for(const s of r)n(s)}}return n(t),Array.from(e)}function xa(t){return t[_R]||t}function to(){const t=Vm(),e=G_(t);return e.getActiveSpan?e.getActiveSpan():lT(Ui())}function yR(){w2||(Gm(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),w2=!0)}let M2=!1;function qq(){if(M2)return;function t(){const e=to(),n=e&&xa(e);if(n){const i="internal_error";sn&&Lt.log(`[Tracing] Root span: ${i} -> Global error occurred`),n.setStatus({code:bs,message:i})}}t.tag="sentry_tracingErrorCallback",M2=!0,J5(t),e8(t)}function Sh(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=t||mi()?.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}const PN="production",$q=/^o(\d+)\./,Xq=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Yq(t){return t==="http"||t==="https"}function Vx(t,e=!1){const{host:n,path:i,pass:r,port:s,projectId:a,protocol:o,publicKey:l}=t;return`${o}://${l}${e&&r?`:${r}`:""}@${n}${s?`:${s}`:""}/${i&&`${i}/`}${a}`}function Zq(t){const e=Xq.exec(t);if(!e){Gm(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,i,r="",s="",a="",o=""]=e.slice(1);let l="",f=o;const p=f.split("/");if(p.length>1&&(l=p.slice(0,-1).join("/"),f=p.pop()),f){const g=f.match(/^\d+/);g&&(f=g[0])}return S8({host:s,pass:r,path:l,projectId:f,port:a,protocol:n,publicKey:i})}function S8(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Kq(t){if(!sn)return!0;const{port:e,projectId:n,protocol:i}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(Lt.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:n.match(/^\d+$/)?Yq(i)?e&&isNaN(parseInt(e,10))?(Lt.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Lt.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),!1):(Lt.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Qq(t){return t.match($q)?.[1]}function Jq(t){const e=typeof t=="string"?Zq(t):S8(t);if(!(!e||!Kq(e)))return e}const E8="_frozenDsc";function Lw(t,e){cu(t,E8,e)}function w8(t,e){const n=e.getOptions(),{publicKey:i,host:r}=e.getDsn()||{};let s;n.orgId?s=String(n.orgId):r&&(s=Qq(r));const a={environment:n.environment||PN,release:n.release,public_key:i,trace_id:t,org_id:s};return e.emit("createDsc",a),a}function T8(t,e){const n=e.getPropagationContext();return n.dsc||w8(n.traceId,t)}function Hf(t){const e=mi();if(!e)return{};const n=xa(t),i=Ci(n),r=i.data,s=n.spanContext().traceState,a=s?.get("sentry.sample_rate")??r[IN]??r[c8];function o(x){return(typeof a=="number"||typeof a=="string")&&(x.sample_rate=`${a}`),x}const l=n[E8];if(l)return o(l);const f=s?.get("sentry.dsc"),p=f&&m8(f);if(p)return o(p);const g=w8(t.spanContext().traceId,e),y=r[Il],_=i.description;return y!=="url"&&_&&(g.transaction=_),Sh()&&(g.sampled=String(jm(n)),g.sample_rand=s?.get("sentry.sample_rand")??fT(n).scope?.getPropagationContext().sampleRand.toString()),o(g),e.emit("createDsc",g,n),g}class Eh{constructor(e={}){this._traceId=e.traceId||xh(),this._spanId=e.spanId||Bx()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:y8}}end(e){}setAttribute(e,n){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,n,i){return this}addLink(e){return this}addLinks(e){return this}recordException(e,n){}}function Dl(t,e=100,n=1/0){try{return vR("",t,e,n)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function M8(t,e=3,n=100*1024){const i=Dl(t,e);return i$(i)>n?M8(t,e-1,n):i}function vR(t,e,n=1/0,i=1/0,r=r$()){const[s,a]=r;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const o=e$(t,e);if(!o.startsWith("[object "))return o;if(e.__sentry_skip_normalization__)return e;const l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(l===0)return o.replace("object ","");if(s(e))return"[Circular ~]";const f=e;if(f&&typeof f.toJSON=="function")try{const _=f.toJSON();return vR("",_,l-1,i,r)}catch{}const p=Array.isArray(e)?[]:{};let g=0;const y=o8(e);for(const _ in y){if(!Object.prototype.hasOwnProperty.call(y,_))continue;if(g>=i){p[_]="[MaxProperties ~]";break}const x=y[_];p[_]=vR(_,x,l-1,i,r),g++}return a(e),p}function e$(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(i8(e))return"[VueViewModel]";if(oq(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Ff(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=t$(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function t$(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}function n$(t){return~-encodeURI(t).split(/%..|./).length}function i$(t){return n$(JSON.stringify(t))}function r$(){const t=new WeakSet;function e(i){return t.has(i)?!0:(t.add(i),!1)}function n(i){t.delete(i)}return[e,n]}function qm(t,e=[]){return[t,e]}function s$(t,e){const[n,i]=t;return[n,[...i,e]]}function C2(t,e){const n=t[1];for(const i of n){const r=i[0].type;if(e(i,r))return!0}return!1}function bR(t){const e=YM(Ai);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}function a$(t){const[e,n]=t;let i=JSON.stringify(e);function r(s){typeof i=="string"?i=typeof s=="string"?i+s:[bR(i),s]:i.push(typeof s=="string"?bR(s):s)}for(const s of n){const[a,o]=s;if(r(`
${JSON.stringify(a)}
`),typeof o=="string"||o instanceof Uint8Array)r(o);else{let l;try{l=JSON.stringify(o)}catch{l=JSON.stringify(Dl(o))}r(l)}}return typeof i=="string"?i:o$(i)}function o$(t){const e=t.reduce((r,s)=>r+s.length,0),n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}function u$(t){return[{type:"span"},t]}function l$(t){const e=typeof t.data=="string"?bR(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const c$={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function A2(t){return c$[t]}function LN(t){if(!t?.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function C8(t,e,n,i){const r=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&i&&{dsn:Vx(i)},...r&&{trace:r}}}function f$(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function d$(t,e,n,i){const r=LN(n),s={sent_at:new Date().toISOString(),...r&&{sdk:r},...!!i&&e&&{dsn:Vx(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return qm(s,[a])}function h$(t,e,n,i){const r=LN(n),s=t.type&&t.type!=="replay_event"?t.type:"event";f$(t,n?.sdk);const a=C8(t,r,i,e);return delete t.sdkProcessingMetadata,qm(a,[[{type:s},t]])}function p$(t,e){function n(p){return!!p.trace_id&&!!p.public_key}const i=Hf(t[0]),r=e?.getDsn(),s=e?.getOptions().tunnel,a={sent_at:new Date().toISOString(),...n(i)&&{trace:i},...!!s&&r&&{dsn:Vx(r)}},o=e?.getOptions().beforeSendSpan,l=o?p=>{const g=Ci(p),y=o(g);return y||(yR(),g)}:Ci,f=[];for(const p of t){const g=l(p);g&&f.push(u$(g))}return qm(a,f)}function m$(t){if(!sn)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:i}=Ci(t),{spanId:r}=t.spanContext(),s=jm(t),a=xa(t),o=a===t,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${o?"root ":""}span`,f=[`op: ${n}`,`name: ${e}`,`ID: ${r}`];if(i&&f.push(`parent ID: ${i}`),!o){const{op:p,description:g}=Ci(a);f.push(`root ID: ${a.spanContext().spanId}`),p&&f.push(`root op: ${p}`),g&&f.push(`root description: ${g}`)}Lt.log(`${l}
  ${f.join(`
  `)}`)}function g$(t){if(!sn)return;const{description:e="< unknown name >",op:n="< unknown op >"}=Ci(t),{spanId:i}=t.spanContext(),s=xa(t)===t,a=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${e}" with ID ${i}`;Lt.log(a)}function _$(t,e,n,i=to()){const r=i&&xa(i);r&&(sn&&Lt.log(`[Measurement] Setting measurement on root span: ${t} = ${e} ${n}`),r.addEvent(t,{[Hx]:e,[zx]:n}))}function D2(t){if(!t||t.length===0)return;const e={};return t.forEach(n=>{const i=n.attributes||{},r=i[zx],s=i[Hx];typeof r=="string"&&typeof s=="number"&&(e[n.name]={value:s,unit:r})}),e}const R2=1e3;class QM{constructor(e={}){this._traceId=e.traceId||xh(),this._spanId=e.spanId||Bx(),this._startTime=e.startTimestamp||Zs(),this._links=e.links,this._attributes={},this.setAttributes({[fs]:"manual",[zf]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,n){}spanContext(){const{_spanId:e,_traceId:n,_sampled:i}=this;return{spanId:e,traceId:n,traceFlags:i?kN:y8}}setAttribute(e,n){return n===void 0?delete this._attributes[e]:this._attributes[e]=n,this}setAttributes(e){return Object.keys(e).forEach(n=>this.setAttribute(n,e[n])),this}updateStartTime(e){this._startTime=pm(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Il,"custom"),this}end(e){this._endTime||(this._endTime=pm(e),g$(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[zf],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:b8(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[fs],profile_id:this._attributes[NN],exclusive_time:this._attributes[W_],measurements:D2(this._events),is_segment:this._isStandaloneSpan&&xa(this)===this||void 0,segment_id:this._isStandaloneSpan?xa(this).spanContext().spanId:void 0,links:v8(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,n,i){sn&&Lt.log("[Tracing] Adding an event to span:",e);const r=I2(n)?n:i||Zs(),s=I2(n)?{}:n||{},a={name:e,time:pm(r),attributes:s};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=mi();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===xa(this)))return;if(this._isStandaloneSpan){this._sampled?v$(p$([this],e)):(sn&&Lt.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const i=this._convertSpanToTransaction();i&&(fT(this).scope||Ui()).captureEvent(i)}_convertSpanToTransaction(){if(!N2(Ci(this)))return;this._name||(sn&&Lt.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:n}=fT(this),i=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const s=Pw(this).filter(p=>p!==this&&!y$(p)).map(p=>Ci(p)).filter(N2),a=this._attributes[Il];delete this._attributes[S2],s.forEach(p=>{delete p.data[S2]});const o={contexts:{trace:zq(this)},spans:s.length>R2?s.sort((p,g)=>p.start_timestamp-g.start_timestamp).slice(0,R2):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:n,dynamicSamplingContext:Hf(this)},request:i,...a&&{transaction_info:{source:a}}},l=D2(this._events);return l&&Object.keys(l).length&&(sn&&Lt.log("[Measurements] Adding measurements to transaction event",JSON.stringify(l,void 0,2)),o.measurements=l),o}}function I2(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}function N2(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}function y$(t){return t instanceof QM&&t.isStandaloneSpan()}function v$(t){const e=mi();if(!e)return;const n=t[1];if(!n||n.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}function b$(t,e,n=()=>{}){let i;try{i=t()}catch(r){throw e(r),n(),r}return x$(i,e,n)}function x$(t,e,n){return Fx(t)?t.then(i=>(n(),i),i=>{throw e(i),n(),i}):(n(),t)}function S$(t,e,n){if(!Sh(t))return[!1];let i,r;typeof t.tracesSampler=="function"?(r=t.tracesSampler({...e,inheritOrSampleWith:o=>typeof e.parentSampleRate=="number"?e.parentSampleRate:typeof e.parentSampled=="boolean"?Number(e.parentSampled):o}),i=!0):e.parentSampled!==void 0?r=e.parentSampled:typeof t.tracesSampleRate<"u"&&(r=t.tracesSampleRate,i=!0);const s=Am(r);if(s===void 0)return sn&&Lt.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`),[!1];if(!s)return sn&&Lt.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,i];const a=n<s;return a||sn&&Lt.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),[a,s,i]}const A8="__SENTRY_SUPPRESS_TRACING__";function E$(t,e){const n=UN();if(n.startSpan)return n.startSpan(t,e);const i=R8(t),{forceTransaction:r,parentSpan:s,scope:a}=t,o=a?.clone();return KM(o,()=>T$(s)(()=>{const f=Ui(),p=I8(f,s),y=t.onlyIfParent&&!p?new Eh:D8({parentSpan:p,spanArguments:i,forceTransaction:r,scope:f});return f_(f,y),b$(()=>e(y),()=>{const{status:_}=Ci(y);y.isRecording()&&(!_||_==="ok")&&y.setStatus({code:bs,message:"internal_error"})},()=>{y.end()})}))}function j_(t){const e=UN();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=R8(t),{forceTransaction:i,parentSpan:r}=t;return(t.scope?a=>KM(t.scope,a):r!==void 0?a=>FN(r,a):a=>a())(()=>{const a=Ui(),o=I8(a,r);return t.onlyIfParent&&!o?new Eh:D8({parentSpan:o,spanArguments:n,forceTransaction:i,scope:a})})}function FN(t,e){const n=UN();return n.withActiveSpan?n.withActiveSpan(t,e):KM(i=>(f_(i,t||void 0),e(i)))}function D8({parentSpan:t,spanArguments:e,forceTransaction:n,scope:i}){if(!Sh()){const a=new Eh;if(n||!t){const o={sampled:"false",sample_rate:"0",transaction:e.name,...Hf(a)};Lw(a,o)}return a}const r=Pc();let s;if(t&&!n)s=w$(t,i,e),x8(t,s);else if(t){const a=Hf(t),{traceId:o,spanId:l}=t.spanContext(),f=jm(t);s=O2({traceId:o,parentSpanId:l,...e},i,f),Lw(s,a)}else{const{traceId:a,dsc:o,parentSpanId:l,sampled:f}={...r.getPropagationContext(),...i.getPropagationContext()};s=O2({traceId:a,parentSpanId:l,...e},i,f),o&&Lw(s,o)}return m$(s),Iq(s,i,r),s}function R8(t){const n={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const i={...n};return i.startTimestamp=pm(t.startTime),delete i.startTime,i}return n}function UN(){const t=Vm();return G_(t)}function O2(t,e,n){const i=mi(),r=i?.getOptions()||{},{name:s=""}=t,a={spanAttributes:{...t.attributes},spanName:s,parentSampled:n};i?.emit("beforeSampling",a,{decision:!1});const o=a.parentSampled??n,l=a.spanAttributes,f=e.getPropagationContext(),[p,g,y]=e.getScopeData().sdkProcessingMetadata[A8]?[!1]:S$(r,{name:s,parentSampled:o,attributes:l,parentSampleRate:Am(f.dsc?.sample_rate)},f.sampleRand),_=new QM({...t,attributes:{[Il]:"custom",[IN]:g!==void 0&&y?g:void 0,...l},sampled:p});return!p&&i&&(sn&&Lt.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),i.recordDroppedEvent("sample_rate","transaction")),i&&i.emit("spanStart",_),_}function w$(t,e,n){const{spanId:i,traceId:r}=t.spanContext(),s=e.getScopeData().sdkProcessingMetadata[A8]?!1:jm(t),a=s?new QM({...n,parentSpanId:i,traceId:r,sampled:s}):new Eh({traceId:r});x8(t,a);const o=mi();return o&&(o.emit("spanStart",a),n.endTimestamp&&o.emit("spanEnd",a)),a}function I8(t,e){if(e)return e;if(e===null)return;const n=lT(t);if(!n)return;const i=mi();return(i?i.getOptions():{}).parentSpanIsAlwaysRootSpan?xa(n):n}function T$(t){return t!==void 0?e=>FN(t,e):e=>e()}const Fw={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},M$="heartbeatFailed",C$="idleTimeout",A$="finalTimeout",D$="externalFinish";function N8(t,e={}){const n=new Map;let i=!1,r,s=D$,a=!e.disableAutoFinish;const o=[],{idleTimeout:l=Fw.idleTimeout,finalTimeout:f=Fw.finalTimeout,childSpanTimeout:p=Fw.childSpanTimeout,beforeSpanEnd:g}=e,y=mi();if(!y||!Sh()){const O=new Eh,P={sample_rate:"0",sampled:"false",...Hf(O)};return Lw(O,P),O}const _=Ui(),x=to(),S=R$(t);S.end=new Proxy(S.end,{apply(O,P,z){if(g&&g(S),P instanceof Eh)return;const[k,...F]=z,G=k||Zs(),$=pm(G),ee=Pw(S).filter(te=>te!==S);if(!ee.length)return N($),Reflect.apply(O,P,[$,...F]);const ne=ee.map(te=>Ci(te).timestamp).filter(te=>!!te),re=ne.length?Math.max(...ne):void 0,W=Ci(S).start_timestamp,q=Math.min(W?W+f/1e3:1/0,Math.max(W||-1/0,Math.min($,re||1/0)));return N(q),Reflect.apply(O,P,[q,...F])}});function E(){r&&(clearTimeout(r),r=void 0)}function w(O){E(),r=setTimeout(()=>{!i&&n.size===0&&a&&(s=C$,S.end(O))},l)}function C(O){r=setTimeout(()=>{!i&&a&&(s=M$,S.end(O))},p)}function A(O){E(),n.set(O,!0);const P=Zs();C(P+p/1e3)}function R(O){if(n.has(O)&&n.delete(O),n.size===0){const P=Zs();w(P+l/1e3)}}function N(O){i=!0,n.clear(),o.forEach($=>$()),f_(_,x);const P=Ci(S),{start_timestamp:z}=P;if(!z)return;P.data[cT]||S.setAttribute(cT,s),Lt.log(`[Tracing] Idle span "${P.op}" finished`);const F=Pw(S).filter($=>$!==S);let G=0;F.forEach($=>{$.isRecording()&&($.setStatus({code:bs,message:"cancelled"}),$.end(O),sn&&Lt.log("[Tracing] Cancelling span since span ended early",JSON.stringify($,void 0,2)));const ee=Ci($),{timestamp:ne=0,start_timestamp:re=0}=ee,W=re<=O,q=(f+l)/1e3,te=ne-re<=q;if(sn){const se=JSON.stringify($,void 0,2);W?te||Lt.log("[Tracing] Discarding span since it finished after idle span final timeout",se):Lt.log("[Tracing] Discarding span since it happened after idle span was finished",se)}(!te||!W)&&(jq(S,$),G++)}),G>0&&S.setAttribute("sentry.idle_span_discarded_spans",G)}return o.push(y.on("spanStart",O=>{if(i||O===S||Ci(O).timestamp||O instanceof QM&&O.isStandaloneSpan())return;Pw(S).includes(O)&&A(O.spanContext().spanId)})),o.push(y.on("spanEnd",O=>{i||R(O.spanContext().spanId)})),o.push(y.on("idleSpanEnableAutoFinish",O=>{O===S&&(a=!0,w(),n.size&&C())})),e.disableAutoFinish||w(),setTimeout(()=>{i||(S.setStatus({code:bs,message:"deadline_exceeded"}),s=A$,S.end())},f),S}function R$(t){const e=j_(t);return f_(Ui(),e),sn&&Lt.log("[Tracing] Started span is an idle span"),e}const c3=0,k2=1,P2=2;function Vf(t){return new wh(e=>{e(t)})}function dT(t){return new wh((e,n)=>{n(t)})}class wh{constructor(e){this._state=c3,this._handlers=[],this._runExecutor(e)}then(e,n){return new wh((i,r)=>{this._handlers.push([!1,s=>{if(!e)i(s);else try{i(e(s))}catch(a){r(a)}},s=>{if(!n)r(s);else try{i(n(s))}catch(a){r(a)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new wh((n,i)=>{let r,s;return this.then(a=>{s=!1,r=a,e&&e()},a=>{s=!0,r=a,e&&e()}).then(()=>{if(s){i(r);return}n(r)})})}_executeHandlers(){if(this._state===c3)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===k2&&n[1](this._value),this._state===P2&&n[2](this._value),n[0]=!0)})}_runExecutor(e){const n=(s,a)=>{if(this._state===c3){if(Fx(a)){a.then(i,r);return}this._state=s,this._value=a,this._executeHandlers()}},i=s=>{n(k2,s)},r=s=>{n(P2,s)};try{e(i,r)}catch(s){r(s)}}}function xR(t,e,n,i=0){return new wh((r,s)=>{const a=t[i];if(e===null||typeof a!="function")r(e);else{const o=a({...e},n);sn&&a.id&&o===null&&Lt.log(`Event processor "${a.id}" dropped event`),Fx(o)?o.then(l=>xR(t,l,n,i+1).then(r)).then(null,s):xR(t,o,n,i+1).then(r).then(null,s)}})}function I$(t,e){const{fingerprint:n,span:i,breadcrumbs:r,sdkProcessingMetadata:s}=e;N$(t,e),i&&P$(t,i),L$(t,n),O$(t,r),k$(t,s)}function L2(t,e){const{extra:n,tags:i,user:r,contexts:s,level:a,sdkProcessingMetadata:o,breadcrumbs:l,fingerprint:f,eventProcessors:p,attachments:g,propagationContext:y,transactionName:_,span:x}=e;eE(t,"extra",n),eE(t,"tags",i),eE(t,"user",r),eE(t,"contexts",s),t.sdkProcessingMetadata=Ux(t.sdkProcessingMetadata,o,2),a&&(t.level=a),_&&(t.transactionName=_),x&&(t.span=x),l.length&&(t.breadcrumbs=[...t.breadcrumbs,...l]),f.length&&(t.fingerprint=[...t.fingerprint,...f]),p.length&&(t.eventProcessors=[...t.eventProcessors,...p]),g.length&&(t.attachments=[...t.attachments,...g]),t.propagationContext={...t.propagationContext,...y}}function eE(t,e,n){t[e]=Ux(t[e],n,1)}function N$(t,e){const{extra:n,tags:i,user:r,contexts:s,level:a,transactionName:o}=e;Object.keys(n).length&&(t.extra={...n,...t.extra}),Object.keys(i).length&&(t.tags={...i,...t.tags}),Object.keys(r).length&&(t.user={...r,...t.user}),Object.keys(s).length&&(t.contexts={...s,...t.contexts}),a&&(t.level=a),o&&t.type!=="transaction"&&(t.transaction=o)}function O$(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}function k$(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function P$(t,e){t.contexts={trace:Hq(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Hf(e),...t.sdkProcessingMetadata};const n=xa(e),i=Ci(n).description;i&&!t.transaction&&t.type==="transaction"&&(t.transaction=i)}function L$(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}let tE,F2,nE;function F$(t){const e=Ai._sentryDebugIds;if(!e)return{};const n=Object.keys(e);return nE&&n.length===F2||(F2=n.length,nE=n.reduce((i,r)=>{tE||(tE={});const s=tE[r];if(s)i[s[0]]=s[1];else{const a=t(r);for(let o=a.length-1;o>=0;o--){const f=a[o]?.filename,p=e[r];if(f&&p){i[f]=p,tE[r]=[f,p];break}}}return i},{})),nE}function O8(t,e,n,i,r,s){const{normalizeDepth:a=3,normalizeMaxBreadth:o=1e3}=t,l={...e,event_id:e.event_id||n.event_id||su(),timestamp:e.timestamp||Wm()},f=n.integrations||t.integrations.map(E=>E.name);U$(l,t),H$(l,f),r&&r.emit("applyFrameMetadata",e),e.type===void 0&&B$(l,t.stackParser);const p=G$(i,n.captureContext);n.mechanism&&l_(l,n.mechanism);const g=r?r.getEventProcessors():[],y=Mq().getScopeData();if(s){const E=s.getScopeData();L2(y,E)}if(p){const E=p.getScopeData();L2(y,E)}const _=[...n.attachments||[],...y.attachments];_.length&&(n.attachments=_),I$(l,y);const x=[...g,...y.eventProcessors];return xR(x,l,n).then(E=>(E&&z$(E),typeof a=="number"&&a>0?V$(E,a,o):E))}function U$(t,e){const{environment:n,release:i,dist:r,maxValueLength:s=250}=e;t.environment=t.environment||n||PN,!t.release&&i&&(t.release=i),!t.dist&&r&&(t.dist=r);const a=t.request;a?.url&&(a.url=uT(a.url,s))}function B$(t,e){const n=F$(e);t.exception?.values?.forEach(i=>{i.stacktrace?.frames?.forEach(r=>{r.filename&&(r.debug_id=n[r.filename])})})}function z$(t){const e={};if(t.exception?.values?.forEach(i=>{i.stacktrace?.frames?.forEach(r=>{r.debug_id&&(r.abs_path?e[r.abs_path]=r.debug_id:r.filename&&(e[r.filename]=r.debug_id),delete r.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([i,r])=>{n.push({type:"sourcemap",code_file:i,debug_id:r})})}function H$(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function V$(t,e,n){if(!t)return null;const i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(r=>({...r,...r.data&&{data:Dl(r.data,e,n)}}))},...t.user&&{user:Dl(t.user,e,n)},...t.contexts&&{contexts:Dl(t.contexts,e,n)},...t.extra&&{extra:Dl(t.extra,e,n)}};return t.contexts?.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=Dl(t.contexts.trace.data,e,n))),t.spans&&(i.spans=t.spans.map(r=>({...r,...r.data&&{data:Dl(r.data,e,n)}}))),t.contexts?.flags&&i.contexts&&(i.contexts.flags=Dl(t.contexts.flags,3,n)),i}function G$(t,e){if(!e)return t;const n=t?t.clone():new Bf;return n.update(e),n}function k8(t,e){return Ui().captureException(t,void 0)}function P8(t,e){return Ui().captureEvent(t,e)}function L8(t,e){Pc().setContext(t,e)}function W$(){const t=mi();return t?.getOptions().enabled!==!1&&!!t?.getTransport()}function j$(t){Pc().addEventProcessor(t)}function U2(t){const e=Pc(),n=Ui(),{userAgent:i}=Ai.navigator||{},r=gq({user:n.getUser()||e.getUser(),...i&&{userAgent:i},...t}),s=e.getSession();return s?.status==="ok"&&c_(s,{status:"exited"}),F8(),e.setSession(r),r}function F8(){const t=Pc(),n=Ui().getSession()||t.getSession();n&&_q(n),U8(),t.setSession()}function U8(){const t=Pc(),e=mi(),n=t.getSession();n&&e&&e.captureSession(n)}function B2(t=!1){if(t){F8();return}U8()}const q$="7";function $$(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function X$(t){return`${$$(t)}${t.projectId}/envelope/`}function Y$(t,e){const n={sentry_version:q$};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}function Z$(t,e,n){return e||`${X$(t)}?${Y$(t,n)}`}const z2=[];function K$(t){const e={};return t.forEach(n=>{const{name:i}=n,r=e[i];r&&!r.isDefaultInstance&&n.isDefaultInstance||(e[i]=n)}),Object.values(e)}function Q$(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(r=>{r.isDefaultInstance=!0});let i;if(Array.isArray(n))i=[...e,...n];else if(typeof n=="function"){const r=n(e);i=Array.isArray(r)?r:[r]}else i=e;return K$(i)}function J$(t,e){const n={};return e.forEach(i=>{i&&B8(t,i,n)}),n}function H2(t,e){for(const n of e)n?.afterAllSetup&&n.afterAllSetup(t)}function B8(t,e,n){if(n[e.name]){sn&&Lt.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,z2.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),z2.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const i=e.preprocessEvent.bind(e);t.on("preprocessEvent",(r,s)=>i(r,s,t))}if(typeof e.processEvent=="function"){const i=e.processEvent.bind(e),r=Object.assign((s,a)=>i(s,a,t),{id:e.name});t.addEventProcessor(r)}sn&&Lt.log(`Integration installed: ${e.name}`)}function eX(t,e,n){const i=[{type:"client_report"},{timestamp:Wm(),discarded_events:t}];return qm(e?{dsn:e}:{},[i])}function z8(t){const e=[];t.message&&e.push(t.message);try{const n=t.exception.values[t.exception.values.length-1];n?.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`))}catch{}return e}function tX(t){const{trace_id:e,parent_span_id:n,span_id:i,status:r,origin:s,data:a,op:o}=t.contexts?.trace??{};return{data:a??{},description:t.transaction,op:o,parent_span_id:n,span_id:i??"",start_timestamp:t.start_timestamp??0,status:r,timestamp:t.timestamp,trace_id:e??"",origin:s,profile_id:a?.[NN],exclusive_time:a?.[W_],measurements:t.measurements,is_segment:!0}}function nX(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[NN]:t.profile_id},...t.exclusive_time&&{[W_]:t.exclusive_time}}}},measurements:t.measurements}}const V2="Not capturing exception because it's already been captured.",G2="Discarded session because of missing or non-string release",H8=Symbol.for("SentryInternalError"),V8=Symbol.for("SentryDoNotSendEventError");function Uw(t){return{message:t,[H8]:!0}}function f3(t){return{message:t,[V8]:!0}}function W2(t){return!!t&&typeof t=="object"&&H8 in t}function j2(t){return!!t&&typeof t=="object"&&V8 in t}class iX{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Jq(e.dsn):sn&&Lt.warn("No DSN provided, client will not send events."),this._dsn){const n=Z$(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}}captureException(e,n,i){const r=su();if(v2(e))return sn&&Lt.log(V2),r;const s={event_id:r,...n};return this._process(this.eventFromException(e,s).then(a=>this._captureEvent(a,s,i))),s.event_id}captureMessage(e,n,i,r){const s={event_id:su(),...i},a=AN(e)?e:String(e),o=Gb(e)?this.eventFromMessage(a,n,s):this.eventFromException(e,s);return this._process(o.then(l=>this._captureEvent(l,s,r))),s.event_id}captureEvent(e,n,i){const r=su();if(n?.originalException&&v2(n.originalException))return sn&&Lt.log(V2),r;const s={event_id:r,...n},a=e.sdkProcessingMetadata||{},o=a.capturedSpanScope,l=a.capturedSpanIsolationScope;return this._process(this._captureEvent(e,s,o||i,l)),s.event_id}captureSession(e){this.sendSession(e),c_(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(e).then(i=>n.flush(e).then(r=>i&&r))):Vf(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];B8(this,e,this._integrations),n||H2(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let i=h$(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])i=s$(i,l$(s));const r=this.sendEnvelope(i);r&&r.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){const{release:n,environment:i=PN}=this._options;if("aggregates"in e){const s=e.attrs||{};if(!s.release&&!n){sn&&Lt.warn(G2);return}s.release=s.release||n,s.environment=s.environment||i,e.attrs=s}else{if(!e.release&&!n){sn&&Lt.warn(G2);return}e.release=e.release||n,e.environment=e.environment||i}this.emit("beforeSendSession",e);const r=d$(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,n,i=1){if(this._options.sendClientReports){const r=`${e}:${n}`;sn&&Lt.log(`Recording outcome: "${r}"${i>1?` (${i} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+i}}on(e,n){const i=this._hooks[e]=this._hooks[e]||[];return i.push(n),()=>{const r=i.indexOf(n);r>-1&&i.splice(r,1)}}emit(e,...n){const i=this._hooks[e];i&&i.forEach(r=>r(...n))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,n=>(sn&&Lt.error("Error while sending envelope:",n),n)):(sn&&Lt.error("Transport disabled"),Vf({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=J$(this,e),H2(this,e)}_updateSessionFromEvent(e,n){let i=n.level==="fatal",r=!1;const s=n.exception?.values;if(s){r=!0;for(const l of s)if(l.mechanism?.handled===!1){i=!0;break}}const a=e.status==="ok";(a&&e.errors===0||a&&i)&&(c_(e,{...i&&{status:"crashed"},errors:e.errors||Number(r||i)}),this.captureSession(e))}_isClientDoneProcessing(e){return new wh(n=>{let i=0;const r=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(i+=r,e&&i>=e&&(clearInterval(s),n(!1)))},r)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,i,r){const s=this.getOptions(),a=Object.keys(this._integrations);return!n.integrations&&a?.length&&(n.integrations=a),this.emit("preprocessEvent",e,n),e.type||r.setLastEventId(e.event_id||n.event_id),O8(s,e,n,i,this,r).then(o=>{if(o===null)return o;this.emit("postprocessEvent",o,n),o.contexts={trace:Cq(i),...o.contexts};const l=T8(this,i);return o.sdkProcessingMetadata={dynamicSamplingContext:l,...o.sdkProcessingMetadata},o})}_captureEvent(e,n={},i=Ui(),r=Pc()){return sn&&SR(e)&&Lt.log(`Captured error event \`${z8(e)[0]||"<unknown>"}\``),this._processEvent(e,n,i,r).then(s=>s.event_id,s=>{sn&&(j2(s)?Lt.log(s.message):W2(s)?Lt.warn(s.message):Lt.warn(s))})}_processEvent(e,n,i,r){const s=this.getOptions(),{sampleRate:a}=s,o=G8(e),l=SR(e),f=e.type||"error",p=`before send for type \`${f}\``,g=typeof a>"u"?void 0:Am(a);if(l&&typeof g=="number"&&Math.random()>g)return this.recordDroppedEvent("sample_rate","error"),dT(f3(`Discarding event because it's not included in the random sample (sampling rate = ${a})`));const y=f==="replay_event"?"replay":f;return this._prepareEvent(e,n,i,r).then(_=>{if(_===null)throw this.recordDroppedEvent("event_processor",y),f3("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return _;const S=sX(this,s,_,n);return rX(S,p)}).then(_=>{if(_===null){if(this.recordDroppedEvent("before_send",y),o){const w=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",w)}throw f3(`${p} returned \`null\`, will not send event.`)}const x=i.getSession()||r.getSession();if(l&&x&&this._updateSessionFromEvent(x,_),o){const E=_.sdkProcessingMetadata?.spanCountBeforeProcessing||0,w=_.spans?_.spans.length:0,C=E-w;C>0&&this.recordDroppedEvent("before_send","span",C)}const S=_.transaction_info;if(o&&S&&_.transaction!==e.transaction){const E="custom";_.transaction_info={...S,source:E}}return this.sendEvent(_,n),_}).then(null,_=>{throw j2(_)||W2(_)?_:(this.captureException(_,{data:{__sentry__:!0},originalException:_}),Uw(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${_}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,i])=>{const[r,s]=n.split(":");return{reason:r,category:s,quantity:i}})}_flushOutcomes(){sn&&Lt.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){sn&&Lt.log("No outcomes to send");return}if(!this._dsn){sn&&Lt.log("No dsn provided, will not send outcomes");return}sn&&Lt.log("Sending outcomes:",e);const n=eX(e,this._options.tunnel&&Vx(this._dsn));this.sendEnvelope(n)}}function rX(t,e){const n=`${e} must return \`null\` or a valid event.`;if(Fx(t))return t.then(i=>{if(!Wb(i)&&i!==null)throw Uw(n);return i},i=>{throw Uw(`${e} rejected with ${i}`)});if(!Wb(t)&&t!==null)throw Uw(n);return t}function sX(t,e,n,i){const{beforeSend:r,beforeSendTransaction:s,beforeSendSpan:a}=e;let o=n;if(SR(o)&&r)return r(o,i);if(G8(o)){if(a){const l=a(tX(o));if(l?o=Ux(n,nX(l)):yR(),o.spans){const f=[];for(const p of o.spans){const g=a(p);g?f.push(g):(yR(),f.push(p))}o.spans=f}}if(s){if(o.spans){const l=o.spans.length;o.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:l}}return s(o,i)}}return o}function SR(t){return t.type===void 0}function G8(t){return t.type==="transaction"}function aX(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}function oX(t,e,n,i){const r={};return e?.sdk&&(r.sdk={name:e.sdk.name,version:e.sdk.version}),n&&i&&(r.dsn=Vx(i)),qm(r,[aX(t)])}function d3(t,e){const n=uX(t)??[];if(n.length===0)return;const i=t.getOptions(),r=oX(n,i._metadata,i.tunnel,t.getDsn());W8().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(r)}function uX(t){return W8().get(t)}function W8(){return Lx("clientToLogBufferMap",()=>new WeakMap)}function lX(t,e){e.debug===!0&&(sn?Lt.enable():Gm(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Ui().update(e.initialScope);const i=new t(e);return cX(i),i.init(),i}function cX(t){Ui().setClient(t)}const j8=Symbol.for("SentryBufferFullError");function fX(t){const e=[];function n(){return t===void 0||e.length<t}function i(a){return e.splice(e.indexOf(a),1)[0]||Promise.resolve(void 0)}function r(a){if(!n())return dT(j8);const o=a();return e.indexOf(o)===-1&&e.push(o),o.then(()=>i(o)).then(null,()=>i(o).then(null,()=>{})),o}function s(a){return new wh((o,l)=>{let f=e.length;if(!f)return o(!0);const p=setTimeout(()=>{a&&a>0&&o(!1)},a);e.forEach(g=>{Vf(g).then(()=>{--f||(clearTimeout(p),o(!0))},l)})})}return{$:e,add:r,drain:s}}const dX=60*1e3;function hX(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const i=Date.parse(`${t}`);return isNaN(i)?dX:i-e}function pX(t,e){return t[e]||t.all||0}function q8(t,e,n=Date.now()){return pX(t,e)>n}function $8(t,{statusCode:e,headers:n},i=Date.now()){const r={...t},s=n?.["x-sentry-rate-limits"],a=n?.["retry-after"];if(s)for(const o of s.trim().split(",")){const[l,f,,,p]=o.split(":",5),g=parseInt(l,10),y=(isNaN(g)?60:g)*1e3;if(!f)r.all=i+y;else for(const _ of f.split(";"))_==="metric_bucket"?(!p||p.split(";").includes("custom"))&&(r[_]=i+y):r[_]=i+y}else a?r.all=i+hX(a,i):e===429&&(r.all=i+60*1e3);return r}const mX=64;function gX(t,e,n=fX(t.bufferSize||mX)){let i={};const r=a=>n.drain(a);function s(a){const o=[];if(C2(a,(g,y)=>{const _=A2(y);q8(i,_)?t.recordDroppedEvent("ratelimit_backoff",_):o.push(g)}),o.length===0)return Vf({});const l=qm(a[0],o),f=g=>{C2(l,(y,_)=>{t.recordDroppedEvent(g,A2(_))})},p=()=>e({body:a$(l)}).then(g=>(g.statusCode!==void 0&&(g.statusCode<200||g.statusCode>=300)&&sn&&Lt.warn(`Sentry responded with status code ${g.statusCode} to sent event.`),i=$8(i,g),g),g=>{throw f("network_error"),sn&&Lt.error("Encountered error running transport request:",g),g});return n.add(p).then(g=>g,g=>{if(g===j8)return sn&&Lt.error("Skipped sending event because buffer is full."),f("queue_overflow"),Vf({});throw g})}return{send:s,flush:r}}function _X(t,e){const n=e?.getDsn(),i=e?.getOptions().tunnel;return vX(t,n)||yX(t,i)}function yX(t,e){return e?q2(t)===q2(e):!1}function vX(t,e){return e?t.includes(e.host):!1}function q2(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function bX(t){t.user?.ip_address===void 0&&(t.user={...t.user,ip_address:"{{auto}}"})}function xX(t){"aggregates"in t?t.attrs?.ip_address===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}function X8(t,e,n=[e],i="npm"){const r=t._metadata||{};r.sdk||(r.sdk={name:`sentry.javascript.${e}`,packages:n.map(s=>({name:`${i}:@sentry/${s}`,version:hm})),version:hm}),t._metadata=r}function Y8(t={}){const e=t.client||mi();if(!W$()||!e)return{};const n=Vm(),i=G_(n);if(i.getTraceData)return i.getTraceData(t);const r=t.scope||Ui(),s=t.span||to(),a=s?Vq(s):SX(r),o=s?Hf(s):T8(e,r),l=kq(o);return g8.test(a)?{"sentry-trace":a,baggage:l}:(Lt.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function SX(t){const{traceId:e,sampled:n,propagationSpanId:i}=t.getPropagationContext();return _8(e,i,n)}function EX(t,e,n){let i,r,s;const a=n?.maxWait?Math.max(n.maxWait,e):0,o=n?.setTimeoutImpl||setTimeout;function l(){return f(),i=t(),i}function f(){r!==void 0&&clearTimeout(r),s!==void 0&&clearTimeout(s),r=s=void 0}function p(){return r!==void 0||s!==void 0?l():i}function g(){return r&&clearTimeout(r),r=o(l,e),a&&s===void 0&&(s=o(l,a)),i}return g.cancel=f,g.flush=p,g}const wX=100;function Th(t,e){const n=mi(),i=Pc();if(!n)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:s=wX}=n.getOptions();if(s<=0)return;const o={timestamp:Wm(),...t},l=r?Gm(()=>r(o,e)):o;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,e),i.addBreadcrumb(l,s))}let $2;const TX="FunctionToString",X2=new WeakMap,MX=(()=>({name:TX,setupOnce(){$2=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=RN(this),n=X2.has(mi())&&e!==void 0?e:this;return $2.apply(n,t)}}catch{}},setup(t){X2.set(t,!0)}})),CX=MX,AX=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],DX="EventFilters",RX=(t={})=>{let e;return{name:DX,setup(n){const i=n.getOptions();e=Y2(t,i)},processEvent(n,i,r){if(!e){const s=r.getOptions();e=Y2(t,s)}return NX(n,e)?null:n}}},IX=((t={})=>({...RX(t),name:"InboundFilters"}));function Y2(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:AX],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function NX(t,e){if(t.type){if(t.type==="transaction"&&kX(t,e.ignoreTransactions))return sn&&Lt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${nm(t)}`),!0}else{if(OX(t,e.ignoreErrors))return sn&&Lt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${nm(t)}`),!0;if(UX(t))return sn&&Lt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${nm(t)}`),!0;if(PX(t,e.denyUrls))return sn&&Lt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${nm(t)}.
Url: ${hT(t)}`),!0;if(!LX(t,e.allowUrls))return sn&&Lt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${nm(t)}.
Url: ${hT(t)}`),!0}return!1}function OX(t,e){return e?.length?z8(t).some(n=>Nf(n,e)):!1}function kX(t,e){if(!e?.length)return!1;const n=t.transaction;return n?Nf(n,e):!1}function PX(t,e){if(!e?.length)return!1;const n=hT(t);return n?Nf(n,e):!1}function LX(t,e){if(!e?.length)return!0;const n=hT(t);return n?Nf(n,e):!0}function FX(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function hT(t){try{const n=[...t.exception?.values??[]].reverse().find(i=>i.mechanism?.parent_id===void 0&&i.stacktrace?.frames?.length)?.stacktrace?.frames;return n?FX(n):null}catch{return sn&&Lt.error(`Cannot extract url for event ${nm(t)}`),null}}function UX(t){return t.exception?.values?.length?!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value):!1}function BX(t,e,n,i,r,s){if(!r.exception?.values||!s||!Uf(s.originalException,Error))return;const a=r.exception.values.length>0?r.exception.values[r.exception.values.length-1]:void 0;a&&(r.exception.values=ER(t,e,i,s.originalException,n,r.exception.values,a,0))}function ER(t,e,n,i,r,s,a,o){if(s.length>=n+1)return s;let l=[...s];if(Uf(i[r],Error)){Z2(a,o);const f=t(e,i[r]),p=l.length;K2(f,r,p,o),l=ER(t,e,n,i[r],r,[f,...l],f,p)}return Array.isArray(i.errors)&&i.errors.forEach((f,p)=>{if(Uf(f,Error)){Z2(a,o);const g=t(e,f),y=l.length;K2(g,`errors[${p}]`,y,o),l=ER(t,e,n,f,r,[g,...l],g,y)}}),l}function Z2(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function K2(t,e,n,i){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:i}}function zX(t){const e="console";zh(e,t),Hh(e,HX)}function HX(){"console"in Ai&&$j.forEach(function(t){t in Ai.console&&Ro(Ai.console,t,function(e){return oT[t]=e,function(...n){$u("console",{args:n,level:t}),oT[t]?.apply(Ai.console,n)}})})}function Z8(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}const VX="Dedupe",GX=(()=>{let t;return{name:VX,processEvent(e){if(e.type)return e;try{if(jX(e,t))return sn&&Lt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}}),WX=GX;function jX(t,e){return e?!!(qX(t,e)||$X(t,e)):!1}function qX(t,e){const n=t.message,i=e.message;return!(!n&&!i||n&&!i||!n&&i||n!==i||!Q8(t,e)||!K8(t,e))}function $X(t,e){const n=Q2(e),i=Q2(t);return!(!n||!i||n.type!==i.type||n.value!==i.value||!Q8(t,e)||!K8(t,e))}function K8(t,e){let n=h2(t),i=h2(e);if(!n&&!i)return!0;if(n&&!i||!n&&i||(n=n,i=i,i.length!==n.length))return!1;for(let r=0;r<i.length;r++){const s=i[r],a=n[r];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}function Q8(t,e){let n=t.fingerprint,i=e.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return n.join("")===i.join("")}catch{return!1}}function Q2(t){return t.exception?.values?.[0]}const XX="thismessage:/";function J8(t){return"isRelative"in t}function eU(t,e){const n=t.indexOf("://")<=0&&t.indexOf("//")!==0,i=n?XX:void 0;try{if("canParse"in URL&&!URL.canParse(t,i))return;const r=new URL(t,i);return n?{isRelative:n,pathname:r.pathname,search:r.search,hash:r.hash}:r}catch{}}function YX(t){if(J8(t))return t.pathname;const e=new URL(t);return e.search="",e.hash="",["80","443"].includes(e.port)&&(e.port=""),e.password&&(e.password="%filtered%"),e.username&&(e.username="%filtered%"),e.toString()}function gm(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:i,relative:e[5]+n+i}}function ZX(t){return t.split(/[?#]/,1)[0]}function KX(t,e,n,i,r="auto.http.browser"){if(!t.fetchData)return;const{method:s,url:a}=t.fetchData,o=Sh()&&e(a);if(t.endTimestamp&&o){const g=t.fetchData.__span;if(!g)return;const y=i[g];y&&(JX(y,t),delete i[g]);return}const l=!!to(),f=o&&l?j_(tY(a,s,r)):new Eh;if(t.fetchData.__span=f.spanContext().spanId,i[f.spanContext().spanId]=f,n(t.fetchData.url)){const g=t.args[0],y=t.args[1]||{},_=QX(g,y,Sh()&&l?f:void 0);_&&(t.args[1]=y,y.headers=_)}const p=mi();if(p){const g={input:t.args,response:t.response,startTimestamp:t.startTimestamp,endTimestamp:t.endTimestamp};p.emit("beforeOutgoingRequestSpan",f,g)}return f}function QX(t,e,n){const i=Y8({span:n}),r=i["sentry-trace"],s=i.baggage;if(!r)return;const a=e.headers||(r8(t)?t.headers:void 0);if(a)if(eY(a)){const o=new Headers(a);if(o.get("sentry-trace")||o.set("sentry-trace",r),s){const l=o.get("baggage");l?iE(l)||o.set("baggage",`${l},${s}`):o.set("baggage",s)}return o}else if(Array.isArray(a)){const o=[...a];a.find(f=>f[0]==="sentry-trace")||o.push(["sentry-trace",r]);const l=a.find(f=>f[0]==="baggage"&&iE(f[1]));return s&&!l&&o.push(["baggage",s]),o}else{const o="sentry-trace"in a?a["sentry-trace"]:void 0,l="baggage"in a?a.baggage:void 0,f=l?Array.isArray(l)?[...l]:[l]:[],p=l&&(Array.isArray(l)?l.find(g=>iE(g)):iE(l));return s&&!p&&f.push(s),{...a,"sentry-trace":o??r,baggage:f.length>0?f.join(","):void 0}}else return{...i}}function JX(t,e){if(e.response){d8(t,e.response.status);const n=e.response?.headers?.get("content-length");if(n){const i=parseInt(n);i>0&&t.setAttribute("http.response_content_length",i)}}else e.error&&t.setStatus({code:bs,message:"internal_error"});t.end()}function iE(t){return t.split(",").some(e=>e.trim().startsWith(ON))}function eY(t){return typeof Headers<"u"&&Uf(t,Headers)}function tY(t,e,n){const i=eU(t);return{name:i?`${e} ${YX(i)}`:e,attributes:nY(t,i,e,n)}}function nY(t,e,n,i){const r={url:t,type:"fetch","http.method":n,[fs]:i,[zf]:"http.client"};return e&&(J8(e)||(r["http.url"]=e.href,r["server.address"]=e.host),e.search&&(r["http.query"]=e.search),e.hash&&(r["http.fragment"]=e.hash)),r}function tU(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}const jb=Ai;function iY(){return"history"in jb&&!!jb.history}function rY(){if(!("fetch"in jb))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function wR(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function sY(){if(typeof EdgeRuntime=="string")return!0;if(!rY())return!1;if(wR(jb.fetch))return!0;let t=!1;const e=jb.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow?.fetch&&(t=wR(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){sn&&Lt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}function nU(t,e){const n="fetch";zh(n,t),Hh(n,()=>iU(void 0,e))}function aY(t){const e="fetch-body-resolved";zh(e,t),Hh(e,()=>iU(uY))}function iU(t,e=!1){e&&!sY()||Ro(Ai,"fetch",function(n){return function(...i){const r=new Error,{method:s,url:a}=lY(i),o={args:i,fetchData:{method:s,url:a},startTimestamp:Zs()*1e3,virtualError:r,headers:cY(i)};return t||$u("fetch",{...o}),n.apply(Ai,i).then(async l=>(t?t(l):$u("fetch",{...o,endTimestamp:Zs()*1e3,response:l}),l),l=>{if($u("fetch",{...o,endTimestamp:Zs()*1e3,error:l}),CN(l)&&l.stack===void 0&&(l.stack=r.stack,cu(l,"framesToPop",1)),l instanceof TypeError&&(l.message==="Failed to fetch"||l.message==="Load failed"||l.message==="NetworkError when attempting to fetch resource."))try{const f=new URL(o.fetchData.url);l.message=`${l.message} (${f.host})`}catch{}throw l})}})}async function oY(t,e){if(t?.body){const n=t.body,i=n.getReader(),r=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let a;try{a=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:o}=await i.read();clearTimeout(a),o&&(e(),s=!1)}catch{s=!1}finally{clearTimeout(a)}}clearTimeout(r),i.releaseLock(),n.cancel().then(null,()=>{})}}function uY(t){let e;try{e=t.clone()}catch{return}oY(e,()=>{$u("fetch-body-resolved",{endTimestamp:Zs()*1e3,response:t})})}function TR(t,e){return!!t&&typeof t=="object"&&!!t[e]}function J2(t){return typeof t=="string"?t:t?TR(t,"url")?t.url:t.toString?t.toString():"":""}function lY(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,i]=t;return{url:J2(n),method:TR(i,"method")?String(i.method).toUpperCase():"GET"}}const e=t[0];return{url:J2(e),method:TR(e,"method")?String(e.method).toUpperCase():"GET"}}function cY(t){const[e,n]=t;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(r8(e))return new Headers(e.headers)}catch{}}function fY(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function dY(){return"npm"}function hY(){return!fY()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function eP(){return typeof window<"u"&&(!hY()||pY())}function pY(){return Ai.process?.type==="renderer"}const bi=Ai;let MR=0;function rU(){return MR>0}function mY(){MR++,setTimeout(()=>{MR--})}function h_(t,e={}){function n(r){return typeof r=="function"}if(!n(t))return t;try{const r=t.__sentry_wrapped__;if(r)return typeof r=="function"?r:t;if(RN(t))return t}catch{return t}const i=function(...r){try{const s=r.map(a=>h_(a,e));return t.apply(this,s)}catch(s){throw mY(),KM(a=>{a.addEventProcessor(o=>(e.mechanism&&(mR(o,void 0),l_(o,e.mechanism)),o.extra={...o.extra,arguments:r},o)),k8(s)}),s}};try{for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}catch{}a8(i,t),cu(t,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get(){return t.name}})}catch{}return i}function BN(){const t=V_(),{referrer:e}=bi.document||{},{userAgent:n}=bi.navigator||{},i={...e&&{Referer:e},...n&&{"User-Agent":n}};return{url:t,headers:i}}function zN(t,e){const n=HN(t,e),i={type:bY(e),value:xY(e)};return n.length&&(i.stacktrace={frames:n}),i.type===void 0&&i.value===""&&(i.value="Unrecoverable error caught"),i}function gY(t,e,n,i){const s=mi()?.getOptions().normalizeDepth,a=MY(e),o={__serialized__:M8(e,s)};if(a)return{exception:{values:[zN(t,a)]},extra:o};const l={exception:{values:[{type:ZM(e)?e.constructor.name:i?"UnhandledRejection":"Error",value:wY(e,{isUnhandledRejection:i})}]},extra:o};if(n){const f=HN(t,n);f.length&&(l.exception.values[0].stacktrace={frames:f})}return l}function h3(t,e){return{exception:{values:[zN(t,e)]}}}function HN(t,e){const n=e.stacktrace||e.stack||"",i=yY(e),r=vY(e);try{return t(n,i,r)}catch{}return[]}const _Y=/Minified React error #\d+;/i;function yY(t){return t&&_Y.test(t.message)?1:0}function vY(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function sU(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}function bY(t){const e=t?.name;return!e&&sU(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}function xY(t){const e=t?.message;return sU(t)?Array.isArray(t.message)&&t.message.length==2?t.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function SY(t,e,n,i){const r=n?.syntheticException||void 0,s=VN(t,e,r,i);return l_(s),s.level="error",n?.event_id&&(s.event_id=n.event_id),Vf(s)}function EY(t,e,n="info",i,r){const s=i?.syntheticException||void 0,a=CR(t,e,s,r);return a.level=n,i?.event_id&&(a.event_id=i.event_id),Vf(a)}function VN(t,e,n,i,r){let s;if(n8(e)&&e.error)return h3(t,e.error);if(m2(e)||rq(e)){const a=e;if("stack"in e)s=h3(t,e);else{const o=a.name||(m2(a)?"DOMError":"DOMException"),l=a.message?`${o}: ${a.message}`:o;s=CR(t,l,n,i),mR(s,l)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return CN(e)?h3(t,e):Wb(e)||ZM(e)?(s=gY(t,e,n,r),l_(s,{synthetic:!0}),s):(s=CR(t,e,n,i),mR(s,`${e}`),l_(s,{synthetic:!0}),s)}function CR(t,e,n,i){const r={};if(i&&n){const s=HN(t,n);s.length&&(r.exception={values:[{value:e,stacktrace:{frames:s}}]}),l_(r,{synthetic:!0})}if(AN(e)){const{__sentry_template_string__:s,__sentry_template_values__:a}=e;return r.logentry={message:s,params:a},r}return r.message=e,r}function wY(t,{isUnhandledRejection:e}){const n=fq(t),i=e?"promise rejection":"exception";return n8(t)?`Event \`ErrorEvent\` captured as ${i} with message \`${t.message}\``:ZM(t)?`Event \`${TY(t)}\` (type=${t.type}) captured as ${i}`:`Object captured as ${i} with keys: ${n}`}function TY(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}function MY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}}const CY=5e3;class AY extends iX{constructor(e){const n=DY(e),i=bi.SENTRY_SDK_SOURCE||dY();X8(n,"browser",["browser"],i),super(n);const{sendDefaultPii:r,sendClientReports:s,enableLogs:a,_experiments:o}=this._options,l=a??o?.enableLogs;bi.document&&(s||l)&&bi.document.addEventListener("visibilitychange",()=>{bi.document.visibilityState==="hidden"&&(s&&this._flushOutcomes(),l&&d3(this))}),l&&(this.on("flush",()=>{d3(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{d3(this)},CY)})),r&&(this.on("postprocessEvent",bX),this.on("beforeSendSession",xX))}eventFromException(e,n){return SY(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",i){return EY(this._options.stackParser,e,n,i,this._options.attachStacktrace)}_prepareEvent(e,n,i,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,i,r)}}function DY(t){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:bi.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t}}const p_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Bn=Ai,RY=(t,e)=>t>e[1]?"poor":t>e[0]?"needs-improvement":"good",q_=(t,e,n,i)=>{let r,s;return a=>{e.value>=0&&(a||i)&&(s=e.value-(r??0),(s||r===void 0)&&(r=e.value,e.delta=s,e.rating=RY(e.value,n),t(e)))}},IY=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Gx=(t=!0)=>{const e=Bn.performance?.getEntriesByType?.("navigation")[0];if(!t||e&&e.responseStart>0&&e.responseStart<performance.now())return e},$_=()=>Gx()?.activationStart??0,X_=(t,e=-1)=>{const n=Gx();let i="navigate";return n&&(Bn.document?.prerendering||$_()>0?i="prerender":Bn.document?.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:IY(),navigationType:i}},p3=new WeakMap;function GN(t,e){return p3.get(t)||p3.set(t,new e),p3.get(t)}class pT{constructor(){pT.prototype.__init.call(this),pT.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(e){if(e.hadRecentInput)return;const n=this._sessionEntries[0],i=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&i&&e.startTime-i.startTime<1e3&&e.startTime-n.startTime<5e3?(this._sessionValue+=e.value,this._sessionEntries.push(e)):(this._sessionValue=e.value,this._sessionEntries=[e]),this._onAfterProcessingUnexpectedShift?.(e)}}const $m=(t,e,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const i=new PerformanceObserver(r=>{Promise.resolve().then(()=>{e(r.getEntries())})});return i.observe({type:t,buffered:!0,...n}),i}}catch{}},JM=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let pb=-1;const NY=()=>Bn.document?.visibilityState==="hidden"&&!Bn.document?.prerendering?0:1/0,mT=t=>{Bn.document.visibilityState==="hidden"&&pb>-1&&(pb=t.type==="visibilitychange"?t.timeStamp:0,kY())},OY=()=>{addEventListener("visibilitychange",mT,!0),addEventListener("prerenderingchange",mT,!0)},kY=()=>{removeEventListener("visibilitychange",mT,!0),removeEventListener("prerenderingchange",mT,!0)},eC=()=>{if(Bn.document&&pb<0){const t=$_();pb=(Bn.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>t)[0]?.startTime)??NY(),OY()}return{get firstHiddenTime(){return pb}}},Wx=t=>{Bn.document?.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},PY=[1800,3e3],LY=(t,e={})=>{Wx(()=>{const n=eC(),i=X_("FCP");let r;const a=$m("paint",o=>{for(const l of o)l.name==="first-contentful-paint"&&(a.disconnect(),l.startTime<n.firstHiddenTime&&(i.value=Math.max(l.startTime-$_(),0),i.entries.push(l),r(!0)))});a&&(r=q_(t,i,PY,e.reportAllChanges))})},FY=[.1,.25],UY=(t,e={})=>{LY(JM(()=>{const n=X_("CLS",0);let i;const r=GN(e,pT),s=o=>{for(const l of o)r._processEntry(l);r._sessionValue>n.value&&(n.value=r._sessionValue,n.entries=r._sessionEntries,i())},a=$m("layout-shift",s);a&&(i=q_(t,n,FY,e.reportAllChanges),Bn.document?.addEventListener("visibilitychange",()=>{Bn.document?.visibilityState==="hidden"&&(s(a.takeRecords()),i(!0))}),Bn?.setTimeout?.(i))}))},tC=t=>{const e=n=>{(n.type==="pagehide"||Bn.document?.visibilityState==="hidden")&&t(n)};Bn.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))},BY=[100,300],zY=(t,e={})=>{Wx(()=>{const n=eC(),i=X_("FID");let r;const s=l=>{l.startTime<n.firstHiddenTime&&(i.value=l.processingStart-l.startTime,i.entries.push(l),r(!0))},a=l=>{l.forEach(s)},o=$m("first-input",a);r=q_(t,i,BY,e.reportAllChanges),o&&tC(JM(()=>{a(o.takeRecords()),o.disconnect()}))})};let aU=0,m3=1/0,rE=0;const HY=t=>{t.forEach(e=>{e.interactionId&&(m3=Math.min(m3,e.interactionId),rE=Math.max(rE,e.interactionId),aU=rE?(rE-m3)/7+1:0)})};let AR;const oU=()=>AR?aU:performance.interactionCount||0,VY=()=>{"interactionCount"in performance||AR||(AR=$m("event",HY,{type:"event",buffered:!0,durationThreshold:0}))},g3=10;let uU=0;const GY=()=>oU()-uU;class gT{constructor(){gT.prototype.__init.call(this),gT.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){uU=oU(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const e=Math.min(this._longestInteractionList.length-1,Math.floor(GY()/50));return this._longestInteractionList[e]}_processEntry(e){if(this._onBeforeProcessingEntry?.(e),!(e.interactionId||e.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let i=this._longestInteractionMap.get(e.interactionId);if(i||this._longestInteractionList.length<g3||e.duration>n._latency){if(i?e.duration>i._latency?(i.entries=[e],i._latency=e.duration):e.duration===i._latency&&e.startTime===i.entries[0].startTime&&i.entries.push(e):(i={id:e.interactionId,entries:[e],_latency:e.duration},this._longestInteractionMap.set(i.id,i),this._longestInteractionList.push(i)),this._longestInteractionList.sort((r,s)=>s._latency-r._latency),this._longestInteractionList.length>g3){const r=this._longestInteractionList.splice(g3);for(const s of r)this._longestInteractionMap.delete(s.id)}this._onAfterProcessingINPCandidate?.(i)}}}const lU=t=>{const e=Bn.requestIdleCallback||Bn.setTimeout;Bn.document?.visibilityState==="hidden"?t():(t=JM(t),e(t),tC(t))},WY=[200,500],jY=40,qY=(t,e={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Wx(()=>{VY();const n=X_("INP");let i;const r=GN(e,gT),s=o=>{lU(()=>{for(const f of o)r._processEntry(f);const l=r._estimateP98LongestInteraction();l&&l._latency!==n.value&&(n.value=l._latency,n.entries=l.entries,i())})},a=$m("event",s,{durationThreshold:e.durationThreshold??jY});i=q_(t,n,WY,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),tC(()=>{s(a.takeRecords()),i(!0)}))})};class $Y{_processEntry(e){this._onBeforeProcessingEntry?.(e)}}const XY=[2500,4e3],YY=(t,e={})=>{Wx(()=>{const n=eC(),i=X_("LCP");let r;const s=GN(e,$Y),a=l=>{e.reportAllChanges||(l=l.slice(-1));for(const f of l)s._processEntry(f),f.startTime<n.firstHiddenTime&&(i.value=Math.max(f.startTime-$_(),0),i.entries=[f],r())},o=$m("largest-contentful-paint",a);if(o){r=q_(t,i,XY,e.reportAllChanges);const l=JM(()=>{a(o.takeRecords()),o.disconnect(),r(!0)});for(const f of["keydown","click","visibilitychange"])Bn.document&&addEventListener(f,()=>lU(l),{capture:!0,once:!0})}})},ZY=[800,1800],DR=t=>{Bn.document?.prerendering?Wx(()=>DR(t)):Bn.document?.readyState!=="complete"?addEventListener("load",()=>DR(t),!0):setTimeout(t)},KY=(t,e={})=>{const n=X_("TTFB"),i=q_(t,n,ZY,e.reportAllChanges);DR(()=>{const r=Gx();r&&(n.value=Math.max(r.responseStart-$_(),0),n.entries=[r],i(!0))})},mb={},_T={};let cU,fU,dU,hU,pU;function WN(t,e=!1){return jx("cls",t,JY,cU,e)}function jN(t,e=!1){return jx("lcp",t,tZ,dU,e)}function mU(t){return jx("fid",t,eZ,fU)}function QY(t){return jx("ttfb",t,nZ,hU)}function gU(t){return jx("inp",t,iZ,pU)}function Dm(t,e){return _U(t,e),_T[t]||(rZ(t),_T[t]=!0),yU(t,e)}function Y_(t,e){const n=mb[t];if(n?.length)for(const i of n)try{i(e)}catch(r){p_&&Lt.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ff(i)}
Error:`,r)}}function JY(){return UY(t=>{Y_("cls",{metric:t}),cU=t},{reportAllChanges:!0})}function eZ(){return zY(t=>{Y_("fid",{metric:t}),fU=t})}function tZ(){return YY(t=>{Y_("lcp",{metric:t}),dU=t},{reportAllChanges:!0})}function nZ(){return KY(t=>{Y_("ttfb",{metric:t}),hU=t})}function iZ(){return qY(t=>{Y_("inp",{metric:t}),pU=t})}function jx(t,e,n,i,r=!1){_U(t,e);let s;return _T[t]||(s=n(),_T[t]=!0),i&&e({metric:i}),yU(t,e,r?s:void 0)}function rZ(t){const e={};t==="event"&&(e.durationThreshold=0),$m(t,n=>{Y_(t,{entries:n})},e)}function _U(t,e){mb[t]=mb[t]||[],mb[t].push(e)}function yU(t,e,n){return()=>{n&&n();const i=mb[t];if(!i)return;const r=i.indexOf(e);r!==-1&&i.splice(r,1)}}function sZ(t){return"duration"in t}function _3(t){return typeof t=="number"&&isFinite(t)}function Gf(t,e,n,{...i}){const r=Ci(t).start_timestamp;return r&&r>e&&typeof t.updateStartTime=="function"&&t.updateStartTime(e),FN(t,()=>{const s=j_({startTime:e,...i});return s&&s.end(n),s})}function qN(t){const e=mi();if(!e)return;const{name:n,transaction:i,attributes:r,startTime:s}=t,{release:a,environment:o,sendDefaultPii:l}=e.getOptions(),p=e.getIntegrationByName("Replay")?.getReplayId(),g=Ui(),y=g.getUser(),_=y!==void 0?y.email||y.id||y.ip_address:void 0;let x;try{x=g.getScopeData().contexts.profile.profile_id}catch{}const S={release:a,environment:o,user:_||void 0,profile_id:x||void 0,replay_id:p||void 0,transaction:i,"user_agent.original":Bn.navigator?.userAgent,"client.address":l?"{{auto}}":void 0,...r};return j_({name:n,attributes:S,startTime:s,experimental:{standalone:!0}})}function nC(){return Bn.addEventListener&&Bn.performance}function mr(t){return t/1e3}function vU(t){let e="unknown",n="unknown",i="";for(const r of t){if(r==="/"){[e,n]=t.split("/");break}if(!isNaN(Number(r))){e=i==="h"?"http":i,n=t.split(i)[1];break}i+=r}return i===t&&(e=i),{name:e,version:n}}function bU(t){try{return PerformanceObserver.supportedEntryTypes.includes(t)}catch{return!1}}function xU(t,e){let n,i=!1;function r(o){!i&&n&&e(o,n),i=!0}tC(()=>{r("pagehide")});const s=t.on("beforeStartNavigationSpan",(o,l)=>{l?.isRedirect||(r("navigation"),s?.(),a?.())}),a=t.on("afterStartPageLoadSpan",o=>{n=o.spanContext().spanId,a?.()})}function aZ(t){let e=0,n;if(!bU("layout-shift"))return;const i=WN(({metric:r})=>{const s=r.entries[r.entries.length-1];s&&(e=r.value,n=s)},!0);xU(t,(r,s)=>{oZ(e,n,s,r),i()})}function oZ(t,e,n,i){p_&&Lt.log(`Sending CLS span (${t})`);const r=mr((eo()||0)+(e?.startTime||0)),s=Ui().getScopeData().transactionName,a=e?Zu(e.sources[0]?.node):"Layout shift",o={[fs]:"auto.http.browser.cls",[zf]:"ui.webvital.cls",[W_]:e?.duration||0,"sentry.pageload.span_id":n,"sentry.report_event":i};e?.sources&&e.sources.forEach((f,p)=>{o[`cls.source.${p+1}`]=Zu(f.node)});const l=qN({name:a,transaction:s,attributes:o,startTime:r});l&&(l.addEvent("cls",{[zx]:"",[Hx]:t}),l.end(r))}function uZ(t){let e=0,n;if(!bU("largest-contentful-paint"))return;const i=jN(({metric:r})=>{const s=r.entries[r.entries.length-1];s&&(e=r.value,n=s)},!0);xU(t,(r,s)=>{lZ(e,n,s,r),i()})}function lZ(t,e,n,i){p_&&Lt.log(`Sending LCP span (${t})`);const r=mr((eo()||0)+(e?.startTime||0)),s=Ui().getScopeData().transactionName,a=e?Zu(e.element):"Largest contentful paint",o={[fs]:"auto.http.browser.lcp",[zf]:"ui.webvital.lcp",[W_]:0,"sentry.pageload.span_id":n,"sentry.report_event":i};e&&(e.element&&(o["lcp.element"]=Zu(e.element)),e.id&&(o["lcp.id"]=e.id),e.url&&(o["lcp.url"]=e.url.trim().slice(0,200)),e.loadTime!=null&&(o["lcp.loadTime"]=e.loadTime),e.renderTime!=null&&(o["lcp.renderTime"]=e.renderTime),e.size!=null&&(o["lcp.size"]=e.size));const l=qN({name:a,transaction:s,attributes:o,startTime:r});l&&(l.addEvent("lcp",{[zx]:"millisecond",[Hx]:t}),l.end(r))}const cZ=2147483647;let tP=0,$s={},wo,yT;function fZ({recordClsStandaloneSpans:t,recordLcpStandaloneSpans:e,client:n}){const i=nC();if(i&&eo()){i.mark&&Bn.performance.mark("sentry-tracing-init");const r=_Z(),s=e?uZ(n):gZ(),a=yZ(),o=t?aZ(n):mZ();return()=>{r(),s?.(),a(),o?.()}}return()=>{}}function dZ(){Dm("longtask",({entries:t})=>{const e=to();if(!e)return;const{op:n,start_timestamp:i}=Ci(e);for(const r of t){const s=mr(eo()+r.startTime),a=mr(r.duration);n==="navigation"&&i&&s<i||Gf(e,s,s+a,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[fs]:"auto.ui.browser.metrics"}})}})}function hZ(){new PerformanceObserver(e=>{const n=to();if(n)for(const i of e.getEntries()){if(!i.scripts[0])continue;const r=mr(eo()+i.startTime),{start_timestamp:s,op:a}=Ci(n);if(a==="navigation"&&s&&r<s)continue;const o=mr(i.duration),l={[fs]:"auto.ui.browser.metrics"},f=i.scripts[0],{invoker:p,invokerType:g,sourceURL:y,sourceFunctionName:_,sourceCharPosition:x}=f;l["browser.script.invoker"]=p,l["browser.script.invoker_type"]=g,y&&(l["code.filepath"]=y),_&&(l["code.function"]=_),x!==-1&&(l["browser.script.source_char_position"]=x),Gf(n,r,r+o,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function pZ(){Dm("event",({entries:t})=>{const e=to();if(e){for(const n of t)if(n.name==="click"){const i=mr(eo()+n.startTime),r=mr(n.duration),s={name:Zu(n.target),op:`ui.interaction.${n.name}`,startTime:i,attributes:{[fs]:"auto.ui.browser.metrics"}},a=s8(n.target);a&&(s.attributes["ui.component_name"]=a),Gf(e,i,i+r,s)}}})}function mZ(){return WN(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&($s.cls={value:t.value,unit:""},yT=e)},!0)}function gZ(){return jN(({metric:t})=>{const e=t.entries[t.entries.length-1];e&&($s.lcp={value:t.value,unit:"millisecond"},wo=e)},!0)}function _Z(){return mU(({metric:t})=>{const e=t.entries[t.entries.length-1];if(!e)return;const n=mr(eo()),i=mr(e.startTime);$s.fid={value:t.value,unit:"millisecond"},$s["mark.fid"]={value:n+i,unit:"second"}})}function yZ(){return QY(({metric:t})=>{t.entries[t.entries.length-1]&&($s.ttfb={value:t.value,unit:"millisecond"})})}function vZ(t,e){const n=nC(),i=eo();if(!n?.getEntries||!i)return;const r=mr(i),s=n.getEntries(),{op:a,start_timestamp:o}=Ci(t);if(s.slice(tP).forEach(l=>{const f=mr(l.startTime),p=mr(Math.max(0,l.duration));if(!(a==="navigation"&&o&&r+f<o))switch(l.entryType){case"navigation":{SZ(t,l,r);break}case"mark":case"paint":case"measure":{bZ(t,l,f,p,r,e.ignorePerformanceApiSpans);const g=eC(),y=l.startTime<g.firstHiddenTime;l.name==="first-paint"&&y&&($s.fp={value:l.startTime,unit:"millisecond"}),l.name==="first-contentful-paint"&&y&&($s.fcp={value:l.startTime,unit:"millisecond"});break}case"resource":{TZ(t,l,l.name,f,p,r,e.ignoreResourceSpans);break}}}),tP=Math.max(s.length-1,0),MZ(t),a==="pageload"){AZ($s);const l=$s["mark.fid"];l&&$s.fid&&(Gf(t,l.value,l.value+mr($s.fid.value),{name:"first input delay",op:"ui.action",attributes:{[fs]:"auto.ui.browser.metrics"}}),delete $s["mark.fid"]),e.recordClsOnPageloadSpan||delete $s.cls,e.recordLcpOnPageloadSpan||delete $s.lcp,Object.entries($s).forEach(([f,p])=>{_$(f,p.value,p.unit)}),t.setAttribute("performance.timeOrigin",r),t.setAttribute("performance.activationStart",$_()),CZ(t,e)}wo=void 0,yT=void 0,$s={}}function bZ(t,e,n,i,r,s){if(["mark","measure"].includes(e.entryType)&&Nf(e.name,s))return;const a=Gx(!1),o=mr(a?a.requestStart:0),l=r+Math.max(n,o),f=r+n,p=f+i,g={[fs]:"auto.resource.browser.metrics"};l!==f&&(g["sentry.browser.measure_happened_before_request"]=!0,g["sentry.browser.measure_start_time"]=l),xZ(g,e),l<=p&&Gf(t,l,p,{name:e.name,op:e.entryType,attributes:g})}function xZ(t,e){try{const n=e.detail;if(!n)return;if(typeof n=="object"){for(const[i,r]of Object.entries(n))if(r&&Gb(r))t[`sentry.browser.measure.detail.${i}`]=r;else if(r!==void 0)try{t[`sentry.browser.measure.detail.${i}`]=JSON.stringify(r)}catch{}return}if(Gb(n)){t["sentry.browser.measure.detail"]=n;return}try{t["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function SZ(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{sE(t,e,i,n)}),sE(t,e,"secureConnection",n,"TLS/SSL"),sE(t,e,"fetch",n,"cache"),sE(t,e,"domainLookup",n,"DNS"),wZ(t,e,n)}function sE(t,e,n,i,r=n){const s=EZ(n),a=e[s],o=e[`${n}Start`];!o||!a||Gf(t,i+mr(o),i+mr(a),{op:`browser.${r}`,name:e.name,attributes:{[fs]:"auto.ui.browser.metrics",...n==="redirect"&&e.redirectCount!=null?{"http.redirect_count":e.redirectCount}:{}}})}function EZ(t){return t==="secureConnection"?"connectEnd":t==="fetch"?"domainLookupStart":`${t}End`}function wZ(t,e,n){const i=n+mr(e.requestStart),r=n+mr(e.responseEnd),s=n+mr(e.responseStart);e.responseEnd&&(Gf(t,i,r,{op:"browser.request",name:e.name,attributes:{[fs]:"auto.ui.browser.metrics"}}),Gf(t,s,r,{op:"browser.response",name:e.name,attributes:{[fs]:"auto.ui.browser.metrics"}}))}function TZ(t,e,n,i,r,s,a){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const o=e.initiatorType?`resource.${e.initiatorType}`:"resource.other";if(a?.includes(o))return;const l=gm(n),f={[fs]:"auto.resource.browser.metrics"};y3(f,e,"transferSize","http.response_transfer_size"),y3(f,e,"encodedBodySize","http.response_content_length"),y3(f,e,"decodedBodySize","http.decoded_response_content_length");const p=e.deliveryType;p!=null&&(f["http.response_delivery_type"]=p);const g=e.renderBlockingStatus;if(g&&(f["resource.render_blocking_status"]=g),l.protocol&&(f["url.scheme"]=l.protocol.split(":").pop()),l.host&&(f["server.address"]=l.host),f["url.same_origin"]=n.includes(Bn.location.origin),e.nextHopProtocol!=null){const{name:x,version:S}=vU(e.nextHopProtocol);f["network.protocol.name"]=x,f["network.protocol.version"]=S}const y=s+i,_=y+r;Gf(t,y,_,{name:n.replace(Bn.location.origin,""),op:o,attributes:f})}function MZ(t){const e=Bn.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&t.setAttribute("connectionType",n.type),_3(n.rtt)&&($s["connection.rtt"]={value:n.rtt,unit:"millisecond"})),_3(e.deviceMemory)&&t.setAttribute("deviceMemory",`${e.deviceMemory} GB`),_3(e.hardwareConcurrency)&&t.setAttribute("hardwareConcurrency",String(e.hardwareConcurrency))}function CZ(t,e){wo&&e.recordLcpOnPageloadSpan&&(wo.element&&t.setAttribute("lcp.element",Zu(wo.element)),wo.id&&t.setAttribute("lcp.id",wo.id),wo.url&&t.setAttribute("lcp.url",wo.url.trim().slice(0,200)),wo.loadTime!=null&&t.setAttribute("lcp.loadTime",wo.loadTime),wo.renderTime!=null&&t.setAttribute("lcp.renderTime",wo.renderTime),t.setAttribute("lcp.size",wo.size)),yT?.sources&&e.recordClsOnPageloadSpan&&yT.sources.forEach((n,i)=>t.setAttribute(`cls.source.${i+1}`,Zu(n.node)))}function y3(t,e,n,i){const r=e[n];r!=null&&r<cZ&&(t[i]=r)}function AZ(t){const e=Gx(!1);if(!e)return;const{responseStart:n,requestStart:i}=e;i<=n&&(t["ttfb.requestTime"]={value:n-i,unit:"millisecond"})}function DZ(){return nC()&&eo()?Dm("element",RZ):()=>{}}const RZ=({entries:t})=>{const e=to(),n=e?xa(e):void 0,i=n?Ci(n).description:Ui().getScopeData().transactionName;t.forEach(r=>{const s=r;if(!s.identifier)return;const a=s.name,o=s.renderTime,l=s.loadTime,[f,p]=l?[mr(l),"load-time"]:o?[mr(o),"render-time"]:[Zs(),"entry-emission"],g=a==="image-paint"?mr(Math.max(0,(o??0)-(l??0))):0,y={[fs]:"auto.ui.browser.elementtiming",[zf]:"ui.elementtiming",[Il]:"component","sentry.span_start_time_source":p,"sentry.transaction_name":i,"element.id":s.id,"element.type":s.element?.tagName?.toLowerCase()||"unknown","element.size":s.naturalWidth&&s.naturalHeight?`${s.naturalWidth}x${s.naturalHeight}`:void 0,"element.render_time":o,"element.load_time":l,"element.url":s.url||void 0,"element.identifier":s.identifier,"element.paint_type":a};E$({name:`element[${s.identifier}]`,attributes:y,startTime:f,onlyIfParent:!0},_=>{_.end(f+g)})})},IZ=1e3;let nP,RR,IR;function SU(t){zh("dom",t),Hh("dom",NZ)}function NZ(){if(!Bn.document)return;const t=$u.bind(null,"dom"),e=iP(t,!0);Bn.document.addEventListener("click",e,!1),Bn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const r=Bn[n]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(Ro(r,"addEventListener",function(s){return function(a,o,l){if(a==="click"||a=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=f[a]=f[a]||{refCount:0};if(!p.handler){const g=iP(t);p.handler=g,s.call(this,a,g,l)}p.refCount++}catch{}return s.call(this,a,o,l)}}),Ro(r,"removeEventListener",function(s){return function(a,o,l){if(a==="click"||a=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},p=f[a];p&&(p.refCount--,p.refCount<=0&&(s.call(this,a,p.handler,l),p.handler=void 0,delete f[a]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,a,o,l)}}))})}function OZ(t){if(t.type!==RR)return!1;try{if(!t.target||t.target._sentryId!==IR)return!1}catch{}return!0}function kZ(t,e){return t!=="keypress"?!1:e?.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}function iP(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const i=PZ(n);if(kZ(n.type,i))return;cu(n,"_sentryCaptured",!0),i&&!i._sentryId&&cu(i,"_sentryId",su());const r=n.type==="keypress"?"input":n.type;OZ(n)||(t({event:n,name:r,global:e}),RR=n.type,IR=i?i._sentryId:void 0),clearTimeout(nP),nP=Bn.setTimeout(()=>{IR=void 0,RR=void 0},IZ)}}function PZ(t){try{return t.target}catch{return null}}let aE;function iC(t){const e="history";zh(e,t),Hh(e,LZ)}function LZ(){if(Bn.addEventListener("popstate",()=>{const e=Bn.location.href,n=aE;if(aE=e,n===e)return;$u("history",{from:n,to:e})}),!iY())return;function t(e){return function(...n){const i=n.length>2?n[2]:void 0;if(i){const r=aE,s=FZ(String(i));if(aE=s,r===s)return e.apply(this,n);$u("history",{from:r,to:s})}return e.apply(this,n)}}Ro(Bn.history,"pushState",t),Ro(Bn.history,"replaceState",t)}function FZ(t){try{return new URL(t,Bn.location.origin).toString()}catch{return t}}const Bw={};function EU(t){const e=Bw[t];if(e)return e;let n=Bn[t];if(wR(n))return Bw[t]=n.bind(Bn);const i=Bn.document;if(i&&typeof i.createElement=="function")try{const r=i.createElement("iframe");r.hidden=!0,i.head.appendChild(r);const s=r.contentWindow;s?.[t]&&(n=s[t]),i.head.removeChild(r)}catch(r){p_&&Lt.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,r)}return n&&(Bw[t]=n.bind(Bn))}function rP(t){Bw[t]=void 0}function qx(...t){return EU("setTimeout")(...t)}const rm="__sentry_xhr_v3__";function wU(t){zh("xhr",t),Hh("xhr",UZ)}function UZ(){if(!Bn.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,i){const r=new Error,s=Zs()*1e3,a=If(i[0])?i[0].toUpperCase():void 0,o=BZ(i[1]);if(!a||!o)return e.apply(n,i);n[rm]={method:a,url:o,request_headers:{}},a==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const f=n[rm];if(f&&n.readyState===4){try{f.status_code=n.status}catch{}const p={endTimestamp:Zs()*1e3,startTimestamp:s,xhr:n,virtualError:r};$u("xhr",p)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(f,p,g){return l(),f.apply(p,g)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(f,p,g){const[y,_]=g,x=p[rm];return x&&If(y)&&If(_)&&(x.request_headers[y.toLowerCase()]=_),f.apply(p,g)}}),e.apply(n,i)}}),t.send=new Proxy(t.send,{apply(e,n,i){const r=n[rm];if(!r)return e.apply(n,i);i[0]!==void 0&&(r.body=i[0]);const s={startTimestamp:Zs()*1e3,xhr:n};return $u("xhr",s),e.apply(n,i)}})}function BZ(t){if(If(t))return t;try{return t.toString()}catch{}}function TU(t){return new URLSearchParams(t).toString()}function MU(t,e=Lt){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[TU(t)];if(!t)return[void 0]}catch(n){return p_&&e.error(n,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return p_&&e.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function CU(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}const v3=[],zw=new Map,zZ=60;function HZ(){if(nC()&&eo()){const e=VZ();return()=>{e()}}return()=>{}}const sP={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function VZ(){return gU(GZ)}const GZ=({metric:t})=>{if(t.value==null)return;const e=mr(t.value);if(e>zZ)return;const n=t.entries.find(x=>x.duration===t.value&&sP[x.name]);if(!n)return;const{interactionId:i}=n,r=sP[n.name],s=mr(eo()+n.startTime),a=to(),o=a?xa(a):void 0,f=(i!=null?zw.get(i):void 0)||o,p=f?Ci(f).description:Ui().getScopeData().transactionName,g=Zu(n.target),y={[fs]:"auto.http.browser.inp",[zf]:`ui.interaction.${r}`,[W_]:n.duration},_=qN({name:g,transaction:p,attributes:y,startTime:s});_&&(_.addEvent("inp",{[zx]:"millisecond",[Hx]:t.value}),_.end(s+e))};function WZ(){const t=({entries:e})=>{const n=to(),i=n&&xa(n);e.forEach(r=>{if(!sZ(r)||!i)return;const s=r.interactionId;if(s!=null&&!zw.has(s)){if(v3.length>10){const a=v3.shift();zw.delete(a)}v3.push(s),zw.set(s,i)}})};Dm("event",t),Dm("first-input",t)}function jZ(t,e=EU("fetch")){let n=0,i=0;function r(s){const a=s.body.length;n+=a,i++;const o={body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:n<=6e4&&i<15,...t.fetchOptions};if(!e)return rP("fetch"),dT("No fetch implementation available");try{return e(t.url,o).then(l=>(n-=a,i--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return rP("fetch"),n-=a,i--,dT(l)}}return gX(t,r)}const qZ=30,$Z=50;function NR(t,e,n,i){const r={filename:t,function:e==="<anonymous>"?Cm:e,in_app:!0};return n!==void 0&&(r.lineno=n),i!==void 0&&(r.colno=i),r}const XZ=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,YZ=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ZZ=/\((\S*)(?::(\d+))(?::(\d+))\)/,KZ=t=>{const e=XZ.exec(t);if(e){const[,i,r,s]=e;return NR(i,Cm,+r,+s)}const n=YZ.exec(t);if(n){if(n[2]&&n[2].indexOf("eval")===0){const a=ZZ.exec(n[2]);a&&(n[2]=a[1],n[3]=a[2],n[4]=a[3])}const[r,s]=AU(n[1]||Cm,n[2]);return NR(s,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},QZ=[qZ,KZ],JZ=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,eK=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tK=t=>{const e=JZ.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const s=eK.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let i=e[3],r=e[1]||Cm;return[r,i]=AU(r,i),NR(i,r,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},nK=[$Z,tK],iK=[QZ,nK],rK=Q5(...iK),AU=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,i=t.indexOf("safari-web-extension")!==-1;return n||i?[t.indexOf("@")!==-1?t.split("@")[0]:Cm,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},Ku=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,oE=1024,sK="Breadcrumbs",aK=((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:sK,setup(n){e.console&&zX(cK(n)),e.dom&&SU(lK(n,e.dom)),e.xhr&&wU(fK(n)),e.fetch&&nU(dK(n)),e.history&&iC(hK(n)),e.sentry&&n.on("beforeSendEvent",uK(n))}}}),oK=aK;function uK(t){return function(n){mi()===t&&Th({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:nm(n)},{event:n})}}function lK(t,e){return function(i){if(mi()!==t)return;let r,s,a=typeof e=="object"?e.serializeAttribute:void 0,o=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;o&&o>oE&&(Ku&&Lt.warn(`\`dom.maxStringLength\` cannot exceed ${oE}, but a value of ${o} was configured. Sentry will use ${oE} instead.`),o=oE),typeof a=="string"&&(a=[a]);try{const f=i.event,p=pK(f)?f.target:f;r=Zu(p,{keyAttrs:a,maxStringLength:o}),s=s8(p)}catch{r="<unknown>"}if(r.length===0)return;const l={category:`ui.${i.name}`,message:r};s&&(l.data={"ui.component_name":s}),Th(l,{event:i.event,name:i.name,global:i.global})}}function cK(t){return function(n){if(mi()!==t)return;const i={category:"console",data:{arguments:n.args,logger:"console"},level:Z8(n.level),message:g2(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)i.message=`Assertion failed: ${g2(n.args.slice(1)," ")||"console.assert"}`,i.data.arguments=n.args.slice(1);else return;Th(i,{input:n.args,level:n.level})}}function fK(t){return function(n){if(mi()!==t)return;const{startTimestamp:i,endTimestamp:r}=n,s=n.xhr[rm];if(!i||!r||!s)return;const{method:a,url:o,status_code:l,body:f}=s,p={method:a,url:o,status_code:l},g={xhr:n.xhr,input:f,startTimestamp:i,endTimestamp:r},y={category:"xhr",data:p,type:"http",level:tU(l)};t.emit("beforeOutgoingRequestBreadcrumb",y,g),Th(y,g)}}function dK(t){return function(n){if(mi()!==t)return;const{startTimestamp:i,endTimestamp:r}=n;if(r&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const s=n.fetchData,a={data:n.error,input:n.args,startTimestamp:i,endTimestamp:r},o={category:"fetch",data:s,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",o,a),Th(o,a)}else{const s=n.response,a={...n.fetchData,status_code:s?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,s?.status;const o={input:n.args,response:s,startTimestamp:i,endTimestamp:r},l={category:"fetch",data:a,type:"http",level:tU(a.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",l,o),Th(l,o)}}}function hK(t){return function(n){if(mi()!==t)return;let i=n.from,r=n.to;const s=gm(bi.location.href);let a=i?gm(i):void 0;const o=gm(r);a?.path||(a=s),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),Th({category:"navigation",data:{from:i,to:r}})}}function pK(t){return!!t&&!!t.target}const mK=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],gK="BrowserApiErrors",_K=((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:gK,setupOnce(){e.setTimeout&&Ro(bi,"setTimeout",aP),e.setInterval&&Ro(bi,"setInterval",aP),e.requestAnimationFrame&&Ro(bi,"requestAnimationFrame",vK),e.XMLHttpRequest&&"XMLHttpRequest"in bi&&Ro(XMLHttpRequest.prototype,"send",bK);const n=e.eventTarget;n&&(Array.isArray(n)?n:mK).forEach(r=>xK(r,e))}}}),yK=_K;function aP(t){return function(...e){const n=e[0];return e[0]=h_(n,{mechanism:{data:{function:Ff(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function vK(t){return function(e){return t.apply(this,[h_(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Ff(t)},handled:!1,type:"instrument"}})])}}function bK(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&Ro(n,r,function(s){const a={mechanism:{data:{function:r,handler:Ff(s)},handled:!1,type:"instrument"}},o=RN(s);return o&&(a.mechanism.data.handler=Ff(o)),h_(s,a)})}),t.apply(this,e)}}function xK(t,e){const i=bi[t]?.prototype;i?.hasOwnProperty?.("addEventListener")&&(Ro(i,"addEventListener",function(r){return function(s,a,o){try{SK(a)&&(a.handleEvent=h_(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ff(a),target:t},handled:!1,type:"instrument"}}))}catch{}return e.unregisterOriginalCallbacks&&EK(this,s,a),r.apply(this,[s,h_(a,{mechanism:{data:{function:"addEventListener",handler:Ff(a),target:t},handled:!1,type:"instrument"}}),o])}}),Ro(i,"removeEventListener",function(r){return function(s,a,o){try{const l=a.__sentry_wrapped__;l&&r.call(this,s,l,o)}catch{}return r.call(this,s,a,o)}}))}function SK(t){return typeof t.handleEvent=="function"}function EK(t,e,n){t&&typeof t=="object"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"&&t.removeEventListener(e,n)}const wK=()=>({name:"BrowserSession",setupOnce(){if(typeof bi.document>"u"){Ku&&Lt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}U2({ignoreDuration:!0}),B2(),iC(({from:t,to:e})=>{t!==void 0&&t!==e&&(U2({ignoreDuration:!0}),B2())})}}),TK="GlobalHandlers",MK=((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:TK,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(AK(n),oP("onerror")),e.onunhandledrejection&&(DK(n),oP("onunhandledrejection"))}}}),CK=MK;function AK(t){J5(e=>{const{stackParser:n,attachStacktrace:i}=DU();if(mi()!==t||rU())return;const{msg:r,url:s,line:a,column:o,error:l}=e,f=NK(VN(n,l||r,void 0,i,!1),s,a,o);f.level="error",P8(f,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function DK(t){e8(e=>{const{stackParser:n,attachStacktrace:i}=DU();if(mi()!==t||rU())return;const r=RK(e),s=Gb(r)?IK(r):VN(n,r,void 0,i,!0);s.level="error",P8(s,{originalException:r,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function RK(t){if(Gb(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}function IK(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function NK(t,e,n,i){const r=t.exception=t.exception||{},s=r.values=r.values||[],a=s[0]=s[0]||{},o=a.stacktrace=a.stacktrace||{},l=o.frames=o.frames||[],f=i,p=n,g=If(e)&&e.length>0?e:V_();return l.length===0&&l.push({colno:f,filename:g,function:Cm,in_app:!0,lineno:p}),t}function oP(t){Ku&&Lt.log(`Global Handler attached: ${t}`)}function DU(){return mi()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const OK=()=>({name:"HttpContext",preprocessEvent(t){if(!bi.navigator&&!bi.location&&!bi.document)return;const e=BN(),n={...e.headers,...t.request?.headers};t.request={...e,...t.request,headers:n}}}),kK="cause",PK=5,LK="LinkedErrors",FK=((t={})=>{const e=t.limit||PK,n=t.key||kK;return{name:LK,preprocessEvent(i,r,s){const a=s.getOptions();BX(zN,a.stackParser,n,e,i,r)}}}),UK=FK;function BK(){return zK()?(Ku&&Gm(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function zK(){if(typeof bi.window>"u")return!1;const t=bi;if(t.nw||!(t.chrome||t.browser)?.runtime?.id)return!1;const n=V_(),i=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(bi===bi.top&&i.some(s=>n.startsWith(`${s}://`)))}function HK(t){return[IX(),CX(),yK(),oK(),CK(),UK(),WX(),OK(),wK()]}function VK(t={}){const e=!t.skipBrowserExtensionCheck&&BK(),n={...t,enabled:e?!1:t.enabled,stackParser:eq(t.stackParser||rK),integrations:Q$({integrations:t.integrations,defaultIntegrations:t.defaultIntegrations==null?HK():t.defaultIntegrations}),transport:t.transport||jZ};return lX(AY,n)}const ir=Ai,$N="sentryReplaySession",GK="replay_event",XN="Unable to send Replay",WK=3e5,jK=9e5,qK=5e3,$K=5500,XK=6e4,YK=5e3,ZK=3,uP=15e4,uE=5e3,KK=3e3,QK=300,YN=2e7,JK=4999,eQ=15e3,lP=36e5;var tQ=Object.defineProperty,nQ=(t,e,n)=>e in t?tQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cP=(t,e,n)=>nQ(t,typeof e!="symbol"?e+"":e,n),us=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(us||{});function iQ(t){return t.nodeType===t.ELEMENT_NODE}function gb(t){return t?.host?.shadowRoot===t}function _b(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function rQ(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}function sQ(t){const{cssText:e}=t;if(e.split('"').length<3)return e;const n=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?n.push("layer"):t.layerName&&n.push(`layer(${t.layerName})`),t.supportsText&&n.push(`supports(${t.supportsText})`),t.media.length&&n.push(t.media.mediaText),n.join(" ")+";"}function vT(t){try{const e=t.rules||t.cssRules;return e?rQ(Array.from(e,RU).join("")):null}catch{return null}}function aQ(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style,r=i[n],s=i.getPropertyPriority(r);e+=`${r}:${i.getPropertyValue(r)}${s?" !important":""};`}return`${t.selectorText} { ${e} }`}function RU(t){let e;if(uQ(t))try{e=vT(t.styleSheet)||sQ(t)}catch{}else if(lQ(t)){let n=t.cssText;const i=t.selectorText.includes(":"),r=typeof t.style.all=="string"&&t.style.all;if(r&&(n=aQ(t)),i&&(n=oQ(n)),i||r)return n}return e||t.cssText}function oQ(t){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function uQ(t){return"styleSheet"in t}function lQ(t){return"selectorText"in t}class IU{constructor(){cP(this,"idNodeMap",new Map),cP(this,"nodeMetaMap",new WeakMap)}getId(e){return e?this.getMeta(e)?.id??-1:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach(i=>this.removeNodeFromMap(i))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,n){const i=n.id;this.idNodeMap.set(i,e),this.nodeMetaMap.set(e,n)}replace(e,n){const i=this.getNode(e);if(i){const r=this.nodeMetaMap.get(i);r&&this.nodeMetaMap.set(n,r)}this.idNodeMap.set(e,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function cQ(){return new IU}function rC({maskInputOptions:t,tagName:e,type:n}){return e==="OPTION"&&(e="SELECT"),!!(t[e.toLowerCase()]||n&&t[n]||n==="password"||e==="INPUT"&&!n&&t.text)}function qb({isMasked:t,element:e,value:n,maskInputFn:i}){let r=n||"";return t?(i&&(r=i(r,e)),"*".repeat(r.length)):r}function m_(t){return t.toLowerCase()}function OR(t){return t.toUpperCase()}const fP="__rrweb_original__";function fQ(t){const e=t.getContext("2d");if(!e)return!0;const n=50;for(let i=0;i<t.width;i+=n)for(let r=0;r<t.height;r+=n){const s=e.getImageData,a=fP in s?s[fP]:s;if(new Uint32Array(a.call(e,i,r,Math.min(n,t.width-i),Math.min(n,t.height-r)).data.buffer).some(l=>l!==0))return!1}return!0}function ZN(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?m_(e):null}function bT(t,e,n){return e==="INPUT"&&(n==="radio"||n==="checkbox")?t.getAttribute("value")||"":t.value}function NU(t,e){let n;try{n=new URL(t,e??window.location.href)}catch{return null}const i=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(i)?.[1]??null}const dP={};function OU(t){const e=dP[t];if(e)return e;const n=window.document;let i=window[t];if(n&&typeof n.createElement=="function")try{const r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r);const s=r.contentWindow;s&&s[t]&&(i=s[t]),n.head.removeChild(r)}catch{}return dP[t]=i.bind(window)}function kR(...t){return OU("setTimeout")(...t)}function kU(...t){return OU("clearTimeout")(...t)}function PU(t){try{return t.contentDocument}catch{}}let dQ=1;const hQ=new RegExp("[^a-z0-9-_:]"),$b=-2;function KN(){return dQ++}function pQ(t){if(t instanceof HTMLFormElement)return"form";const e=m_(t.tagName);return hQ.test(e)?"div":e}function mQ(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let ig,hP;const gQ=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,_Q=/^(?:[a-z+]+:)?\/\//i,yQ=/^www\..*/i,vQ=/^(data:)([^,]*),(.*)/i;function xT(t,e){return(t||"").replace(gQ,(n,i,r,s,a,o)=>{const l=r||a||o,f=i||s||"";if(!l)return n;if(_Q.test(l)||yQ.test(l))return`url(${f}${l}${f})`;if(vQ.test(l))return`url(${f}${l}${f})`;if(l[0]==="/")return`url(${f}${mQ(e)+l}${f})`;const p=e.split("/"),g=l.split("/");p.pop();for(const y of g)y!=="."&&(y===".."?p.pop():p.push(y));return`url(${f}${p.join("/")}${f})`})}const bQ=/^[^ \t\n\r\u000c]+/,xQ=/^[, \t\n\r\u000c]+/;function SQ(t,e){if(e.trim()==="")return e;let n=0;function i(s){let a;const o=s.exec(e.substring(n));return o?(a=o[0],n+=a.length,a):""}const r=[];for(;i(xQ),!(n>=e.length);){let s=i(bQ);if(s.slice(-1)===",")s=zg(t,s.substring(0,s.length-1)),r.push(s);else{let a="";s=zg(t,s);let o=!1;for(;;){const l=e.charAt(n);if(l===""){r.push((s+a).trim());break}else if(o)l===")"&&(o=!1);else if(l===","){n+=1,r.push((s+a).trim());break}else l==="("&&(o=!0);a+=l,n+=1}}}return r.join(", ")}const pP=new WeakMap;function zg(t,e){return!e||e.trim()===""?e:sC(t,e)}function EQ(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function sC(t,e){let n=pP.get(t);if(n||(n=t.createElement("a"),pP.set(t,n)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return n.setAttribute("href",e),n.href}function LU(t,e,n,i,r,s){return i&&(n==="src"||n==="href"&&!(e==="use"&&i[0]==="#")||n==="xlink:href"&&i[0]!=="#"||n==="background"&&(e==="table"||e==="td"||e==="th")?zg(t,i):n==="srcset"?SQ(t,i):n==="style"?xT(i,sC(t)):e==="object"&&n==="data"?zg(t,i):typeof s=="function"?s(n,i,r):i)}function FU(t,e,n){return(t==="video"||t==="audio")&&e==="autoplay"}function wQ(t,e,n,i){try{if(i&&t.matches(i))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let r=t.classList.length;r--;){const s=t.classList[r];if(e.test(s))return!0}if(n)return t.matches(n)}catch{}return!1}function TQ(t,e){for(let n=t.classList.length;n--;){const i=t.classList[n];if(e.test(i))return!0}return!1}function sm(t,e,n=1/0,i=0){return!t||t.nodeType!==t.ELEMENT_NODE||i>n?-1:e(t)?i:sm(t.parentNode,e,n,i+1)}function Hg(t,e){return n=>{const i=n;if(i===null)return!1;try{if(t){if(typeof t=="string"){if(i.matches(`.${t}`))return!0}else if(TQ(i,t))return!0}return!!(e&&i.matches(e))}catch{return!1}}}function g_(t,e,n,i,r,s){try{const a=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(a===null)return!1;if(a.tagName==="INPUT"){const f=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(f))return!0}let o=-1,l=-1;if(s){if(l=sm(a,Hg(i,r)),l<0)return!0;o=sm(a,Hg(e,n),l>=0?l:1/0)}else{if(o=sm(a,Hg(e,n)),o<0)return!1;l=sm(a,Hg(i,r),o>=0?o:1/0)}return o>=0?l>=0?o<=l:!0:l>=0?!1:!!s}catch{}return!!s}function MQ(t,e,n){const i=t.contentWindow;if(!i)return;let r=!1,s;try{s=i.document.readyState}catch{return}if(s!=="complete"){const o=kR(()=>{r||(e(),r=!0)},n);t.addEventListener("load",()=>{kU(o),r=!0,e()});return}const a="about:blank";if(i.location.href!==a||t.src===a||t.src==="")return kR(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}function CQ(t,e,n){let i=!1,r;try{r=t.sheet}catch{return}if(r)return;const s=kR(()=>{i||(e(),i=!0)},n);t.addEventListener("load",()=>{kU(s),i=!0,e()})}function AQ(t,e){const{doc:n,mirror:i,blockClass:r,blockSelector:s,unblockSelector:a,maskAllText:o,maskAttributeFn:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,inlineStylesheet:_,maskInputOptions:x={},maskTextFn:S,maskInputFn:E,dataURLOptions:w={},inlineImages:C,recordCanvas:A,keepIframeSrcFn:R,newlyAddedElement:N=!1}=e,O=DQ(n,i);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:us.Document,childNodes:[],compatMode:t.compatMode}:{type:us.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:us.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:O};case t.ELEMENT_NODE:return IQ(t,{doc:n,blockClass:r,blockSelector:s,unblockSelector:a,inlineStylesheet:_,maskAttributeFn:l,maskInputOptions:x,maskInputFn:E,dataURLOptions:w,inlineImages:C,recordCanvas:A,keepIframeSrcFn:R,newlyAddedElement:N,rootId:O,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y});case t.TEXT_NODE:return RQ(t,{doc:n,maskAllText:o,maskTextClass:f,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:y,maskTextFn:S,maskInputOptions:x,maskInputFn:E,rootId:O});case t.CDATA_SECTION_NODE:return{type:us.CDATA,textContent:"",rootId:O};case t.COMMENT_NODE:return{type:us.Comment,textContent:t.textContent||"",rootId:O};default:return!1}}function DQ(t,e){if(!e.hasNode(t))return;const n=e.getId(t);return n===1?void 0:n}function RQ(t,e){const{maskAllText:n,maskTextClass:i,unmaskTextClass:r,maskTextSelector:s,unmaskTextSelector:a,maskTextFn:o,maskInputOptions:l,maskInputFn:f,rootId:p}=e,g=t.parentNode&&t.parentNode.tagName;let y=t.textContent;const _=g==="STYLE"?!0:void 0,x=g==="SCRIPT"?!0:void 0,S=g==="TEXTAREA"?!0:void 0;if(_&&y){try{t.nextSibling||t.previousSibling||t.parentNode.sheet?.cssRules&&(y=vT(t.parentNode.sheet))}catch(w){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${w}`,t)}y=xT(y,sC(e.doc))}x&&(y="SCRIPT_PLACEHOLDER");const E=g_(t,i,s,r,a,n);if(!_&&!x&&!S&&y&&E&&(y=o?o(y,t.parentElement):y.replace(/[\S]/g,"*")),S&&y&&(l.textarea||E)&&(y=f?f(y,t.parentNode):y.replace(/[\S]/g,"*")),g==="OPTION"&&y){const w=rC({type:null,tagName:g,maskInputOptions:l});y=qb({isMasked:g_(t,i,s,r,a,w),element:t,value:y,maskInputFn:f})}return{type:us.Text,textContent:y||"",isStyle:_,rootId:p}}function IQ(t,e){const{doc:n,blockClass:i,blockSelector:r,unblockSelector:s,inlineStylesheet:a,maskInputOptions:o={},maskAttributeFn:l,maskInputFn:f,dataURLOptions:p={},inlineImages:g,recordCanvas:y,keepIframeSrcFn:_,newlyAddedElement:x=!1,rootId:S,maskTextClass:E,unmaskTextClass:w,maskTextSelector:C,unmaskTextSelector:A}=e,R=wQ(t,i,r,s),N=pQ(t);let O={};const P=t.attributes.length;for(let k=0;k<P;k++){const F=t.attributes[k];F.name&&!FU(N,F.name,F.value)&&(O[F.name]=LU(n,N,m_(F.name),F.value,t,l))}if(N==="link"&&a){const k=Array.from(n.styleSheets).find(G=>G.href===t.href);let F=null;k&&(F=vT(k)),F&&(O.rel=null,O.href=null,O.crossorigin=null,O._cssText=xT(F,k.href))}if(N==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const k=vT(t.sheet);k&&(O._cssText=xT(k,sC(n)))}if(N==="input"||N==="textarea"||N==="select"||N==="option"){const k=t,F=ZN(k),G=bT(k,OR(N),F),$=k.checked;if(F!=="submit"&&F!=="button"&&G){const ee=g_(k,E,C,w,A,rC({type:F,tagName:OR(N),maskInputOptions:o}));O.value=qb({isMasked:ee,element:k,value:G,maskInputFn:f})}$&&(O.checked=$)}if(N==="option"&&(t.selected&&!o.select?O.selected=!0:delete O.selected),N==="canvas"&&y){if(t.__context==="2d")fQ(t)||(O.rr_dataURL=t.toDataURL(p.type,p.quality));else if(!("__context"in t)){const k=t.toDataURL(p.type,p.quality),F=n.createElement("canvas");F.width=t.width,F.height=t.height;const G=F.toDataURL(p.type,p.quality);k!==G&&(O.rr_dataURL=k)}}if(N==="img"&&g){ig||(ig=n.createElement("canvas"),hP=ig.getContext("2d"));const k=t,F=k.currentSrc||k.getAttribute("src")||"<unknown-src>",G=k.crossOrigin,$=()=>{k.removeEventListener("load",$);try{ig.width=k.naturalWidth,ig.height=k.naturalHeight,hP.drawImage(k,0,0),O.rr_dataURL=ig.toDataURL(p.type,p.quality)}catch(ee){if(k.crossOrigin!=="anonymous"){k.crossOrigin="anonymous",k.complete&&k.naturalWidth!==0?$():k.addEventListener("load",$);return}else console.warn(`Cannot inline img src=${F}! Error: ${ee}`)}k.crossOrigin==="anonymous"&&(G?O.crossOrigin=G:k.removeAttribute("crossorigin"))};k.complete&&k.naturalWidth!==0?$():k.addEventListener("load",$)}if((N==="audio"||N==="video")&&(O.rr_mediaState=t.paused?"paused":"played",O.rr_mediaCurrentTime=t.currentTime),x||(t.scrollLeft&&(O.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(O.rr_scrollTop=t.scrollTop)),R){const{width:k,height:F}=t.getBoundingClientRect();O={class:O.class,rr_width:`${k}px`,rr_height:`${F}px`}}N==="iframe"&&!_(O.src)&&(!R&&!PU(t)&&(O.rr_src=O.src),delete O.src);let z;try{customElements.get(N)&&(z=!0)}catch{}return{type:us.Element,tagName:N,attributes:O,childNodes:[],isSVG:EQ(t)||void 0,needBlock:R,rootId:S,isCustom:z}}function tr(t){return t==null?"":t.toLowerCase()}function NQ(t,e){if(e.comment&&t.type===us.Comment)return!0;if(t.type===us.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&NU(t.attributes.href)==="js"))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(tr(t.attributes.name).match(/^msapplication-tile(image|color)$/)||tr(t.attributes.name)==="application-name"||tr(t.attributes.rel)==="icon"||tr(t.attributes.rel)==="apple-touch-icon"||tr(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&tr(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(tr(t.attributes.property).match(/^(og|twitter|fb):/)||tr(t.attributes.name).match(/^(og|twitter):/)||tr(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(tr(t.attributes.name)==="robots"||tr(t.attributes.name)==="googlebot"||tr(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(tr(t.attributes.name)==="author"||tr(t.attributes.name)==="generator"||tr(t.attributes.name)==="framework"||tr(t.attributes.name)==="publisher"||tr(t.attributes.name)==="progid"||tr(t.attributes.property).match(/^article:/)||tr(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(tr(t.attributes.name)==="google-site-verification"||tr(t.attributes.name)==="yandex-verification"||tr(t.attributes.name)==="csrf-token"||tr(t.attributes.name)==="p:domain_verify"||tr(t.attributes.name)==="verify-v1"||tr(t.attributes.name)==="verification"||tr(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Vg(t,e){const{doc:n,mirror:i,blockClass:r,blockSelector:s,unblockSelector:a,maskAllText:o,maskTextClass:l,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,skipChild:y=!1,inlineStylesheet:_=!0,maskInputOptions:x={},maskAttributeFn:S,maskTextFn:E,maskInputFn:w,slimDOMOptions:C,dataURLOptions:A={},inlineImages:R=!1,recordCanvas:N=!1,onSerialize:O,onIframeLoad:P,iframeLoadTimeout:z=5e3,onBlockedImageLoad:k,onStylesheetLoad:F,stylesheetLoadTimeout:G=5e3,keepIframeSrcFn:$=()=>!1,newlyAddedElement:ee=!1}=e;let{preserveWhiteSpace:ne=!0}=e;const re=AQ(t,{doc:n,mirror:i,blockClass:r,blockSelector:s,maskAllText:o,unblockSelector:a,maskTextClass:l,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,inlineStylesheet:_,maskInputOptions:x,maskAttributeFn:S,maskTextFn:E,maskInputFn:w,dataURLOptions:A,inlineImages:R,recordCanvas:N,keepIframeSrcFn:$,newlyAddedElement:ee});if(!re)return console.warn(t,"not serialized"),null;let W;i.hasNode(t)?W=i.getId(t):NQ(re,C)||!ne&&re.type===us.Text&&!re.isStyle&&!re.textContent.replace(/^\s+|\s+$/gm,"").length?W=$b:W=KN();const q=Object.assign(re,{id:W});if(i.add(t,q),W===$b)return null;O&&O(t);let te=!y;if(q.type===us.Element){te=te&&!q.needBlock;const se=t.shadowRoot;se&&_b(se)&&(q.isShadowHost=!0)}if((q.type===us.Document||q.type===us.Element)&&te){C.headWhitespace&&q.type===us.Element&&q.tagName==="head"&&(ne=!1);const se={doc:n,mirror:i,blockClass:r,blockSelector:s,maskAllText:o,unblockSelector:a,maskTextClass:l,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,skipChild:y,inlineStylesheet:_,maskInputOptions:x,maskAttributeFn:S,maskTextFn:E,maskInputFn:w,slimDOMOptions:C,dataURLOptions:A,inlineImages:R,recordCanvas:N,preserveWhiteSpace:ne,onSerialize:O,onIframeLoad:P,iframeLoadTimeout:z,onBlockedImageLoad:k,onStylesheetLoad:F,stylesheetLoadTimeout:G,keepIframeSrcFn:$},Z=t.childNodes?Array.from(t.childNodes):[];for(const j of Z){const ue=Vg(j,se);ue&&q.childNodes.push(ue)}if(iQ(t)&&t.shadowRoot)for(const j of Array.from(t.shadowRoot.childNodes)){const ue=Vg(j,se);ue&&(_b(t.shadowRoot)&&(ue.isShadow=!0),q.childNodes.push(ue))}}if(t.parentNode&&gb(t.parentNode)&&_b(t.parentNode)&&(q.isShadow=!0),q.type===us.Element&&q.tagName==="iframe"&&!q.needBlock&&MQ(t,()=>{const se=PU(t);if(se&&P){const Z=Vg(se,{doc:se,mirror:i,blockClass:r,blockSelector:s,unblockSelector:a,maskAllText:o,maskTextClass:l,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,skipChild:!1,inlineStylesheet:_,maskInputOptions:x,maskAttributeFn:S,maskTextFn:E,maskInputFn:w,slimDOMOptions:C,dataURLOptions:A,inlineImages:R,recordCanvas:N,preserveWhiteSpace:ne,onSerialize:O,onIframeLoad:P,iframeLoadTimeout:z,onStylesheetLoad:F,stylesheetLoadTimeout:G,keepIframeSrcFn:$});Z&&P(t,Z)}},z),q.type===us.Element&&q.tagName==="img"&&!t.complete&&q.needBlock){const se=t,Z=()=>{if(se.isConnected&&!se.complete&&k)try{const j=se.getBoundingClientRect();j.width>0&&j.height>0&&k(se,q,j)}catch{}se.removeEventListener("load",Z)};se.isConnected&&se.addEventListener("load",Z)}return q.type===us.Element&&q.tagName==="link"&&typeof q.attributes.rel=="string"&&(q.attributes.rel==="stylesheet"||q.attributes.rel==="preload"&&typeof q.attributes.href=="string"&&NU(q.attributes.href)==="css")&&CQ(t,()=>{if(F){const se=Vg(t,{doc:n,mirror:i,blockClass:r,blockSelector:s,unblockSelector:a,maskAllText:o,maskTextClass:l,unmaskTextClass:f,maskTextSelector:p,unmaskTextSelector:g,skipChild:!1,inlineStylesheet:_,maskInputOptions:x,maskAttributeFn:S,maskTextFn:E,maskInputFn:w,slimDOMOptions:C,dataURLOptions:A,inlineImages:R,recordCanvas:N,preserveWhiteSpace:ne,onSerialize:O,onIframeLoad:P,iframeLoadTimeout:z,onStylesheetLoad:F,stylesheetLoadTimeout:G,keepIframeSrcFn:$});se&&F(t,se)}},G),q.type===us.Element&&delete q.needBlock,q}function OQ(t,e){const{mirror:n=new IU,blockClass:i="rr-block",blockSelector:r=null,unblockSelector:s=null,maskAllText:a=!1,maskTextClass:o="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:g=!0,inlineImages:y=!1,recordCanvas:_=!1,maskAllInputs:x=!1,maskAttributeFn:S,maskTextFn:E,maskInputFn:w,slimDOM:C=!1,dataURLOptions:A,preserveWhiteSpace:R,onSerialize:N,onIframeLoad:O,iframeLoadTimeout:P,onBlockedImageLoad:z,onStylesheetLoad:k,stylesheetLoadTimeout:F,keepIframeSrcFn:G=()=>!1}=e||{};return Vg(t,{doc:t,mirror:n,blockClass:i,blockSelector:r,unblockSelector:s,maskAllText:a,maskTextClass:o,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:g,maskInputOptions:x===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:x===!1?{}:x,maskAttributeFn:S,maskTextFn:E,maskInputFn:w,slimDOMOptions:C===!0||C==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:C==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:C===!1?{}:C,dataURLOptions:A,inlineImages:y,recordCanvas:_,preserveWhiteSpace:R,onSerialize:N,onIframeLoad:O,iframeLoadTimeout:P,onBlockedImageLoad:z,onStylesheetLoad:k,stylesheetLoadTimeout:F,keepIframeSrcFn:G,newlyAddedElement:!1})}function ja(t,e,n=document){const i={capture:!0,passive:!0};return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e,i)}const Pg=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let mP={map:{},getId(){return console.error(Pg),-1},getNode(){return console.error(Pg),null},removeNodeFromMap(){console.error(Pg)},has(){return console.error(Pg),!1},reset(){console.error(Pg)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(mP=new Proxy(mP,{get(t,e,n){return e==="map"&&console.error(Pg),Reflect.get(t,e,n)}}));function Xb(t,e,n={}){let i=null,r=0;return function(...s){const a=Date.now();!r&&n.leading===!1&&(r=a);const o=e-(a-r),l=this;o<=0||o>e?(i&&(zQ(i),i=null),r=a,t.apply(l,s)):!i&&n.trailing!==!1&&(i=aC(()=>{r=n.leading===!1?0:Date.now(),i=null,t.apply(l,s)},o))}}function UU(t,e,n,i,r=window){const s=r.Object.getOwnPropertyDescriptor(t,e);return r.Object.defineProperty(t,e,i?n:{set(a){aC(()=>{n.set.call(this,a)},0),s&&s.set&&s.set.call(this,a)}}),()=>UU(t,e,s||{},!0)}function QN(t,e,n){try{if(!(e in t))return()=>{};const i=t[e],r=n(i);return typeof r=="function"&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:i}})),t[e]=r,()=>{t[e]=i}}catch{return()=>{}}}let ST=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ST=()=>new Date().getTime());function BU(t){const e=t.document;return{left:e.scrollingElement?e.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:e?.documentElement.scrollLeft||e?.body?.parentElement?.scrollLeft||e?.body?.scrollLeft||0,top:e.scrollingElement?e.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:e?.documentElement.scrollTop||e?.body?.parentElement?.scrollTop||e?.body?.scrollTop||0}}function zU(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function HU(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function VU(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function Zo(t,e,n,i,r){if(!t)return!1;const s=VU(t);if(!s)return!1;const a=Hg(e,n);if(!r){const f=i&&s.matches(i);return a(s)&&!f}const o=sm(s,a);let l=-1;return o<0?!1:(i&&(l=sm(s,Hg(null,i))),o>-1&&l<0?!0:o<l)}function kQ(t,e){return e.getId(t)!==-1}function b3(t,e){return e.getId(t)===$b}function GU(t,e){if(gb(t))return!1;const n=e.getId(t);return e.has(n)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?GU(t.parentNode,e):!0:!0}function PR(t){return!!t.changedTouches}function PQ(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let n=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function WU(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function jU(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function LR(t){return!!t?.shadowRoot}class LQ{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,n){if(this.has(e))return this.getId(e);let i;return n===void 0?i=this.id++:i=n,this.styleIDMap.set(e,i),this.idStyleMap.set(i,e),i}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function qU(t){let e=null;return t.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(e=t.getRootNode().host),e}function FQ(t){let e=t,n;for(;n=qU(e);)e=n;return e}function UQ(t){const e=t.ownerDocument;if(!e)return!1;const n=FQ(t);return e.contains(n)}function $U(t){const e=t.ownerDocument;return e?e.contains(t)||UQ(t):!1}const gP={};function JN(t){const e=gP[t];if(e)return e;const n=window.document;let i=window[t];if(n&&typeof n.createElement=="function")try{const r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r);const s=r.contentWindow;s&&s[t]&&(i=s[t]),n.head.removeChild(r)}catch{}return gP[t]=i.bind(window)}function BQ(...t){return JN("requestAnimationFrame")(...t)}function aC(...t){return JN("setTimeout")(...t)}function zQ(...t){return JN("clearTimeout")(...t)}var Yn=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Yn||{}),Tn=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(Tn||{}),za=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(za||{}),wf=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(wf||{}),Lg=(t=>(t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t))(Lg||{});function eO(t){try{return t.contentDocument}catch{}}function HQ(t){try{return t.contentWindow}catch{}}function _P(t){return"__ln"in t}class VQ{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let i=0;i<e;i++)n=n?.next||null;return n}addNode(e){const n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&_P(e.previousSibling)){const i=e.previousSibling.__ln.next;n.next=i,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,i&&(i.previous=n)}else if(e.nextSibling&&_P(e.nextSibling)&&e.nextSibling.__ln.previous){const i=e.nextSibling.__ln.previous;n.previous=i,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,i&&(i.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(e){const n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const yP=(t,e)=>`${t}@${e}`;class GQ{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],n=new Set,i=new VQ,r=l=>{let f=l,p=$b;for(;p===$b;)f=f&&f.nextSibling,p=f&&this.mirror.getId(f);return p},s=l=>{if(!l.parentNode||!$U(l))return;const f=gb(l.parentNode)?this.mirror.getId(qU(l)):this.mirror.getId(l.parentNode),p=r(l);if(f===-1||p===-1)return i.addNode(l);const g=Vg(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:y=>{WU(y,this.mirror)&&!Zo(y,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(y),jU(y,this.mirror)&&this.stylesheetManager.trackLinkElement(y),LR(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(y,_)=>{Zo(y,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(y,_),y.contentWindow&&this.canvasManager.addWindow(y.contentWindow),this.shadowDomManager.observeAttachShadow(y))},onStylesheetLoad:(y,_)=>{this.stylesheetManager.attachLinkElement(y,_)},onBlockedImageLoad:(y,_,{width:x,height:S})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:_.id,attributes:{style:{width:`${x}px`,height:`${S}px`}}}]})}});g&&(e.push({parentId:f,nextId:p,node:g}),n.add(g.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)vP(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||s(l);for(const l of this.addedSet)!bP(this.droppedSet,l)&&!vP(this.removes,l,this.mirror)||bP(this.movedSet,l)?s(l):this.droppedSet.add(l);let a=null;for(;i.length;){let l=null;if(a){const f=this.mirror.getId(a.value.parentNode),p=r(a.value);f!==-1&&p!==-1&&(l=a)}if(!l){let f=i.tail;for(;f;){const p=f;if(f=f.previous,p){const g=this.mirror.getId(p.value.parentNode);if(r(p.value)===-1)continue;if(g!==-1){l=p;break}else{const _=p.value;if(_.parentNode&&_.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const x=_.parentNode.host;if(this.mirror.getId(x)!==-1){l=p;break}}}}}}if(!l){for(;i.head;)i.removeNode(i.head.value);break}a=l.previous,i.removeNode(l.value),s(l.value)}const o={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:f}=l;if(typeof f.style=="string"){const p=JSON.stringify(l.styleDiff),g=JSON.stringify(l._unchangedStyles);p.length<f.style.length&&(p+g).split("var(").length===f.style.split("var(").length&&(f.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:f}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:e};!o.texts.length&&!o.attributes.length&&!o.removes.length&&!o.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=e=>{if(!b3(e.target,this.mirror))switch(e.type){case"characterData":{const n=e.target.textContent;!Zo(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==e.oldValue&&this.texts.push({value:g_(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,VU(e.target)):n.replace(/[\S]/g,"*"):n,node:e.target});break}case"attributes":{const n=e.target;let i=e.attributeName,r=e.target.getAttribute(i);if(i==="value"){const a=ZN(n),o=n.tagName;r=bT(n,o,a);const l=rC({maskInputOptions:this.maskInputOptions,tagName:o,type:a}),f=g_(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);r=qb({isMasked:f,element:n,value:r,maskInputFn:this.maskInputFn})}if(Zo(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let s=this.attributeMap.get(e.target);if(n.tagName==="IFRAME"&&i==="src"&&!this.keepIframeSrcFn(r))if(!eO(n))i="rr_src";else return;if(s||(s={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(e.target,s)),i==="type"&&n.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!FU(n.tagName,i)&&(s.attributes[i]=LU(this.doc,m_(n.tagName),m_(i),r,n,this.maskAttributeFn),i==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const a=this.unattachedDoc.createElement("span");e.oldValue&&a.setAttribute("style",e.oldValue);for(const o of Array.from(n.style)){const l=n.style.getPropertyValue(o),f=n.style.getPropertyPriority(o);l!==a.style.getPropertyValue(o)||f!==a.style.getPropertyPriority(o)?f===""?s.styleDiff[o]=l:s.styleDiff[o]=[l,f]:s._unchangedStyles[o]=[l,f]}for(const o of Array.from(a.style))n.style.getPropertyValue(o)===""&&(s.styleDiff[o]=!1)}break}case"childList":{if(Zo(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(n=>this.genAdds(n,e.target)),e.removedNodes.forEach(n=>{const i=this.mirror.getId(n),r=gb(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Zo(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||b3(n,this.mirror)||!kQ(n,this.mirror)||(this.addedSet.has(n)?(FR(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(e.target)&&i===-1||GU(e.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[yP(i,r)]?FR(this.movedSet,n):this.removes.push({parentId:r,id:i,isShadow:gb(e.target)&&_b(e.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(e,n)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(b3(e,this.mirror))return;this.movedSet.add(e);let i=null;n&&this.mirror.hasNode(n)&&(i=this.mirror.getId(n)),i&&i!==-1&&(this.movedMap[yP(this.mirror.getId(e),i)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Zo(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes&&e.childNodes.forEach(i=>this.genAdds(i)),LR(e)&&e.shadowRoot.childNodes.forEach(i=>{this.processedNodeManager.add(i,this),this.genAdds(i,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=e[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function FR(t,e){t.delete(e),e.childNodes?.forEach(n=>FR(t,n))}function vP(t,e,n){return t.length===0?!1:WQ(t,e,n)}function WQ(t,e,n){let i=e.parentNode;for(;i;){const r=n.getId(i);if(t.some(s=>s.id===r))return!0;i=i.parentNode}return!1}function bP(t,e){return t.size===0?!1:XU(t,e)}function XU(t,e){const{parentNode:n}=e;return n?t.has(n)?!0:XU(t,n):!1}let yb;function jQ(t){yb=t}function qQ(){yb=void 0}const _i=t=>yb?(...n)=>{try{return t(...n)}catch(i){if(yb&&yb(i)===!0)return()=>{};throw i}}:t,Gg=[];function $x(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function YU(t,e){const n=new GQ;Gg.push(n),n.init(t);let i=window.MutationObserver||window.__rrMutationObserver;const r=window?.Zone?.__symbol__?.("MutationObserver");r&&window[r]&&(i=window[r]);const s=new i(_i(a=>{t.onMutation&&t.onMutation(a)===!1||n.processMutations.bind(n)(a)}));return s.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function $Q({mousemoveCb:t,sampling:e,doc:n,mirror:i}){if(e.mousemove===!1)return()=>{};const r=typeof e.mousemove=="number"?e.mousemove:50,s=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let a=[],o;const l=Xb(_i(g=>{const y=Date.now()-o;t(a.map(_=>(_.timeOffset-=y,_)),g),a=[],o=null}),s),f=_i(Xb(_i(g=>{const y=$x(g),{clientX:_,clientY:x}=PR(g)?g.changedTouches[0]:g;o||(o=ST()),a.push({x:_,y:x,id:i.getId(y),timeOffset:ST()-o}),l(typeof DragEvent<"u"&&g instanceof DragEvent?Tn.Drag:g instanceof MouseEvent?Tn.MouseMove:Tn.TouchMove)}),r,{trailing:!1})),p=[ja("mousemove",f,n),ja("touchmove",f,n),ja("drag",f,n)];return _i(()=>{p.forEach(g=>g())})}function XQ({mouseInteractionCb:t,doc:e,mirror:n,blockClass:i,blockSelector:r,unblockSelector:s,sampling:a}){if(a.mouseInteraction===!1)return()=>{};const o=a.mouseInteraction===!0||a.mouseInteraction===void 0?{}:a.mouseInteraction,l=[];let f=null;const p=g=>y=>{const _=$x(y);if(Zo(_,i,r,s,!0))return;let x=null,S=g;if("pointerType"in y){switch(y.pointerType){case"mouse":x=wf.Mouse;break;case"touch":x=wf.Touch;break;case"pen":x=wf.Pen;break}x===wf.Touch?za[g]===za.MouseDown?S="TouchStart":za[g]===za.MouseUp&&(S="TouchEnd"):wf.Pen}else PR(y)&&(x=wf.Touch);x!==null?(f=x,(S.startsWith("Touch")&&x===wf.Touch||S.startsWith("Mouse")&&x===wf.Mouse)&&(x=null)):za[g]===za.Click&&(x=f,f=null);const E=PR(y)?y.changedTouches[0]:y;if(!E)return;const w=n.getId(_),{clientX:C,clientY:A}=E;_i(t)({type:za[S],id:w,x:C,y:A,...x!==null&&{pointerType:x}})};return Object.keys(za).filter(g=>Number.isNaN(Number(g))&&!g.endsWith("_Departed")&&o[g]!==!1).forEach(g=>{let y=m_(g);const _=p(g);if(window.PointerEvent)switch(za[g]){case za.MouseDown:case za.MouseUp:y=y.replace("mouse","pointer");break;case za.TouchStart:case za.TouchEnd:return}l.push(ja(y,_,e))}),_i(()=>{l.forEach(g=>g())})}function ZU({scrollCb:t,doc:e,mirror:n,blockClass:i,blockSelector:r,unblockSelector:s,sampling:a}){const o=_i(Xb(_i(l=>{const f=$x(l);if(!f||Zo(f,i,r,s,!0))return;const p=n.getId(f);if(f===e&&e.defaultView){const g=BU(e.defaultView);t({id:p,x:g.left,y:g.top})}else t({id:p,x:f.scrollLeft,y:f.scrollTop})}),a.scroll||100));return ja("scroll",o,e)}function YQ({viewportResizeCb:t},{win:e}){let n=-1,i=-1;const r=_i(Xb(_i(()=>{const s=zU(),a=HU();(n!==s||i!==a)&&(t({width:Number(a),height:Number(s)}),n=s,i=a)}),200));return ja("resize",r,e)}const ZQ=["INPUT","TEXTAREA","SELECT"],xP=new WeakMap;function KQ({inputCb:t,doc:e,mirror:n,blockClass:i,blockSelector:r,unblockSelector:s,ignoreClass:a,ignoreSelector:o,maskInputOptions:l,maskInputFn:f,sampling:p,userTriggeredOnInput:g,maskTextClass:y,unmaskTextClass:_,maskTextSelector:x,unmaskTextSelector:S}){function E(P){let z=$x(P);const k=P.isTrusted,F=z&&OR(z.tagName);if(F==="OPTION"&&(z=z.parentElement),!z||!F||ZQ.indexOf(F)<0||Zo(z,i,r,s,!0))return;const G=z;if(G.classList.contains(a)||o&&G.matches(o))return;const $=ZN(z);let ee=bT(G,F,$),ne=!1;const re=rC({maskInputOptions:l,tagName:F,type:$}),W=g_(z,y,x,_,S,re);($==="radio"||$==="checkbox")&&(ne=z.checked),ee=qb({isMasked:W,element:z,value:ee,maskInputFn:f}),w(z,g?{text:ee,isChecked:ne,userTriggered:k}:{text:ee,isChecked:ne});const q=z.name;$==="radio"&&q&&ne&&e.querySelectorAll(`input[type="radio"][name="${q}"]`).forEach(te=>{if(te!==z){const se=qb({isMasked:W,element:te,value:bT(te,F,$),maskInputFn:f});w(te,g?{text:se,isChecked:!ne,userTriggered:!1}:{text:se,isChecked:!ne})}})}function w(P,z){const k=xP.get(P);if(!k||k.text!==z.text||k.isChecked!==z.isChecked){xP.set(P,z);const F=n.getId(P);_i(t)({...z,id:F})}}const A=(p.input==="last"?["change"]:["input","change"]).map(P=>ja(P,_i(E),e)),R=e.defaultView;if(!R)return()=>{A.forEach(P=>P())};const N=R.Object.getOwnPropertyDescriptor(R.HTMLInputElement.prototype,"value"),O=[[R.HTMLInputElement.prototype,"value"],[R.HTMLInputElement.prototype,"checked"],[R.HTMLSelectElement.prototype,"value"],[R.HTMLTextAreaElement.prototype,"value"],[R.HTMLSelectElement.prototype,"selectedIndex"],[R.HTMLOptionElement.prototype,"selected"]];return N&&N.set&&A.push(...O.map(P=>UU(P[0],P[1],{set(){_i(E)({target:this,isTrusted:!1})}},!1,R))),_i(()=>{A.forEach(P=>P())})}function ET(t){const e=[];function n(i,r){if(lE("CSSGroupingRule")&&i.parentRule instanceof CSSGroupingRule||lE("CSSMediaRule")&&i.parentRule instanceof CSSMediaRule||lE("CSSSupportsRule")&&i.parentRule instanceof CSSSupportsRule||lE("CSSConditionRule")&&i.parentRule instanceof CSSConditionRule){const a=Array.from(i.parentRule.cssRules).indexOf(i);r.unshift(a)}else if(i.parentStyleSheet){const a=Array.from(i.parentStyleSheet.cssRules).indexOf(i);r.unshift(a)}return r}return n(t,e)}function Kd(t,e,n){let i,r;return t?(t.ownerNode?i=e.getId(t.ownerNode):r=n.getId(t),{styleId:r,id:i}):{}}function QQ({styleSheetRuleCb:t,mirror:e,stylesheetManager:n},{win:i}){if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};const r=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(r,{apply:_i((p,g,y)=>{const[_,x]=y,{id:S,styleId:E}=Kd(g,e,n.styleMirror);return(S&&S!==-1||E&&E!==-1)&&t({id:S,styleId:E,adds:[{rule:_,index:x}]}),p.apply(g,y)})});const s=i.CSSStyleSheet.prototype.deleteRule;i.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:_i((p,g,y)=>{const[_]=y,{id:x,styleId:S}=Kd(g,e,n.styleMirror);return(x&&x!==-1||S&&S!==-1)&&t({id:x,styleId:S,removes:[{index:_}]}),p.apply(g,y)})});let a;i.CSSStyleSheet.prototype.replace&&(a=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:_i((p,g,y)=>{const[_]=y,{id:x,styleId:S}=Kd(g,e,n.styleMirror);return(x&&x!==-1||S&&S!==-1)&&t({id:x,styleId:S,replace:_}),p.apply(g,y)})}));let o;i.CSSStyleSheet.prototype.replaceSync&&(o=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(o,{apply:_i((p,g,y)=>{const[_]=y,{id:x,styleId:S}=Kd(g,e,n.styleMirror);return(x&&x!==-1||S&&S!==-1)&&t({id:x,styleId:S,replaceSync:_}),p.apply(g,y)})}));const l={};cE("CSSGroupingRule")?l.CSSGroupingRule=i.CSSGroupingRule:(cE("CSSMediaRule")&&(l.CSSMediaRule=i.CSSMediaRule),cE("CSSConditionRule")&&(l.CSSConditionRule=i.CSSConditionRule),cE("CSSSupportsRule")&&(l.CSSSupportsRule=i.CSSSupportsRule));const f={};return Object.entries(l).forEach(([p,g])=>{f[p]={insertRule:g.prototype.insertRule,deleteRule:g.prototype.deleteRule},g.prototype.insertRule=new Proxy(f[p].insertRule,{apply:_i((y,_,x)=>{const[S,E]=x,{id:w,styleId:C}=Kd(_.parentStyleSheet,e,n.styleMirror);return(w&&w!==-1||C&&C!==-1)&&t({id:w,styleId:C,adds:[{rule:S,index:[...ET(_),E||0]}]}),y.apply(_,x)})}),g.prototype.deleteRule=new Proxy(f[p].deleteRule,{apply:_i((y,_,x)=>{const[S]=x,{id:E,styleId:w}=Kd(_.parentStyleSheet,e,n.styleMirror);return(E&&E!==-1||w&&w!==-1)&&t({id:E,styleId:w,removes:[{index:[...ET(_),S]}]}),y.apply(_,x)})})}),_i(()=>{i.CSSStyleSheet.prototype.insertRule=r,i.CSSStyleSheet.prototype.deleteRule=s,a&&(i.CSSStyleSheet.prototype.replace=a),o&&(i.CSSStyleSheet.prototype.replaceSync=o),Object.entries(l).forEach(([p,g])=>{g.prototype.insertRule=f[p].insertRule,g.prototype.deleteRule=f[p].deleteRule})})}function KU({mirror:t,stylesheetManager:e},n){let i=null;n.nodeName==="#document"?i=t.getId(n):i=t.getId(n.host);const r=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,s=r?.prototype?Object.getOwnPropertyDescriptor(r?.prototype,"adoptedStyleSheets"):void 0;return i===null||i===-1||!r||!s?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return s.get?.call(this)},set(a){const o=s.set?.call(this,a);if(i!==null&&i!==-1)try{e.adoptStyleSheets(a,i)}catch{}return o}}),_i(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function JQ({styleDeclarationCb:t,mirror:e,ignoreCSSAttributes:n,stylesheetManager:i},{win:r}){const s=r.CSSStyleDeclaration.prototype.setProperty;r.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:_i((o,l,f)=>{const[p,g,y]=f;if(n.has(p))return s.apply(l,[p,g,y]);const{id:_,styleId:x}=Kd(l.parentRule?.parentStyleSheet,e,i.styleMirror);return(_&&_!==-1||x&&x!==-1)&&t({id:_,styleId:x,set:{property:p,value:g,priority:y},index:ET(l.parentRule)}),o.apply(l,f)})});const a=r.CSSStyleDeclaration.prototype.removeProperty;return r.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:_i((o,l,f)=>{const[p]=f;if(n.has(p))return a.apply(l,[p]);const{id:g,styleId:y}=Kd(l.parentRule?.parentStyleSheet,e,i.styleMirror);return(g&&g!==-1||y&&y!==-1)&&t({id:g,styleId:y,remove:{property:p},index:ET(l.parentRule)}),o.apply(l,f)})}),_i(()=>{r.CSSStyleDeclaration.prototype.setProperty=s,r.CSSStyleDeclaration.prototype.removeProperty=a})}function eJ({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:i,mirror:r,sampling:s,doc:a}){const o=_i(f=>Xb(_i(p=>{const g=$x(p);if(!g||Zo(g,e,n,i,!0))return;const{currentTime:y,volume:_,muted:x,playbackRate:S}=g;t({type:f,id:r.getId(g),currentTime:y,volume:_,muted:x,playbackRate:S})}),s.media||500)),l=[ja("play",o(Lg.Play),a),ja("pause",o(Lg.Pause),a),ja("seeked",o(Lg.Seeked),a),ja("volumechange",o(Lg.VolumeChange),a),ja("ratechange",o(Lg.RateChange),a)];return _i(()=>{l.forEach(f=>f())})}function tJ({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const i=[],r=new WeakMap,s=n.FontFace;n.FontFace=function(l,f,p){const g=new s(l,f,p);return r.set(g,{family:l,buffer:typeof f!="string",descriptors:p,fontSource:typeof f=="string"?f:JSON.stringify(Array.from(new Uint8Array(f)))}),g};const a=QN(e.fonts,"add",function(o){return function(l){return aC(_i(()=>{const f=r.get(l);f&&(t(f),r.delete(l))}),0),o.apply(this,[l])}});return i.push(()=>{n.FontFace=s}),i.push(a),_i(()=>{i.forEach(o=>o())})}function nJ(t){const{doc:e,mirror:n,blockClass:i,blockSelector:r,unblockSelector:s,selectionCb:a}=t;let o=!0;const l=_i(()=>{const f=e.getSelection();if(!f||o&&f?.isCollapsed)return;o=f.isCollapsed||!1;const p=[],g=f.rangeCount||0;for(let y=0;y<g;y++){const _=f.getRangeAt(y),{startContainer:x,startOffset:S,endContainer:E,endOffset:w}=_;Zo(x,i,r,s,!0)||Zo(E,i,r,s,!0)||p.push({start:n.getId(x),startOffset:S,end:n.getId(E),endOffset:w})}a({ranges:p})});return l(),ja("selectionchange",l)}function iJ({doc:t,customElementCb:e}){const n=t.defaultView;return!n||!n.customElements?()=>{}:QN(n.customElements,"define",function(r){return function(s,a,o){try{e({define:{name:s}})}catch{}return r.apply(this,[s,a,o])}})}function rJ(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};let i;t.recordDOM&&(i=YU(t,t.doc));const r=$Q(t),s=XQ(t),a=ZU(t),o=YQ(t,{win:n}),l=KQ(t),f=eJ(t);let p=()=>{},g=()=>{},y=()=>{},_=()=>{};t.recordDOM&&(p=QQ(t,{win:n}),g=KU(t,t.doc),y=JQ(t,{win:n}),t.collectFonts&&(_=tJ(t)));const x=nJ(t),S=iJ(t),E=[];for(const w of t.plugins)E.push(w.observer(w.callback,n,w.options));return _i(()=>{Gg.forEach(w=>w.reset()),i?.disconnect(),r(),s(),a(),o(),l(),f(),p(),g(),y(),_(),x(),S(),E.forEach(w=>w())})}function lE(t){return typeof window[t]<"u"}function cE(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class UR{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,n,i,r){const s=i||this.getIdToRemoteIdMap(e),a=r||this.getRemoteIdToIdMap(e);let o=s.get(n);return o||(o=this.generateIdFn(),s.set(n,o),a.set(o,n)),o}getIds(e,n){const i=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return n.map(s=>this.getId(e,s,i,r))}getRemoteId(e,n,i){const r=i||this.getRemoteIdToIdMap(e);if(typeof n!="number")return n;const s=r.get(n);return s||-1}getRemoteIds(e,n){const i=this.getRemoteIdToIdMap(e);return n.map(r=>this.getRemoteId(e,r,i))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let n=this.iframeIdToRemoteIdMap.get(e);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(e,n)),n}getRemoteIdToIdMap(e){let n=this.iframeRemoteIdToIdMap.get(e);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(e,n)),n}}class sJ{constructor(){this.crossOriginIframeMirror=new UR(KN),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class aJ{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new UR(KN),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new UR(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,n){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);const i=eO(e);i&&i.adoptedStyleSheets&&i.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(i.adoptedStyleSheets,this.mirror.getId(i))}handleMessage(e){const n=e;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!e.source)return;const r=this.crossOriginIframeMap.get(e.source);if(!r)return;const s=this.transformCrossOriginEvent(r,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(e,n){switch(n.type){case Yn.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(n.data.node,e);const i=n.data.node.id;return this.crossOriginIframeRootIdMap.set(e,i),this.patchRootIdOnNode(n.data.node,i),{timestamp:n.timestamp,type:Yn.IncrementalSnapshot,data:{source:Tn.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Yn.Meta:case Yn.Load:case Yn.DomContentLoaded:return!1;case Yn.Plugin:return n;case Yn.Custom:return this.replaceIds(n.data.payload,e,["id","parentId","previousId","nextId"]),n;case Yn.IncrementalSnapshot:switch(n.data.source){case Tn.Mutation:return n.data.adds.forEach(i=>{this.replaceIds(i,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,e);const r=this.crossOriginIframeRootIdMap.get(e);r&&this.patchRootIdOnNode(i.node,r)}),n.data.removes.forEach(i=>{this.replaceIds(i,e,["parentId","id"])}),n.data.attributes.forEach(i=>{this.replaceIds(i,e,["id"])}),n.data.texts.forEach(i=>{this.replaceIds(i,e,["id"])}),n;case Tn.Drag:case Tn.TouchMove:case Tn.MouseMove:return n.data.positions.forEach(i=>{this.replaceIds(i,e,["id"])}),n;case Tn.ViewportResize:return!1;case Tn.MediaInteraction:case Tn.MouseInteraction:case Tn.Scroll:case Tn.CanvasMutation:case Tn.Input:return this.replaceIds(n.data,e,["id"]),n;case Tn.StyleSheetRule:case Tn.StyleDeclaration:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleId"]),n;case Tn.Font:return n;case Tn.Selection:return n.data.ranges.forEach(i=>{this.replaceIds(i,e,["start","end"])}),n;case Tn.AdoptedStyleSheet:return this.replaceIds(n.data,e,["id"]),this.replaceStyleIds(n.data,e,["styleIds"]),n.data.styles?.forEach(i=>{this.replaceStyleIds(i,e,["styleId"])}),n}}return!1}replace(e,n,i,r){for(const s of r)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=e.getIds(i,n[s]):n[s]=e.getId(i,n[s]));return n}replaceIds(e,n,i){return this.replace(this.crossOriginIframeMirror,e,n,i)}replaceStyleIds(e,n,i){return this.replace(this.crossOriginIframeStyleMirror,e,n,i)}replaceIdOnNode(e,n){this.replaceIds(e,n,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(i=>{this.replaceIdOnNode(i,n)})}patchRootIdOnNode(e,n){e.type!==us.Document&&!e.rootId&&(e.rootId=n),"childNodes"in e&&e.childNodes.forEach(i=>{this.patchRootIdOnNode(i,n)})}}class oJ{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class uJ{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,n){if(!_b(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const i=YU({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>i.disconnect()),this.restoreHandlers.push(ZU({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),aC(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(KU({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){const n=eO(e),i=HQ(e);!n||!i||this.patchAttachShadow(i.Element,n)}patchAttachShadow(e,n){const i=this;this.restoreHandlers.push(QN(e.prototype,"attachShadow",function(r){return function(s){const a=r.call(this,s);return this.shadowRoot&&$U(this)&&i.addShadowRoot(this.shadowRoot,n),a}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var SP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var fE=0;fE<SP.length;fE++)lJ[SP.charCodeAt(fE)]=fE;class EP{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class cJ{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new LQ,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,n){if(e.length===0)return;const i={id:n,styleIds:[]},r=[];for(const s of e){let a;this.styleMirror.has(s)?a=this.styleMirror.getId(s):(a=this.styleMirror.add(s),r.push({styleId:a,rules:Array.from(s.rules||CSSRule,(o,l)=>({rule:RU(o),index:l}))})),i.styleIds.push(a)}r.length>0&&(i.styles=r),this.adoptedStyleSheetCb(i)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class fJ{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,n){const i=this.nodeMap.get(e);return i&&Array.from(i).some(r=>r!==n)}add(e,n){this.active||(this.active=!0,BQ(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(n))}destroy(){}}let zr,wT;try{if(Array.from([1],t=>t*2)[0]!==2){const t=document.createElement("iframe");document.body.appendChild(t),Array.from=t.contentWindow?.Array.from||Array.from,document.body.removeChild(t)}}catch(t){console.debug("Unable to override Array.from",t)}const Tl=cQ();function Of(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:i,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:a=null,ignoreClass:o="rr-ignore",ignoreSelector:l=null,maskAllText:f=!1,maskTextClass:p="rr-mask",unmaskTextClass:g=null,maskTextSelector:y=null,unmaskTextSelector:_=null,inlineStylesheet:x=!0,maskAllInputs:S,maskInputOptions:E,slimDOMOptions:w,maskAttributeFn:C,maskInputFn:A,maskTextFn:R,maxCanvasSize:N=null,packFn:O,sampling:P={},dataURLOptions:z={},mousemoveWait:k,recordDOM:F=!0,recordCanvas:G=!1,recordCrossOriginIframes:$=!1,recordAfter:ee=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:ne=!1,collectFonts:re=!1,inlineImages:W=!1,plugins:q,keepIframeSrcFn:te=()=>!1,ignoreCSSAttributes:se=new Set([]),errorHandler:Z,onMutation:j,getCanvasManager:ue}=t;jQ(Z);const ge=$?window.parent===window:!0;let Se=!1;if(!ge)try{window.parent.document&&(Se=!1)}catch{Se=!0}if(ge&&!e)throw new Error("emit function is required");if(!ge&&!Se)return()=>{};k!==void 0&&P.mousemove===void 0&&(P.mousemove=k),Tl.reset();const Fe=S===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:E!==void 0?E:{},ve=w===!0||w==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:w==="all",headMetaDescKeywords:w==="all"}:w||{};PQ();let fe,He=0;const Xe=$e=>{for(const dt of q||[])dt.eventProcessor&&($e=dt.eventProcessor($e));return O&&!Se&&($e=O($e)),$e};zr=($e,dt)=>{const Be=$e;if(Be.timestamp=ST(),Gg[0]?.isFrozen()&&Be.type!==Yn.FullSnapshot&&!(Be.type===Yn.IncrementalSnapshot&&Be.data.source===Tn.Mutation)&&Gg.forEach(Q=>Q.unfreeze()),ge)e?.(Xe(Be),dt);else if(Se){const Q={type:"rrweb",event:Xe(Be),origin:window.location.origin,isCheckout:dt};window.parent.postMessage(Q,"*")}if(Be.type===Yn.FullSnapshot)fe=Be,He=0;else if(Be.type===Yn.IncrementalSnapshot){if(Be.data.source===Tn.Mutation&&Be.data.isAttachIframe)return;He++;const Q=i&&He>=i,H=n&&fe&&Be.timestamp-fe.timestamp>n;(Q||H)&&It(!0)}};const Ye=$e=>{zr({type:Yn.IncrementalSnapshot,data:{source:Tn.Mutation,...$e}})},bt=$e=>zr({type:Yn.IncrementalSnapshot,data:{source:Tn.Scroll,...$e}}),Ct=$e=>zr({type:Yn.IncrementalSnapshot,data:{source:Tn.CanvasMutation,...$e}}),at=$e=>zr({type:Yn.IncrementalSnapshot,data:{source:Tn.AdoptedStyleSheet,...$e}}),Ae=new cJ({mutationCb:Ye,adoptedStyleSheetCb:at}),Ve=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new sJ:new aJ({mirror:Tl,mutationCb:Ye,stylesheetManager:Ae,recordCrossOriginIframes:$,wrappedEmit:zr});for(const $e of q||[])$e.getMirror&&$e.getMirror({nodeMirror:Tl,crossOriginIframeMirror:Ve.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ve.crossOriginIframeStyleMirror});const Ue=new fJ,de=hJ(ue,{mirror:Tl,win:window,mutationCb:$e=>zr({type:Yn.IncrementalSnapshot,data:{source:Tn.CanvasMutation,...$e}}),recordCanvas:G,blockClass:r,blockSelector:s,unblockSelector:a,maxCanvasSize:N,sampling:P.canvas,dataURLOptions:z,errorHandler:Z}),ie=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new oJ:new uJ({mutationCb:Ye,scrollCb:bt,bypassOptions:{onMutation:j,blockClass:r,blockSelector:s,unblockSelector:a,maskAllText:f,maskTextClass:p,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:_,inlineStylesheet:x,maskInputOptions:Fe,dataURLOptions:z,maskAttributeFn:C,maskTextFn:R,maskInputFn:A,recordCanvas:G,inlineImages:W,sampling:P,slimDOMOptions:ve,iframeManager:Ve,stylesheetManager:Ae,canvasManager:de,keepIframeSrcFn:te,processedNodeManager:Ue},mirror:Tl}),It=($e=!1)=>{if(!F)return;zr({type:Yn.Meta,data:{href:window.location.href,width:HU(),height:zU()}},$e),Ae.reset(),ie.init(),Gg.forEach(Be=>Be.lock());const dt=OQ(document,{mirror:Tl,blockClass:r,blockSelector:s,unblockSelector:a,maskAllText:f,maskTextClass:p,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:_,inlineStylesheet:x,maskAllInputs:Fe,maskAttributeFn:C,maskInputFn:A,maskTextFn:R,slimDOM:ve,dataURLOptions:z,recordCanvas:G,inlineImages:W,onSerialize:Be=>{WU(Be,Tl)&&Ve.addIframe(Be),jU(Be,Tl)&&Ae.trackLinkElement(Be),LR(Be)&&ie.addShadowRoot(Be.shadowRoot,document)},onIframeLoad:(Be,Q)=>{Ve.attachIframe(Be,Q),Be.contentWindow&&de.addWindow(Be.contentWindow),ie.observeAttachShadow(Be)},onStylesheetLoad:(Be,Q)=>{Ae.attachLinkElement(Be,Q)},onBlockedImageLoad:(Be,Q,{width:H,height:pe})=>{Ye({adds:[],removes:[],texts:[],attributes:[{id:Q.id,attributes:{style:{width:`${H}px`,height:`${pe}px`}}}]})},keepIframeSrcFn:te});if(!dt)return console.warn("Failed to snapshot the document");zr({type:Yn.FullSnapshot,data:{node:dt,initialOffset:BU(window)}}),Gg.forEach(Be=>Be.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Ae.adoptStyleSheets(document.adoptedStyleSheets,Tl.getId(document))};wT=It;try{const $e=[],dt=Q=>_i(rJ)({onMutation:j,mutationCb:Ye,mousemoveCb:(H,pe)=>zr({type:Yn.IncrementalSnapshot,data:{source:pe,positions:H}}),mouseInteractionCb:H=>zr({type:Yn.IncrementalSnapshot,data:{source:Tn.MouseInteraction,...H}}),scrollCb:bt,viewportResizeCb:H=>zr({type:Yn.IncrementalSnapshot,data:{source:Tn.ViewportResize,...H}}),inputCb:H=>zr({type:Yn.IncrementalSnapshot,data:{source:Tn.Input,...H}}),mediaInteractionCb:H=>zr({type:Yn.IncrementalSnapshot,data:{source:Tn.MediaInteraction,...H}}),styleSheetRuleCb:H=>zr({type:Yn.IncrementalSnapshot,data:{source:Tn.StyleSheetRule,...H}}),styleDeclarationCb:H=>zr({type:Yn.IncrementalSnapshot,data:{source:Tn.StyleDeclaration,...H}}),canvasMutationCb:Ct,fontCb:H=>zr({type:Yn.IncrementalSnapshot,data:{source:Tn.Font,...H}}),selectionCb:H=>{zr({type:Yn.IncrementalSnapshot,data:{source:Tn.Selection,...H}})},customElementCb:H=>{zr({type:Yn.IncrementalSnapshot,data:{source:Tn.CustomElement,...H}})},blockClass:r,ignoreClass:o,ignoreSelector:l,maskAllText:f,maskTextClass:p,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:_,maskInputOptions:Fe,inlineStylesheet:x,sampling:P,recordDOM:F,recordCanvas:G,inlineImages:W,userTriggeredOnInput:ne,collectFonts:re,doc:Q,maskAttributeFn:C,maskInputFn:A,maskTextFn:R,keepIframeSrcFn:te,blockSelector:s,unblockSelector:a,slimDOMOptions:ve,dataURLOptions:z,mirror:Tl,iframeManager:Ve,stylesheetManager:Ae,shadowDomManager:ie,processedNodeManager:Ue,canvasManager:de,ignoreCSSAttributes:se,plugins:q?.filter(H=>H.observer)?.map(H=>({observer:H.observer,options:H.options,callback:pe=>zr({type:Yn.Plugin,data:{plugin:H.name,payload:pe}})}))||[]},{});Ve.addLoadListener(Q=>{try{$e.push(dt(Q.contentDocument))}catch(H){console.warn(H)}});const Be=()=>{It(),$e.push(dt(document))};return document.readyState==="interactive"||document.readyState==="complete"?Be():($e.push(ja("DOMContentLoaded",()=>{zr({type:Yn.DomContentLoaded,data:{}}),ee==="DOMContentLoaded"&&Be()})),$e.push(ja("load",()=>{zr({type:Yn.Load,data:{}}),ee==="load"&&Be()},window))),()=>{$e.forEach(Q=>Q()),Ue.destroy(),wT=void 0,qQ()}}catch($e){console.warn($e)}}function dJ(t){if(!wT)throw new Error("please take full snapshot after start recording");wT(t)}Of.mirror=Tl;Of.takeFullSnapshot=dJ;function hJ(t,e){try{return t?t(e):new EP}catch{return console.warn("Unable to initialize CanvasManager"),new EP}}var wP;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(wP||(wP={}));const pJ=3,mJ=5;function tO(t){return t>9999999999?t:t*1e3}function x3(t){return t>9999999999?t/1e3:t}function Xx(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:Yn.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Dl(e,10,1e3)}}),e.category==="console")))}const gJ="button,a";function QU(t){return t.closest(gJ)||t}function JU(t){const e=eB(t);return!e||!(e instanceof Element)?e:QU(e)}function eB(t){return _J(t)?t.target:t}function _J(t){return typeof t=="object"&&!!t&&"target"in t}let Qd;function yJ(t){return Qd||(Qd=[],vJ()),Qd.push(t),()=>{const e=Qd?Qd.indexOf(t):-1;e>-1&&Qd.splice(e,1)}}function vJ(){Ro(ir,"open",function(t){return function(...e){if(Qd)try{Qd.forEach(n=>n())}catch{}return t.apply(ir,e)}})}const bJ=new Set([Tn.Mutation,Tn.StyleSheetRule,Tn.StyleDeclaration,Tn.AdoptedStyleSheet,Tn.CanvasMutation,Tn.Selection,Tn.MediaInteraction]);function xJ(t,e,n){t.handleClick(e,n)}class SJ{constructor(e,n,i=Xx){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=i}addListeners(){const e=yJ(()=>{this._lastMutation=TP()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,n){if(wJ(n,this._ignoreSelector)||!TJ(e))return;const i={timestamp:x3(e.timestamp),clickBreadcrumb:e,clickCount:0,node:n};this._clicks.some(r=>r.node===i.node&&Math.abs(r.timestamp-i.timestamp)<1)||(this._clicks.push(i),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=x3(e)}registerScroll(e=Date.now()){this._lastScroll=x3(e)}registerClick(e){const n=QU(e);this._handleMultiClick(n)}_handleMultiClick(e){this._getClicks(e).forEach(n=>{n.clickCount++})}_getClicks(e){return this._clicks.filter(n=>n.node===e)}_checkClicks(){const e=[],n=TP();this._clicks.forEach(i=>{!i.mutationAfter&&this._lastMutation&&(i.mutationAfter=i.timestamp<=this._lastMutation?this._lastMutation-i.timestamp:void 0),!i.scrollAfter&&this._lastScroll&&(i.scrollAfter=i.timestamp<=this._lastScroll?this._lastScroll-i.timestamp:void 0),i.timestamp+this._timeout<=n&&e.push(i)});for(const i of e){const r=this._clicks.indexOf(i);r>-1&&(this._generateBreadcrumbs(i),this._clicks.splice(r,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const n=this._replay,i=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,s=!i&&!r,{clickCount:a,clickBreadcrumb:o}=e;if(s){const l=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,f=l<this._timeout*1e3?"mutation":"timeout",p={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.slowClickDetected",data:{...o.data,url:ir.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:f,clickCount:a||1}};this._addBreadcrumbEvent(n,p);return}if(a>1){const l={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.multiClick",data:{...o.data,url:ir.location.href,route:n.getCurrentRoute(),clickCount:a,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=qx(()=>this._checkClicks(),1e3)}}const EJ=["A","BUTTON","INPUT"];function wJ(t,e){return!!(!EJ.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function TJ(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function TP(){return Date.now()/1e3}function MJ(t,e){try{if(!CJ(e))return;const{source:n}=e.data;if(bJ.has(n)&&t.registerMutation(e.timestamp),n===Tn.Scroll&&t.registerScroll(e.timestamp),AJ(e)){const{type:i,id:r}=e.data,s=Of.mirror.getNode(r);s instanceof HTMLElement&&i===za.Click&&t.registerClick(s)}}catch{}}function CJ(t){return t.type===pJ}function AJ(t){return t.data.source===Tn.MouseInteraction}function xc(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var nO=(t=>(t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t))(nO||{});const DJ=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function RJ(t){const e={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const n in t)if(DJ.has(n)){let i=n;(n==="data-testid"||n==="data-test-id")&&(i="testId"),e[i]=t[n]}return e}const IJ=t=>e=>{if(!t.isEnabled())return;const n=NJ(e);if(!n)return;const i=e.name==="click",r=i?e.event:void 0;i&&t.clickDetector&&r?.target&&!r.altKey&&!r.metaKey&&!r.ctrlKey&&!r.shiftKey&&xJ(t.clickDetector,n,JU(e.event)),Xx(t,n)};function tB(t,e){const n=Of.mirror.getId(t),i=n&&Of.mirror.getNode(n),r=i&&Of.mirror.getMeta(i),s=r&&kJ(r)?r:null;return{message:e,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(a=>a.type===nO.Text&&a.textContent).filter(Boolean).map(a=>a.trim()).join(""),attributes:RJ(s.attributes)}}:{}}}function NJ(t){const{target:e,message:n}=OJ(t);return xc({category:`ui.${t.name}`,...tB(e,n)})}function OJ(t){const e=t.name==="click";let n,i=null;try{i=e?JU(t.event):eB(t.event),n=Zu(i,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:i,message:n}}function kJ(t){return t.type===nO.Element}function PJ(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=LJ(e);n&&Xx(t,n)}function LJ(t){const{metaKey:e,shiftKey:n,ctrlKey:i,altKey:r,key:s,target:a}=t;if(!a||FJ(a)||!s)return null;const o=e||i||r,l=s.length===1;if(!o&&l)return null;const f=Zu(a,{maxStringLength:200})||"<unknown>",p=tB(a,f);return xc({category:"ui.keyDown",message:f,data:{...p.data,metaKey:e,shiftKey:n,ctrlKey:i,altKey:r,key:s}})}function FJ(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const UJ={resource:GJ,paint:HJ,navigation:VJ};function dE(t,e){return({metric:n})=>{e.replayPerformanceEntries.push(t(n))}}function BJ(t){return t.map(zJ).filter(Boolean)}function zJ(t){const e=UJ[t.entryType];return e?e(t):null}function __(t){return((eo()||ir.performance.timeOrigin)+t)/1e3}function HJ(t){const{duration:e,entryType:n,name:i,startTime:r}=t,s=__(r);return{type:n,name:i,start:s,end:s+e,data:void 0}}function VJ(t){const{entryType:e,name:n,decodedBodySize:i,duration:r,domComplete:s,encodedBodySize:a,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,domInteractive:f,loadEventStart:p,loadEventEnd:g,redirectCount:y,startTime:_,transferSize:x,type:S}=t;return r===0?null:{type:`${e}.${S}`,start:__(_),end:__(s),name:n,data:{size:x,decodedBodySize:i,encodedBodySize:a,duration:r,domInteractive:f,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,loadEventStart:p,loadEventEnd:g,domComplete:s,redirectCount:y}}}function GJ(t){const{entryType:e,initiatorType:n,name:i,responseEnd:r,startTime:s,decodedBodySize:a,encodedBodySize:o,responseStatus:l,transferSize:f}=t;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${e}.${n}`,start:__(s),end:__(r),name:i,data:{size:f,statusCode:l,decodedBodySize:a,encodedBodySize:o}}}function WJ(t){const e=t.entries[t.entries.length-1],n=e?.element?[e.element]:void 0;return oC(t,"largest-contentful-paint",n)}function jJ(t){return t.sources!==void 0}function qJ(t){const e=[],n=[];for(const i of t.entries)if(jJ(i)){const r=[];for(const s of i.sources)if(s.node){n.push(s.node);const a=Of.mirror.getId(s.node);a&&r.push(a)}e.push({value:i.value,nodeIds:r.length?r:void 0})}return oC(t,"cumulative-layout-shift",n,e)}function $J(t){const e=t.entries[t.entries.length-1],n=e?.target?[e.target]:void 0;return oC(t,"first-input-delay",n)}function XJ(t){const e=t.entries[t.entries.length-1],n=e?.target?[e.target]:void 0;return oC(t,"interaction-to-next-paint",n)}function oC(t,e,n,i){const r=t.value,s=t.rating,a=__(r);return{type:"web-vital",name:e,start:a,end:a,data:{value:r,size:r,rating:s,nodeIds:n?n.map(o=>Of.mirror.getId(o)):void 0,attributions:i}}}function YJ(t){function e(r){t.performanceEntries.includes(r)||t.performanceEntries.push(r)}function n({entries:r}){r.forEach(e)}const i=[];return["navigation","paint","resource"].forEach(r=>{i.push(Dm(r,n))}),i.push(jN(dE(WJ,t)),WN(dE(qJ,t)),mU(dE($J,t)),gU(dE(XJ,t))),()=>{i.forEach(r=>r())}}const vn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ZJ='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function KJ(){const t=new Blob([ZJ]);return URL.createObjectURL(t)}const MP=["log","warn","error"],Hw="[Replay] ";function S3(t,e="info"){Th({category:"console",data:{logger:"replay"},level:e,message:`${Hw}${t}`},{level:e})}function QJ(){let t=!1,e=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:i=>{t=!!i.captureExceptions,e=!!i.traceInternals}};return vn?(MP.forEach(i=>{n[i]=(...r)=>{Lt[i](Hw,...r),e&&S3(r.join(""),Z8(i))}}),n.exception=(i,...r)=>{r.length&&n.error&&n.error(...r),Lt.error(Hw,i),t?k8(i):e&&S3(i,"error")},n.infoTick=(...i)=>{Lt.log(Hw,...i),e&&setTimeout(()=>S3(i[0]),0)}):MP.forEach(i=>{n[i]=()=>{}}),n}const bn=QJ();class iO extends Error{constructor(){super(`Event buffer exceeded maximum size of ${YN}.`)}}class nB{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const n=JSON.stringify(e).length;if(this._totalSize+=n,this._totalSize>YN)throw new iO;this.events.push(e)}finish(){return new Promise(e=>{const n=this.events;this.clear(),e(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(n=>n.timestamp).sort()[0];return e?tO(e):null}}class JJ{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,n)=>{this._worker.addEventListener("message",({data:i})=>{i.success?e():n()},{once:!0}),this._worker.addEventListener("error",i=>{n(i)},{once:!0})}),this._ensureReadyPromise)}destroy(){vn&&bn.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,n){const i=this._getAndIncrementId();return new Promise((r,s)=>{const a=({data:o})=>{const l=o;if(l.method===e&&l.id===i){if(this._worker.removeEventListener("message",a),!l.success){vn&&bn.error("Error in compression worker: ",l.response),s(new Error("Error in compression worker"));return}r(l.response)}};this._worker.addEventListener("message",a),this._worker.postMessage({id:i,method:e,arg:n})})}_getAndIncrementId(){return this._id++}}class eee{constructor(e){this._worker=new JJ(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const n=tO(e.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const i=JSON.stringify(e);return this._totalSize+=i.length,this._totalSize>YN?Promise.reject(new iO):this._sendEventToWorker(i)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{vn&&bn.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class tee{constructor(e){this._fallback=new nB,this._compression=new eee(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){vn&&bn.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:n,waitForCheckout:i}=this._fallback,r=[];for(const s of e)r.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._compression.waitForCheckout=i,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(s){vn&&bn.exception(s,"Failed to add events when switching buffers.")}}}function nee({useCompression:t,workerUrl:e}){if(t&&window.Worker){const n=iee(e);if(n)return n}return vn&&bn.log("Using simple buffer"),new nB}function iee(t){try{const e=t||ree();if(!e)return;vn&&bn.log(`Using compression worker${t?` from ${t}`:""}`);const n=new Worker(e);return new tee(n)}catch(e){vn&&bn.exception(e,"Failed to create compression worker")}}function ree(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?KJ():""}function rO(){try{return"sessionStorage"in ir&&!!ir.sessionStorage}catch{return!1}}function see(t){aee(),t.session=void 0}function aee(){if(rO())try{ir.sessionStorage.removeItem($N)}catch{}}function iB(t){return t===void 0?!1:Math.random()<t}function sO(t){if(rO())try{ir.sessionStorage.setItem($N,JSON.stringify(t))}catch{}}function rB(t){const e=Date.now(),n=t.id||su(),i=t.started||e,r=t.lastActivity||e,s=t.segmentId||0,a=t.sampled,o=t.previousSessionId;return{id:n,started:i,lastActivity:r,segmentId:s,sampled:a,previousSessionId:o}}function oee(t,e){return iB(t)?"session":e?"buffer":!1}function CP({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1},{previousSessionId:i}={}){const r=oee(t,e),s=rB({sampled:r,previousSessionId:i});return n&&sO(s),s}function uee(){if(!rO())return null;try{const t=ir.sessionStorage.getItem($N);if(!t)return null;const e=JSON.parse(t);return vn&&bn.infoTick("Loading existing session"),rB(e)}catch{return null}}function BR(t,e,n=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=n}function sB(t,{maxReplayDuration:e,sessionIdleExpire:n,targetTime:i=Date.now()}){return BR(t.started,e,i)||BR(t.lastActivity,n,i)}function aB(t,{sessionIdleExpire:e,maxReplayDuration:n}){return!(!sB(t,{sessionIdleExpire:e,maxReplayDuration:n})||t.sampled==="buffer"&&t.segmentId===0)}function E3({sessionIdleExpire:t,maxReplayDuration:e,previousSessionId:n},i){const r=i.stickySession&&uee();return r?aB(r,{sessionIdleExpire:t,maxReplayDuration:e})?(vn&&bn.infoTick("Session in sessionStorage is expired, creating new one..."),CP(i,{previousSessionId:r.id})):r:(vn&&bn.infoTick("Creating new session"),CP(i,{previousSessionId:n}))}function lee(t){return t.type===Yn.Custom}function aO(t,e,n){return uB(t,e)?(oB(t,e,n),!0):!1}function cee(t,e,n){return uB(t,e)?oB(t,e,n):Promise.resolve(null)}async function oB(t,e,n){const{eventBuffer:i}=t;if(!i||i.waitForCheckout&&!n)return null;const r=t.recordingMode==="buffer";try{n&&r&&i.clear(),n&&(i.hasCheckout=!0,i.waitForCheckout=!1);const s=t.getOptions(),a=fee(e,s.beforeAddRecordingEvent);return a?await i.addEvent(a):void 0}catch(s){const a=s&&s instanceof iO,o=a?"addEventSizeExceeded":"addEvent";if(a&&r)return i.clear(),i.waitForCheckout=!0,null;t.handleException(s),await t.stop({reason:o});const l=mi();l&&l.recordDroppedEvent("internal_sdk_error","replay")}}function uB(t,e){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const n=tO(e.timestamp);return n+t.timeouts.sessionIdlePause<Date.now()?!1:n>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(vn&&bn.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function fee(t,e){try{if(typeof e=="function"&&lee(t))return e(t)}catch(n){return vn&&bn.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return t}function oO(t){return!t.type}function zR(t){return t.type==="transaction"}function dee(t){return t.type==="replay_event"}function AP(t){return t.type==="feedback"}function hee(t){return(e,n)=>{if(!t.isEnabled()||!oO(e)&&!zR(e))return;const i=n?.statusCode;if(!(!i||i<200||i>=300)){if(zR(e)){pee(t,e);return}mee(t,e)}}}function pee(t,e){const n=t.getContext();e.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}function mee(t,e){const n=t.getContext();if(e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id),t.recordingMode!=="buffer"||!e.tags||!e.tags.replayId)return;const{beforeErrorSampling:i}=t.getOptions();typeof i=="function"&&!i(e)||qx(async()=>{try{await t.sendBufferedReplayOrFlush()}catch(r){t.handleException(r)}})}function gee(t){return e=>{!t.isEnabled()||!oO(e)||_ee(t,e)}}function _ee(t,e){const n=e.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const i=xc({category:"replay.hydrate-error",data:{url:V_()}});Xx(t,i)}}function yee(t){const e=mi();e&&e.on("beforeAddBreadcrumb",n=>vee(t,n))}function vee(t,e){if(!t.isEnabled()||!lB(e))return;const n=bee(e);n&&Xx(t,n)}function bee(t){return!lB(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui.")?null:t.category==="console"?xee(t):xc(t)}function xee(t){const e=t.data?.arguments;if(!Array.isArray(e)||e.length===0)return xc(t);let n=!1;const i=e.map(r=>{if(!r)return r;if(typeof r=="string")return r.length>uE?(n=!0,`${r.slice(0,uE)}`):r;if(typeof r=="object")try{const s=Dl(r,7);return JSON.stringify(s).length>uE?(n=!0,`${JSON.stringify(s,null,2).slice(0,uE)}`):s}catch{}return r});return xc({...t,data:{...t.data,arguments:i,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function lB(t){return!!t.category}function See(t,e){return t.type||!t.exception?.values?.length?!1:!!e.originalException?.__rrweb__}function cB(){const t=Ui().getPropagationContext().dsc;t&&delete t.replay_id;const e=to();if(e){const n=Hf(e);delete n.replay_id}}function Eee(t,e){t.triggerUserActivity(),t.addUpdate(()=>e.timestamp?(t.throttledAddEvent({type:Yn.Custom,timestamp:e.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:e.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:e.event_id}}}}),!1):!0)}function wee(t,e){return t.recordingMode!=="buffer"||e.message===XN||!e.exception||e.type?!1:iB(t.getOptions().errorSampleRate)}function Tee(t){return Object.assign((e,n)=>!t.isEnabled()||t.isPaused()?e:dee(e)?(delete e.breadcrumbs,e):!oO(e)&&!zR(e)&&!AP(e)?e:t.checkAndHandleExpiredSession()?AP(e)?(t.flush(),e.contexts.feedback.replay_id=t.getSessionId(),Eee(t,e),e):See(e,n)&&!t.getOptions()._experiments.captureExceptions?(vn&&bn.log("Ignoring error from rrweb internals",e),null):((wee(t,e)||t.recordingMode==="session")&&(e.tags={...e.tags,replayId:t.getSessionId()}),e):(cB(),e),{id:"Replay"})}function uC(t,e){return e.map(({type:n,start:i,end:r,name:s,data:a})=>{const o=t.throttledAddEvent({type:Yn.Custom,timestamp:i,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:i,endTimestamp:r,data:a}}});return typeof o=="string"?Promise.resolve(null):o})}function Mee(t){const{from:e,to:n}=t,i=Date.now()/1e3;return{type:"navigation.push",start:i,end:i,name:n,data:{previous:e}}}function Cee(t){return e=>{if(!t.isEnabled())return;const n=Mee(e);n!==null&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(uC(t,[n]),!1)))}}function Aee(t,e){return vn&&t.getOptions()._experiments.traceInternals?!1:_X(e,mi())}function fB(t,e){t.isEnabled()&&e!==null&&(Aee(t,e.name)||t.addUpdate(()=>(uC(t,[e]),!0)))}function lC(t){if(!t)return;const e=new TextEncoder;try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=TU(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch{}}function dB(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function TT(t,e){if(!t)return{headers:{},size:void 0,_meta:{warnings:[e]}};const n={...t._meta},i=n.warnings||[];return n.warnings=[...i,e],t._meta=n,t}function hB(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:i,url:r,method:s,statusCode:a,request:o,response:l}=e;return{type:t,start:n/1e3,end:i/1e3,name:r,data:{method:s,statusCode:a,request:o,response:l}}}function Yb(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function mh(t,e,n){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const i={headers:t,size:e},{body:r,warnings:s}=Dee(n);return i.body=r,s?.length&&(i._meta={warnings:s}),i}function HR(t,e){return Object.entries(t).reduce((n,[i,r])=>{const s=i.toLowerCase();return e.includes(s)&&t[i]&&(n[s]=r),n},{})}function Dee(t){if(!t||typeof t!="string")return{body:t};const e=t.length>uP,n=Ree(t);if(e){const i=t.slice(0,uP);return n?{body:i,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${i}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(t)}}catch{}return{body:t}}function Ree(t){const e=t[0],n=t[t.length-1];return e==="["&&n==="]"||e==="{"&&n==="}"}function MT(t,e){const n=Iee(t);return Nf(n,e)}function Iee(t,e=ir.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(ir.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const i=n.href;return!t.endsWith("/")&&i.endsWith("/")?i.slice(0,-1):i}async function Nee(t,e,n){try{const i=await kee(t,e,n),r=hB("resource.fetch",i);fB(n.replay,r)}catch(i){vn&&bn.exception(i,"Failed to capture fetch breadcrumb")}}function Oee(t,e){const{input:n,response:i}=e,r=n?CU(n):void 0,s=lC(r),a=i?dB(i.headers.get("content-length")):void 0;s!==void 0&&(t.data.request_body_size=s),a!==void 0&&(t.data.response_body_size=a)}async function kee(t,e,n){const i=Date.now(),{startTimestamp:r=i,endTimestamp:s=i}=e,{url:a,method:o,status_code:l=0,request_body_size:f,response_body_size:p}=t.data,g=MT(a,n.networkDetailAllowUrls)&&!MT(a,n.networkDetailDenyUrls),y=g?Pee(n,e.input,f):Yb(f),_=await Lee(g,n,e.response,p);return{startTimestamp:r,endTimestamp:s,url:a,method:o,statusCode:l,request:y,response:_}}function Pee({networkCaptureBodies:t,networkRequestHeaders:e},n,i){const r=n?Bee(n,e):{};if(!t)return mh(r,i,void 0);const s=CU(n),[a,o]=MU(s,bn),l=mh(r,i,a);return o?TT(l,o):l}async function Lee(t,{networkCaptureBodies:e,networkResponseHeaders:n},i,r){if(!t&&r!==void 0)return Yb(r);const s=i?pB(i.headers,n):{};if(!i||!e&&r!==void 0)return mh(s,r,void 0);const[a,o]=await Uee(i),l=Fee(a,{networkCaptureBodies:e,responseBodySize:r,captureDetails:t,headers:s});return o?TT(l,o):l}function Fee(t,{networkCaptureBodies:e,responseBodySize:n,captureDetails:i,headers:r}){try{const s=t?.length&&n===void 0?lC(t):n;return i?e?mh(r,s,t):mh(r,s,void 0):Yb(s)}catch(s){return vn&&bn.exception(s,"Failed to serialize response body"),mh(r,n,void 0)}}async function Uee(t){const e=zee(t);if(!e)return[void 0,"BODY_PARSE_ERROR"];try{return[await Hee(e)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(vn&&bn.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(vn&&bn.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function pB(t,e){const n={};return e.forEach(i=>{t.get(i)&&(n[i]=t.get(i))}),n}function Bee(t,e){return t.length===1&&typeof t[0]!="string"?DP(t[0],e):t.length===2?DP(t[1],e):{}}function DP(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?pB(n,e):Array.isArray(n)?{}:HR(n,e):{}}function zee(t){try{return t.clone()}catch(e){vn&&bn.exception(e,"Failed to clone response body")}}function Hee(t){return new Promise((e,n)=>{const i=qx(()=>n(new Error("Timeout while trying to read response body")),500);Vee(t).then(r=>e(r),r=>n(r)).finally(()=>clearTimeout(i))})}async function Vee(t){return await t.text()}async function Gee(t,e,n){try{const i=jee(t,e,n),r=hB("resource.xhr",i);fB(n.replay,r)}catch(i){vn&&bn.exception(i,"Failed to capture xhr breadcrumb")}}function Wee(t,e){const{xhr:n,input:i}=e;if(!n)return;const r=lC(i),s=n.getResponseHeader("content-length")?dB(n.getResponseHeader("content-length")):Yee(n.response,n.responseType);r!==void 0&&(t.data.request_body_size=r),s!==void 0&&(t.data.response_body_size=s)}function jee(t,e,n){const i=Date.now(),{startTimestamp:r=i,endTimestamp:s=i,input:a,xhr:o}=e,{url:l,method:f,status_code:p=0,request_body_size:g,response_body_size:y}=t.data;if(!l)return null;if(!o||!MT(l,n.networkDetailAllowUrls)||MT(l,n.networkDetailDenyUrls)){const O=Yb(g),P=Yb(y);return{startTimestamp:r,endTimestamp:s,url:l,method:f,statusCode:p,request:O,response:P}}const _=o[rm],x=_?HR(_.request_headers,n.networkRequestHeaders):{},S=HR(qee(o),n.networkResponseHeaders),[E,w]=n.networkCaptureBodies?MU(a,bn):[void 0],[C,A]=n.networkCaptureBodies?$ee(o):[void 0],R=mh(x,g,E),N=mh(S,y,C);return{startTimestamp:r,endTimestamp:s,url:l,method:f,statusCode:p,request:w?TT(R,w):R,response:A?TT(N,A):N}}function qee(t){const e=t.getAllResponseHeaders();return e?e.split(`\r
`).reduce((n,i)=>{const[r,s]=i.split(": ");return s&&(n[r.toLowerCase()]=s),n},{}):{}}function $ee(t){const e=[];try{return[t.responseText]}catch(n){e.push(n)}try{return Xee(t.response,t.responseType)}catch(n){e.push(n)}return vn&&bn.warn("Failed to get xhr response body",...e),[void 0]}function Xee(t,e){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(e==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(n){return vn&&bn.exception(n,"Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return vn&&bn.log("Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Yee(t,e){try{const n=e==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return lC(n)}catch{return}}function Zee(t){const e=mi();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:i,networkCaptureBodies:r,networkRequestHeaders:s,networkResponseHeaders:a}=t.getOptions(),o={replay:t,networkDetailAllowUrls:n,networkDetailDenyUrls:i,networkCaptureBodies:r,networkRequestHeaders:s,networkResponseHeaders:a};e&&e.on("beforeAddBreadcrumb",(l,f)=>Kee(o,l,f))}catch{}}function Kee(t,e,n){if(e.data)try{Qee(e)&&ete(n)&&(Wee(e,n),Gee(e,n,t)),Jee(e)&&tte(n)&&(Oee(e,n),Nee(e,n,t))}catch(i){vn&&bn.exception(i,"Error when enriching network breadcrumb")}}function Qee(t){return t.category==="xhr"}function Jee(t){return t.category==="fetch"}function ete(t){return t?.xhr}function tte(t){return t?.response}function nte(t){const e=mi();SU(IJ(t)),iC(Cee(t)),yee(t),Zee(t);const n=Tee(t);j$(n),e&&(e.on("beforeSendEvent",gee(t)),e.on("afterSendEvent",hee(t)),e.on("createDsc",i=>{const r=t.getSessionId();r&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(i.replay_id=r)}),e.on("spanStart",i=>{t.lastActiveSpan=i}),e.on("spanEnd",i=>{t.lastActiveSpan=i}),e.on("beforeSendFeedback",async(i,r)=>{const s=t.getSessionId();r?.includeReplay&&t.isEnabled()&&s&&i.contexts?.feedback&&(i.contexts.feedback.source==="api"&&await t.sendBufferedReplayOrFlush(),i.contexts.feedback.replay_id=s)}),e.on("openFeedbackWidget",async()=>{await t.sendBufferedReplayOrFlush()}))}async function ite(t){try{return Promise.all(uC(t,[rte(ir.performance.memory)]))}catch{return[]}}function rte(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:i}=t,r=Date.now()/1e3;return{type:"memory",name:"memory",start:r,end:r,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:i}}}}function ste(t,e,n){return EX(t,e,{...n,setTimeoutImpl:qx})}const hE=Ai.navigator;function ate(){return/iPhone|iPad|iPod/i.test(hE?.userAgent??"")||/Macintosh/i.test(hE?.userAgent??"")&&hE?.maxTouchPoints&&hE?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function ote(t){let e=!1;return(n,i)=>{if(!t.checkAndHandleExpiredSession()){vn&&bn.warn("Received replay event after session expired.");return}const r=i||!e;e=!0,t.clickDetector&&MJ(t.clickDetector,n),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&r&&t.setInitialState(),!aO(t,n,r))return!0;if(!r)return!1;const s=t.session;if(lte(t,r),t.recordingMode==="buffer"&&s&&t.eventBuffer){const a=t.eventBuffer.getEarliestTimestamp();a&&(vn&&bn.log(`Updating session start time to earliest event in buffer to ${new Date(a)}`),s.started=a,t.getOptions().stickySession&&sO(s))}return s?.previousSessionId||t.recordingMode==="session"&&t.flush(),!0})}}function ute(t){const e=t.getOptions();return{type:Yn.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function lte(t,e){!e||!t.session||t.session.segmentId!==0||aO(t,ute(t),!1)}function cte(t){if(!t)return null;try{return t.nodeType===t.ELEMENT_NODE?t:t.parentElement}catch{return null}}function fte(t,e,n,i){return qm(C8(t,LN(t),i,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function dte({recordingData:t,headers:e}){let n;const i=`${JSON.stringify(e)}
`;if(typeof t=="string")n=`${i}${t}`;else{const s=new TextEncoder().encode(i);n=new Uint8Array(s.length+t.length),n.set(s),n.set(t,s.length)}return n}async function hte({client:t,scope:e,replayId:n,event:i}){const r=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,s={event_id:n,integrations:r};t.emit("preprocessEvent",i,s);const a=await O8(t.getOptions(),i,s,e,t,Pc());if(!a)return null;t.emit("postprocessEvent",a,s),a.platform=a.platform||"javascript";const o=t.getSdkMetadata(),{name:l,version:f}=o?.sdk||{};return a.sdk={...a.sdk,name:l||"sentry.javascript.unknown",version:f||"0.0.0"},a}async function pte({recordingData:t,replayId:e,segmentId:n,eventContext:i,timestamp:r,session:s}){const a=dte({recordingData:t,headers:{segment_id:n}}),{urls:o,errorIds:l,traceIds:f,initialTimestamp:p}=i,g=mi(),y=Ui(),_=g?.getTransport(),x=g?.getDsn();if(!g||!_||!x||!s.sampled)return Vf({});const S={type:GK,replay_start_timestamp:p/1e3,timestamp:r/1e3,error_ids:l,trace_ids:f,urls:o,replay_id:e,segment_id:n,replay_type:s.sampled},E=await hte({scope:y,client:g,replayId:e,event:S});if(!E)return g.recordDroppedEvent("event_processor","replay"),vn&&bn.log("An event processor returned `null`, will not send event."),Vf({});delete E.sdkProcessingMetadata;const w=fte(E,a,x,g.getOptions().tunnel);let C;try{C=await _.send(w)}catch(R){const N=new Error(XN);try{N.cause=R}catch{}throw N}if(typeof C.statusCode=="number"&&(C.statusCode<200||C.statusCode>=300))throw new mB(C.statusCode);const A=$8({},C);if(q8(A,"replay"))throw new uO(A);return C}class mB extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class uO extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function gB(t,e={count:0,interval:YK}){const{recordingData:n,onError:i}=t;if(n.length)try{return await pte(t),!0}catch(r){if(r instanceof mB||r instanceof uO)throw r;if(L8("Replays",{_retryCount:e.count}),i&&i(r),e.count>=ZK){const s=new Error(`${XN} - max retries exceeded`);try{s.cause=r}catch{}throw s}return e.interval*=++e.count,new Promise((s,a)=>{qx(async()=>{try{await gB(t,e),s(!0)}catch(o){a(o)}},e.interval)})}}const _B="__THROTTLED",mte="__SKIPPED";function gte(t,e,n){const i=new Map,r=o=>{const l=o-n;i.forEach((f,p)=>{p<l&&i.delete(p)})},s=()=>[...i.values()].reduce((o,l)=>o+l,0);let a=!1;return(...o)=>{const l=Math.floor(Date.now()/1e3);if(r(l),s()>=e){const p=a;return a=!0,p?mte:_B}a=!1;const f=i.get(l)||0;return i.set(l,f+1),t(...o)}}class _te{constructor({options:e,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:WK,sessionIdleExpire:jK},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=e,this._debouncedFlush=ste(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=gte((a,o)=>cee(this,a,o),300,5);const{slowClickTimeout:i,slowClickIgnoreSelectors:r}=this.getOptions(),s=i?{threshold:Math.min(KK,i),timeout:i,scrollTimeout:QK,ignoreSelector:r?r.join(","):""}:void 0;if(s&&(this.clickDetector=new SJ(this,s)),vn){const a=e._experiments;bn.setConfig({captureExceptions:!!a.captureExceptions,traceInternals:!!a.traceInternals})}this._handleVisibilityChange=()=>{ir.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const a=xc({category:"ui.blur"});this._doChangeToBackgroundTasks(a)},this._handleWindowFocus=()=>{const a=xc({category:"ui.focus"});this._doChangeToForegroundTasks(a)},this._handleKeyboardEvent=a=>{PJ(this,a)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){vn&&bn.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:n,sessionSampleRate:i}=this._options,r=n<=0&&i<=0;if(this._requiresManualStart=r,!r){if(this._initializeSessionForSampling(e),!this.session){vn&&bn.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",vn&&bn.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){vn&&bn.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){vn&&bn.log("Buffering is in progress, call `flush()` to save the replay");return}vn&&bn.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=E3({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){vn&&bn.log("Buffering is in progress, call `flush()` to save the replay");return}vn&&bn.infoTick("Starting replay in buffer mode");const e=E3({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Of({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:XK}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:ote(this),...ate(),onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{vn&&bn.log(`Stopping Replay${n?` triggered by ${n}`:""}`),cB(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,see(this)}catch(i){this.handleException(i)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),vn&&bn.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),vn&&bn.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();vn&&bn.log("Converting buffer to session"),await this.flushImmediate();const i=this.stopRecording();!e||!i||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const n=e();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&BR(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const e=`${ir.location.pathname}${ir.location.hash}${ir.location.search}`,n=`${ir.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(e,n){const i=this._throttledAddEvent(e,n);if(i===_B){const r=xc({category:"replay.throttled"});this.addUpdate(()=>!aO(this,{type:mJ,timestamp:r.timestamp||0,data:{tag:"breadcrumb",payload:r,metric:!0}}))}return i}getCurrentRoute(){const e=this.lastActiveSpan||to(),n=e&&xa(e),r=(n&&Ci(n).data||{})[Il];if(!(!n||!r||!["route","custom"].includes(r)))return Ci(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=nee({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const n=this._options.errorSampleRate>0,i=E3({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=i}_checkSession(){if(!this.session)return!1;const e=this.session;return aB(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{ir.document.addEventListener("visibilitychange",this._handleVisibilityChange),ir.addEventListener("blur",this._handleWindowBlur),ir.addEventListener("focus",this._handleWindowFocus),ir.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(nte(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=YJ(this)}_removeListeners(){try{ir.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ir.removeEventListener("blur",this._handleWindowBlur),ir.removeEventListener("focus",this._handleWindowFocus),ir.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){!this.session||sB(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){vn&&bn.log("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:Yn.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=BJ(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;e=e.filter(i=>i.start>=n)}return Promise.all(uC(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:n}=this;if(!e||!n||this._requiresManualStart||e.segmentId)return;const i=n.getEarliestTimestamp();i&&i<this._context.initialTimestamp&&(this._context.initialTimestamp=i)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){vn&&bn.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await ite(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const i=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await gB({replayId:e,recordingData:s,segmentId:r,eventContext:i,session:this.session,timestamp:n,onError:a=>this.handleException(a)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const i=mi();if(i){const r=n instanceof uO?"ratelimit_backoff":"send_error";i.recordDroppedEvent(r,"replay")}}}async _flush({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){vn&&bn.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,r=Date.now()-n;this._debouncedFlush.cancel();const s=r<this._options.minReplayDuration,a=r>this._options.maxReplayDuration+5e3;if(s||a){vn&&bn.log(`Session duration (${Math.floor(r/1e3)}s) is too ${s?"short":"long"}, not sending replay.`),s&&this._debouncedFlush();return}const o=this.eventBuffer;o&&this.session.segmentId===0&&!o.hasCheckout&&vn&&bn.log("Flushing initial segment without checkout.");const l=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(f){this.handleException(f)}finally{this._flushLock=void 0,l&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&sO(this.session)}_onMutationHandler(e){const{ignoreMutations:n}=this._options._experiments;if(n?.length&&e.some(o=>{const l=cte(o.target),f=n.join(",");return l?.matches(f)}))return!1;const i=e.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,a=r&&i>r;if(i>s||a){const o=xc({category:"replay.mutations",data:{count:i,limit:a}});this._createCustomBreadcrumb(o)}return a?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Nv(t,e){return[...t,...e].join(",")}function yte({mask:t,unmask:e,block:n,unblock:i,ignore:r}){const s=["base","iframe[srcdoc]:not([src])"],a=Nv(t,[".sentry-mask","[data-sentry-mask]"]),o=Nv(e,[]);return{maskTextSelector:a,unmaskTextSelector:o,blockSelector:Nv(n,[".sentry-block","[data-sentry-block]",...s]),unblockSelector:Nv(i,[]),ignoreSelector:Nv(r,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function vte({el:t,key:e,maskAttributes:n,maskAllText:i,privacyOptions:r,value:s}){return!i||r.unmaskTextSelector&&t.matches(r.unmaskTextSelector)?s:n.includes(e)||e==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const RP='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',bte=["content-length","content-type","accept"];let IP=!1;const xte=(t=>new Ste(t));class Ste{constructor({flushMinDelay:e=qK,flushMaxDelay:n=$K,minReplayDuration:i=JK,maxReplayDuration:r=lP,stickySession:s=!0,useCompression:a=!0,workerUrl:o,_experiments:l={},maskAllText:f=!0,maskAllInputs:p=!0,blockAllMedia:g=!0,mutationBreadcrumbLimit:y=750,mutationLimit:_=1e4,slowClickTimeout:x=7e3,slowClickIgnoreSelectors:S=[],networkDetailAllowUrls:E=[],networkDetailDenyUrls:w=[],networkCaptureBodies:C=!0,networkRequestHeaders:A=[],networkResponseHeaders:R=[],mask:N=[],maskAttributes:O=["title","placeholder","aria-label"],unmask:P=[],block:z=[],unblock:k=[],ignore:F=[],maskFn:G,beforeAddRecordingEvent:$,beforeErrorSampling:ee,onError:ne}={}){this.name="Replay";const re=yte({mask:N,unmask:P,block:z,unblock:k,ignore:F});if(this._recordingOptions={maskAllInputs:p,maskAllText:f,maskInputOptions:{password:!0},maskTextFn:G,maskInputFn:G,maskAttributeFn:(W,q,te)=>vte({maskAttributes:O,maskAllText:f,privacyOptions:re,key:W,value:q,el:te}),...re,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:W=>{try{W.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!l.recordCrossOriginIframes},this._initialOptions={flushMinDelay:e,flushMaxDelay:n,minReplayDuration:Math.min(i,eQ),maxReplayDuration:Math.min(r,lP),stickySession:s,useCompression:a,workerUrl:o,blockAllMedia:g,maskAllInputs:p,maskAllText:f,mutationBreadcrumbLimit:y,mutationLimit:_,slowClickTimeout:x,slowClickIgnoreSelectors:S,networkDetailAllowUrls:E,networkDetailDenyUrls:w,networkCaptureBodies:C,networkRequestHeaders:NP(A),networkResponseHeaders:NP(R),beforeAddRecordingEvent:$,beforeErrorSampling:ee,onError:ne,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${RP}`:RP),this._isInitialized&&eP())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return IP}set _isInitialized(e){IP=e}afterAllSetup(e){!eP()||this._replay||(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const n=Ete(this._initialOptions,e);this._replay=new _te({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const n=e.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function Ete(t,e){const n=e.getOptions(),i={sessionSampleRate:0,errorSampleRate:0,...t},r=Am(n.replaysSessionSampleRate),s=Am(n.replaysOnErrorSampleRate);return r==null&&s==null&&Gm(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),r!=null&&(i.sessionSampleRate=r),s!=null&&(i.errorSampleRate=s),i}function NP(t){return[...bte,...t.map(e=>e.toLowerCase())]}function fc(t=0){return((eo()||performance.timeOrigin)+t)/1e3}function wte(t){const e=[];if(t.nextHopProtocol!=null){const{name:n,version:i}=vU(t.nextHopProtocol);e.push(["network.protocol.version",i],["network.protocol.name",n])}return eo()?[...e,["http.request.redirect_start",fc(t.redirectStart)],["http.request.fetch_start",fc(t.fetchStart)],["http.request.domain_lookup_start",fc(t.domainLookupStart)],["http.request.domain_lookup_end",fc(t.domainLookupEnd)],["http.request.connect_start",fc(t.connectStart)],["http.request.secure_connection_start",fc(t.secureConnectionStart)],["http.request.connection_end",fc(t.connectEnd)],["http.request.request_start",fc(t.requestStart)],["http.request.response_start",fc(t.responseStart)],["http.request.response_end",fc(t.responseEnd)]]:e}const OP=new WeakMap,w3=new Map,yB={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Tte(t,e){const{traceFetch:n,traceXHR:i,trackFetchStreamPerformance:r,shouldCreateSpanForRequest:s,enableHTTPTimings:a,tracePropagationTargets:o,onRequestSpanStart:l}={...yB,...e},f=typeof s=="function"?s:y=>!0,p=y=>Cte(y,o),g={};n&&(t.addEventProcessor(y=>(y.type==="transaction"&&y.spans&&y.spans.forEach(_=>{if(_.op==="http.client"){const x=w3.get(_.span_id);x&&(_.timestamp=x/1e3,w3.delete(_.span_id))}}),y)),r&&aY(y=>{if(y.response){const _=OP.get(y.response);_&&y.endTimestamp&&w3.set(_,y.endTimestamp)}}),nU(y=>{const _=KX(y,f,p,g);if(y.response&&y.fetchData.__span&&OP.set(y.response,y.fetchData.__span),_){const x=vB(y.fetchData.url),S=x?gm(x).host:void 0;_.setAttributes({"http.url":x,"server.address":S}),a&&kP(_),l?.(_,{headers:y.headers})}})),i&&wU(y=>{const _=Ate(y,f,p,g);if(_){a&&kP(_);let x;try{x=new Headers(y.xhr.__sentry_xhr_v3__?.request_headers)}catch{}l?.(_,{headers:x})}})}function Mte(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function kP(t){const{url:e}=Ci(t).data;if(!e||typeof e!="string")return;const n=Dm("resource",({entries:i})=>{i.forEach(r=>{Mte(r)&&r.name.endsWith(e)&&(wte(r).forEach(a=>t.setAttribute(...a)),setTimeout(n))})})}function Cte(t,e){const n=V_();if(n){let i,r;try{i=new URL(t,n),r=new URL(n).origin}catch{return!1}const s=i.origin===r;return e?Nf(i.toString(),e)||s&&Nf(i.pathname,e):s}else{const i=!!t.match(/^\/(?!\/)/);return e?Nf(t,e):i}}function Ate(t,e,n,i){const r=t.xhr,s=r?.[rm];if(!r||r.__sentry_own_request__||!s)return;const{url:a,method:o}=s,l=Sh()&&e(a);if(t.endTimestamp&&l){const S=r.__sentry_xhr_span_id__;if(!S)return;const E=i[S];E&&s.status_code!==void 0&&(d8(E,s.status_code),E.end(),delete i[S]);return}const f=vB(a),p=gm(f||a),g=ZX(a),y=!!to(),_=l&&y?j_({name:`${o} ${g}`,attributes:{url:a,type:"xhr","http.method":o,"http.url":f,"server.address":p?.host,[fs]:"auto.http.browser",[zf]:"http.client",...p?.search&&{"http.query":p?.search},...p?.hash&&{"http.fragment":p?.hash}}}):new Eh;r.__sentry_xhr_span_id__=_.spanContext().spanId,i[r.__sentry_xhr_span_id__]=_,n(a)&&Dte(r,Sh()&&y?_:void 0);const x=mi();return x&&x.emit("beforeOutgoingRequestSpan",_,t),_}function Dte(t,e){const{"sentry-trace":n,baggage:i}=Y8({span:e});n&&Rte(t,n,i)}function Rte(t,e,n){const i=t.__sentry_xhr_v3__?.request_headers;if(!i?.["sentry-trace"])try{if(t.setRequestHeader("sentry-trace",e),n){const r=i?.baggage;(!r||!Ite(r))&&t.setRequestHeader("baggage",n)}}catch{}}function Ite(t){return t.split(",").some(e=>e.trim().startsWith("sentry-"))}function vB(t){try{return new URL(t,bi.location.origin).href}catch{return}}function Nte(){bi.document?bi.document.addEventListener("visibilitychange",()=>{const t=to();if(!t)return;const e=xa(t);if(bi.document.hidden&&e){const n="cancelled",{op:i,status:r}=Ci(e);Ku&&Lt.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${i}`),r||e.setStatus({code:bs,message:n}),e.setAttribute("sentry.cancellation_reason","document.hidden"),e.end()}}):Ku&&Lt.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Ote=3600,bB="sentry_previous_trace",kte="sentry.previous_trace";function Pte(t,{linkPreviousTrace:e,consistentTraceSampling:n}){const i=e==="session-storage";let r=i?Ute():void 0;t.on("spanStart",a=>{if(xa(a)!==a)return;const o=Ui().getPropagationContext();r=Lte(r,a,o),i&&Fte(r)});let s=!0;n&&t.on("beforeSampling",a=>{if(!r)return;const o=Ui(),l=o.getPropagationContext();if(s&&l.parentSpanId){s=!1;return}o.setPropagationContext({...l,dsc:{...l.dsc,sample_rate:String(r.sampleRate),sampled:String(VR(r.spanContext))},sampleRand:r.sampleRand}),a.parentSampled=VR(r.spanContext),a.parentSampleRate=r.sampleRate,a.spanAttributes={...a.spanAttributes,[c8]:r.sampleRate}})}function Lte(t,e,n){const i=Ci(e);function r(){try{return Number(n.dsc?.sample_rate)??Number(i.data?.[IN])}catch{return 0}}const s={spanContext:e.spanContext(),startTimestamp:i.start_timestamp,sampleRate:r(),sampleRand:n.sampleRand};if(!t)return s;const a=t.spanContext;return a.traceId===i.trace_id?t:(Date.now()/1e3-t.startTimestamp<=Ote&&(Ku&&Lt.log(`Adding previous_trace ${a} link to span ${{op:i.op,...e.spanContext()}}`),e.addLink({context:a,attributes:{[Aq]:"previous_trace"}}),e.setAttribute(kte,`${a.traceId}-${a.spanId}-${VR(a)?1:0}`)),s)}function Fte(t){try{bi.sessionStorage.setItem(bB,JSON.stringify(t))}catch(e){Ku&&Lt.warn("Could not store previous trace in sessionStorage",e)}}function Ute(){try{const t=bi.sessionStorage?.getItem(bB);return JSON.parse(t)}catch{return}}function VR(t){return t.traceFlags===1}const Bte="BrowserTracing",zte={...Fw,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...yB},Hte=((t={})=>{const e={name:void 0,source:void 0},n=bi.document,{enableInp:i,enableElementTiming:r,enableLongTask:s,enableLongAnimationFrame:a,_experiments:{enableInteractions:o,enableStandaloneClsSpans:l,enableStandaloneLcpSpans:f},beforeStartSpan:p,idleTimeout:g,finalTimeout:y,childSpanTimeout:_,markBackgroundSpan:x,traceFetch:S,traceXHR:E,trackFetchStreamPerformance:w,shouldCreateSpanForRequest:C,enableHTTPTimings:A,ignoreResourceSpans:R,ignorePerformanceApiSpans:N,instrumentPageLoad:O,instrumentNavigation:P,detectRedirects:z,linkPreviousTrace:k,consistentTraceSampling:F,onRequestSpanStart:G}={...zte,...t};let $,ee;function ne(re,W,q=!0){const te=W.op==="pageload",se=p?p(W):W,Z=se.attributes||{};if(W.name!==se.name&&(Z[Il]="custom",se.attributes=Z),!q){const ge=Wm();j_({...se,startTime:ge}).end(ge);return}e.name=se.name,e.source=Z[Il];const j=N8(se,{idleTimeout:g,finalTimeout:y,childSpanTimeout:_,disableAutoFinish:te,beforeSpanEnd:ge=>{$?.(),vZ(ge,{recordClsOnPageloadSpan:!l,recordLcpOnPageloadSpan:!f,ignoreResourceSpans:R,ignorePerformanceApiSpans:N}),LP(re,void 0);const Se=Ui(),Fe=Se.getPropagationContext();Se.setPropagationContext({...Fe,traceId:j.spanContext().traceId,sampled:jm(j),dsc:Hf(ge)})}});LP(re,j);function ue(){n&&["interactive","complete"].includes(n.readyState)&&re.emit("idleSpanEnableAutoFinish",j)}te&&n&&(n.addEventListener("readystatechange",()=>{ue()}),ue())}return{name:Bte,setup(re){if(qq(),$=fZ({recordClsStandaloneSpans:l||!1,recordLcpStandaloneSpans:f||!1,client:re}),i&&HZ(),r&&DZ(),a&&Ai.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?hZ():s&&dZ(),o&&pZ(),z&&n){const q=()=>{ee=Zs()};addEventListener("click",q,{capture:!0}),addEventListener("keydown",q,{capture:!0,passive:!0})}function W(){const q=Zb(re);q&&!Ci(q).timestamp&&(Ku&&Lt.log(`[Tracing] Finishing current active span with op: ${Ci(q).op}`),q.setAttribute(cT,"cancelled"),q.end())}re.on("startNavigationSpan",(q,te)=>{if(mi()!==re)return;if(te?.isRedirect){Ku&&Lt.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),ne(re,{op:"navigation.redirect",...q},!1);return}W(),Pc().setPropagationContext({traceId:xh(),sampleRand:Math.random()});const se=Ui();se.setPropagationContext({traceId:xh(),sampleRand:Math.random()}),se.setSDKProcessingMetadata({normalizedRequest:void 0}),ne(re,{op:"navigation",...q})}),re.on("startPageLoadSpan",(q,te={})=>{if(mi()!==re)return;W();const se=te.sentryTrace||PP("sentry-trace"),Z=te.baggage||PP("baggage"),j=Uq(se,Z),ue=Ui();ue.setPropagationContext(j),ue.setSDKProcessingMetadata({normalizedRequest:BN()}),ne(re,{op:"pageload",...q})})},afterAllSetup(re){let W=V_();if(k!=="off"&&Pte(re,{linkPreviousTrace:k,consistentTraceSampling:F}),bi.location){if(O){const q=eo();Vte(re,{name:bi.location.pathname,startTime:q?q/1e3:void 0,attributes:{[Il]:"url",[fs]:"auto.pageload.browser"}})}P&&iC(({to:q,from:te})=>{if(te===void 0&&W?.indexOf(q)!==-1){W=void 0;return}W=void 0;const se=eU(q),Z=Zb(re),j=Z&&z&&jte(Z,ee);Gte(re,{name:se?.pathname||bi.location.pathname,attributes:{[Il]:"url",[fs]:"auto.navigation.browser"}},{url:q,isRedirect:j})})}x&&Nte(),o&&Wte(re,g,y,_,e),i&&WZ(),Tte(re,{traceFetch:S,traceXHR:E,trackFetchStreamPerformance:w,tracePropagationTargets:re.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:C,enableHTTPTimings:A,onRequestSpanStart:G})}}});function Vte(t,e,n){t.emit("startPageLoadSpan",e,n),Ui().setTransactionName(e.name);const i=Zb(t);return i&&t.emit("afterStartPageLoadSpan",i),i}function Gte(t,e,n){const{url:i,isRedirect:r}=n||{};t.emit("beforeStartNavigationSpan",e,{isRedirect:r}),t.emit("startNavigationSpan",e,{isRedirect:r});const s=Ui();return s.setTransactionName(e.name),i&&!r&&s.setSDKProcessingMetadata({normalizedRequest:{...BN(),url:i}}),Zb(t)}function PP(t){return bi.document?.querySelector(`meta[name=${t}]`)?.getAttribute("content")||void 0}function Wte(t,e,n,i,r){const s=bi.document;let a;const o=()=>{const l="ui.action.click",f=Zb(t);if(f){const p=Ci(f).op;if(["navigation","pageload"].includes(p)){Ku&&Lt.warn(`[Tracing] Did not create ${l} span because a pageload or navigation span is in progress.`);return}}if(a&&(a.setAttribute(cT,"interactionInterrupted"),a.end(),a=void 0),!r.name){Ku&&Lt.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}a=N8({name:r.name,op:l,attributes:{[Il]:r.source||"url"}},{idleTimeout:e,finalTimeout:n,childSpanTimeout:i})};s&&addEventListener("click",o,{capture:!0})}const xB="_sentry_idleSpan";function Zb(t){return t[xB]}function LP(t,e){cu(t,xB,e)}const FP=.3;function jte(t,e){const n=Ci(t),i=Wm(),r=n.start_timestamp;return!(i-r>FP||e&&i-e<=FP)}var U=Px();const Dt=kx(U),cC=Uj({__proto__:null,default:Dt},[U]);function qte(t){const e={...t};return X8(e,"react"),L8("react",{version:U.version}),VK(e)}const $te=1,Xte=1e6;let T3=0;function Yte(){return T3=(T3+1)%Number.MAX_SAFE_INTEGER,T3.toString()}const M3=new Map,UP=t=>{if(M3.has(t))return;const e=setTimeout(()=>{M3.delete(t),vb({type:"REMOVE_TOAST",toastId:t})},Xte);M3.set(t,e)},Zte=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,$te)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?UP(n):t.toasts.forEach(i=>{UP(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Vw=[];let Gw={toasts:[]};function vb(t){Gw=Zte(Gw,t),Vw.forEach(e=>{e(Gw)})}function Kte({...t}){const e=Yte(),n=r=>vb({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>vb({type:"DISMISS_TOAST",toastId:e});return vb({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:n}}function Qte(){const[t,e]=U.useState(Gw);return U.useEffect(()=>(Vw.push(e),()=>{const n=Vw.indexOf(e);n>-1&&Vw.splice(n,1)}),[t]),{...t,toast:Kte,dismiss:n=>vb({type:"DISMISS_TOAST",toastId:n})}}var Xm=Y5();const lO=kx(Xm);function Un(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function BP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fC(...t){return e=>{let n=!1;const i=t.map(r=>{const s=BP(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():BP(t[r],null)}}}}function sr(...t){return U.useCallback(fC(...t),t)}function Yx(t,e=[]){let n=[];function i(s,a){const o=U.createContext(a),l=n.length;n=[...n,a];const f=g=>{const{scope:y,children:_,...x}=g,S=y?.[t]?.[l]||o,E=U.useMemo(()=>x,Object.values(x));return V.jsx(S.Provider,{value:E,children:_})};f.displayName=s+"Provider";function p(g,y){const _=y?.[t]?.[l]||o,x=U.useContext(_);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[f,p]}const r=()=>{const s=n.map(a=>U.createContext(a));return function(o){const l=o?.[t]||s;return U.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return r.scopeName=t,[i,Jte(r,...e)]}function Jte(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const a=i.reduce((o,{useScope:l,scopeName:f})=>{const g=l(s)[`__scope${f}`];return{...o,...g}},{});return U.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function zP(t){const e=ene(t),n=U.forwardRef((i,r)=>{const{children:s,...a}=i,o=U.Children.toArray(s),l=o.find(nne);if(l){const f=l.props.children,p=o.map(g=>g===l?U.Children.count(f)>1?U.Children.only(null):U.isValidElement(f)?f.props.children:null:g);return V.jsx(e,{...a,ref:r,children:U.isValidElement(f)?U.cloneElement(f,void 0,p):null})}return V.jsx(e,{...a,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function ene(t){const e=U.forwardRef((n,i)=>{const{children:r,...s}=n;if(U.isValidElement(r)){const a=rne(r),o=ine(s,r.props);return r.type!==U.Fragment&&(o.ref=i?fC(i,a):a),U.cloneElement(r,o)}return U.Children.count(r)>1?U.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tne=Symbol("radix.slottable");function nne(t){return U.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tne}function ine(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...o)=>{const l=s(...o);return r(...o),l}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function rne(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function SB(t){const e=t+"CollectionProvider",[n,i]=Yx(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=S=>{const{scope:E,children:w}=S,C=Dt.useRef(null),A=Dt.useRef(new Map).current;return V.jsx(r,{scope:E,itemMap:A,collectionRef:C,children:w})};a.displayName=e;const o=t+"CollectionSlot",l=zP(o),f=Dt.forwardRef((S,E)=>{const{scope:w,children:C}=S,A=s(o,w),R=sr(E,A.collectionRef);return V.jsx(l,{ref:R,children:C})});f.displayName=o;const p=t+"CollectionItemSlot",g="data-radix-collection-item",y=zP(p),_=Dt.forwardRef((S,E)=>{const{scope:w,children:C,...A}=S,R=Dt.useRef(null),N=sr(E,R),O=s(p,w);return Dt.useEffect(()=>(O.itemMap.set(R,{ref:R,...A}),()=>{O.itemMap.delete(R)})),V.jsx(y,{[g]:"",ref:N,children:C})});_.displayName=p;function x(S){const E=s(t+"CollectionConsumer",S);return Dt.useCallback(()=>{const C=E.collectionRef.current;if(!C)return[];const A=Array.from(C.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort((O,P)=>A.indexOf(O.ref.current)-A.indexOf(P.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:a,Slot:f,ItemSlot:_},x,i]}function sne(t){const e=ane(t),n=U.forwardRef((i,r)=>{const{children:s,...a}=i,o=U.Children.toArray(s),l=o.find(une);if(l){const f=l.props.children,p=o.map(g=>g===l?U.Children.count(f)>1?U.Children.only(null):U.isValidElement(f)?f.props.children:null:g);return V.jsx(e,{...a,ref:r,children:U.isValidElement(f)?U.cloneElement(f,void 0,p):null})}return V.jsx(e,{...a,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function ane(t){const e=U.forwardRef((n,i)=>{const{children:r,...s}=n;if(U.isValidElement(r)){const a=cne(r),o=lne(s,r.props);return r.type!==U.Fragment&&(o.ref=i?fC(i,a):a),U.cloneElement(r,o)}return U.Children.count(r)>1?U.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var one=Symbol("radix.slottable");function une(t){return U.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===one}function lne(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...o)=>{const l=s(...o);return r(...o),l}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function cne(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Si=fne.reduce((t,e)=>{const n=sne(`Primitive.${e}`),i=U.forwardRef((r,s)=>{const{asChild:a,...o}=r,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),V.jsx(l,{...o,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function dC(t,e){t&&Xm.flushSync(()=>t.dispatchEvent(e))}function Js(t){const e=U.useRef(t);return U.useEffect(()=>{e.current=t}),U.useMemo(()=>(...n)=>e.current?.(...n),[])}function dne(t,e=globalThis?.document){const n=Js(t);U.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var hne="DismissableLayer",GR="dismissableLayer.update",pne="dismissableLayer.pointerDownOutside",mne="dismissableLayer.focusOutside",HP,EB=U.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wB=U.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,f=U.useContext(EB),[p,g]=U.useState(null),y=p?.ownerDocument??globalThis?.document,[,_]=U.useState({}),x=sr(e,P=>g(P)),S=Array.from(f.layers),[E]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),w=S.indexOf(E),C=p?S.indexOf(p):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,R=C>=w,N=_ne(P=>{const z=P.target,k=[...f.branches].some(F=>F.contains(z));!R||k||(r?.(P),a?.(P),P.defaultPrevented||o?.())},y),O=yne(P=>{const z=P.target;[...f.branches].some(F=>F.contains(z))||(s?.(P),a?.(P),P.defaultPrevented||o?.())},y);return dne(P=>{C===f.layers.size-1&&(i?.(P),!P.defaultPrevented&&o&&(P.preventDefault(),o()))},y),U.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(HP=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),VP(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=HP)}},[p,y,n,f]),U.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),VP())},[p,f]),U.useEffect(()=>{const P=()=>_({});return document.addEventListener(GR,P),()=>document.removeEventListener(GR,P)},[]),V.jsx(Si.div,{...l,ref:x,style:{pointerEvents:A?R?"auto":"none":void 0,...t.style},onFocusCapture:Un(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Un(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Un(t.onPointerDownCapture,N.onPointerDownCapture)})});wB.displayName=hne;var gne="DismissableLayerBranch",TB=U.forwardRef((t,e)=>{const n=U.useContext(EB),i=U.useRef(null),r=sr(e,i);return U.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),V.jsx(Si.div,{...t,ref:r})});TB.displayName=gne;function _ne(t,e=globalThis?.document){const n=Js(t),i=U.useRef(!1),r=U.useRef(()=>{});return U.useEffect(()=>{const s=o=>{if(o.target&&!i.current){let l=function(){MB(pne,n,f,{discrete:!0})};const f={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function yne(t,e=globalThis?.document){const n=Js(t),i=U.useRef(!1);return U.useEffect(()=>{const r=s=>{s.target&&!i.current&&MB(mne,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function VP(){const t=new CustomEvent(GR);document.dispatchEvent(t)}function MB(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?dC(r,s):r.dispatchEvent(s)}var vne=wB,bne=TB,Ps=globalThis?.document?U.useLayoutEffect:()=>{},xne="Portal",CB=U.forwardRef((t,e)=>{const{container:n,...i}=t,[r,s]=U.useState(!1);Ps(()=>s(!0),[]);const a=n||r&&globalThis?.document?.body;return a?lO.createPortal(V.jsx(Si.div,{...i,ref:e}),a):null});CB.displayName=xne;function Sne(t,e){return U.useReducer((n,i)=>e[n][i]??n,t)}var cO=t=>{const{present:e,children:n}=t,i=Ene(e),r=typeof n=="function"?n({present:i.isPresent}):U.Children.only(n),s=sr(i.ref,wne(r));return typeof n=="function"||i.isPresent?U.cloneElement(r,{ref:s}):null};cO.displayName="Presence";function Ene(t){const[e,n]=U.useState(),i=U.useRef(null),r=U.useRef(t),s=U.useRef("none"),a=t?"mounted":"unmounted",[o,l]=Sne(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return U.useEffect(()=>{const f=pE(i.current);s.current=o==="mounted"?f:"none"},[o]),Ps(()=>{const f=i.current,p=r.current;if(p!==t){const y=s.current,_=pE(f);t?l("MOUNT"):_==="none"||f?.display==="none"?l("UNMOUNT"):l(p&&y!==_?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,l]),Ps(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,g=_=>{const S=pE(i.current).includes(CSS.escape(_.animationName));if(_.target===e&&S&&(l("ANIMATION_END"),!r.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},y=_=>{_.target===e&&(s.current=pE(i.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:U.useCallback(f=>{i.current=f?getComputedStyle(f):null,n(f)},[])}}function pE(t){return t?.animationName||"none"}function wne(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Tne=cC[" useInsertionEffect ".trim().toString()]||Ps;function WR({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,a]=Mne({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:r;{const p=U.useRef(t!==void 0);U.useEffect(()=>{const g=p.current;g!==o&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=o},[o,i])}const f=U.useCallback(p=>{if(o){const g=Cne(p)?p(t):p;g!==t&&a.current?.(g)}else s(p)},[o,t,s,a]);return[l,f]}function Mne({defaultProp:t,onChange:e}){const[n,i]=U.useState(t),r=U.useRef(n),s=U.useRef(e);return Tne(()=>{s.current=e},[e]),U.useEffect(()=>{r.current!==n&&(s.current?.(n),r.current=n)},[n,r]),[n,i,s]}function Cne(t){return typeof t=="function"}var AB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ane="VisuallyHidden",hC=U.forwardRef((t,e)=>V.jsx(Si.span,{...t,ref:e,style:{...AB,...t.style}}));hC.displayName=Ane;var Dne=hC,fO="ToastProvider",[dO,Rne,Ine]=SB("Toast"),[DB]=Yx("Toast",[Ine]),[Nne,pC]=DB(fO),RB=t=>{const{__scopeToast:e,label:n="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:a}=t,[o,l]=U.useState(null),[f,p]=U.useState(0),g=U.useRef(!1),y=U.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${fO}\`. Expected non-empty \`string\`.`),V.jsx(dO.Provider,{scope:e,children:V.jsx(Nne,{scope:e,label:n,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:f,viewport:o,onViewportChange:l,onToastAdd:U.useCallback(()=>p(_=>_+1),[]),onToastRemove:U.useCallback(()=>p(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:y,children:a})})};RB.displayName=fO;var IB="ToastViewport",One=["F8"],jR="toast.viewportPause",qR="toast.viewportResume",NB=U.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:i=One,label:r="Notifications ({hotkey})",...s}=t,a=pC(IB,n),o=Rne(n),l=U.useRef(null),f=U.useRef(null),p=U.useRef(null),g=U.useRef(null),y=sr(e,g,a.onViewportChange),_=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=a.toastCount>0;U.useEffect(()=>{const E=w=>{i.length!==0&&i.every(A=>w[A]||w.code===A)&&g.current?.focus()};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[i]),U.useEffect(()=>{const E=l.current,w=g.current;if(x&&E&&w){const C=()=>{if(!a.isClosePausedRef.current){const O=new CustomEvent(jR);w.dispatchEvent(O),a.isClosePausedRef.current=!0}},A=()=>{if(a.isClosePausedRef.current){const O=new CustomEvent(qR);w.dispatchEvent(O),a.isClosePausedRef.current=!1}},R=O=>{!E.contains(O.relatedTarget)&&A()},N=()=>{E.contains(document.activeElement)||A()};return E.addEventListener("focusin",C),E.addEventListener("focusout",R),E.addEventListener("pointermove",C),E.addEventListener("pointerleave",N),window.addEventListener("blur",C),window.addEventListener("focus",A),()=>{E.removeEventListener("focusin",C),E.removeEventListener("focusout",R),E.removeEventListener("pointermove",C),E.removeEventListener("pointerleave",N),window.removeEventListener("blur",C),window.removeEventListener("focus",A)}}},[x,a.isClosePausedRef]);const S=U.useCallback(({tabbingDirection:E})=>{const C=o().map(A=>{const R=A.ref.current,N=[R,...qne(R)];return E==="forwards"?N:N.reverse()});return(E==="forwards"?C.reverse():C).flat()},[o]);return U.useEffect(()=>{const E=g.current;if(E){const w=C=>{const A=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!A){const N=document.activeElement,O=C.shiftKey;if(C.target===E&&O){f.current?.focus();return}const k=S({tabbingDirection:O?"backwards":"forwards"}),F=k.findIndex(G=>G===N);C3(k.slice(F+1))?C.preventDefault():O?f.current?.focus():p.current?.focus()}};return E.addEventListener("keydown",w),()=>E.removeEventListener("keydown",w)}},[o,S]),V.jsxs(bne,{ref:l,role:"region","aria-label":r.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&V.jsx($R,{ref:f,onFocusFromOutsideViewport:()=>{const E=S({tabbingDirection:"forwards"});C3(E)}}),V.jsx(dO.Slot,{scope:n,children:V.jsx(Si.ol,{tabIndex:-1,...s,ref:y})}),x&&V.jsx($R,{ref:p,onFocusFromOutsideViewport:()=>{const E=S({tabbingDirection:"backwards"});C3(E)}})]})});NB.displayName=IB;var OB="ToastFocusProxy",$R=U.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...r}=t,s=pC(OB,n);return V.jsx(hC,{tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:a=>{const o=a.relatedTarget;!s.viewport?.contains(o)&&i()}})});$R.displayName=OB;var Zx="Toast",kne="toast.swipeStart",Pne="toast.swipeMove",Lne="toast.swipeCancel",Fne="toast.swipeEnd",kB=U.forwardRef((t,e)=>{const{forceMount:n,open:i,defaultOpen:r,onOpenChange:s,...a}=t,[o,l]=WR({prop:i,defaultProp:r??!0,onChange:s,caller:Zx});return V.jsx(cO,{present:n||o,children:V.jsx(zne,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:Js(t.onPause),onResume:Js(t.onResume),onSwipeStart:Un(t.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Un(t.onSwipeMove,f=>{const{x:p,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Un(t.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Un(t.onSwipeEnd,f=>{const{x:p,y:g}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),l(!1)})})})});kB.displayName=Zx;var[Une,Bne]=DB(Zx,{onClose(){}}),zne=U.forwardRef((t,e)=>{const{__scopeToast:n,type:i="foreground",duration:r,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:f,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:y,onSwipeEnd:_,...x}=t,S=pC(Zx,n),[E,w]=U.useState(null),C=sr(e,ne=>w(ne)),A=U.useRef(null),R=U.useRef(null),N=r||S.duration,O=U.useRef(0),P=U.useRef(N),z=U.useRef(0),{onToastAdd:k,onToastRemove:F}=S,G=Js(()=>{E?.contains(document.activeElement)&&S.viewport?.focus(),a()}),$=U.useCallback(ne=>{!ne||ne===1/0||(window.clearTimeout(z.current),O.current=new Date().getTime(),z.current=window.setTimeout(G,ne))},[G]);U.useEffect(()=>{const ne=S.viewport;if(ne){const re=()=>{$(P.current),f?.()},W=()=>{const q=new Date().getTime()-O.current;P.current=P.current-q,window.clearTimeout(z.current),l?.()};return ne.addEventListener(jR,W),ne.addEventListener(qR,re),()=>{ne.removeEventListener(jR,W),ne.removeEventListener(qR,re)}}},[S.viewport,N,l,f,$]),U.useEffect(()=>{s&&!S.isClosePausedRef.current&&$(N)},[s,N,S.isClosePausedRef,$]),U.useEffect(()=>(k(),()=>F()),[k,F]);const ee=U.useMemo(()=>E?HB(E):null,[E]);return S.viewport?V.jsxs(V.Fragment,{children:[ee&&V.jsx(Hne,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite",children:ee}),V.jsx(Une,{scope:n,onClose:G,children:Xm.createPortal(V.jsx(dO.ItemSlot,{scope:n,children:V.jsx(vne,{asChild:!0,onEscapeKeyDown:Un(o,()=>{S.isFocusedToastEscapeKeyDownRef.current||G(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:V.jsx(Si.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":S.swipeDirection,...x,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Un(t.onKeyDown,ne=>{ne.key==="Escape"&&(o?.(ne.nativeEvent),ne.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:Un(t.onPointerDown,ne=>{ne.button===0&&(A.current={x:ne.clientX,y:ne.clientY})}),onPointerMove:Un(t.onPointerMove,ne=>{if(!A.current)return;const re=ne.clientX-A.current.x,W=ne.clientY-A.current.y,q=!!R.current,te=["left","right"].includes(S.swipeDirection),se=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,Z=te?se(0,re):0,j=te?0:se(0,W),ue=ne.pointerType==="touch"?10:2,ge={x:Z,y:j},Se={originalEvent:ne,delta:ge};q?(R.current=ge,mE(Pne,g,Se,{discrete:!1})):GP(ge,S.swipeDirection,ue)?(R.current=ge,mE(kne,p,Se,{discrete:!1}),ne.target.setPointerCapture(ne.pointerId)):(Math.abs(re)>ue||Math.abs(W)>ue)&&(A.current=null)}),onPointerUp:Un(t.onPointerUp,ne=>{const re=R.current,W=ne.target;if(W.hasPointerCapture(ne.pointerId)&&W.releasePointerCapture(ne.pointerId),R.current=null,A.current=null,re){const q=ne.currentTarget,te={originalEvent:ne,delta:re};GP(re,S.swipeDirection,S.swipeThreshold)?mE(Fne,_,te,{discrete:!0}):mE(Lne,y,te,{discrete:!0}),q.addEventListener("click",se=>se.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),Hne=t=>{const{__scopeToast:e,children:n,...i}=t,r=pC(Zx,e),[s,a]=U.useState(!1),[o,l]=U.useState(!1);return Wne(()=>a(!0)),U.useEffect(()=>{const f=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(f)},[]),o?null:V.jsx(CB,{asChild:!0,children:V.jsx(hC,{...i,children:s&&V.jsxs(V.Fragment,{children:[r.label," ",n]})})})},Vne="ToastTitle",PB=U.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return V.jsx(Si.div,{...i,ref:e})});PB.displayName=Vne;var Gne="ToastDescription",LB=U.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return V.jsx(Si.div,{...i,ref:e})});LB.displayName=Gne;var FB="ToastAction",UB=U.forwardRef((t,e)=>{const{altText:n,...i}=t;return n.trim()?V.jsx(zB,{altText:n,asChild:!0,children:V.jsx(hO,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${FB}\`. Expected non-empty \`string\`.`),null)});UB.displayName=FB;var BB="ToastClose",hO=U.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t,r=Bne(BB,n);return V.jsx(zB,{asChild:!0,children:V.jsx(Si.button,{type:"button",...i,ref:e,onClick:Un(t.onClick,r.onClose)})})});hO.displayName=BB;var zB=U.forwardRef((t,e)=>{const{__scopeToast:n,altText:i,...r}=t;return V.jsx(Si.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function HB(t){const e=[];return Array.from(t.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),jne(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const a=i.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...HB(i))}}),e}function mE(t,e,n,{discrete:i}){const r=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?dC(r,s):r.dispatchEvent(s)}var GP=(t,e,n=0)=>{const i=Math.abs(t.x),r=Math.abs(t.y),s=i>r;return e==="left"||e==="right"?s&&i>n:!s&&r>n};function Wne(t=()=>{}){const e=Js(t);Ps(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[e])}function jne(t){return t.nodeType===t.ELEMENT_NODE}function qne(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function C3(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var $ne=RB,VB=NB,GB=kB,WB=PB,jB=LB,qB=UB,$B=hO;function XB(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=XB(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function YB(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=XB(t))&&(i&&(i+=" "),i+=e);return i}const WP=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jP=YB,pO=(t,e)=>n=>{var i;if(e?.variants==null)return jP(t,n?.class,n?.className);const{variants:r,defaultVariants:s}=e,a=Object.keys(r).map(f=>{const p=n?.[f],g=s?.[f];if(p===null)return null;const y=WP(p)||WP(g);return r[f][y]}),o=n&&Object.entries(n).reduce((f,p)=>{let[g,y]=p;return y===void 0||(f[g]=y),f},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((f,p)=>{let{class:g,className:y,..._}=p;return Object.entries(_).every(x=>{let[S,E]=x;return Array.isArray(E)?E.includes({...s,...o}[S]):{...s,...o}[S]===E})?[...f,g,y]:f},[]);return jP(t,a,l,n?.class,n?.className)};const ZB=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();const Xne=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Yne=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase());const qP=t=>{const e=Yne(t);return e.charAt(0).toUpperCase()+e.slice(1)};var Zne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Kne=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Qne=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>U.createElement("svg",{ref:l,...Zne,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:ZB("lucide",r),...!s&&!Kne(o)&&{"aria-hidden":"true"},...o},[...a.map(([f,p])=>U.createElement(f,p)),...Array.isArray(s)?s:[s]]));const Bo=(t,e)=>{const n=U.forwardRef(({className:i,...r},s)=>U.createElement(Qne,{ref:s,iconNode:e,className:ZB(`lucide-${Xne(qP(t))}`,`lucide-${t}`,i),...r}));return n.displayName=qP(t),n};const Jne=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eie=Bo("arrow-left",Jne);const tie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],KB=Bo("arrow-right",tie);const nie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],iie=Bo("check",nie);const rie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],QB=Bo("chevron-down",rie);const sie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],aie=Bo("chevron-up",sie);const oie=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],uie=Bo("external-link",oie);const lie=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],cie=Bo("funnel",lie);const fie=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],die=Bo("house",fie);const hie=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],pie=Bo("linkedin",hie);const mie=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gie=Bo("mail",mie);const _ie=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],yie=Bo("menu",_ie);const vie=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],JB=Bo("search",vie);const bie=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xie=Bo("triangle-alert",bie);const Sie=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ez=Bo("x",Sie),mO="-",Eie=t=>{const e=Tie(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:a=>{const o=a.split(mO);return o[0]===""&&o.length!==1&&o.shift(),tz(o,e)||wie(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&i[a]?[...l,...i[a]]:l}}},tz=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?tz(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(mO);return e.validators.find(({validator:a})=>a(s))?.classGroupId},$P=/^\[(.+)\]$/,wie=t=>{if($P.test(t)){const e=$P.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Tie=t=>{const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return Cie(Object.entries(t.classGroups),n).forEach(([s,a])=>{XR(a,i,s,e)}),i},XR=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:XP(e,r);s.classGroupId=n;return}if(typeof r=="function"){if(Mie(r)){XR(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,a])=>{XR(a,XP(e,s),n,i)})})},XP=(t,e)=>{let n=t;return e.split(mO).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},Mie=t=>t.isThemeGetter,Cie=(t,e)=>e?t.map(([n,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,r]}):t,Aie=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,i=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=i.get(s))!==void 0)return r(s,a),a},set(s,a){n.has(s)?n.set(s,a):r(s,a)}}},nz="!",Die=t=>{const{separator:e,experimentalParseClassName:n}=t,i=e.length===1,r=e[0],s=e.length,a=o=>{const l=[];let f=0,p=0,g;for(let E=0;E<o.length;E++){let w=o[E];if(f===0){if(w===r&&(i||o.slice(E,E+s)===e)){l.push(o.slice(p,E)),p=E+s;continue}if(w==="/"){g=E;continue}}w==="["?f++:w==="]"&&f--}const y=l.length===0?o:o.substring(p),_=y.startsWith(nz),x=_?y.substring(1):y,S=g&&g>p?g-p:void 0;return{modifiers:l,hasImportantModifier:_,baseClassName:x,maybePostfixModifierPosition:S}};return n?o=>n({className:o,parseClassName:a}):a},Rie=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},Iie=t=>({cache:Aie(t.cacheSize),parseClassName:Die(t),...Eie(t)}),Nie=/\s+/,Oie=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],a=t.trim().split(Nie);let o="";for(let l=a.length-1;l>=0;l-=1){const f=a[l],{modifiers:p,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:_}=n(f);let x=!!_,S=i(x?y.substring(0,_):y);if(!S){if(!x){o=f+(o.length>0?" "+o:o);continue}if(S=i(y),!S){o=f+(o.length>0?" "+o:o);continue}x=!1}const E=Rie(p).join(":"),w=g?E+nz:E,C=w+S;if(s.includes(C))continue;s.push(C);const A=r(S,x);for(let R=0;R<A.length;++R){const N=A[R];s.push(w+N)}o=f+(o.length>0?" "+o:o)}return o};function kie(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=iz(e))&&(i&&(i+=" "),i+=n);return i}const iz=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=iz(t[i]))&&(n&&(n+=" "),n+=e);return n};function Pie(t,...e){let n,i,r,s=a;function a(l){const f=e.reduce((p,g)=>g(p),t());return n=Iie(f),i=n.cache.get,r=n.cache.set,s=o,o(l)}function o(l){const f=i(l);if(f)return f;const p=Oie(l,n);return r(l,p),p}return function(){return s(kie.apply(null,arguments))}}const pr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},rz=/^\[(?:([a-z-]+):)?(.+)\]$/i,Lie=/^\d+\/\d+$/,Fie=new Set(["px","full","screen"]),Uie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Hie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Vie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_f=t=>Kg(t)||Fie.has(t)||Lie.test(t),zd=t=>Z_(t,"length",Zie),Kg=t=>!!t&&!Number.isNaN(Number(t)),A3=t=>Z_(t,"number",Kg),Ov=t=>!!t&&Number.isInteger(Number(t)),Gie=t=>t.endsWith("%")&&Kg(t.slice(0,-1)),Hn=t=>rz.test(t),Hd=t=>Uie.test(t),Wie=new Set(["length","size","percentage"]),jie=t=>Z_(t,Wie,sz),qie=t=>Z_(t,"position",sz),$ie=new Set(["image","url"]),Xie=t=>Z_(t,$ie,Qie),Yie=t=>Z_(t,"",Kie),kv=()=>!0,Z_=(t,e,n)=>{const i=rz.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},Zie=t=>Bie.test(t)&&!zie.test(t),sz=()=>!1,Kie=t=>Hie.test(t),Qie=t=>Vie.test(t),Jie=()=>{const t=pr("colors"),e=pr("spacing"),n=pr("blur"),i=pr("brightness"),r=pr("borderColor"),s=pr("borderRadius"),a=pr("borderSpacing"),o=pr("borderWidth"),l=pr("contrast"),f=pr("grayscale"),p=pr("hueRotate"),g=pr("invert"),y=pr("gap"),_=pr("gradientColorStops"),x=pr("gradientColorStopPositions"),S=pr("inset"),E=pr("margin"),w=pr("opacity"),C=pr("padding"),A=pr("saturate"),R=pr("scale"),N=pr("sepia"),O=pr("skew"),P=pr("space"),z=pr("translate"),k=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",Hn,e],$=()=>[Hn,e],ee=()=>["",_f,zd],ne=()=>["auto",Kg,Hn],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],se=()=>["","0",Hn],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>[Kg,Hn];return{cacheSize:500,separator:":",theme:{colors:[kv],spacing:[_f,zd],blur:["none","",Hd,Hn],brightness:j(),borderColor:[t],borderRadius:["none","","full",Hd,Hn],borderSpacing:$(),borderWidth:ee(),contrast:j(),grayscale:se(),hueRotate:j(),invert:se(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[Gie,zd],inset:G(),margin:G(),opacity:j(),padding:$(),saturate:j(),scale:j(),sepia:se(),skew:j(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Hn]}],container:["container"],columns:[{columns:[Hd]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),Hn]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ov,Hn]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Hn]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",Ov,Hn]}],"grid-cols":[{"grid-cols":[kv]}],"col-start-end":[{col:["auto",{span:["full",Ov,Hn]},Hn]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[kv]}],"row-start-end":[{row:["auto",{span:[Ov,Hn]},Hn]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Hn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Hn]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Hn,e]}],"min-w":[{"min-w":[Hn,e,"min","max","fit"]}],"max-w":[{"max-w":[Hn,e,"none","full","min","max","fit","prose",{screen:[Hd]},Hd]}],h:[{h:[Hn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Hn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Hn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Hn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Hd,zd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",A3]}],"font-family":[{font:[kv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Hn]}],"line-clamp":[{"line-clamp":["none",Kg,A3]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_f,Hn]}],"list-image":[{"list-image":["none",Hn]}],"list-style-type":[{list:["none","disc","decimal",Hn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_f,zd]}],"underline-offset":[{"underline-offset":["auto",_f,Hn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Hn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Hn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),qie]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jie]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Xie]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:W()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[_f,Hn]}],"outline-w":[{outline:[_f,zd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[_f,zd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Hd,Yie]}],"shadow-color":[{shadow:[kv]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hd,Hn]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[A]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Hn]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",Hn]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",Hn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Ov,Hn]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Hn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Hn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Hn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_f,zd,A3]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ere=Pie(Jie);var D3,YP;function tre(){if(YP)return D3;YP=1;function t(J){return J instanceof Map?J.clear=J.delete=J.set=function(){throw new Error("map is read-only")}:J instanceof Set&&(J.add=J.clear=J.delete=function(){throw new Error("set is read-only")}),Object.freeze(J),Object.getOwnPropertyNames(J).forEach(le=>{const xe=J[le],et=typeof xe;(et==="object"||et==="function")&&!Object.isFrozen(xe)&&t(xe)}),J}class e{constructor(le){le.data===void 0&&(le.data={}),this.data=le.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(J){return J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function i(J,...le){const xe=Object.create(null);for(const et in J)xe[et]=J[et];return le.forEach(function(et){for(const ot in et)xe[ot]=et[ot]}),xe}const r="</span>",s=J=>!!J.scope,a=(J,{prefix:le})=>{if(J.startsWith("language:"))return J.replace("language:","language-");if(J.includes(".")){const xe=J.split(".");return[`${le}${xe.shift()}`,...xe.map((et,ot)=>`${et}${"_".repeat(ot+1)}`)].join(" ")}return`${le}${J}`};class o{constructor(le,xe){this.buffer="",this.classPrefix=xe.classPrefix,le.walk(this)}addText(le){this.buffer+=n(le)}openNode(le){if(!s(le))return;const xe=a(le.scope,{prefix:this.classPrefix});this.span(xe)}closeNode(le){s(le)&&(this.buffer+=r)}value(){return this.buffer}span(le){this.buffer+=`<span class="${le}">`}}const l=(J={})=>{const le={children:[]};return Object.assign(le,J),le};class f{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(le){this.top.children.push(le)}openNode(le){const xe=l({scope:le});this.add(xe),this.stack.push(xe)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(le){return this.constructor._walk(le,this.rootNode)}static _walk(le,xe){return typeof xe=="string"?le.addText(xe):xe.children&&(le.openNode(xe),xe.children.forEach(et=>this._walk(le,et)),le.closeNode(xe)),le}static _collapse(le){typeof le!="string"&&le.children&&(le.children.every(xe=>typeof xe=="string")?le.children=[le.children.join("")]:le.children.forEach(xe=>{f._collapse(xe)}))}}class p extends f{constructor(le){super(),this.options=le}addText(le){le!==""&&this.add(le)}startScope(le){this.openNode(le)}endScope(){this.closeNode()}__addSublanguage(le,xe){const et=le.root;xe&&(et.scope=`language:${xe}`),this.add(et)}toHTML(){return new o(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function g(J){return J?typeof J=="string"?J:J.source:null}function y(J){return S("(?=",J,")")}function _(J){return S("(?:",J,")*")}function x(J){return S("(?:",J,")?")}function S(...J){return J.map(xe=>g(xe)).join("")}function E(J){const le=J[J.length-1];return typeof le=="object"&&le.constructor===Object?(J.splice(J.length-1,1),le):{}}function w(...J){return"("+(E(J).capture?"":"?:")+J.map(et=>g(et)).join("|")+")"}function C(J){return new RegExp(J.toString()+"|").exec("").length-1}function A(J,le){const xe=J&&J.exec(le);return xe&&xe.index===0}const R=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function N(J,{joinWith:le}){let xe=0;return J.map(et=>{xe+=1;const ot=xe;let ht=g(et),Qe="";for(;ht.length>0;){const Ne=R.exec(ht);if(!Ne){Qe+=ht;break}Qe+=ht.substring(0,Ne.index),ht=ht.substring(Ne.index+Ne[0].length),Ne[0][0]==="\\"&&Ne[1]?Qe+="\\"+String(Number(Ne[1])+ot):(Qe+=Ne[0],Ne[0]==="("&&xe++)}return Qe}).map(et=>`(${et})`).join(le)}const O=/\b\B/,P="[a-zA-Z]\\w*",z="[a-zA-Z_]\\w*",k="\\b\\d+(\\.\\d+)?",F="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",G="\\b(0b[01]+)",$="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ee=(J={})=>{const le=/^#![ ]*\//;return J.binary&&(J.begin=S(le,/.*\b/,J.binary,/\b.*/)),i({scope:"meta",begin:le,end:/$/,relevance:0,"on:begin":(xe,et)=>{xe.index!==0&&et.ignoreMatch()}},J)},ne={begin:"\\\\[\\s\\S]",relevance:0},re={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ne]},W={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ne]},q={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},te=function(J,le,xe={}){const et=i({scope:"comment",begin:J,end:le,contains:[]},xe);et.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const ot=w("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return et.contains.push({begin:S(/[ ]+/,"(",ot,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),et},se=te("//","$"),Z=te("/\\*","\\*/"),j=te("#","$"),ue={scope:"number",begin:k,relevance:0},ge={scope:"number",begin:F,relevance:0},Se={scope:"number",begin:G,relevance:0},Fe={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[ne,{begin:/\[/,end:/\]/,relevance:0,contains:[ne]}]},ve={scope:"title",begin:P,relevance:0},fe={scope:"title",begin:z,relevance:0},He={begin:"\\.\\s*"+z,relevance:0};var Ye=Object.freeze({__proto__:null,APOS_STRING_MODE:re,BACKSLASH_ESCAPE:ne,BINARY_NUMBER_MODE:Se,BINARY_NUMBER_RE:G,COMMENT:te,C_BLOCK_COMMENT_MODE:Z,C_LINE_COMMENT_MODE:se,C_NUMBER_MODE:ge,C_NUMBER_RE:F,END_SAME_AS_BEGIN:function(J){return Object.assign(J,{"on:begin":(le,xe)=>{xe.data._beginMatch=le[1]},"on:end":(le,xe)=>{xe.data._beginMatch!==le[1]&&xe.ignoreMatch()}})},HASH_COMMENT_MODE:j,IDENT_RE:P,MATCH_NOTHING_RE:O,METHOD_GUARD:He,NUMBER_MODE:ue,NUMBER_RE:k,PHRASAL_WORDS_MODE:q,QUOTE_STRING_MODE:W,REGEXP_MODE:Fe,RE_STARTERS_RE:$,SHEBANG:ee,TITLE_MODE:ve,UNDERSCORE_IDENT_RE:z,UNDERSCORE_TITLE_MODE:fe});function bt(J,le){J.input[J.index-1]==="."&&le.ignoreMatch()}function Ct(J,le){J.className!==void 0&&(J.scope=J.className,delete J.className)}function at(J,le){le&&J.beginKeywords&&(J.begin="\\b("+J.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",J.__beforeBegin=bt,J.keywords=J.keywords||J.beginKeywords,delete J.beginKeywords,J.relevance===void 0&&(J.relevance=0))}function Ae(J,le){Array.isArray(J.illegal)&&(J.illegal=w(...J.illegal))}function Ve(J,le){if(J.match){if(J.begin||J.end)throw new Error("begin & end are not supported with match");J.begin=J.match,delete J.match}}function Ue(J,le){J.relevance===void 0&&(J.relevance=1)}const de=(J,le)=>{if(!J.beforeMatch)return;if(J.starts)throw new Error("beforeMatch cannot be used with starts");const xe=Object.assign({},J);Object.keys(J).forEach(et=>{delete J[et]}),J.keywords=xe.keywords,J.begin=S(xe.beforeMatch,y(xe.begin)),J.starts={relevance:0,contains:[Object.assign(xe,{endsParent:!0})]},J.relevance=0,delete xe.beforeMatch},ie=["of","and","for","in","not","or","if","then","parent","list","value"],It="keyword";function $e(J,le,xe=It){const et=Object.create(null);return typeof J=="string"?ot(xe,J.split(" ")):Array.isArray(J)?ot(xe,J):Object.keys(J).forEach(function(ht){Object.assign(et,$e(J[ht],le,ht))}),et;function ot(ht,Qe){le&&(Qe=Qe.map(Ne=>Ne.toLowerCase())),Qe.forEach(function(Ne){const st=Ne.split("|");et[st[0]]=[ht,dt(st[0],st[1])]})}}function dt(J,le){return le?Number(le):Be(J)?0:1}function Be(J){return ie.includes(J.toLowerCase())}const Q={},H=J=>{console.error(J)},pe=(J,...le)=>{console.log(`WARN: ${J}`,...le)},we=(J,le)=>{Q[`${J}/${le}`]||(console.log(`Deprecated as of ${J}. ${le}`),Q[`${J}/${le}`]=!0)},Re=new Error;function Ie(J,le,{key:xe}){let et=0;const ot=J[xe],ht={},Qe={};for(let Ne=1;Ne<=le.length;Ne++)Qe[Ne+et]=ot[Ne],ht[Ne+et]=!0,et+=C(le[Ne-1]);J[xe]=Qe,J[xe]._emit=ht,J[xe]._multi=!0}function St(J){if(Array.isArray(J.begin)){if(J.skip||J.excludeBegin||J.returnBegin)throw H("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Re;if(typeof J.beginScope!="object"||J.beginScope===null)throw H("beginScope must be object"),Re;Ie(J,J.begin,{key:"beginScope"}),J.begin=N(J.begin,{joinWith:""})}}function lt(J){if(Array.isArray(J.end)){if(J.skip||J.excludeEnd||J.returnEnd)throw H("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Re;if(typeof J.endScope!="object"||J.endScope===null)throw H("endScope must be object"),Re;Ie(J,J.end,{key:"endScope"}),J.end=N(J.end,{joinWith:""})}}function kt(J){J.scope&&typeof J.scope=="object"&&J.scope!==null&&(J.beginScope=J.scope,delete J.scope)}function Nt(J){kt(J),typeof J.beginScope=="string"&&(J.beginScope={_wrap:J.beginScope}),typeof J.endScope=="string"&&(J.endScope={_wrap:J.endScope}),St(J),lt(J)}function Je(J){function le(Qe,Ne){return new RegExp(g(Qe),"m"+(J.case_insensitive?"i":"")+(J.unicodeRegex?"u":"")+(Ne?"g":""))}class xe{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(Ne,st){st.position=this.position++,this.matchIndexes[this.matchAt]=st,this.regexes.push([st,Ne]),this.matchAt+=C(Ne)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const Ne=this.regexes.map(st=>st[1]);this.matcherRe=le(N(Ne,{joinWith:"|"}),!0),this.lastIndex=0}exec(Ne){this.matcherRe.lastIndex=this.lastIndex;const st=this.matcherRe.exec(Ne);if(!st)return null;const Et=st.findIndex((Mn,un)=>un>0&&Mn!==void 0),At=this.matchIndexes[Et];return st.splice(0,Et),Object.assign(st,At)}}class et{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(Ne){if(this.multiRegexes[Ne])return this.multiRegexes[Ne];const st=new xe;return this.rules.slice(Ne).forEach(([Et,At])=>st.addRule(Et,At)),st.compile(),this.multiRegexes[Ne]=st,st}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(Ne,st){this.rules.push([Ne,st]),st.type==="begin"&&this.count++}exec(Ne){const st=this.getMatcher(this.regexIndex);st.lastIndex=this.lastIndex;let Et=st.exec(Ne);if(this.resumingScanAtSamePosition()&&!(Et&&Et.index===this.lastIndex)){const At=this.getMatcher(0);At.lastIndex=this.lastIndex+1,Et=At.exec(Ne)}return Et&&(this.regexIndex+=Et.position+1,this.regexIndex===this.count&&this.considerAll()),Et}}function ot(Qe){const Ne=new et;return Qe.contains.forEach(st=>Ne.addRule(st.begin,{rule:st,type:"begin"})),Qe.terminatorEnd&&Ne.addRule(Qe.terminatorEnd,{type:"end"}),Qe.illegal&&Ne.addRule(Qe.illegal,{type:"illegal"}),Ne}function ht(Qe,Ne){const st=Qe;if(Qe.isCompiled)return st;[Ct,Ve,Nt,de].forEach(At=>At(Qe,Ne)),J.compilerExtensions.forEach(At=>At(Qe,Ne)),Qe.__beforeBegin=null,[at,Ae,Ue].forEach(At=>At(Qe,Ne)),Qe.isCompiled=!0;let Et=null;return typeof Qe.keywords=="object"&&Qe.keywords.$pattern&&(Qe.keywords=Object.assign({},Qe.keywords),Et=Qe.keywords.$pattern,delete Qe.keywords.$pattern),Et=Et||/\w+/,Qe.keywords&&(Qe.keywords=$e(Qe.keywords,J.case_insensitive)),st.keywordPatternRe=le(Et,!0),Ne&&(Qe.begin||(Qe.begin=/\B|\b/),st.beginRe=le(st.begin),!Qe.end&&!Qe.endsWithParent&&(Qe.end=/\B|\b/),Qe.end&&(st.endRe=le(st.end)),st.terminatorEnd=g(st.end)||"",Qe.endsWithParent&&Ne.terminatorEnd&&(st.terminatorEnd+=(Qe.end?"|":"")+Ne.terminatorEnd)),Qe.illegal&&(st.illegalRe=le(Qe.illegal)),Qe.contains||(Qe.contains=[]),Qe.contains=[].concat(...Qe.contains.map(function(At){return xt(At==="self"?Qe:At)})),Qe.contains.forEach(function(At){ht(At,st)}),Qe.starts&&ht(Qe.starts,Ne),st.matcher=ot(st),st}if(J.compilerExtensions||(J.compilerExtensions=[]),J.contains&&J.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return J.classNameAliases=i(J.classNameAliases||{}),ht(J)}function tt(J){return J?J.endsWithParent||tt(J.starts):!1}function xt(J){return J.variants&&!J.cachedVariants&&(J.cachedVariants=J.variants.map(function(le){return i(J,{variants:null},le)})),J.cachedVariants?J.cachedVariants:tt(J)?i(J,{starts:J.starts?i(J.starts):null}):Object.isFrozen(J)?i(J):J}var _t="11.11.1";class pt extends Error{constructor(le,xe){super(le),this.name="HTMLInjectionError",this.html=xe}}const Zt=n,ce=i,yt=Symbol("nomatch"),rt=7,gt=function(J){const le=Object.create(null),xe=Object.create(null),et=[];let ot=!0;const ht="Could not find the language '{}', did you forget to load/include a language module?",Qe={disableAutodetect:!0,name:"Plain text",contains:[]};let Ne={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:p};function st(ae){return Ne.noHighlightRe.test(ae)}function Et(ae){let Te=ae.className+" ";Te+=ae.parentNode?ae.parentNode.className:"";const nt=Ne.languageDetectRe.exec(Te);if(nt){const qe=Ze(nt[1]);return qe||(pe(ht.replace("{}",nt[1])),pe("Falling back to no-highlight mode for this block.",ae)),qe?nt[1]:"no-highlight"}return Te.split(/\s+/).find(qe=>st(qe)||Ze(qe))}function At(ae,Te,nt){let qe="",vt="";typeof Te=="object"?(qe=ae,nt=Te.ignoreIllegals,vt=Te.language):(we("10.7.0","highlight(lang, code, ...args) has been deprecated."),we("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),vt=ae,qe=Te),nt===void 0&&(nt=!0);const Ft={code:qe,language:vt};De("before:highlight",Ft);const qt=Ft.result?Ft.result:Mn(Ft.language,Ft.code,nt);return qt.code=Ft.code,De("after:highlight",qt),qt}function Mn(ae,Te,nt,qe){const vt=Object.create(null);function Ft(Rt,Yt){return Rt.keywords[Yt]}function qt(){if(!Wt.keywords){ei.addText(ui);return}let Rt=0;Wt.keywordPatternRe.lastIndex=0;let Yt=Wt.keywordPatternRe.exec(ui),Sn="";for(;Yt;){Sn+=ui.substring(Rt,Yt.index);const jn=Bi.case_insensitive?Yt[0].toLowerCase():Yt[0],qi=Ft(Wt,jn);if(qi){const[Ta,Zf]=qi;if(ei.addText(Sn),Sn="",vt[jn]=(vt[jn]||0)+1,vt[jn]<=rt&&(hs+=Zf),Ta.startsWith("_"))Sn+=Yt[0];else{const Zh=Bi.classNameAliases[Ta]||Ta;xn(Yt[0],Zh)}}else Sn+=Yt[0];Rt=Wt.keywordPatternRe.lastIndex,Yt=Wt.keywordPatternRe.exec(ui)}Sn+=ui.substring(Rt),ei.addText(Sn)}function Ht(){if(ui==="")return;let Rt=null;if(typeof Wt.subLanguage=="string"){if(!le[Wt.subLanguage]){ei.addText(ui);return}Rt=Mn(Wt.subLanguage,ui,!0,wr[Wt.subLanguage]),wr[Wt.subLanguage]=Rt._top}else Rt=yn(ui,Wt.subLanguage.length?Wt.subLanguage:null);Wt.relevance>0&&(hs+=Rt.relevance),ei.__addSublanguage(Rt._emitter,Rt.language)}function Gt(){Wt.subLanguage!=null?Ht():qt(),ui=""}function xn(Rt,Yt){Rt!==""&&(ei.startScope(Yt),ei.addText(Rt),ei.endScope())}function Di(Rt,Yt){let Sn=1;const jn=Yt.length-1;for(;Sn<=jn;){if(!Rt._emit[Sn]){Sn++;continue}const qi=Bi.classNameAliases[Rt[Sn]]||Rt[Sn],Ta=Yt[Sn];qi?xn(Ta,qi):(ui=Ta,qt(),ui=""),Sn++}}function yi(Rt,Yt){return Rt.scope&&typeof Rt.scope=="string"&&ei.openNode(Bi.classNameAliases[Rt.scope]||Rt.scope),Rt.beginScope&&(Rt.beginScope._wrap?(xn(ui,Bi.classNameAliases[Rt.beginScope._wrap]||Rt.beginScope._wrap),ui=""):Rt.beginScope._multi&&(Di(Rt.beginScope,Yt),ui="")),Wt=Object.create(Rt,{parent:{value:Wt}}),Wt}function dn(Rt,Yt,Sn){let jn=A(Rt.endRe,Sn);if(jn){if(Rt["on:end"]){const qi=new e(Rt);Rt["on:end"](Yt,qi),qi.isMatchIgnored&&(jn=!1)}if(jn){for(;Rt.endsParent&&Rt.parent;)Rt=Rt.parent;return Rt}}if(Rt.endsWithParent)return dn(Rt.parent,Yt,Sn)}function Pt(Rt){return Wt.matcher.regexIndex===0?(ui+=Rt[0],1):(il=!0,0)}function Jn(Rt){const Yt=Rt[0],Sn=Rt.rule,jn=new e(Sn),qi=[Sn.__beforeBegin,Sn["on:begin"]];for(const Ta of qi)if(Ta&&(Ta(Rt,jn),jn.isMatchIgnored))return Pt(Yt);return Sn.skip?ui+=Yt:(Sn.excludeBegin&&(ui+=Yt),Gt(),!Sn.returnBegin&&!Sn.excludeBegin&&(ui=Yt)),yi(Sn,Rt),Sn.returnBegin?0:Yt.length}function on(Rt){const Yt=Rt[0],Sn=Te.substring(Rt.index),jn=dn(Wt,Rt,Sn);if(!jn)return yt;const qi=Wt;Wt.endScope&&Wt.endScope._wrap?(Gt(),xn(Yt,Wt.endScope._wrap)):Wt.endScope&&Wt.endScope._multi?(Gt(),Di(Wt.endScope,Rt)):qi.skip?ui+=Yt:(qi.returnEnd||qi.excludeEnd||(ui+=Yt),Gt(),qi.excludeEnd&&(ui=Yt));do Wt.scope&&ei.closeNode(),!Wt.skip&&!Wt.subLanguage&&(hs+=Wt.relevance),Wt=Wt.parent;while(Wt!==jn.parent);return jn.starts&&yi(jn.starts,Rt),qi.returnEnd?0:Yt.length}function yr(){const Rt=[];for(let Yt=Wt;Yt!==Bi;Yt=Yt.parent)Yt.scope&&Rt.unshift(Yt.scope);Rt.forEach(Yt=>ei.openNode(Yt))}let ws={};function Oi(Rt,Yt){const Sn=Yt&&Yt[0];if(ui+=Rt,Sn==null)return Gt(),0;if(ws.type==="begin"&&Yt.type==="end"&&ws.index===Yt.index&&Sn===""){if(ui+=Te.slice(Yt.index,Yt.index+1),!ot){const jn=new Error(`0 width match regex (${ae})`);throw jn.languageName=ae,jn.badRule=ws.rule,jn}return 1}if(ws=Yt,Yt.type==="begin")return Jn(Yt);if(Yt.type==="illegal"&&!nt){const jn=new Error('Illegal lexeme "'+Sn+'" for mode "'+(Wt.scope||"<unnamed>")+'"');throw jn.mode=Wt,jn}else if(Yt.type==="end"){const jn=on(Yt);if(jn!==yt)return jn}if(Yt.type==="illegal"&&Sn==="")return ui+=`
`,1;if(Hc>1e5&&Hc>Yt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ui+=Sn,Sn.length}const Bi=Ze(ae);if(!Bi)throw H(ht.replace("{}",ae)),new Error('Unknown language: "'+ae+'"');const di=Je(Bi);let ar="",Wt=qe||di;const wr={},ei=new Ne.__emitter(Ne);yr();let ui="",hs=0,mu=0,Hc=0,il=!1;try{if(Bi.__emitTokens)Bi.__emitTokens(Te,ei);else{for(Wt.matcher.considerAll();;){Hc++,il?il=!1:Wt.matcher.considerAll(),Wt.matcher.lastIndex=mu;const Rt=Wt.matcher.exec(Te);if(!Rt)break;const Yt=Te.substring(mu,Rt.index),Sn=Oi(Yt,Rt);mu=Rt.index+Sn}Oi(Te.substring(mu))}return ei.finalize(),ar=ei.toHTML(),{language:ae,value:ar,relevance:hs,illegal:!1,_emitter:ei,_top:Wt}}catch(Rt){if(Rt.message&&Rt.message.includes("Illegal"))return{language:ae,value:Zt(Te),illegal:!0,relevance:0,_illegalBy:{message:Rt.message,index:mu,context:Te.slice(mu-100,mu+100),mode:Rt.mode,resultSoFar:ar},_emitter:ei};if(ot)return{language:ae,value:Zt(Te),illegal:!1,relevance:0,errorRaised:Rt,_emitter:ei,_top:Wt};throw Rt}}function un(ae){const Te={value:Zt(ae),illegal:!1,relevance:0,_top:Qe,_emitter:new Ne.__emitter(Ne)};return Te._emitter.addText(ae),Te}function yn(ae,Te){Te=Te||Ne.languages||Object.keys(le);const nt=un(ae),qe=Te.filter(Ze).filter(In).map(Gt=>Mn(Gt,ae,!1));qe.unshift(nt);const vt=qe.sort((Gt,xn)=>{if(Gt.relevance!==xn.relevance)return xn.relevance-Gt.relevance;if(Gt.language&&xn.language){if(Ze(Gt.language).supersetOf===xn.language)return 1;if(Ze(xn.language).supersetOf===Gt.language)return-1}return 0}),[Ft,qt]=vt,Ht=Ft;return Ht.secondBest=qt,Ht}function Qn(ae,Te,nt){const qe=Te&&xe[Te]||nt;ae.classList.add("hljs"),ae.classList.add(`language-${qe}`)}function tn(ae){let Te=null;const nt=Et(ae);if(st(nt))return;if(De("before:highlightElement",{el:ae,language:nt}),ae.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",ae);return}if(ae.children.length>0&&(Ne.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(ae)),Ne.throwUnescapedHTML))throw new pt("One of your code blocks includes unescaped HTML.",ae.innerHTML);Te=ae;const qe=Te.textContent,vt=nt?At(qe,{language:nt,ignoreIllegals:!0}):yn(qe);ae.innerHTML=vt.value,ae.dataset.highlighted="yes",Qn(ae,nt,vt.language),ae.result={language:vt.language,re:vt.relevance,relevance:vt.relevance},vt.secondBest&&(ae.secondBest={language:vt.secondBest.language,relevance:vt.secondBest.relevance}),De("after:highlightElement",{el:ae,result:vt,text:qe})}function Jt(ae){Ne=ce(Ne,ae)}const pn=()=>{wi(),we("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Ei(){wi(),we("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let En=!1;function wi(){function ae(){wi()}if(document.readyState==="loading"){En||window.addEventListener("DOMContentLoaded",ae,!1),En=!0;return}document.querySelectorAll(Ne.cssSelector).forEach(tn)}function _r(ae,Te){let nt=null;try{nt=Te(J)}catch(qe){if(H("Language definition for '{}' could not be registered.".replace("{}",ae)),ot)H(qe);else throw qe;nt=Qe}nt.name||(nt.name=ae),le[ae]=nt,nt.rawDefinition=Te.bind(null,J),nt.aliases&&Ot(nt.aliases,{languageName:ae})}function Tt(ae){delete le[ae];for(const Te of Object.keys(xe))xe[Te]===ae&&delete xe[Te]}function he(){return Object.keys(le)}function Ze(ae){return ae=(ae||"").toLowerCase(),le[ae]||le[xe[ae]]}function Ot(ae,{languageName:Te}){typeof ae=="string"&&(ae=[ae]),ae.forEach(nt=>{xe[nt.toLowerCase()]=Te})}function In(ae){const Te=Ze(ae);return Te&&!Te.disableAutodetect}function mn(ae){ae["before:highlightBlock"]&&!ae["before:highlightElement"]&&(ae["before:highlightElement"]=Te=>{ae["before:highlightBlock"](Object.assign({block:Te.el},Te))}),ae["after:highlightBlock"]&&!ae["after:highlightElement"]&&(ae["after:highlightElement"]=Te=>{ae["after:highlightBlock"](Object.assign({block:Te.el},Te))})}function X(ae){mn(ae),et.push(ae)}function ye(ae){const Te=et.indexOf(ae);Te!==-1&&et.splice(Te,1)}function De(ae,Te){const nt=ae;et.forEach(function(qe){qe[nt]&&qe[nt](Te)})}function Ce(ae){return we("10.7.0","highlightBlock will be removed entirely in v12.0"),we("10.7.0","Please use highlightElement now."),tn(ae)}Object.assign(J,{highlight:At,highlightAuto:yn,highlightAll:wi,highlightElement:tn,highlightBlock:Ce,configure:Jt,initHighlighting:pn,initHighlightingOnLoad:Ei,registerLanguage:_r,unregisterLanguage:Tt,listLanguages:he,getLanguage:Ze,registerAliases:Ot,autoDetection:In,inherit:ce,addPlugin:X,removePlugin:ye}),J.debugMode=function(){ot=!1},J.safeMode=function(){ot=!0},J.versionString=_t,J.regex={concat:S,lookahead:y,either:w,optional:x,anyNumberOfTimes:_};for(const ae in Ye)typeof Ye[ae]=="object"&&t(Ye[ae]);return Object.assign(J,Ye),J},je=gt({});return je.newInstance=()=>gt({}),D3=je,je.HighlightJS=je,je.default=je,D3}var nre=tre();const Mh=kx(nre);function ire(t){const e=t.regex,n={},i={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},i]});const r={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},s=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,r]};r.contains.push(o);const l={match:/\\"/},f={className:"string",begin:/'/,end:/'/},p={match:/\\'/},g={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},y=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],_=t.SHEBANG({binary:`(${y.join("|")})`,relevance:10}),x={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},S=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],E=["true","false"],w={match:/(\/[a-z._-]+)+/},C=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],A=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],R=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],N=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:S,literal:E,built_in:[...C,...A,"set","shopt",...R,...N]},contains:[_,t.SHEBANG(),x,g,s,a,w,o,l,f,p,n]}}const ZP="[A-Za-z$_][0-9A-Za-z$_]*",rre=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],sre=["true","false","null","undefined","NaN","Infinity"],az=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],oz=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],uz=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],are=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ore=[].concat(uz,az,oz);function lz(t){const e=t.regex,n=(te,{after:se})=>{const Z="</"+te[0].slice(1);return te.input.indexOf(Z,se)!==-1},i=ZP,r={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(te,se)=>{const Z=te[0].length+te.index,j=te.input[Z];if(j==="<"||j===","){se.ignoreMatch();return}j===">"&&(n(te,{after:Z})||se.ignoreMatch());let ue;const ge=te.input.substring(Z);if(ue=ge.match(/^\s*=/)){se.ignoreMatch();return}if((ue=ge.match(/^\s+extends\s+/))&&ue.index===0){se.ignoreMatch();return}}},o={$pattern:ZP,keyword:rre,literal:sre,built_in:ore,"variable.language":are},l="[0-9](_?[0-9])*",f=`\\.(${l})`,p="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${p})((${f})|\\.)?|(${f}))[eE][+-]?(${l})\\b`},{begin:`\\b(${p})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},y={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},_={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"xml"}},x={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"css"}},S={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"graphql"}},E={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,y]},C={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},A=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,_,x,S,E,{match:/\$\d+/},g];y.contains=A.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(A)});const R=[].concat(C,y.contains),N=R.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(R)}]),O={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:N},P={variants:[{match:[/class/,/\s+/,i,/\s+/,/extends/,/\s+/,e.concat(i,"(",e.concat(/\./,i),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,i],scope:{1:"keyword",3:"title.class"}}]},z={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...az,...oz]}},k={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},F={variants:[{match:[/function/,/\s+/,i,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[O],illegal:/%/},G={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function $(te){return e.concat("(?!",te.join("|"),")")}const ee={match:e.concat(/\b/,$([...uz,"super","import"].map(te=>`${te}\\s*\\(`)),i,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},ne={begin:e.concat(/\./,e.lookahead(e.concat(i,/(?![0-9A-Za-z$_(])/))),end:i,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},re={match:[/get|set/,/\s+/,i,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},O]},W="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",q={match:[/const|var|let/,/\s+/,i,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(W)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[O]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:N,CLASS_REFERENCE:z},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),k,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,_,x,S,E,C,{match:/\$\d+/},g,z,{scope:"attr",match:i+e.lookahead(":"),relevance:0},q,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[C,t.REGEXP_MODE,{className:"function",begin:W,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:N}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r.begin,end:r.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},F,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[O,t.inherit(t.TITLE_MODE,{begin:i,className:"title.function"})]},{match:/\.\.\./,relevance:0},ne,{match:"\\$"+i,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[O]},ee,G,P,re,{match:/\$[(.]/}]}}function ure(t){const e=t.regex,n=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),i=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:i,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},f={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},p={begin:/\{\{/,relevance:0},g={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l,p,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l,p,f]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,p,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,p,f]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},y="[0-9](_?[0-9])*",_=`(\\b(${y}))?\\.(${y})|\\b(${y})\\.`,x=`\\b|${i.join("|")}`,S={className:"number",relevance:0,variants:[{begin:`(\\b(${y})|(${_}))[eE][+-]?(${y})[jJ]?(?=${x})`},{begin:`(${_})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${x})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${x})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${x})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${x})`},{begin:`\\b(${y})[jJ](?=${x})`}]},E={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},w={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",l,S,g,t.HASH_COMMENT_MODE]}]};return f.contains=[g,S,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[l,S,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},g,E,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[w]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[S,w,g]}]}}const CT="[A-Za-z$_][0-9A-Za-z$_]*",cz=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],fz=["true","false","null","undefined","NaN","Infinity"],dz=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],hz=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],pz=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],mz=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],gz=[].concat(pz,dz,hz);function lre(t){const e=t.regex,n=(te,{after:se})=>{const Z="</"+te[0].slice(1);return te.input.indexOf(Z,se)!==-1},i=CT,r={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(te,se)=>{const Z=te[0].length+te.index,j=te.input[Z];if(j==="<"||j===","){se.ignoreMatch();return}j===">"&&(n(te,{after:Z})||se.ignoreMatch());let ue;const ge=te.input.substring(Z);if(ue=ge.match(/^\s*=/)){se.ignoreMatch();return}if((ue=ge.match(/^\s+extends\s+/))&&ue.index===0){se.ignoreMatch();return}}},o={$pattern:CT,keyword:cz,literal:fz,built_in:gz,"variable.language":mz},l="[0-9](_?[0-9])*",f=`\\.(${l})`,p="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",g={className:"number",variants:[{begin:`(\\b(${p})((${f})|\\.)?|(${f}))[eE][+-]?(${l})\\b`},{begin:`\\b(${p})\\b((${f})\\b|\\.)?|(${f})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},y={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},_={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"xml"}},x={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"css"}},S={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"graphql"}},E={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,y]},C={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},A=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,_,x,S,E,{match:/\$\d+/},g];y.contains=A.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(A)});const R=[].concat(C,y.contains),N=R.concat([{begin:/(\s*)\(/,end:/\)/,keywords:o,contains:["self"].concat(R)}]),O={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:N},P={variants:[{match:[/class/,/\s+/,i,/\s+/,/extends/,/\s+/,e.concat(i,"(",e.concat(/\./,i),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,i],scope:{1:"keyword",3:"title.class"}}]},z={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...dz,...hz]}},k={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},F={variants:[{match:[/function/,/\s+/,i,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[O],illegal:/%/},G={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function $(te){return e.concat("(?!",te.join("|"),")")}const ee={match:e.concat(/\b/,$([...pz,"super","import"].map(te=>`${te}\\s*\\(`)),i,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},ne={begin:e.concat(/\./,e.lookahead(e.concat(i,/(?![0-9A-Za-z$_(])/))),end:i,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},re={match:[/get|set/,/\s+/,i,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},O]},W="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",q={match:[/const|var|let/,/\s+/,i,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(W)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[O]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:N,CLASS_REFERENCE:z},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),k,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,_,x,S,E,C,{match:/\$\d+/},g,z,{scope:"attr",match:i+e.lookahead(":"),relevance:0},q,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[C,t.REGEXP_MODE,{className:"function",begin:W,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:N}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r.begin,end:r.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},F,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[O,t.inherit(t.TITLE_MODE,{begin:i,className:"title.function"})]},{match:/\.\.\./,relevance:0},ne,{match:"\\$"+i,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[O]},ee,G,P,re,{match:/\$[(.]/}]}}function cre(t){const e=t.regex,n=lre(t),i=CT,r=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:r},contains:[n.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],f={$pattern:CT,keyword:cz.concat(l),literal:fz,built_in:gz.concat(r),"variable.language":mz},p={className:"meta",begin:"@"+i},g=(S,E,w)=>{const C=S.contains.findIndex(A=>A.label===E);if(C===-1)throw new Error("can not find mode to replace");S.contains.splice(C,1,w)};Object.assign(n.keywords,f),n.exports.PARAMS_CONTAINS.push(p);const y=n.contains.find(S=>S.scope==="attr"),_=Object.assign({},y,{match:e.concat(i,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,y,_]),n.contains=n.contains.concat([p,s,a,_]),g(n,"shebang",t.SHEBANG()),g(n,"use_strict",o);const x=n.contains.find(S=>S.label==="func.def");return x.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function fre(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),i=/[\p{L}0-9._:-]+/u,r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=t.inherit(s,{begin:/\(/,end:/\)/}),o=t.inherit(t.APOS_STRING_MODE,{className:"string"}),l=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),f={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:i,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,o,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,a,l,o]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[f],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[f],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:f}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const KP={};function dre(t){let e=KP[t];if(e)return e;e=KP[t]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);e.push(i)}for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);e[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return e}function y_(t,e){typeof e!="string"&&(e=y_.defaultChars);const n=dre(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(i){let r="";for(let s=0,a=i.length;s<a;s+=3){const o=parseInt(i.slice(s+1,s+3),16);if(o<128){r+=n[o];continue}if((o&224)===192&&s+3<a){const l=parseInt(i.slice(s+4,s+6),16);if((l&192)===128){const f=o<<6&1984|l&63;f<128?r+="":r+=String.fromCharCode(f),s+=3;continue}}if((o&240)===224&&s+6<a){const l=parseInt(i.slice(s+4,s+6),16),f=parseInt(i.slice(s+7,s+9),16);if((l&192)===128&&(f&192)===128){const p=o<<12&61440|l<<6&4032|f&63;p<2048||p>=55296&&p<=57343?r+="":r+=String.fromCharCode(p),s+=6;continue}}if((o&248)===240&&s+9<a){const l=parseInt(i.slice(s+4,s+6),16),f=parseInt(i.slice(s+7,s+9),16),p=parseInt(i.slice(s+10,s+12),16);if((l&192)===128&&(f&192)===128&&(p&192)===128){let g=o<<18&1835008|l<<12&258048|f<<6&4032|p&63;g<65536||g>1114111?r+="":(g-=65536,r+=String.fromCharCode(55296+(g>>10),56320+(g&1023))),s+=9;continue}}r+=""}return r})}y_.defaultChars=";/?:@&=+$,#";y_.componentChars="";const QP={};function hre(t){let e=QP[t];if(e)return e;e=QP[t]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);/^[0-9a-z]$/i.test(i)?e.push(i):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function Kx(t,e,n){typeof e!="string"&&(n=e,e=Kx.defaultChars),typeof n>"u"&&(n=!0);const i=hre(e);let r="";for(let s=0,a=t.length;s<a;s++){const o=t.charCodeAt(s);if(n&&o===37&&s+2<a&&/^[0-9a-f]{2}$/i.test(t.slice(s+1,s+3))){r+=t.slice(s,s+3),s+=2;continue}if(o<128){r+=i[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&s+1<a){const l=t.charCodeAt(s+1);if(l>=56320&&l<=57343){r+=encodeURIComponent(t[s]+t[s+1]),s++;continue}}r+="%EF%BF%BD";continue}r+=encodeURIComponent(t[s])}return r}Kx.defaultChars=";/?:@&=+$,-_.!~*'()#";Kx.componentChars="-_.!~*'()";function gO(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function AT(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const pre=/^([a-z0-9.+-]+:)/i,mre=/:[0-9]*$/,gre=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,_re=["<",">",'"',"`"," ","\r",`
`,"	"],yre=["{","}","|","\\","^","`"].concat(_re),vre=["'"].concat(yre),JP=["%","/","?",";","#"].concat(vre),eL=["/","?","#"],bre=255,tL=/^[+a-z0-9A-Z_-]{0,63}$/,xre=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,nL={javascript:!0,"javascript:":!0},iL={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function _O(t,e){if(t&&t instanceof AT)return t;const n=new AT;return n.parse(t,e),n}AT.prototype.parse=function(t,e){let n,i,r,s=t;if(s=s.trim(),!e&&t.split("#").length===1){const f=gre.exec(s);if(f)return this.pathname=f[1],f[2]&&(this.search=f[2]),this}let a=pre.exec(s);if(a&&(a=a[0],n=a.toLowerCase(),this.protocol=a,s=s.substr(a.length)),(e||a||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r=s.substr(0,2)==="//",r&&!(a&&nL[a])&&(s=s.substr(2),this.slashes=!0)),!nL[a]&&(r||a&&!iL[a])){let f=-1;for(let x=0;x<eL.length;x++)i=s.indexOf(eL[x]),i!==-1&&(f===-1||i<f)&&(f=i);let p,g;f===-1?g=s.lastIndexOf("@"):g=s.lastIndexOf("@",f),g!==-1&&(p=s.slice(0,g),s=s.slice(g+1),this.auth=p),f=-1;for(let x=0;x<JP.length;x++)i=s.indexOf(JP[x]),i!==-1&&(f===-1||i<f)&&(f=i);f===-1&&(f=s.length),s[f-1]===":"&&f--;const y=s.slice(0,f);s=s.slice(f),this.parseHost(y),this.hostname=this.hostname||"";const _=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_){const x=this.hostname.split(/\./);for(let S=0,E=x.length;S<E;S++){const w=x[S];if(w&&!w.match(tL)){let C="";for(let A=0,R=w.length;A<R;A++)w.charCodeAt(A)>127?C+="x":C+=w[A];if(!C.match(tL)){const A=x.slice(0,S),R=x.slice(S+1),N=w.match(xre);N&&(A.push(N[1]),R.unshift(N[2])),R.length&&(s=R.join(".")+s),this.hostname=A.join(".");break}}}}this.hostname.length>bre&&(this.hostname=""),_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const o=s.indexOf("#");o!==-1&&(this.hash=s.substr(o),s=s.slice(0,o));const l=s.indexOf("?");return l!==-1&&(this.search=s.substr(l),s=s.slice(0,l)),s&&(this.pathname=s),iL[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};AT.prototype.parseHost=function(t){let e=mre.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Sre=Object.freeze(Object.defineProperty({__proto__:null,decode:y_,encode:Kx,format:gO,parse:_O},Symbol.toStringTag,{value:"Module"})),_z=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,yz=/[\0-\x1F\x7F-\x9F]/,Ere=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,yO=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,vz=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,bz=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,wre=Object.freeze(Object.defineProperty({__proto__:null,Any:_z,Cc:yz,Cf:Ere,P:yO,S:vz,Z:bz},Symbol.toStringTag,{value:"Module"})),Tre=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),Mre=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var R3;const Cre=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Are=(R3=String.fromCodePoint)!==null&&R3!==void 0?R3:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function Dre(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=Cre.get(t))!==null&&e!==void 0?e:t}var ks;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(ks||(ks={}));const Rre=32;var sh;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(sh||(sh={}));function YR(t){return t>=ks.ZERO&&t<=ks.NINE}function Ire(t){return t>=ks.UPPER_A&&t<=ks.UPPER_F||t>=ks.LOWER_A&&t<=ks.LOWER_F}function Nre(t){return t>=ks.UPPER_A&&t<=ks.UPPER_Z||t>=ks.LOWER_A&&t<=ks.LOWER_Z||YR(t)}function Ore(t){return t===ks.EQUALS||Nre(t)}var Rs;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Rs||(Rs={}));var th;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(th||(th={}));class kre{constructor(e,n,i){this.decodeTree=e,this.emitCodePoint=n,this.errors=i,this.state=Rs.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=th.Strict}startEntity(e){this.decodeMode=e,this.state=Rs.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Rs.EntityStart:return e.charCodeAt(n)===ks.NUM?(this.state=Rs.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Rs.NamedEntity,this.stateNamedEntity(e,n));case Rs.NumericStart:return this.stateNumericStart(e,n);case Rs.NumericDecimal:return this.stateNumericDecimal(e,n);case Rs.NumericHex:return this.stateNumericHex(e,n);case Rs.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|Rre)===ks.LOWER_X?(this.state=Rs.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Rs.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,i,r){if(n!==i){const s=i-n;this.result=this.result*Math.pow(r,s)+parseInt(e.substr(n,s),r),this.consumed+=s}}stateNumericHex(e,n){const i=n;for(;n<e.length;){const r=e.charCodeAt(n);if(YR(r)||Ire(r))n+=1;else return this.addToNumericResult(e,i,n,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(e,i,n,16),-1}stateNumericDecimal(e,n){const i=n;for(;n<e.length;){const r=e.charCodeAt(n);if(YR(r))n+=1;else return this.addToNumericResult(e,i,n,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(e,i,n,10),-1}emitNumericEntity(e,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===ks.SEMI)this.consumed+=1;else if(this.decodeMode===th.Strict)return 0;return this.emitCodePoint(Dre(this.result),this.consumed),this.errors&&(e!==ks.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:i}=this;let r=i[this.treeIndex],s=(r&sh.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const a=e.charCodeAt(n);if(this.treeIndex=Pre(i,r,this.treeIndex+Math.max(1,s),a),this.treeIndex<0)return this.result===0||this.decodeMode===th.Attribute&&(s===0||Ore(a))?0:this.emitNotTerminatedNamedEntity();if(r=i[this.treeIndex],s=(r&sh.VALUE_LENGTH)>>14,s!==0){if(a===ks.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==th.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:i}=this,r=(i[n]&sh.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,r,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,i){const{decodeTree:r}=this;return this.emitCodePoint(n===1?r[e]&~sh.VALUE_LENGTH:r[e+1],i),n===3&&this.emitCodePoint(r[e+2],i),i}end(){var e;switch(this.state){case Rs.NamedEntity:return this.result!==0&&(this.decodeMode!==th.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Rs.NumericDecimal:return this.emitNumericEntity(0,2);case Rs.NumericHex:return this.emitNumericEntity(0,3);case Rs.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Rs.EntityStart:return 0}}}function xz(t){let e="";const n=new kre(t,i=>e+=Are(i));return function(r,s){let a=0,o=0;for(;(o=r.indexOf("&",o))>=0;){e+=r.slice(a,o),n.startEntity(s);const f=n.write(r,o+1);if(f<0){a=o+n.end();break}a=o+f,o=f===0?a+1:a}const l=e+r.slice(a);return e="",l}}function Pre(t,e,n,i){const r=(e&sh.BRANCH_LENGTH)>>7,s=e&sh.JUMP_TABLE;if(r===0)return s!==0&&i===s?n:-1;if(s){const l=i-s;return l<0||l>=r?-1:t[n+l]-1}let a=n,o=a+r-1;for(;a<=o;){const l=a+o>>>1,f=t[l];if(f<i)a=l+1;else if(f>i)o=l-1;else return t[l+r]}return-1}const Lre=xz(Tre);xz(Mre);function Sz(t,e=th.Legacy){return Lre(t,e)}function Fre(t){return Object.prototype.toString.call(t)}function vO(t){return Fre(t)==="[object String]"}const Ure=Object.prototype.hasOwnProperty;function Bre(t,e){return Ure.call(t,e)}function mC(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(i){t[i]=n[i]})}}),t}function Ez(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function bO(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function DT(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const wz=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,zre=/&([a-z#][a-z0-9]{1,31});/gi,Hre=new RegExp(wz.source+"|"+zre.source,"gi"),Vre=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Gre(t,e){if(e.charCodeAt(0)===35&&Vre.test(e)){const i=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return bO(i)?DT(i):t}const n=Sz(t);return n!==t?n:t}function Wre(t){return t.indexOf("\\")<0?t:t.replace(wz,"$1")}function v_(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(Hre,function(e,n,i){return n||Gre(e,i)})}const jre=/[&<>"]/,qre=/[&<>"]/g,$re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Xre(t){return $re[t]}function Ch(t){return jre.test(t)?t.replace(qre,Xre):t}const Yre=/[.?*+^$[\]\\(){}|-]/g;function Zre(t){return t.replace(Yre,"\\$&")}function rr(t){switch(t){case 9:case 32:return!0}return!1}function Kb(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Qb(t){return yO.test(t)||vz.test(t)}function Jb(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function gC(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const Kre={mdurl:Sre,ucmicro:wre},Qre=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Ez,assign:mC,escapeHtml:Ch,escapeRE:Zre,fromCodePoint:DT,has:Bre,isMdAsciiPunct:Jb,isPunctChar:Qb,isSpace:rr,isString:vO,isValidEntityCode:bO,isWhiteSpace:Kb,lib:Kre,normalizeReference:gC,unescapeAll:v_,unescapeMd:Wre},Symbol.toStringTag,{value:"Module"}));function Jre(t,e,n){let i,r,s,a;const o=t.posMax,l=t.pos;for(t.pos=e+1,i=1;t.pos<o;){if(s=t.src.charCodeAt(t.pos),s===93&&(i--,i===0)){r=!0;break}if(a=t.pos,t.md.inline.skipToken(t),s===91){if(a===t.pos-1)i++;else if(n)return t.pos=l,-1}}let f=-1;return r&&(f=t.pos),t.pos=l,f}function ese(t,e,n){let i,r=e;const s={ok:!1,pos:0,str:""};if(t.charCodeAt(r)===60){for(r++;r<n;){if(i=t.charCodeAt(r),i===10||i===60)return s;if(i===62)return s.pos=r+1,s.str=v_(t.slice(e+1,r)),s.ok=!0,s;if(i===92&&r+1<n){r+=2;continue}r++}return s}let a=0;for(;r<n&&(i=t.charCodeAt(r),!(i===32||i<32||i===127));){if(i===92&&r+1<n){if(t.charCodeAt(r+1)===32)break;r+=2;continue}if(i===40&&(a++,a>32))return s;if(i===41){if(a===0)break;a--}r++}return e===r||a!==0||(s.str=v_(t.slice(e,r)),s.pos=r,s.ok=!0),s}function tse(t,e,n,i){let r,s=e;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)a.str=i.str,a.marker=i.marker;else{if(s>=n)return a;let o=t.charCodeAt(s);if(o!==34&&o!==39&&o!==40)return a;e++,s++,o===40&&(o=41),a.marker=o}for(;s<n;){if(r=t.charCodeAt(s),r===a.marker)return a.pos=s+1,a.str+=v_(t.slice(e,s)),a.ok=!0,a;if(r===40&&a.marker===41)return a;r===92&&s+1<n&&s++,s++}return a.can_continue=!0,a.str+=v_(t.slice(e,s)),a}const nse=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:ese,parseLinkLabel:Jre,parseLinkTitle:tse},Symbol.toStringTag,{value:"Module"})),Lc={};Lc.code_inline=function(t,e,n,i,r){const s=t[e];return"<code"+r.renderAttrs(s)+">"+Ch(s.content)+"</code>"};Lc.code_block=function(t,e,n,i,r){const s=t[e];return"<pre"+r.renderAttrs(s)+"><code>"+Ch(t[e].content)+`</code></pre>
`};Lc.fence=function(t,e,n,i,r){const s=t[e],a=s.info?v_(s.info).trim():"";let o="",l="";if(a){const p=a.split(/(\s+)/g);o=p[0],l=p.slice(2).join("")}let f;if(n.highlight?f=n.highlight(s.content,o,l)||Ch(s.content):f=Ch(s.content),f.indexOf("<pre")===0)return f+`
`;if(a){const p=s.attrIndex("class"),g=s.attrs?s.attrs.slice():[];p<0?g.push(["class",n.langPrefix+o]):(g[p]=g[p].slice(),g[p][1]+=" "+n.langPrefix+o);const y={attrs:g};return`<pre><code${r.renderAttrs(y)}>${f}</code></pre>
`}return`<pre><code${r.renderAttrs(s)}>${f}</code></pre>
`};Lc.image=function(t,e,n,i,r){const s=t[e];return s.attrs[s.attrIndex("alt")][1]=r.renderInlineAsText(s.children,n,i),r.renderToken(t,e,n)};Lc.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};Lc.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Lc.text=function(t,e){return Ch(t[e].content)};Lc.html_block=function(t,e){return t[e].content};Lc.html_inline=function(t,e){return t[e].content};function K_(){this.rules=mC({},Lc)}K_.prototype.renderAttrs=function(e){let n,i,r;if(!e.attrs)return"";for(r="",n=0,i=e.attrs.length;n<i;n++)r+=" "+Ch(e.attrs[n][0])+'="'+Ch(e.attrs[n][1])+'"';return r};K_.prototype.renderToken=function(e,n,i){const r=e[n];let s="";if(r.hidden)return"";r.block&&r.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(r.nesting===-1?"</":"<")+r.tag,s+=this.renderAttrs(r),r.nesting===0&&i.xhtmlOut&&(s+=" /");let a=!1;if(r.block&&(a=!0,r.nesting===1&&n+1<e.length)){const o=e[n+1];(o.type==="inline"||o.hidden||o.nesting===-1&&o.tag===r.tag)&&(a=!1)}return s+=a?`>
`:">",s};K_.prototype.renderInline=function(t,e,n){let i="";const r=this.rules;for(let s=0,a=t.length;s<a;s++){const o=t[s].type;typeof r[o]<"u"?i+=r[o](t,s,e,n,this):i+=this.renderToken(t,s,e)}return i};K_.prototype.renderInlineAsText=function(t,e,n){let i="";for(let r=0,s=t.length;r<s;r++)switch(t[r].type){case"text":i+=t[r].content;break;case"image":i+=this.renderInlineAsText(t[r].children,e,n);break;case"html_inline":case"html_block":i+=t[r].content;break;case"softbreak":case"hardbreak":i+=`
`;break}return i};K_.prototype.render=function(t,e,n){let i="";const r=this.rules;for(let s=0,a=t.length;s<a;s++){const o=t[s].type;o==="inline"?i+=this.renderInline(t[s].children,e,n):typeof r[o]<"u"?i+=r[o](t,s,e,n,this):i+=this.renderToken(t,s,e,n)}return i};function Fo(){this.__rules__=[],this.__cache__=null}Fo.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Fo.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(i){e.indexOf(i)<0&&e.push(i)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(i){i.enabled&&(n&&i.alt.indexOf(n)<0||t.__cache__[n].push(i.fn))})})};Fo.prototype.at=function(t,e,n){const i=this.__find__(t),r=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__[i].fn=e,this.__rules__[i].alt=r.alt||[],this.__cache__=null};Fo.prototype.before=function(t,e,n,i){const r=this.__find__(t),s=i||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(r,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Fo.prototype.after=function(t,e,n,i){const r=this.__find__(t),s=i||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(r+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Fo.prototype.push=function(t,e,n){const i=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:i.alt||[]}),this.__cache__=null};Fo.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(i){const r=this.__find__(i);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[r].enabled=!0,n.push(i)},this),this.__cache__=null,n};Fo.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};Fo.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(i){const r=this.__find__(i);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[r].enabled=!1,n.push(i)},this),this.__cache__=null,n};Fo.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Ll(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Ll.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let i=0,r=n.length;i<r;i++)if(n[i][0]===e)return i;return-1};Ll.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Ll.prototype.attrSet=function(e,n){const i=this.attrIndex(e),r=[e,n];i<0?this.attrPush(r):this.attrs[i]=r};Ll.prototype.attrGet=function(e){const n=this.attrIndex(e);let i=null;return n>=0&&(i=this.attrs[n][1]),i};Ll.prototype.attrJoin=function(e,n){const i=this.attrIndex(e);i<0?this.attrPush([e,n]):this.attrs[i][1]=this.attrs[i][1]+" "+n};function Tz(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}Tz.prototype.Token=Ll;const ise=/\r\n?|\n/g,rse=/\0/g;function sse(t){let e;e=t.src.replace(ise,`
`),e=e.replace(rse,""),t.src=e}function ase(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function ose(t){const e=t.tokens;for(let n=0,i=e.length;n<i;n++){const r=e[n];r.type==="inline"&&t.md.inline.parse(r.content,t.md,t.env,r.children)}}function use(t){return/^<a[>\s]/i.test(t)}function lse(t){return/^<\/a\s*>/i.test(t)}function cse(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,i=e.length;n<i;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let r=e[n].children,s=0;for(let a=r.length-1;a>=0;a--){const o=r[a];if(o.type==="link_close"){for(a--;r[a].level!==o.level&&r[a].type!=="link_open";)a--;continue}if(o.type==="html_inline"&&(use(o.content)&&s>0&&s--,lse(o.content)&&s++),!(s>0)&&o.type==="text"&&t.md.linkify.test(o.content)){const l=o.content;let f=t.md.linkify.match(l);const p=[];let g=o.level,y=0;f.length>0&&f[0].index===0&&a>0&&r[a-1].type==="text_special"&&(f=f.slice(1));for(let _=0;_<f.length;_++){const x=f[_].url,S=t.md.normalizeLink(x);if(!t.md.validateLink(S))continue;let E=f[_].text;f[_].schema?f[_].schema==="mailto:"&&!/^mailto:/i.test(E)?E=t.md.normalizeLinkText("mailto:"+E).replace(/^mailto:/,""):E=t.md.normalizeLinkText(E):E=t.md.normalizeLinkText("http://"+E).replace(/^http:\/\//,"");const w=f[_].index;if(w>y){const N=new t.Token("text","",0);N.content=l.slice(y,w),N.level=g,p.push(N)}const C=new t.Token("link_open","a",1);C.attrs=[["href",S]],C.level=g++,C.markup="linkify",C.info="auto",p.push(C);const A=new t.Token("text","",0);A.content=E,A.level=g,p.push(A);const R=new t.Token("link_close","a",-1);R.level=--g,R.markup="linkify",R.info="auto",p.push(R),y=f[_].lastIndex}if(y<l.length){const _=new t.Token("text","",0);_.content=l.slice(y),_.level=g,p.push(_)}e[n].children=r=Ez(r,a,p)}}}}const Mz=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,fse=/\((c|tm|r)\)/i,dse=/\((c|tm|r)\)/ig,hse={c:"",r:"",tm:""};function pse(t,e){return hse[e.toLowerCase()]}function mse(t){let e=0;for(let n=t.length-1;n>=0;n--){const i=t[n];i.type==="text"&&!e&&(i.content=i.content.replace(dse,pse)),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function gse(t){let e=0;for(let n=t.length-1;n>=0;n--){const i=t[n];i.type==="text"&&!e&&Mz.test(i.content)&&(i.content=i.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),i.type==="link_open"&&i.info==="auto"&&e--,i.type==="link_close"&&i.info==="auto"&&e++}}function _se(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(fse.test(t.tokens[e].content)&&mse(t.tokens[e].children),Mz.test(t.tokens[e].content)&&gse(t.tokens[e].children))}const yse=/['"]/,rL=/['"]/g,sL="";function gE(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function vse(t,e){let n;const i=[];for(let r=0;r<t.length;r++){const s=t[r],a=t[r].level;for(n=i.length-1;n>=0&&!(i[n].level<=a);n--);if(i.length=n+1,s.type!=="text")continue;let o=s.content,l=0,f=o.length;e:for(;l<f;){rL.lastIndex=l;const p=rL.exec(o);if(!p)break;let g=!0,y=!0;l=p.index+1;const _=p[0]==="'";let x=32;if(p.index-1>=0)x=o.charCodeAt(p.index-1);else for(n=r-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){x=t[n].content.charCodeAt(t[n].content.length-1);break}let S=32;if(l<f)S=o.charCodeAt(l);else for(n=r+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){S=t[n].content.charCodeAt(0);break}const E=Jb(x)||Qb(String.fromCharCode(x)),w=Jb(S)||Qb(String.fromCharCode(S)),C=Kb(x),A=Kb(S);if(A?g=!1:w&&(C||E||(g=!1)),C?y=!1:E&&(A||w||(y=!1)),S===34&&p[0]==='"'&&x>=48&&x<=57&&(y=g=!1),g&&y&&(g=E,y=w),!g&&!y){_&&(s.content=gE(s.content,p.index,sL));continue}if(y)for(n=i.length-1;n>=0;n--){let R=i[n];if(i[n].level<a)break;if(R.single===_&&i[n].level===a){R=i[n];let N,O;_?(N=e.md.options.quotes[2],O=e.md.options.quotes[3]):(N=e.md.options.quotes[0],O=e.md.options.quotes[1]),s.content=gE(s.content,p.index,O),t[R.token].content=gE(t[R.token].content,R.pos,N),l+=O.length-1,R.token===r&&(l+=N.length-1),o=s.content,f=o.length,i.length=n;continue e}}g?i.push({token:r,pos:p.index,single:_,level:a}):y&&_&&(s.content=gE(s.content,p.index,sL))}}}function bse(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!yse.test(t.tokens[e].content)||vse(t.tokens[e].children,t)}function xse(t){let e,n;const i=t.tokens,r=i.length;for(let s=0;s<r;s++){if(i[s].type!=="inline")continue;const a=i[s].children,o=a.length;for(e=0;e<o;e++)a[e].type==="text_special"&&(a[e].type="text");for(e=n=0;e<o;e++)a[e].type==="text"&&e+1<o&&a[e+1].type==="text"?a[e+1].content=a[e].content+a[e+1].content:(e!==n&&(a[n]=a[e]),n++);e!==n&&(a.length=n)}}const I3=[["normalize",sse],["block",ase],["inline",ose],["linkify",cse],["replacements",_se],["smartquotes",bse],["text_join",xse]];function xO(){this.ruler=new Fo;for(let t=0;t<I3.length;t++)this.ruler.push(I3[t][0],I3[t][1])}xO.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,i=e.length;n<i;n++)e[n](t)};xO.prototype.State=Tz;function Fc(t,e,n,i){this.src=t,this.md=e,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const r=this.src;for(let s=0,a=0,o=0,l=0,f=r.length,p=!1;a<f;a++){const g=r.charCodeAt(a);if(!p)if(rr(g)){o++,g===9?l+=4-l%4:l++;continue}else p=!0;(g===10||a===f-1)&&(g!==10&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(o),this.sCount.push(l),this.bsCount.push(0),p=!1,o=0,l=0,s=a+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Fc.prototype.push=function(t,e,n){const i=new Ll(t,e,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i};Fc.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Fc.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Fc.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const i=this.src.charCodeAt(e);if(!rr(i))break}return e};Fc.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!rr(this.src.charCodeAt(--e)))return e+1;return e};Fc.prototype.skipChars=function(e,n){for(let i=this.src.length;e<i&&this.src.charCodeAt(e)===n;e++);return e};Fc.prototype.skipCharsBack=function(e,n,i){if(e<=i)return e;for(;e>i;)if(n!==this.src.charCodeAt(--e))return e+1;return e};Fc.prototype.getLines=function(e,n,i,r){if(e>=n)return"";const s=new Array(n-e);for(let a=0,o=e;o<n;o++,a++){let l=0;const f=this.bMarks[o];let p=f,g;for(o+1<n||r?g=this.eMarks[o]+1:g=this.eMarks[o];p<g&&l<i;){const y=this.src.charCodeAt(p);if(rr(y))y===9?l+=4-(l+this.bsCount[o])%4:l++;else if(p-f<this.tShift[o])l++;else break;p++}l>i?s[a]=new Array(l-i+1).join(" ")+this.src.slice(p,g):s[a]=this.src.slice(p,g)}return s.join("")};Fc.prototype.Token=Ll;const Sse=65536;function N3(t,e){const n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];return t.src.slice(n,i)}function aL(t){const e=[],n=t.length;let i=0,r=t.charCodeAt(i),s=!1,a=0,o="";for(;i<n;)r===124&&(s?(o+=t.substring(a,i-1),a=i):(e.push(o+t.substring(a,i)),o="",a=i+1)),s=r===92,i++,r=t.charCodeAt(i);return e.push(o+t.substring(a)),e}function Ese(t,e,n,i){if(e+2>n)return!1;let r=e+1;if(t.sCount[r]<t.blkIndent||t.sCount[r]-t.blkIndent>=4)return!1;let s=t.bMarks[r]+t.tShift[r];if(s>=t.eMarks[r])return!1;const a=t.src.charCodeAt(s++);if(a!==124&&a!==45&&a!==58||s>=t.eMarks[r])return!1;const o=t.src.charCodeAt(s++);if(o!==124&&o!==45&&o!==58&&!rr(o)||a===45&&rr(o))return!1;for(;s<t.eMarks[r];){const R=t.src.charCodeAt(s);if(R!==124&&R!==45&&R!==58&&!rr(R))return!1;s++}let l=N3(t,e+1),f=l.split("|");const p=[];for(let R=0;R<f.length;R++){const N=f[R].trim();if(!N){if(R===0||R===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(N))return!1;N.charCodeAt(N.length-1)===58?p.push(N.charCodeAt(0)===58?"center":"right"):N.charCodeAt(0)===58?p.push("left"):p.push("")}if(l=N3(t,e).trim(),l.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;f=aL(l),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop();const g=f.length;if(g===0||g!==p.length)return!1;if(i)return!0;const y=t.parentType;t.parentType="table";const _=t.md.block.ruler.getRules("blockquote"),x=t.push("table_open","table",1),S=[e,0];x.map=S;const E=t.push("thead_open","thead",1);E.map=[e,e+1];const w=t.push("tr_open","tr",1);w.map=[e,e+1];for(let R=0;R<f.length;R++){const N=t.push("th_open","th",1);p[R]&&(N.attrs=[["style","text-align:"+p[R]]]);const O=t.push("inline","",0);O.content=f[R].trim(),O.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let C,A=0;for(r=e+2;r<n&&!(t.sCount[r]<t.blkIndent);r++){let R=!1;for(let O=0,P=_.length;O<P;O++)if(_[O](t,r,n,!0)){R=!0;break}if(R||(l=N3(t,r).trim(),!l)||t.sCount[r]-t.blkIndent>=4||(f=aL(l),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),A+=g-f.length,A>Sse))break;if(r===e+2){const O=t.push("tbody_open","tbody",1);O.map=C=[e+2,0]}const N=t.push("tr_open","tr",1);N.map=[r,r+1];for(let O=0;O<g;O++){const P=t.push("td_open","td",1);p[O]&&(P.attrs=[["style","text-align:"+p[O]]]);const z=t.push("inline","",0);z.content=f[O]?f[O].trim():"",z.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return C&&(t.push("tbody_close","tbody",-1),C[1]=r),t.push("table_close","table",-1),S[1]=r,t.parentType=y,t.line=r,!0}function wse(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let i=e+1,r=i;for(;i<n;){if(t.isEmpty(i)){i++;continue}if(t.sCount[i]-t.blkIndent>=4){i++,r=i;continue}break}t.line=r;const s=t.push("code_block","code",0);return s.content=t.getLines(e,r,4+t.blkIndent,!1)+`
`,s.map=[e,t.line],!0}function Tse(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||r+3>s)return!1;const a=t.src.charCodeAt(r);if(a!==126&&a!==96)return!1;let o=r;r=t.skipChars(r,a);let l=r-o;if(l<3)return!1;const f=t.src.slice(o,r),p=t.src.slice(r,s);if(a===96&&p.indexOf(String.fromCharCode(a))>=0)return!1;if(i)return!0;let g=e,y=!1;for(;g++,!(g>=n||(r=o=t.bMarks[g]+t.tShift[g],s=t.eMarks[g],r<s&&t.sCount[g]<t.blkIndent));)if(t.src.charCodeAt(r)===a&&!(t.sCount[g]-t.blkIndent>=4)&&(r=t.skipChars(r,a),!(r-o<l)&&(r=t.skipSpaces(r),!(r<s)))){y=!0;break}l=t.sCount[e],t.line=g+(y?1:0);const _=t.push("fence","code",0);return _.info=p,_.content=t.getLines(e+1,g,l,!0),_.markup=f,_.map=[e,t.line],!0}function Mse(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];const a=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(r)!==62)return!1;if(i)return!0;const o=[],l=[],f=[],p=[],g=t.md.block.ruler.getRules("blockquote"),y=t.parentType;t.parentType="blockquote";let _=!1,x;for(x=e;x<n;x++){const A=t.sCount[x]<t.blkIndent;if(r=t.bMarks[x]+t.tShift[x],s=t.eMarks[x],r>=s)break;if(t.src.charCodeAt(r++)===62&&!A){let N=t.sCount[x]+1,O,P;t.src.charCodeAt(r)===32?(r++,N++,P=!1,O=!0):t.src.charCodeAt(r)===9?(O=!0,(t.bsCount[x]+N)%4===3?(r++,N++,P=!1):P=!0):O=!1;let z=N;for(o.push(t.bMarks[x]),t.bMarks[x]=r;r<s;){const k=t.src.charCodeAt(r);if(rr(k))k===9?z+=4-(z+t.bsCount[x]+(P?1:0))%4:z++;else break;r++}_=r>=s,l.push(t.bsCount[x]),t.bsCount[x]=t.sCount[x]+1+(O?1:0),f.push(t.sCount[x]),t.sCount[x]=z-N,p.push(t.tShift[x]),t.tShift[x]=r-t.bMarks[x];continue}if(_)break;let R=!1;for(let N=0,O=g.length;N<O;N++)if(g[N](t,x,n,!0)){R=!0;break}if(R){t.lineMax=x,t.blkIndent!==0&&(o.push(t.bMarks[x]),l.push(t.bsCount[x]),p.push(t.tShift[x]),f.push(t.sCount[x]),t.sCount[x]-=t.blkIndent);break}o.push(t.bMarks[x]),l.push(t.bsCount[x]),p.push(t.tShift[x]),f.push(t.sCount[x]),t.sCount[x]=-1}const S=t.blkIndent;t.blkIndent=0;const E=t.push("blockquote_open","blockquote",1);E.markup=">";const w=[e,0];E.map=w,t.md.block.tokenize(t,e,x);const C=t.push("blockquote_close","blockquote",-1);C.markup=">",t.lineMax=a,t.parentType=y,w[1]=t.line;for(let A=0;A<p.length;A++)t.bMarks[A+e]=o[A],t.tShift[A+e]=p[A],t.sCount[A+e]=f[A],t.bsCount[A+e]=l[A];return t.blkIndent=S,!0}function Cse(t,e,n,i){const r=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.bMarks[e]+t.tShift[e];const a=t.src.charCodeAt(s++);if(a!==42&&a!==45&&a!==95)return!1;let o=1;for(;s<r;){const f=t.src.charCodeAt(s++);if(f!==a&&!rr(f))return!1;f===a&&o++}if(o<3)return!1;if(i)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(o+1).join(String.fromCharCode(a)),!0}function oL(t,e){const n=t.eMarks[e];let i=t.bMarks[e]+t.tShift[e];const r=t.src.charCodeAt(i++);if(r!==42&&r!==45&&r!==43)return-1;if(i<n){const s=t.src.charCodeAt(i);if(!rr(s))return-1}return i}function uL(t,e){const n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];let r=n;if(r+1>=i)return-1;let s=t.src.charCodeAt(r++);if(s<48||s>57)return-1;for(;;){if(r>=i)return-1;if(s=t.src.charCodeAt(r++),s>=48&&s<=57){if(r-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return r<i&&(s=t.src.charCodeAt(r),!rr(s))?-1:r}function Ase(t,e){const n=t.level+2;for(let i=e+2,r=t.tokens.length-2;i<r;i++)t.tokens[i].level===n&&t.tokens[i].type==="paragraph_open"&&(t.tokens[i+2].hidden=!0,t.tokens[i].hidden=!0,i+=2)}function Dse(t,e,n,i){let r,s,a,o,l=e,f=!0;if(t.sCount[l]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let p=!1;i&&t.parentType==="paragraph"&&t.sCount[l]>=t.blkIndent&&(p=!0);let g,y,_;if((_=uL(t,l))>=0){if(g=!0,a=t.bMarks[l]+t.tShift[l],y=Number(t.src.slice(a,_-1)),p&&y!==1)return!1}else if((_=oL(t,l))>=0)g=!1;else return!1;if(p&&t.skipSpaces(_)>=t.eMarks[l])return!1;if(i)return!0;const x=t.src.charCodeAt(_-1),S=t.tokens.length;g?(o=t.push("ordered_list_open","ol",1),y!==1&&(o.attrs=[["start",y]])):o=t.push("bullet_list_open","ul",1);const E=[l,0];o.map=E,o.markup=String.fromCharCode(x);let w=!1;const C=t.md.block.ruler.getRules("list"),A=t.parentType;for(t.parentType="list";l<n;){s=_,r=t.eMarks[l];const R=t.sCount[l]+_-(t.bMarks[l]+t.tShift[l]);let N=R;for(;s<r;){const re=t.src.charCodeAt(s);if(re===9)N+=4-(N+t.bsCount[l])%4;else if(re===32)N++;else break;s++}const O=s;let P;O>=r?P=1:P=N-R,P>4&&(P=1);const z=R+P;o=t.push("list_item_open","li",1),o.markup=String.fromCharCode(x);const k=[l,0];o.map=k,g&&(o.info=t.src.slice(a,_-1));const F=t.tight,G=t.tShift[l],$=t.sCount[l],ee=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=z,t.tight=!0,t.tShift[l]=O-t.bMarks[l],t.sCount[l]=N,O>=r&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,l,n,!0),(!t.tight||w)&&(f=!1),w=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=ee,t.tShift[l]=G,t.sCount[l]=$,t.tight=F,o=t.push("list_item_close","li",-1),o.markup=String.fromCharCode(x),l=t.line,k[1]=l,l>=n||t.sCount[l]<t.blkIndent||t.sCount[l]-t.blkIndent>=4)break;let ne=!1;for(let re=0,W=C.length;re<W;re++)if(C[re](t,l,n,!0)){ne=!0;break}if(ne)break;if(g){if(_=uL(t,l),_<0)break;a=t.bMarks[l]+t.tShift[l]}else if(_=oL(t,l),_<0)break;if(x!==t.src.charCodeAt(_-1))break}return g?o=t.push("ordered_list_close","ol",-1):o=t.push("bullet_list_close","ul",-1),o.markup=String.fromCharCode(x),E[1]=l,t.line=l,t.parentType=A,f&&Ase(t,S),!0}function Rse(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],a=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(r)!==91)return!1;function o(C){const A=t.lineMax;if(C>=A||t.isEmpty(C))return null;let R=!1;if(t.sCount[C]-t.blkIndent>3&&(R=!0),t.sCount[C]<0&&(R=!0),!R){const P=t.md.block.ruler.getRules("reference"),z=t.parentType;t.parentType="reference";let k=!1;for(let F=0,G=P.length;F<G;F++)if(P[F](t,C,A,!0)){k=!0;break}if(t.parentType=z,k)return null}const N=t.bMarks[C]+t.tShift[C],O=t.eMarks[C];return t.src.slice(N,O+1)}let l=t.src.slice(r,s+1);s=l.length;let f=-1;for(r=1;r<s;r++){const C=l.charCodeAt(r);if(C===91)return!1;if(C===93){f=r;break}else if(C===10){const A=o(a);A!==null&&(l+=A,s=l.length,a++)}else if(C===92&&(r++,r<s&&l.charCodeAt(r)===10)){const A=o(a);A!==null&&(l+=A,s=l.length,a++)}}if(f<0||l.charCodeAt(f+1)!==58)return!1;for(r=f+2;r<s;r++){const C=l.charCodeAt(r);if(C===10){const A=o(a);A!==null&&(l+=A,s=l.length,a++)}else if(!rr(C))break}const p=t.md.helpers.parseLinkDestination(l,r,s);if(!p.ok)return!1;const g=t.md.normalizeLink(p.str);if(!t.md.validateLink(g))return!1;r=p.pos;const y=r,_=a,x=r;for(;r<s;r++){const C=l.charCodeAt(r);if(C===10){const A=o(a);A!==null&&(l+=A,s=l.length,a++)}else if(!rr(C))break}let S=t.md.helpers.parseLinkTitle(l,r,s);for(;S.can_continue;){const C=o(a);if(C===null)break;l+=C,r=s,s=l.length,a++,S=t.md.helpers.parseLinkTitle(l,r,s,S)}let E;for(r<s&&x!==r&&S.ok?(E=S.str,r=S.pos):(E="",r=y,a=_);r<s;){const C=l.charCodeAt(r);if(!rr(C))break;r++}if(r<s&&l.charCodeAt(r)!==10&&E)for(E="",r=y,a=_;r<s;){const C=l.charCodeAt(r);if(!rr(C))break;r++}if(r<s&&l.charCodeAt(r)!==10)return!1;const w=gC(l.slice(1,f));return w?(i||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[w]>"u"&&(t.env.references[w]={title:E,href:g}),t.line=a),!0):!1}const Ise=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Nse="[a-zA-Z_:][a-zA-Z0-9:._-]*",Ose="[^\"'=<>`\\x00-\\x20]+",kse="'[^']*'",Pse='"[^"]*"',Lse="(?:"+Ose+"|"+kse+"|"+Pse+")",Fse="(?:\\s+"+Nse+"(?:\\s*=\\s*"+Lse+")?)",Cz="<[A-Za-z][A-Za-z0-9\\-]*"+Fse+"*\\s*\\/?>",Az="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Use="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Bse="<[?][\\s\\S]*?[?]>",zse="<![A-Za-z][^>]*>",Hse="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Vse=new RegExp("^(?:"+Cz+"|"+Az+"|"+Use+"|"+Bse+"|"+zse+"|"+Hse+")"),Gse=new RegExp("^(?:"+Cz+"|"+Az+")"),rg=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Ise.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Gse.source+"\\s*$"),/^$/,!1]];function Wse(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(r)!==60)return!1;let a=t.src.slice(r,s),o=0;for(;o<rg.length&&!rg[o][0].test(a);o++);if(o===rg.length)return!1;if(i)return rg[o][2];let l=e+1;if(!rg[o][1].test(a)){for(;l<n&&!(t.sCount[l]<t.blkIndent);l++)if(r=t.bMarks[l]+t.tShift[l],s=t.eMarks[l],a=t.src.slice(r,s),rg[o][1].test(a)){a.length!==0&&l++;break}}t.line=l;const f=t.push("html_block","",0);return f.map=[e,l],f.content=t.getLines(e,l,t.blkIndent,!0),!0}function jse(t,e,n,i){let r=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let a=t.src.charCodeAt(r);if(a!==35||r>=s)return!1;let o=1;for(a=t.src.charCodeAt(++r);a===35&&r<s&&o<=6;)o++,a=t.src.charCodeAt(++r);if(o>6||r<s&&!rr(a))return!1;if(i)return!0;s=t.skipSpacesBack(s,r);const l=t.skipCharsBack(s,35,r);l>r&&rr(t.src.charCodeAt(l-1))&&(s=l),t.line=e+1;const f=t.push("heading_open","h"+String(o),1);f.markup="########".slice(0,o),f.map=[e,t.line];const p=t.push("inline","",0);p.content=t.src.slice(r,s).trim(),p.map=[e,t.line],p.children=[];const g=t.push("heading_close","h"+String(o),-1);return g.markup="########".slice(0,o),!0}function qse(t,e,n){const i=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const r=t.parentType;t.parentType="paragraph";let s=0,a,o=e+1;for(;o<n&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue;if(t.sCount[o]>=t.blkIndent){let _=t.bMarks[o]+t.tShift[o];const x=t.eMarks[o];if(_<x&&(a=t.src.charCodeAt(_),(a===45||a===61)&&(_=t.skipChars(_,a),_=t.skipSpaces(_),_>=x))){s=a===61?1:2;break}}if(t.sCount[o]<0)continue;let y=!1;for(let _=0,x=i.length;_<x;_++)if(i[_](t,o,n,!0)){y=!0;break}if(y)break}if(!s)return!1;const l=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o+1;const f=t.push("heading_open","h"+String(s),1);f.markup=String.fromCharCode(a),f.map=[e,t.line];const p=t.push("inline","",0);p.content=l,p.map=[e,t.line-1],p.children=[];const g=t.push("heading_close","h"+String(s),-1);return g.markup=String.fromCharCode(a),t.parentType=r,!0}function $se(t,e,n){const i=t.md.block.ruler.getRules("paragraph"),r=t.parentType;let s=e+1;for(t.parentType="paragraph";s<n&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3||t.sCount[s]<0)continue;let f=!1;for(let p=0,g=i.length;p<g;p++)if(i[p](t,s,n,!0)){f=!0;break}if(f)break}const a=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s;const o=t.push("paragraph_open","p",1);o.map=[e,t.line];const l=t.push("inline","",0);return l.content=a,l.map=[e,t.line],l.children=[],t.push("paragraph_close","p",-1),t.parentType=r,!0}const _E=[["table",Ese,["paragraph","reference"]],["code",wse],["fence",Tse,["paragraph","reference","blockquote","list"]],["blockquote",Mse,["paragraph","reference","blockquote","list"]],["hr",Cse,["paragraph","reference","blockquote","list"]],["list",Dse,["paragraph","reference","blockquote"]],["reference",Rse],["html_block",Wse,["paragraph","reference","blockquote"]],["heading",jse,["paragraph","reference","blockquote"]],["lheading",qse],["paragraph",$se]];function _C(){this.ruler=new Fo;for(let t=0;t<_E.length;t++)this.ruler.push(_E[t][0],_E[t][1],{alt:(_E[t][2]||[]).slice()})}_C.prototype.tokenize=function(t,e,n){const i=this.ruler.getRules(""),r=i.length,s=t.md.options.maxNesting;let a=e,o=!1;for(;a<n&&(t.line=a=t.skipEmptyLines(a),!(a>=n||t.sCount[a]<t.blkIndent));){if(t.level>=s){t.line=n;break}const l=t.line;let f=!1;for(let p=0;p<r;p++)if(f=i[p](t,a,n,!1),f){if(l>=t.line)throw new Error("block rule didn't increment state.line");break}if(!f)throw new Error("none of the block rules matched");t.tight=!o,t.isEmpty(t.line-1)&&(o=!0),a=t.line,a<n&&t.isEmpty(a)&&(o=!0,a++,t.line=a)}};_C.prototype.parse=function(t,e,n,i){if(!t)return;const r=new this.State(t,e,n,i);this.tokenize(r,r.line,r.lineMax)};_C.prototype.State=Fc;function Qx(t,e,n,i){this.src=t,this.env=n,this.md=e,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Qx.prototype.pushPending=function(){const t=new Ll("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};Qx.prototype.push=function(t,e,n){this.pending&&this.pushPending();const i=new Ll(t,e,n);let r=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(r),i};Qx.prototype.scanDelims=function(t,e){const n=this.posMax,i=this.src.charCodeAt(t),r=t>0?this.src.charCodeAt(t-1):32;let s=t;for(;s<n&&this.src.charCodeAt(s)===i;)s++;const a=s-t,o=s<n?this.src.charCodeAt(s):32,l=Jb(r)||Qb(String.fromCharCode(r)),f=Jb(o)||Qb(String.fromCharCode(o)),p=Kb(r),g=Kb(o),y=!g&&(!f||p||l),_=!p&&(!l||g||f);return{can_open:y&&(e||!_||l),can_close:_&&(e||!y||f),length:a}};Qx.prototype.Token=Ll;function Xse(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function Yse(t,e){let n=t.pos;for(;n<t.posMax&&!Xse(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const Zse=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Kse(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,i=t.posMax;if(n+3>i||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const r=t.pending.match(Zse);if(!r)return!1;const s=r[1],a=t.md.linkify.matchAtStart(t.src.slice(n-s.length));if(!a)return!1;let o=a.url;if(o.length<=s.length)return!1;o=o.replace(/\*+$/,"");const l=t.md.normalizeLink(o);if(!t.md.validateLink(l))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const f=t.push("link_open","a",1);f.attrs=[["href",l]],f.markup="linkify",f.info="auto";const p=t.push("text","",0);p.content=t.md.normalizeLinkText(o);const g=t.push("link_close","a",-1);g.markup="linkify",g.info="auto"}return t.pos+=o.length-s.length,!0}function Qse(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const i=t.pending.length-1,r=t.posMax;if(!e)if(i>=0&&t.pending.charCodeAt(i)===32)if(i>=1&&t.pending.charCodeAt(i-1)===32){let s=i-1;for(;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<r&&rr(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const SO=[];for(let t=0;t<256;t++)SO.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){SO[t.charCodeAt(0)]=1});function Jse(t,e){let n=t.pos;const i=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=i))return!1;let r=t.src.charCodeAt(n);if(r===10){for(e||t.push("hardbreak","br",0),n++;n<i&&(r=t.src.charCodeAt(n),!!rr(r));)n++;return t.pos=n,!0}let s=t.src[n];if(r>=55296&&r<=56319&&n+1<i){const o=t.src.charCodeAt(n+1);o>=56320&&o<=57343&&(s+=t.src[n+1],n++)}const a="\\"+s;if(!e){const o=t.push("text_special","",0);r<256&&SO[r]!==0?o.content=s:o.content=a,o.markup=a,o.info="escape"}return t.pos=n+1,!0}function eae(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const r=n;n++;const s=t.posMax;for(;n<s&&t.src.charCodeAt(n)===96;)n++;const a=t.src.slice(r,n),o=a.length;if(t.backticksScanned&&(t.backticks[o]||0)<=r)return e||(t.pending+=a),t.pos+=o,!0;let l=n,f;for(;(f=t.src.indexOf("`",l))!==-1;){for(l=f+1;l<s&&t.src.charCodeAt(l)===96;)l++;const p=l-f;if(p===o){if(!e){const g=t.push("code_inline","code",0);g.markup=a,g.content=t.src.slice(n,f).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[p]=f}return t.backticksScanned=!0,e||(t.pending+=a),t.pos+=o,!0}function tae(t,e){const n=t.pos,i=t.src.charCodeAt(n);if(e||i!==126)return!1;const r=t.scanDelims(t.pos,!0);let s=r.length;const a=String.fromCharCode(i);if(s<2)return!1;let o;s%2&&(o=t.push("text","",0),o.content=a,s--);for(let l=0;l<s;l+=2)o=t.push("text","",0),o.content=a+a,t.delimiters.push({marker:i,length:0,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0}function lL(t,e){let n;const i=[],r=e.length;for(let s=0;s<r;s++){const a=e[s];if(a.marker!==126||a.end===-1)continue;const o=e[a.end];n=t.tokens[a.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[o.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[o.token-1].type==="text"&&t.tokens[o.token-1].content==="~"&&i.push(o.token-1)}for(;i.length;){const s=i.pop();let a=s+1;for(;a<t.tokens.length&&t.tokens[a].type==="s_close";)a++;a--,s!==a&&(n=t.tokens[a],t.tokens[a]=t.tokens[s],t.tokens[s]=n)}}function nae(t){const e=t.tokens_meta,n=t.tokens_meta.length;lL(t,t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&lL(t,e[i].delimiters)}const Dz={tokenize:tae,postProcess:nae};function iae(t,e){const n=t.pos,i=t.src.charCodeAt(n);if(e||i!==95&&i!==42)return!1;const r=t.scanDelims(t.pos,i===42);for(let s=0;s<r.length;s++){const a=t.push("text","",0);a.content=String.fromCharCode(i),t.delimiters.push({marker:i,length:r.length,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close})}return t.pos+=r.length,!0}function cL(t,e){const n=e.length;for(let i=n-1;i>=0;i--){const r=e[i];if(r.marker!==95&&r.marker!==42||r.end===-1)continue;const s=e[r.end],a=i>0&&e[i-1].end===r.end+1&&e[i-1].marker===r.marker&&e[i-1].token===r.token-1&&e[r.end+1].token===s.token+1,o=String.fromCharCode(r.marker),l=t.tokens[r.token];l.type=a?"strong_open":"em_open",l.tag=a?"strong":"em",l.nesting=1,l.markup=a?o+o:o,l.content="";const f=t.tokens[s.token];f.type=a?"strong_close":"em_close",f.tag=a?"strong":"em",f.nesting=-1,f.markup=a?o+o:o,f.content="",a&&(t.tokens[e[i-1].token].content="",t.tokens[e[r.end+1].token].content="",i--)}}function rae(t){const e=t.tokens_meta,n=t.tokens_meta.length;cL(t,t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&cL(t,e[i].delimiters)}const Rz={tokenize:iae,postProcess:rae};function sae(t,e){let n,i,r,s,a="",o="",l=t.pos,f=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const p=t.pos,g=t.posMax,y=t.pos+1,_=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(_<0)return!1;let x=_+1;if(x<g&&t.src.charCodeAt(x)===40){for(f=!1,x++;x<g&&(n=t.src.charCodeAt(x),!(!rr(n)&&n!==10));x++);if(x>=g)return!1;if(l=x,r=t.md.helpers.parseLinkDestination(t.src,x,t.posMax),r.ok){for(a=t.md.normalizeLink(r.str),t.md.validateLink(a)?x=r.pos:a="",l=x;x<g&&(n=t.src.charCodeAt(x),!(!rr(n)&&n!==10));x++);if(r=t.md.helpers.parseLinkTitle(t.src,x,t.posMax),x<g&&l!==x&&r.ok)for(o=r.str,x=r.pos;x<g&&(n=t.src.charCodeAt(x),!(!rr(n)&&n!==10));x++);}(x>=g||t.src.charCodeAt(x)!==41)&&(f=!0),x++}if(f){if(typeof t.env.references>"u")return!1;if(x<g&&t.src.charCodeAt(x)===91?(l=x+1,x=t.md.helpers.parseLinkLabel(t,x),x>=0?i=t.src.slice(l,x++):x=_+1):x=_+1,i||(i=t.src.slice(y,_)),s=t.env.references[gC(i)],!s)return t.pos=p,!1;a=s.href,o=s.title}if(!e){t.pos=y,t.posMax=_;const S=t.push("link_open","a",1),E=[["href",a]];S.attrs=E,o&&E.push(["title",o]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=x,t.posMax=g,!0}function aae(t,e){let n,i,r,s,a,o,l,f,p="";const g=t.pos,y=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const _=t.pos+2,x=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(x<0)return!1;if(s=x+1,s<y&&t.src.charCodeAt(s)===40){for(s++;s<y&&(n=t.src.charCodeAt(s),!(!rr(n)&&n!==10));s++);if(s>=y)return!1;for(f=s,o=t.md.helpers.parseLinkDestination(t.src,s,t.posMax),o.ok&&(p=t.md.normalizeLink(o.str),t.md.validateLink(p)?s=o.pos:p=""),f=s;s<y&&(n=t.src.charCodeAt(s),!(!rr(n)&&n!==10));s++);if(o=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<y&&f!==s&&o.ok)for(l=o.str,s=o.pos;s<y&&(n=t.src.charCodeAt(s),!(!rr(n)&&n!==10));s++);else l="";if(s>=y||t.src.charCodeAt(s)!==41)return t.pos=g,!1;s++}else{if(typeof t.env.references>"u")return!1;if(s<y&&t.src.charCodeAt(s)===91?(f=s+1,s=t.md.helpers.parseLinkLabel(t,s),s>=0?r=t.src.slice(f,s++):s=x+1):s=x+1,r||(r=t.src.slice(_,x)),a=t.env.references[gC(r)],!a)return t.pos=g,!1;p=a.href,l=a.title}if(!e){i=t.src.slice(_,x);const S=[];t.md.inline.parse(i,t.md,t.env,S);const E=t.push("image","img",0),w=[["src",p],["alt",""]];E.attrs=w,E.children=S,E.content=i,l&&w.push(["title",l])}return t.pos=s,t.posMax=y,!0}const oae=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,uae=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function lae(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const i=t.pos,r=t.posMax;for(;;){if(++n>=r)return!1;const a=t.src.charCodeAt(n);if(a===60)return!1;if(a===62)break}const s=t.src.slice(i+1,n);if(uae.test(s)){const a=t.md.normalizeLink(s);if(!t.md.validateLink(a))return!1;if(!e){const o=t.push("link_open","a",1);o.attrs=[["href",a]],o.markup="autolink",o.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(s);const f=t.push("link_close","a",-1);f.markup="autolink",f.info="auto"}return t.pos+=s.length+2,!0}if(oae.test(s)){const a=t.md.normalizeLink("mailto:"+s);if(!t.md.validateLink(a))return!1;if(!e){const o=t.push("link_open","a",1);o.attrs=[["href",a]],o.markup="autolink",o.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(s);const f=t.push("link_close","a",-1);f.markup="autolink",f.info="auto"}return t.pos+=s.length+2,!0}return!1}function cae(t){return/^<a[>\s]/i.test(t)}function fae(t){return/^<\/a\s*>/i.test(t)}function dae(t){const e=t|32;return e>=97&&e<=122}function hae(t,e){if(!t.md.options.html)return!1;const n=t.posMax,i=t.pos;if(t.src.charCodeAt(i)!==60||i+2>=n)return!1;const r=t.src.charCodeAt(i+1);if(r!==33&&r!==63&&r!==47&&!dae(r))return!1;const s=t.src.slice(i).match(Vse);if(!s)return!1;if(!e){const a=t.push("html_inline","",0);a.content=s[0],cae(a.content)&&t.linkLevel++,fae(a.content)&&t.linkLevel--}return t.pos+=s[0].length,!0}const pae=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,mae=/^&([a-z][a-z0-9]{1,31});/i;function gae(t,e){const n=t.pos,i=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=i)return!1;if(t.src.charCodeAt(n+1)===35){const s=t.src.slice(n).match(pae);if(s){if(!e){const a=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),o=t.push("text_special","",0);o.content=bO(a)?DT(a):DT(65533),o.markup=s[0],o.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(mae);if(s){const a=Sz(s[0]);if(a!==s[0]){if(!e){const o=t.push("text_special","",0);o.content=a,o.markup=s[0],o.info="entity"}return t.pos+=s[0].length,!0}}}return!1}function fL(t){const e={},n=t.length;if(!n)return;let i=0,r=-2;const s=[];for(let a=0;a<n;a++){const o=t[a];if(s.push(0),(t[i].marker!==o.marker||r!==o.token-1)&&(i=a),r=o.token,o.length=o.length||0,!o.close)continue;e.hasOwnProperty(o.marker)||(e[o.marker]=[-1,-1,-1,-1,-1,-1]);const l=e[o.marker][(o.open?3:0)+o.length%3];let f=i-s[i]-1,p=f;for(;f>l;f-=s[f]+1){const g=t[f];if(g.marker===o.marker&&g.open&&g.end<0){let y=!1;if((g.close||o.open)&&(g.length+o.length)%3===0&&(g.length%3!==0||o.length%3!==0)&&(y=!0),!y){const _=f>0&&!t[f-1].open?s[f-1]+1:0;s[a]=a-f+_,s[f]=_,o.open=!1,g.end=a,g.close=!1,p=-1,r=-2;break}}}p!==-1&&(e[o.marker][(o.open?3:0)+(o.length||0)%3]=p)}}function _ae(t){const e=t.tokens_meta,n=t.tokens_meta.length;fL(t.delimiters);for(let i=0;i<n;i++)e[i]&&e[i].delimiters&&fL(e[i].delimiters)}function yae(t){let e,n,i=0;const r=t.tokens,s=t.tokens.length;for(e=n=0;e<s;e++)r[e].nesting<0&&i--,r[e].level=i,r[e].nesting>0&&i++,r[e].type==="text"&&e+1<s&&r[e+1].type==="text"?r[e+1].content=r[e].content+r[e+1].content:(e!==n&&(r[n]=r[e]),n++);e!==n&&(r.length=n)}const O3=[["text",Yse],["linkify",Kse],["newline",Qse],["escape",Jse],["backticks",eae],["strikethrough",Dz.tokenize],["emphasis",Rz.tokenize],["link",sae],["image",aae],["autolink",lae],["html_inline",hae],["entity",gae]],k3=[["balance_pairs",_ae],["strikethrough",Dz.postProcess],["emphasis",Rz.postProcess],["fragments_join",yae]];function Jx(){this.ruler=new Fo;for(let t=0;t<O3.length;t++)this.ruler.push(O3[t][0],O3[t][1]);this.ruler2=new Fo;for(let t=0;t<k3.length;t++)this.ruler2.push(k3[t][0],k3[t][1])}Jx.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),i=n.length,r=t.md.options.maxNesting,s=t.cache;if(typeof s[e]<"u"){t.pos=s[e];return}let a=!1;if(t.level<r){for(let o=0;o<i;o++)if(t.level++,a=n[o](t,!0),t.level--,a){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;a||t.pos++,s[e]=t.pos};Jx.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,i=t.posMax,r=t.md.options.maxNesting;for(;t.pos<i;){const s=t.pos;let a=!1;if(t.level<r){for(let o=0;o<n;o++)if(a=e[o](t,!1),a){if(s>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(a){if(t.pos>=i)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};Jx.prototype.parse=function(t,e,n,i){const r=new this.State(t,e,n,i);this.tokenize(r);const s=this.ruler2.getRules(""),a=s.length;for(let o=0;o<a;o++)s[o](r)};Jx.prototype.State=Qx;function vae(t){const e={};t=t||{},e.src_Any=_z.source,e.src_Cc=yz.source,e.src_Z=bz.source,e.src_P=yO.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function ZR(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(i){t[i]=n[i]})}),t}function yC(t){return Object.prototype.toString.call(t)}function bae(t){return yC(t)==="[object String]"}function xae(t){return yC(t)==="[object Object]"}function Sae(t){return yC(t)==="[object RegExp]"}function dL(t){return yC(t)==="[object Function]"}function Eae(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Iz={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function wae(t){return Object.keys(t||{}).reduce(function(e,n){return e||Iz.hasOwnProperty(n)},!1)}const Tae={"http:":{validate:function(t,e,n){const i=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const i=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const i=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},Mae="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Cae="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function Aae(t){t.__index__=-1,t.__text_cache__=""}function Dae(t){return function(e,n){const i=e.slice(n);return t.test(i)?i.match(t)[0].length:0}}function hL(){return function(t,e){e.normalize(t)}}function RT(t){const e=t.re=vae(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(Mae),n.push(e.src_xn),e.src_tlds=n.join("|");function i(o){return o.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(i(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(i(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(i(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(i(e.tpl_host_fuzzy_test),"i");const r=[];t.__compiled__={};function s(o,l){throw new Error('(LinkifyIt) Invalid schema "'+o+'": '+l)}Object.keys(t.__schemas__).forEach(function(o){const l=t.__schemas__[o];if(l===null)return;const f={validate:null,link:null};if(t.__compiled__[o]=f,xae(l)){Sae(l.validate)?f.validate=Dae(l.validate):dL(l.validate)?f.validate=l.validate:s(o,l),dL(l.normalize)?f.normalize=l.normalize:l.normalize?s(o,l):f.normalize=hL();return}if(bae(l)){r.push(o);return}s(o,l)}),r.forEach(function(o){t.__compiled__[t.__schemas__[o]]&&(t.__compiled__[o].validate=t.__compiled__[t.__schemas__[o]].validate,t.__compiled__[o].normalize=t.__compiled__[t.__schemas__[o]].normalize)}),t.__compiled__[""]={validate:null,normalize:hL()};const a=Object.keys(t.__compiled__).filter(function(o){return o.length>0&&t.__compiled__[o]}).map(Eae).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),Aae(t)}function Rae(t,e){const n=t.__index__,i=t.__last_index__,r=t.__text_cache__.slice(n,i);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=i+e,this.raw=r,this.text=r,this.url=r}function KR(t,e){const n=new Rae(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function fu(t,e){if(!(this instanceof fu))return new fu(t,e);e||wae(t)&&(e=t,t={}),this.__opts__=ZR({},Iz,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=ZR({},Tae,t),this.__compiled__={},this.__tlds__=Cae,this.__tlds_replaced__=!1,this.re={},RT(this)}fu.prototype.add=function(e,n){return this.__schemas__[e]=n,RT(this),this};fu.prototype.set=function(e){return this.__opts__=ZR(this.__opts__,e),this};fu.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,i,r,s,a,o,l,f,p;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],l.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(f=e.search(this.re.host_fuzzy_test),f>=0&&(this.__index__<0||f<this.__index__)&&(i=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=i.index+i[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(p=e.indexOf("@"),p>=0&&(r=e.match(this.re.email_fuzzy))!==null&&(a=r.index+r[1].length,o=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=o))),this.__index__>=0};fu.prototype.pretest=function(e){return this.re.pretest.test(e)};fu.prototype.testSchemaAt=function(e,n,i){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,i,this):0};fu.prototype.match=function(e){const n=[];let i=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(KR(this,i)),i=this.__last_index__);let r=i?e.slice(i):e;for(;this.test(r);)n.push(KR(this,i)),r=r.slice(this.__last_index__),i+=this.__last_index__;return n.length?n:null};fu.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const i=this.testSchemaAt(e,n[2],n[0].length);return i?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i,KR(this,0)):null};fu.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(i,r,s){return i!==s[r-1]}).reverse(),RT(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,RT(this),this)};fu.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};fu.prototype.onCompile=function(){};const Qg=2147483647,Sc=36,EO=1,ex=26,Iae=38,Nae=700,Nz=72,Oz=128,kz="-",Oae=/^xn--/,kae=/[^\0-\x7F]/,Pae=/[\x2E\u3002\uFF0E\uFF61]/g,Lae={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P3=Sc-EO,Ec=Math.floor,L3=String.fromCharCode;function Jd(t){throw new RangeError(Lae[t])}function Fae(t,e){const n=[];let i=t.length;for(;i--;)n[i]=e(t[i]);return n}function Pz(t,e){const n=t.split("@");let i="";n.length>1&&(i=n[0]+"@",t=n[1]),t=t.replace(Pae,".");const r=t.split("."),s=Fae(r,e).join(".");return i+s}function Lz(t){const e=[];let n=0;const i=t.length;for(;n<i;){const r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),n--)}else e.push(r)}return e}const Uae=t=>String.fromCodePoint(...t),Bae=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:Sc},pL=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Fz=function(t,e,n){let i=0;for(t=n?Ec(t/Nae):t>>1,t+=Ec(t/e);t>P3*ex>>1;i+=Sc)t=Ec(t/P3);return Ec(i+(P3+1)*t/(t+Iae))},Uz=function(t){const e=[],n=t.length;let i=0,r=Oz,s=Nz,a=t.lastIndexOf(kz);a<0&&(a=0);for(let o=0;o<a;++o)t.charCodeAt(o)>=128&&Jd("not-basic"),e.push(t.charCodeAt(o));for(let o=a>0?a+1:0;o<n;){const l=i;for(let p=1,g=Sc;;g+=Sc){o>=n&&Jd("invalid-input");const y=Bae(t.charCodeAt(o++));y>=Sc&&Jd("invalid-input"),y>Ec((Qg-i)/p)&&Jd("overflow"),i+=y*p;const _=g<=s?EO:g>=s+ex?ex:g-s;if(y<_)break;const x=Sc-_;p>Ec(Qg/x)&&Jd("overflow"),p*=x}const f=e.length+1;s=Fz(i-l,f,l==0),Ec(i/f)>Qg-r&&Jd("overflow"),r+=Ec(i/f),i%=f,e.splice(i++,0,r)}return String.fromCodePoint(...e)},Bz=function(t){const e=[];t=Lz(t);const n=t.length;let i=Oz,r=0,s=Nz;for(const l of t)l<128&&e.push(L3(l));const a=e.length;let o=a;for(a&&e.push(kz);o<n;){let l=Qg;for(const p of t)p>=i&&p<l&&(l=p);const f=o+1;l-i>Ec((Qg-r)/f)&&Jd("overflow"),r+=(l-i)*f,i=l;for(const p of t)if(p<i&&++r>Qg&&Jd("overflow"),p===i){let g=r;for(let y=Sc;;y+=Sc){const _=y<=s?EO:y>=s+ex?ex:y-s;if(g<_)break;const x=g-_,S=Sc-_;e.push(L3(pL(_+x%S,0))),g=Ec(x/S)}e.push(L3(pL(g,0))),s=Fz(r,f,o===a),r=0,++o}++r,++i}return e.join("")},zae=function(t){return Pz(t,function(e){return Oae.test(e)?Uz(e.slice(4).toLowerCase()):e})},Hae=function(t){return Pz(t,function(e){return kae.test(e)?"xn--"+Bz(e):e})},zz={version:"2.3.1",ucs2:{decode:Lz,encode:Uae},decode:Uz,encode:Bz,toASCII:Hae,toUnicode:zae},Vae={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Gae={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Wae={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},jae={default:Vae,zero:Gae,commonmark:Wae},qae=/^(vbscript|javascript|file|data):/,$ae=/^data:image\/(gif|png|jpeg|webp);/;function Xae(t){const e=t.trim().toLowerCase();return qae.test(e)?$ae.test(e):!0}const Hz=["http:","https:","mailto:"];function Yae(t){const e=_O(t,!0);if(e.hostname&&(!e.protocol||Hz.indexOf(e.protocol)>=0))try{e.hostname=zz.toASCII(e.hostname)}catch{}return Kx(gO(e))}function Zae(t){const e=_O(t,!0);if(e.hostname&&(!e.protocol||Hz.indexOf(e.protocol)>=0))try{e.hostname=zz.toUnicode(e.hostname)}catch{}return y_(gO(e),y_.defaultChars+"%")}function Qu(t,e){if(!(this instanceof Qu))return new Qu(t,e);e||vO(t)||(e=t||{},t="default"),this.inline=new Jx,this.block=new _C,this.core=new xO,this.renderer=new K_,this.linkify=new fu,this.validateLink=Xae,this.normalizeLink=Yae,this.normalizeLinkText=Zae,this.utils=Qre,this.helpers=mC({},nse),this.options={},this.configure(t),e&&this.set(e)}Qu.prototype.set=function(t){return mC(this.options,t),this};Qu.prototype.configure=function(t){const e=this;if(vO(t)){const n=t;if(t=jae[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};Qu.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const i=t.filter(function(r){return n.indexOf(r)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this};Qu.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const i=t.filter(function(r){return n.indexOf(r)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this};Qu.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};Qu.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};Qu.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};Qu.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};Qu.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};var mL=!1,b_={false:"push",true:"unshift",after:"push",before:"unshift"},IT={isPermalinkSymbol:!0};function QR(t,e,n,i){var r;if(!mL){var s="Using deprecated markdown-it-anchor permalink option, see https://github.com/valeriangalliat/markdown-it-anchor#permalinks";typeof process=="object"&&process&&process.emitWarning?process.emitWarning(s):console.warn(s),mL=!0}var a=[Object.assign(new n.Token("link_open","a",1),{attrs:[].concat(e.permalinkClass?[["class",e.permalinkClass]]:[],[["href",e.permalinkHref(t,n)]],Object.entries(e.permalinkAttrs(t,n)))}),Object.assign(new n.Token("html_block","",0),{content:e.permalinkSymbol,meta:IT}),new n.Token("link_close","a",-1)];e.permalinkSpace&&n.tokens[i+1].children[b_[e.permalinkBefore]](Object.assign(new n.Token("text","",0),{content:" "})),(r=n.tokens[i+1].children)[b_[e.permalinkBefore]].apply(r,a)}function Vz(t){return"#"+t}function Gz(t){return{}}var Kae={class:"header-anchor",symbol:"#",renderHref:Vz,renderAttrs:Gz};function e1(t){function e(n){return n=Object.assign({},e.defaults,n),function(i,r,s,a){return t(i,n,r,s,a)}}return e.defaults=Object.assign({},Kae),e.renderPermalinkImpl=t,e}function wO(t){var e=[],n=t.filter(function(i){if(i[0]!=="class")return!0;e.push(i[1])});return e.length>0&&n.unshift(["class",e.join(" ")]),n}var vC=e1(function(t,e,n,i,r){var s,a=[Object.assign(new i.Token("link_open","a",1),{attrs:wO([].concat(e.class?[["class",e.class]]:[],[["href",e.renderHref(t,i)]],e.ariaHidden?[["aria-hidden","true"]]:[],Object.entries(e.renderAttrs(t,i))))}),Object.assign(new i.Token("html_inline","",0),{content:e.symbol,meta:IT}),new i.Token("link_close","a",-1)];if(e.space){var o=typeof e.space=="string"?e.space:" ";i.tokens[r+1].children[b_[e.placement]](Object.assign(new i.Token(typeof e.space=="string"?"html_inline":"text","",0),{content:o}))}(s=i.tokens[r+1].children)[b_[e.placement]].apply(s,a)});Object.assign(vC.defaults,{space:!0,placement:"after",ariaHidden:!1});var Kp=e1(vC.renderPermalinkImpl);Kp.defaults=Object.assign({},vC.defaults,{ariaHidden:!0});var Wz=e1(function(t,e,n,i,r){var s=[Object.assign(new i.Token("link_open","a",1),{attrs:wO([].concat(e.class?[["class",e.class]]:[],[["href",e.renderHref(t,i)]],Object.entries(e.renderAttrs(t,i))))})].concat(e.safariReaderFix?[new i.Token("span_open","span",1)]:[],i.tokens[r+1].children,e.safariReaderFix?[new i.Token("span_close","span",-1)]:[],[new i.Token("link_close","a",-1)]);i.tokens[r+1]=Object.assign(new i.Token("inline","",0),{children:s})});Object.assign(Wz.defaults,{safariReaderFix:!1});var gL=e1(function(t,e,n,i,r){var s;if(!["visually-hidden","aria-label","aria-describedby","aria-labelledby"].includes(e.style))throw new Error("`permalink.linkAfterHeader` called with unknown style option `"+e.style+"`");if(!["aria-describedby","aria-labelledby"].includes(e.style)&&!e.assistiveText)throw new Error("`permalink.linkAfterHeader` called without the `assistiveText` option in `"+e.style+"` style");if(e.style==="visually-hidden"&&!e.visuallyHiddenClass)throw new Error("`permalink.linkAfterHeader` called without the `visuallyHiddenClass` option in `visually-hidden` style");var a=i.tokens[r+1].children.filter(function(g){return g.type==="text"||g.type==="code_inline"}).reduce(function(g,y){return g+y.content},""),o=[],l=[];if(e.class&&l.push(["class",e.class]),l.push(["href",e.renderHref(t,i)]),l.push.apply(l,Object.entries(e.renderAttrs(t,i))),e.style==="visually-hidden"){if(o.push(Object.assign(new i.Token("span_open","span",1),{attrs:[["class",e.visuallyHiddenClass]]}),Object.assign(new i.Token("text","",0),{content:e.assistiveText(a)}),new i.Token("span_close","span",-1)),e.space){var f=typeof e.space=="string"?e.space:" ";o[b_[e.placement]](Object.assign(new i.Token(typeof e.space=="string"?"html_inline":"text","",0),{content:f}))}o[b_[e.placement]](Object.assign(new i.Token("span_open","span",1),{attrs:[["aria-hidden","true"]]}),Object.assign(new i.Token("html_inline","",0),{content:e.symbol,meta:IT}),new i.Token("span_close","span",-1))}else o.push(Object.assign(new i.Token("html_inline","",0),{content:e.symbol,meta:IT}));e.style==="aria-label"?l.push(["aria-label",e.assistiveText(a)]):["aria-describedby","aria-labelledby"].includes(e.style)&&l.push([e.style,t]);var p=[Object.assign(new i.Token("link_open","a",1),{attrs:wO(l)})].concat(o,[new i.Token("link_close","a",-1)]);(s=i.tokens).splice.apply(s,[r+3,0].concat(p)),e.wrapper&&(i.tokens.splice(r,0,Object.assign(new i.Token("html_block","",0),{content:e.wrapper[0]+`
`})),i.tokens.splice(r+3+p.length+1,0,Object.assign(new i.Token("html_block","",0),{content:e.wrapper[1]+`
`})))});function _L(t,e,n,i){var r=t,s=i;if(n&&Object.prototype.hasOwnProperty.call(e,r))throw new Error("User defined `id` attribute `"+t+"` is not unique. Please fix it in your Markdown to continue.");for(;Object.prototype.hasOwnProperty.call(e,r);)r=t+"-"+s,s+=1;return e[r]=!0,r}function Wg(t,e){e=Object.assign({},Wg.defaults,e),t.core.ruler.push("anchor",function(n){for(var i,r={},s=n.tokens,a=Array.isArray(e.level)?(i=e.level,function(g){return i.includes(g)}):(function(g){return function(y){return y>=g}})(e.level),o=0;o<s.length;o++){var l=s[o];if(l.type==="heading_open"&&a(Number(l.tag.substr(1)))){var f=e.getTokensText(s[o+1].children),p=l.attrGet("id");p=p==null?_L(p=e.slugifyWithState?e.slugifyWithState(f,n):e.slugify(f),r,!1,e.uniqueSlugStartIndex):_L(p,r,!0,e.uniqueSlugStartIndex),l.attrSet("id",p),e.tabIndex!==!1&&l.attrSet("tabindex",""+e.tabIndex),typeof e.permalink=="function"?e.permalink(p,e,n,o):(e.permalink||e.renderPermalink&&e.renderPermalink!==QR)&&e.renderPermalink(p,e,n,o),o=s.indexOf(l),e.callback&&e.callback(l,{slug:p,title:f})}}})}Object.assign(gL.defaults,{style:"visually-hidden",space:!0,placement:"after",wrapper:null}),Wg.permalink={__proto__:null,legacy:QR,renderHref:Vz,renderAttrs:Gz,makePermalink:e1,linkInsideHeader:vC,ariaHidden:Kp,headerLink:Wz,linkAfterHeader:gL},Wg.defaults={level:1,slugify:function(t){return encodeURIComponent(String(t).trim().toLowerCase().replace(/\s+/g,"-"))},uniqueSlugStartIndex:1,tabIndex:"-1",getTokensText:function(t){return t.filter(function(e){return["text","code_inline"].includes(e.type)}).map(function(e){return e.content}).join("")},permalink:!1,renderPermalink:QR,permalinkClass:Kp.defaults.class,permalinkSpace:Kp.defaults.space,permalinkSymbol:"",permalinkBefore:Kp.defaults.placement==="before",permalinkHref:Kp.defaults.renderHref,permalinkAttrs:Kp.defaults.renderAttrs},Wg.default=Wg;const{entries:jz,setPrototypeOf:yL,isFrozen:Qae,getPrototypeOf:Jae,getOwnPropertyDescriptor:eoe}=Object;let{freeze:Qa,seal:Ju,create:JR}=Object,{apply:eI,construct:tI}=typeof Reflect<"u"&&Reflect;Qa||(Qa=function(e){return e});Ju||(Ju=function(e){return e});eI||(eI=function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];return e.apply(n,r)});tI||(tI=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return new e(...i)});const yE=Ja(Array.prototype.forEach),toe=Ja(Array.prototype.lastIndexOf),vL=Ja(Array.prototype.pop),Pv=Ja(Array.prototype.push),noe=Ja(Array.prototype.splice),Ww=Ja(String.prototype.toLowerCase),F3=Ja(String.prototype.toString),U3=Ja(String.prototype.match),Lv=Ja(String.prototype.replace),ioe=Ja(String.prototype.indexOf),roe=Ja(String.prototype.trim),Cl=Ja(Object.prototype.hasOwnProperty),La=Ja(RegExp.prototype.test),Fv=soe(TypeError);function Ja(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return eI(t,e,i)}}function soe(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return tI(t,n)}}function ii(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ww;yL&&yL(t,null);let i=e.length;for(;i--;){let r=e[i];if(typeof r=="string"){const s=n(r);s!==r&&(Qae(e)||(e[i]=s),r=s)}t[r]=!0}return t}function aoe(t){for(let e=0;e<t.length;e++)Cl(t,e)||(t[e]=null);return t}function mc(t){const e=JR(null);for(const[n,i]of jz(t))Cl(t,n)&&(Array.isArray(i)?e[n]=aoe(i):i&&typeof i=="object"&&i.constructor===Object?e[n]=mc(i):e[n]=i);return e}function Uv(t,e){for(;t!==null;){const i=eoe(t,e);if(i){if(i.get)return Ja(i.get);if(typeof i.value=="function")return Ja(i.value)}t=Jae(t)}function n(){return null}return n}const bL=Qa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),B3=Qa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),z3=Qa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ooe=Qa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),H3=Qa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uoe=Qa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),xL=Qa(["#text"]),SL=Qa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),V3=Qa(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),EL=Qa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),vE=Qa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),loe=Ju(/\{\{[\w\W]*|[\w\W]*\}\}/gm),coe=Ju(/<%[\w\W]*|[\w\W]*%>/gm),foe=Ju(/\$\{[\w\W]*/gm),doe=Ju(/^data-[\-\w.\u00B7-\uFFFF]+$/),hoe=Ju(/^aria-[\-\w]+$/),qz=Ju(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),poe=Ju(/^(?:\w+script|data):/i),moe=Ju(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$z=Ju(/^html$/i),goe=Ju(/^[a-z][.\w]*(-[.\w]+)+$/i);var wL=Object.freeze({__proto__:null,ARIA_ATTR:hoe,ATTR_WHITESPACE:moe,CUSTOM_ELEMENT:goe,DATA_ATTR:doe,DOCTYPE_NAME:$z,ERB_EXPR:coe,IS_ALLOWED_URI:qz,IS_SCRIPT_OR_DATA:poe,MUSTACHE_EXPR:loe,TMPLIT_EXPR:foe});const Bv={element:1,text:3,progressingInstruction:7,comment:8,document:9},_oe=function(){return typeof window>"u"?null:window},yoe=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(i=n.getAttribute(r));const s="dompurify"+(i?"#"+i:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},TL=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Xz(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_oe();const e=Tt=>Xz(Tt);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==Bv.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const i=n,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:f,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:g,DOMParser:y,trustedTypes:_}=t,x=l.prototype,S=Uv(x,"cloneNode"),E=Uv(x,"remove"),w=Uv(x,"nextSibling"),C=Uv(x,"childNodes"),A=Uv(x,"parentNode");if(typeof a=="function"){const Tt=n.createElement("template");Tt.content&&Tt.content.ownerDocument&&(n=Tt.content.ownerDocument)}let R,N="";const{implementation:O,createNodeIterator:P,createDocumentFragment:z,getElementsByTagName:k}=n,{importNode:F}=i;let G=TL();e.isSupported=typeof jz=="function"&&typeof A=="function"&&O&&O.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:$,ERB_EXPR:ee,TMPLIT_EXPR:ne,DATA_ATTR:re,ARIA_ATTR:W,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:te,CUSTOM_ELEMENT:se}=wL;let{IS_ALLOWED_URI:Z}=wL,j=null;const ue=ii({},[...bL,...B3,...z3,...H3,...xL]);let ge=null;const Se=ii({},[...SL,...V3,...EL,...vE]);let Fe=Object.seal(JR(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,fe=null;const He=Object.seal(JR(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Xe=!0,Ye=!0,bt=!1,Ct=!0,at=!1,Ae=!0,Ve=!1,Ue=!1,de=!1,ie=!1,It=!1,$e=!1,dt=!0,Be=!1;const Q="user-content-";let H=!0,pe=!1,we={},Re=null;const Ie=ii({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let St=null;const lt=ii({},["audio","video","img","source","image","track"]);let kt=null;const Nt=ii({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",xt="http://www.w3.org/1999/xhtml";let _t=xt,pt=!1,Zt=null;const ce=ii({},[Je,tt,xt],F3);let yt=ii({},["mi","mo","mn","ms","mtext"]),rt=ii({},["annotation-xml"]);const gt=ii({},["title","style","font","a","script"]);let je=null;const J=["application/xhtml+xml","text/html"],le="text/html";let xe=null,et=null;const ot=n.createElement("form"),ht=function(he){return he instanceof RegExp||he instanceof Function},Qe=function(){let he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(et&&et===he)){if((!he||typeof he!="object")&&(he={}),he=mc(he),je=J.indexOf(he.PARSER_MEDIA_TYPE)===-1?le:he.PARSER_MEDIA_TYPE,xe=je==="application/xhtml+xml"?F3:Ww,j=Cl(he,"ALLOWED_TAGS")?ii({},he.ALLOWED_TAGS,xe):ue,ge=Cl(he,"ALLOWED_ATTR")?ii({},he.ALLOWED_ATTR,xe):Se,Zt=Cl(he,"ALLOWED_NAMESPACES")?ii({},he.ALLOWED_NAMESPACES,F3):ce,kt=Cl(he,"ADD_URI_SAFE_ATTR")?ii(mc(Nt),he.ADD_URI_SAFE_ATTR,xe):Nt,St=Cl(he,"ADD_DATA_URI_TAGS")?ii(mc(lt),he.ADD_DATA_URI_TAGS,xe):lt,Re=Cl(he,"FORBID_CONTENTS")?ii({},he.FORBID_CONTENTS,xe):Ie,ve=Cl(he,"FORBID_TAGS")?ii({},he.FORBID_TAGS,xe):mc({}),fe=Cl(he,"FORBID_ATTR")?ii({},he.FORBID_ATTR,xe):mc({}),we=Cl(he,"USE_PROFILES")?he.USE_PROFILES:!1,Xe=he.ALLOW_ARIA_ATTR!==!1,Ye=he.ALLOW_DATA_ATTR!==!1,bt=he.ALLOW_UNKNOWN_PROTOCOLS||!1,Ct=he.ALLOW_SELF_CLOSE_IN_ATTR!==!1,at=he.SAFE_FOR_TEMPLATES||!1,Ae=he.SAFE_FOR_XML!==!1,Ve=he.WHOLE_DOCUMENT||!1,ie=he.RETURN_DOM||!1,It=he.RETURN_DOM_FRAGMENT||!1,$e=he.RETURN_TRUSTED_TYPE||!1,de=he.FORCE_BODY||!1,dt=he.SANITIZE_DOM!==!1,Be=he.SANITIZE_NAMED_PROPS||!1,H=he.KEEP_CONTENT!==!1,pe=he.IN_PLACE||!1,Z=he.ALLOWED_URI_REGEXP||qz,_t=he.NAMESPACE||xt,yt=he.MATHML_TEXT_INTEGRATION_POINTS||yt,rt=he.HTML_INTEGRATION_POINTS||rt,Fe=he.CUSTOM_ELEMENT_HANDLING||{},he.CUSTOM_ELEMENT_HANDLING&&ht(he.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Fe.tagNameCheck=he.CUSTOM_ELEMENT_HANDLING.tagNameCheck),he.CUSTOM_ELEMENT_HANDLING&&ht(he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Fe.attributeNameCheck=he.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),he.CUSTOM_ELEMENT_HANDLING&&typeof he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Fe.allowCustomizedBuiltInElements=he.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),at&&(Ye=!1),It&&(ie=!0),we&&(j=ii({},xL),ge=[],we.html===!0&&(ii(j,bL),ii(ge,SL)),we.svg===!0&&(ii(j,B3),ii(ge,V3),ii(ge,vE)),we.svgFilters===!0&&(ii(j,z3),ii(ge,V3),ii(ge,vE)),we.mathMl===!0&&(ii(j,H3),ii(ge,EL),ii(ge,vE))),he.ADD_TAGS&&(typeof he.ADD_TAGS=="function"?He.tagCheck=he.ADD_TAGS:(j===ue&&(j=mc(j)),ii(j,he.ADD_TAGS,xe))),he.ADD_ATTR&&(typeof he.ADD_ATTR=="function"?He.attributeCheck=he.ADD_ATTR:(ge===Se&&(ge=mc(ge)),ii(ge,he.ADD_ATTR,xe))),he.ADD_URI_SAFE_ATTR&&ii(kt,he.ADD_URI_SAFE_ATTR,xe),he.FORBID_CONTENTS&&(Re===Ie&&(Re=mc(Re)),ii(Re,he.FORBID_CONTENTS,xe)),he.ADD_FORBID_CONTENTS&&(Re===Ie&&(Re=mc(Re)),ii(Re,he.ADD_FORBID_CONTENTS,xe)),H&&(j["#text"]=!0),Ve&&ii(j,["html","head","body"]),j.table&&(ii(j,["tbody"]),delete ve.tbody),he.TRUSTED_TYPES_POLICY){if(typeof he.TRUSTED_TYPES_POLICY.createHTML!="function")throw Fv('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof he.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Fv('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=he.TRUSTED_TYPES_POLICY,N=R.createHTML("")}else R===void 0&&(R=yoe(_,r)),R!==null&&typeof N=="string"&&(N=R.createHTML(""));Qa&&Qa(he),et=he}},Ne=ii({},[...B3,...z3,...ooe]),st=ii({},[...H3,...uoe]),Et=function(he){let Ze=A(he);(!Ze||!Ze.tagName)&&(Ze={namespaceURI:_t,tagName:"template"});const Ot=Ww(he.tagName),In=Ww(Ze.tagName);return Zt[he.namespaceURI]?he.namespaceURI===tt?Ze.namespaceURI===xt?Ot==="svg":Ze.namespaceURI===Je?Ot==="svg"&&(In==="annotation-xml"||yt[In]):!!Ne[Ot]:he.namespaceURI===Je?Ze.namespaceURI===xt?Ot==="math":Ze.namespaceURI===tt?Ot==="math"&&rt[In]:!!st[Ot]:he.namespaceURI===xt?Ze.namespaceURI===tt&&!rt[In]||Ze.namespaceURI===Je&&!yt[In]?!1:!st[Ot]&&(gt[Ot]||!Ne[Ot]):!!(je==="application/xhtml+xml"&&Zt[he.namespaceURI]):!1},At=function(he){Pv(e.removed,{element:he});try{A(he).removeChild(he)}catch{E(he)}},Mn=function(he,Ze){try{Pv(e.removed,{attribute:Ze.getAttributeNode(he),from:Ze})}catch{Pv(e.removed,{attribute:null,from:Ze})}if(Ze.removeAttribute(he),he==="is")if(ie||It)try{At(Ze)}catch{}else try{Ze.setAttribute(he,"")}catch{}},un=function(he){let Ze=null,Ot=null;if(de)he="<remove></remove>"+he;else{const X=U3(he,/^[\r\n\t ]+/);Ot=X&&X[0]}je==="application/xhtml+xml"&&_t===xt&&(he='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+he+"</body></html>");const In=R?R.createHTML(he):he;if(_t===xt)try{Ze=new y().parseFromString(In,je)}catch{}if(!Ze||!Ze.documentElement){Ze=O.createDocument(_t,"template",null);try{Ze.documentElement.innerHTML=pt?N:In}catch{}}const mn=Ze.body||Ze.documentElement;return he&&Ot&&mn.insertBefore(n.createTextNode(Ot),mn.childNodes[0]||null),_t===xt?k.call(Ze,Ve?"html":"body")[0]:Ve?Ze.documentElement:mn},yn=function(he){return P.call(he.ownerDocument||he,he,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},Qn=function(he){return he instanceof g&&(typeof he.nodeName!="string"||typeof he.textContent!="string"||typeof he.removeChild!="function"||!(he.attributes instanceof p)||typeof he.removeAttribute!="function"||typeof he.setAttribute!="function"||typeof he.namespaceURI!="string"||typeof he.insertBefore!="function"||typeof he.hasChildNodes!="function")},tn=function(he){return typeof o=="function"&&he instanceof o};function Jt(Tt,he,Ze){yE(Tt,Ot=>{Ot.call(e,he,Ze,et)})}const pn=function(he){let Ze=null;if(Jt(G.beforeSanitizeElements,he,null),Qn(he))return At(he),!0;const Ot=xe(he.nodeName);if(Jt(G.uponSanitizeElement,he,{tagName:Ot,allowedTags:j}),Ae&&he.hasChildNodes()&&!tn(he.firstElementChild)&&La(/<[/\w!]/g,he.innerHTML)&&La(/<[/\w!]/g,he.textContent)||he.nodeType===Bv.progressingInstruction||Ae&&he.nodeType===Bv.comment&&La(/<[/\w]/g,he.data))return At(he),!0;if(!(He.tagCheck instanceof Function&&He.tagCheck(Ot))&&(!j[Ot]||ve[Ot])){if(!ve[Ot]&&En(Ot)&&(Fe.tagNameCheck instanceof RegExp&&La(Fe.tagNameCheck,Ot)||Fe.tagNameCheck instanceof Function&&Fe.tagNameCheck(Ot)))return!1;if(H&&!Re[Ot]){const In=A(he)||he.parentNode,mn=C(he)||he.childNodes;if(mn&&In){const X=mn.length;for(let ye=X-1;ye>=0;--ye){const De=S(mn[ye],!0);De.__removalCount=(he.__removalCount||0)+1,In.insertBefore(De,w(he))}}}return At(he),!0}return he instanceof l&&!Et(he)||(Ot==="noscript"||Ot==="noembed"||Ot==="noframes")&&La(/<\/no(script|embed|frames)/i,he.innerHTML)?(At(he),!0):(at&&he.nodeType===Bv.text&&(Ze=he.textContent,yE([$,ee,ne],In=>{Ze=Lv(Ze,In," ")}),he.textContent!==Ze&&(Pv(e.removed,{element:he.cloneNode()}),he.textContent=Ze)),Jt(G.afterSanitizeElements,he,null),!1)},Ei=function(he,Ze,Ot){if(dt&&(Ze==="id"||Ze==="name")&&(Ot in n||Ot in ot))return!1;if(!(Ye&&!fe[Ze]&&La(re,Ze))){if(!(Xe&&La(W,Ze))){if(!(He.attributeCheck instanceof Function&&He.attributeCheck(Ze,he))){if(!ge[Ze]||fe[Ze]){if(!(En(he)&&(Fe.tagNameCheck instanceof RegExp&&La(Fe.tagNameCheck,he)||Fe.tagNameCheck instanceof Function&&Fe.tagNameCheck(he))&&(Fe.attributeNameCheck instanceof RegExp&&La(Fe.attributeNameCheck,Ze)||Fe.attributeNameCheck instanceof Function&&Fe.attributeNameCheck(Ze,he))||Ze==="is"&&Fe.allowCustomizedBuiltInElements&&(Fe.tagNameCheck instanceof RegExp&&La(Fe.tagNameCheck,Ot)||Fe.tagNameCheck instanceof Function&&Fe.tagNameCheck(Ot))))return!1}else if(!kt[Ze]){if(!La(Z,Lv(Ot,te,""))){if(!((Ze==="src"||Ze==="xlink:href"||Ze==="href")&&he!=="script"&&ioe(Ot,"data:")===0&&St[he])){if(!(bt&&!La(q,Lv(Ot,te,"")))){if(Ot)return!1}}}}}}}return!0},En=function(he){return he!=="annotation-xml"&&U3(he,se)},wi=function(he){Jt(G.beforeSanitizeAttributes,he,null);const{attributes:Ze}=he;if(!Ze||Qn(he))return;const Ot={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ge,forceKeepAttr:void 0};let In=Ze.length;for(;In--;){const mn=Ze[In],{name:X,namespaceURI:ye,value:De}=mn,Ce=xe(X),ae=De;let Te=X==="value"?ae:roe(ae);if(Ot.attrName=Ce,Ot.attrValue=Te,Ot.keepAttr=!0,Ot.forceKeepAttr=void 0,Jt(G.uponSanitizeAttribute,he,Ot),Te=Ot.attrValue,Be&&(Ce==="id"||Ce==="name")&&(Mn(X,he),Te=Q+Te),Ae&&La(/((--!?|])>)|<\/(style|title|textarea)/i,Te)){Mn(X,he);continue}if(Ce==="attributename"&&U3(Te,"href")){Mn(X,he);continue}if(Ot.forceKeepAttr)continue;if(!Ot.keepAttr){Mn(X,he);continue}if(!Ct&&La(/\/>/i,Te)){Mn(X,he);continue}at&&yE([$,ee,ne],qe=>{Te=Lv(Te,qe," ")});const nt=xe(he.nodeName);if(!Ei(nt,Ce,Te)){Mn(X,he);continue}if(R&&typeof _=="object"&&typeof _.getAttributeType=="function"&&!ye)switch(_.getAttributeType(nt,Ce)){case"TrustedHTML":{Te=R.createHTML(Te);break}case"TrustedScriptURL":{Te=R.createScriptURL(Te);break}}if(Te!==ae)try{ye?he.setAttributeNS(ye,X,Te):he.setAttribute(X,Te),Qn(he)?At(he):vL(e.removed)}catch{Mn(X,he)}}Jt(G.afterSanitizeAttributes,he,null)},_r=function Tt(he){let Ze=null;const Ot=yn(he);for(Jt(G.beforeSanitizeShadowDOM,he,null);Ze=Ot.nextNode();)Jt(G.uponSanitizeShadowNode,Ze,null),pn(Ze),wi(Ze),Ze.content instanceof s&&Tt(Ze.content);Jt(G.afterSanitizeShadowDOM,he,null)};return e.sanitize=function(Tt){let he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ze=null,Ot=null,In=null,mn=null;if(pt=!Tt,pt&&(Tt="<!-->"),typeof Tt!="string"&&!tn(Tt))if(typeof Tt.toString=="function"){if(Tt=Tt.toString(),typeof Tt!="string")throw Fv("dirty is not a string, aborting")}else throw Fv("toString is not a function");if(!e.isSupported)return Tt;if(Ue||Qe(he),e.removed=[],typeof Tt=="string"&&(pe=!1),pe){if(Tt.nodeName){const De=xe(Tt.nodeName);if(!j[De]||ve[De])throw Fv("root node is forbidden and cannot be sanitized in-place")}}else if(Tt instanceof o)Ze=un("<!---->"),Ot=Ze.ownerDocument.importNode(Tt,!0),Ot.nodeType===Bv.element&&Ot.nodeName==="BODY"||Ot.nodeName==="HTML"?Ze=Ot:Ze.appendChild(Ot);else{if(!ie&&!at&&!Ve&&Tt.indexOf("<")===-1)return R&&$e?R.createHTML(Tt):Tt;if(Ze=un(Tt),!Ze)return ie?null:$e?N:""}Ze&&de&&At(Ze.firstChild);const X=yn(pe?Tt:Ze);for(;In=X.nextNode();)pn(In),wi(In),In.content instanceof s&&_r(In.content);if(pe)return Tt;if(ie){if(It)for(mn=z.call(Ze.ownerDocument);Ze.firstChild;)mn.appendChild(Ze.firstChild);else mn=Ze;return(ge.shadowroot||ge.shadowrootmode)&&(mn=F.call(i,mn,!0)),mn}let ye=Ve?Ze.outerHTML:Ze.innerHTML;return Ve&&j["!doctype"]&&Ze.ownerDocument&&Ze.ownerDocument.doctype&&Ze.ownerDocument.doctype.name&&La($z,Ze.ownerDocument.doctype.name)&&(ye="<!DOCTYPE "+Ze.ownerDocument.doctype.name+`>
`+ye),at&&yE([$,ee,ne],De=>{ye=Lv(ye,De," ")}),R&&$e?R.createHTML(ye):ye},e.setConfig=function(){let Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qe(Tt),Ue=!0},e.clearConfig=function(){et=null,Ue=!1},e.isValidAttribute=function(Tt,he,Ze){et||Qe({});const Ot=xe(Tt),In=xe(he);return Ei(Ot,In,Ze)},e.addHook=function(Tt,he){typeof he=="function"&&Pv(G[Tt],he)},e.removeHook=function(Tt,he){if(he!==void 0){const Ze=toe(G[Tt],he);return Ze===-1?void 0:noe(G[Tt],Ze,1)[0]}return vL(G[Tt])},e.removeHooks=function(Tt){G[Tt]=[]},e.removeAllHooks=function(){G=TL()},e}var voe=Xz();function Wr(...t){return ere(YB(t))}function Yz(t){const e=new Date(t);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(e)}Mh.registerLanguage("bash",ire);Mh.registerLanguage("javascript",lz);Mh.registerLanguage("jsx",lz);Mh.registerLanguage("python",ure);Mh.registerLanguage("typescript",cre);Mh.registerLanguage("xml",fre);const Zz=Qu({html:!0,linkify:!0,highlight:(t,e)=>{if(e&&Mh.getLanguage(e))try{return'<pre><code class="hljs">'+Mh.highlight(t,{language:e,ignoreIllegals:!0}).value+"</code></pre>"}catch(n){console.error(n)}return'<pre><code class="hljs">'+Zz.utils.escapeHtml(t)+"</code></pre>"}}).use(Wg,{slugify:t=>t.trim().toLowerCase().replace(/\s+/g,"-")});function boe(t){const e=Zz.render(t);return voe.sanitize(e,{USE_PROFILES:{html:!0},ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","a","ul","ol","li","blockquote","code","pre","strong","em","img","hr","br","span"],ALLOWED_ATTR:["href","src","alt","title","class","target","rel"]})}const xoe=$ne,Kz=U.forwardRef(({className:t,...e},n)=>V.jsx(VB,{ref:n,className:Wr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Kz.displayName=VB.displayName;const Soe=pO("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Qz=U.forwardRef(({className:t,variant:e,...n},i)=>V.jsx(GB,{ref:i,className:Wr(Soe({variant:e}),t),...n}));Qz.displayName=GB.displayName;const Eoe=U.forwardRef(({className:t,...e},n)=>V.jsx(qB,{ref:n,className:Wr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Eoe.displayName=qB.displayName;const Jz=U.forwardRef(({className:t,...e},n)=>V.jsx($B,{ref:n,className:Wr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:V.jsx(ez,{className:"h-4 w-4"})}));Jz.displayName=$B.displayName;const e9=U.forwardRef(({className:t,...e},n)=>V.jsx(WB,{ref:n,className:Wr("text-sm font-semibold",t),...e}));e9.displayName=WB.displayName;const t9=U.forwardRef(({className:t,...e},n)=>V.jsx(jB,{ref:n,className:Wr("text-sm opacity-90",t),...e}));t9.displayName=jB.displayName;function woe(){const{toasts:t}=Qte();return V.jsxs(xoe,{children:[t.map(function({id:e,title:n,description:i,action:r,...s}){return V.jsxs(Qz,{...s,children:[V.jsxs("div",{className:"grid gap-1",children:[n&&V.jsx(e9,{children:n}),i&&V.jsx(t9,{children:i})]}),r,V.jsx(Jz,{})]},e)}),V.jsx(Kz,{})]})}var ML=["light","dark"],Toe="(prefers-color-scheme: dark)",Moe=U.createContext(void 0),Coe={setTheme:t=>{},themes:[]},Aoe=()=>{var t;return(t=U.useContext(Moe))!=null?t:Coe};U.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:a,attrs:o,nonce:l})=>{let f=s==="system",p=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,g=r?ML.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",y=(x,S=!1,E=!0)=>{let w=a?a[x]:x,C=S?x+"|| ''":`'${w}'`,A="";return r&&E&&!S&&ML.includes(x)&&(A+=`d.style.colorScheme = '${x}';`),n==="class"?S||w?A+=`c.add(${C})`:A+="null":w&&(A+=`d[s](n,${C})`),A},_=t?`!function(){${p}${y(t)}}()`:i?`!function(){try{${p}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${f})){var t='${Toe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${y("dark")}}else{${y("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${y(a?"x[e]":"e",!0)}}${f?"":"else{"+y(s,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${y(a?"x[e]":"e",!0)}}else{${y(s,!1,!1)};}${g}}catch(t){}}();`;return U.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:_}})});var Doe=t=>{switch(t){case"success":return Noe;case"info":return koe;case"warning":return Ooe;case"error":return Poe;default:return null}},Roe=Array(12).fill(0),Ioe=({visible:t,className:e})=>Dt.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Dt.createElement("div",{className:"sonner-spinner"},Roe.map((n,i)=>Dt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),Noe=Dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Dt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ooe=Dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Dt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),koe=Dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Dt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Poe=Dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Dt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Loe=Dt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Dt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Dt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Foe=()=>{let[t,e]=Dt.useState(document.hidden);return Dt.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},nI=1,Uoe=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...i}=t,r=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:nI++,s=this.toasts.find(o=>o.id===r),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(o=>o.id===r?(this.publish({...o,...t,id:r,title:n}),{...o,...t,id:r,dismissible:a,title:n}):o):this.addToast({title:n,...i,dismissible:a,id:r}),r},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=t instanceof Promise?t:t(),r=n!==void 0,s,a=i.then(async l=>{if(s=["resolve",l],Dt.isValidElement(l))r=!1,this.create({id:n,type:"default",message:l});else if(zoe(l)&&!l.ok){r=!1;let f=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,p=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:f,description:p})}else if(e.success!==void 0){r=!1;let f=typeof e.success=="function"?await e.success(l):e.success,p=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:f,description:p})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){r=!1;let f=typeof e.error=="function"?await e.error(l):e.error,p=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:f,description:p})}}).finally(()=>{var l;r&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,f)=>a.then(()=>s[0]==="reject"?f(s[1]):l(s[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=e?.id||nI++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},To=new Uoe,Boe=(t,e)=>{let n=e?.id||nI++;return To.addToast({title:t,...e,id:n}),n},zoe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Hoe=Boe,Voe=()=>To.toasts,Goe=()=>To.getActiveToasts();Object.assign(Hoe,{success:To.success,info:To.info,warning:To.warning,error:To.error,custom:To.custom,message:To.message,promise:To.promise,dismiss:To.dismiss,loading:To.loading},{getHistory:Voe,getToasts:Goe});function Woe(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}Woe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bE(t){return t.label!==void 0}var joe=3,qoe="32px",$oe="16px",CL=4e3,Xoe=356,Yoe=14,Zoe=20,Koe=200;function xl(...t){return t.filter(Boolean).join(" ")}function Qoe(t){let[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}var Joe=t=>{var e,n,i,r,s,a,o,l,f,p,g;let{invert:y,toast:_,unstyled:x,interacting:S,setHeights:E,visibleToasts:w,heights:C,index:A,toasts:R,expanded:N,removeToast:O,defaultRichColors:P,closeButton:z,style:k,cancelButtonStyle:F,actionButtonStyle:G,className:$="",descriptionClassName:ee="",duration:ne,position:re,gap:W,loadingIcon:q,expandByDefault:te,classNames:se,icons:Z,closeButtonAriaLabel:j="Close toast",pauseWhenPageIsHidden:ue}=t,[ge,Se]=Dt.useState(null),[Fe,ve]=Dt.useState(null),[fe,He]=Dt.useState(!1),[Xe,Ye]=Dt.useState(!1),[bt,Ct]=Dt.useState(!1),[at,Ae]=Dt.useState(!1),[Ve,Ue]=Dt.useState(!1),[de,ie]=Dt.useState(0),[It,$e]=Dt.useState(0),dt=Dt.useRef(_.duration||ne||CL),Be=Dt.useRef(null),Q=Dt.useRef(null),H=A===0,pe=A+1<=w,we=_.type,Re=_.dismissible!==!1,Ie=_.className||"",St=_.descriptionClassName||"",lt=Dt.useMemo(()=>C.findIndex(le=>le.toastId===_.id)||0,[C,_.id]),kt=Dt.useMemo(()=>{var le;return(le=_.closeButton)!=null?le:z},[_.closeButton,z]),Nt=Dt.useMemo(()=>_.duration||ne||CL,[_.duration,ne]),Je=Dt.useRef(0),tt=Dt.useRef(0),xt=Dt.useRef(0),_t=Dt.useRef(null),[pt,Zt]=re.split("-"),ce=Dt.useMemo(()=>C.reduce((le,xe,et)=>et>=lt?le:le+xe.height,0),[C,lt]),yt=Foe(),rt=_.invert||y,gt=we==="loading";tt.current=Dt.useMemo(()=>lt*W+ce,[lt,ce]),Dt.useEffect(()=>{dt.current=Nt},[Nt]),Dt.useEffect(()=>{He(!0)},[]),Dt.useEffect(()=>{let le=Q.current;if(le){let xe=le.getBoundingClientRect().height;return $e(xe),E(et=>[{toastId:_.id,height:xe,position:_.position},...et]),()=>E(et=>et.filter(ot=>ot.toastId!==_.id))}},[E,_.id]),Dt.useLayoutEffect(()=>{if(!fe)return;let le=Q.current,xe=le.style.height;le.style.height="auto";let et=le.getBoundingClientRect().height;le.style.height=xe,$e(et),E(ot=>ot.find(ht=>ht.toastId===_.id)?ot.map(ht=>ht.toastId===_.id?{...ht,height:et}:ht):[{toastId:_.id,height:et,position:_.position},...ot])},[fe,_.title,_.description,E,_.id]);let je=Dt.useCallback(()=>{Ye(!0),ie(tt.current),E(le=>le.filter(xe=>xe.toastId!==_.id)),setTimeout(()=>{O(_)},Koe)},[_,O,E,tt]);Dt.useEffect(()=>{if(_.promise&&we==="loading"||_.duration===1/0||_.type==="loading")return;let le;return N||S||ue&&yt?(()=>{if(xt.current<Je.current){let xe=new Date().getTime()-Je.current;dt.current=dt.current-xe}xt.current=new Date().getTime()})():dt.current!==1/0&&(Je.current=new Date().getTime(),le=setTimeout(()=>{var xe;(xe=_.onAutoClose)==null||xe.call(_,_),je()},dt.current)),()=>clearTimeout(le)},[N,S,_,we,ue,yt,je]),Dt.useEffect(()=>{_.delete&&je()},[je,_.delete]);function J(){var le,xe,et;return Z!=null&&Z.loading?Dt.createElement("div",{className:xl(se?.loader,(le=_?.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":we==="loading"},Z.loading):q?Dt.createElement("div",{className:xl(se?.loader,(xe=_?.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":we==="loading"},q):Dt.createElement(Ioe,{className:xl(se?.loader,(et=_?.classNames)==null?void 0:et.loader),visible:we==="loading"})}return Dt.createElement("li",{tabIndex:0,ref:Q,className:xl($,Ie,se?.toast,(e=_?.classNames)==null?void 0:e.toast,se?.default,se?.[we],(n=_?.classNames)==null?void 0:n[we]),"data-sonner-toast":"","data-rich-colors":(i=_.richColors)!=null?i:P,"data-styled":!(_.jsx||_.unstyled||x),"data-mounted":fe,"data-promise":!!_.promise,"data-swiped":Ve,"data-removed":Xe,"data-visible":pe,"data-y-position":pt,"data-x-position":Zt,"data-index":A,"data-front":H,"data-swiping":bt,"data-dismissible":Re,"data-type":we,"data-invert":rt,"data-swipe-out":at,"data-swipe-direction":Fe,"data-expanded":!!(N||te&&fe),style:{"--index":A,"--toasts-before":A,"--z-index":R.length-A,"--offset":`${Xe?de:tt.current}px`,"--initial-height":te?"auto":`${It}px`,...k,..._.style},onDragEnd:()=>{Ct(!1),Se(null),_t.current=null},onPointerDown:le=>{gt||!Re||(Be.current=new Date,ie(tt.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(Ct(!0),_t.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,xe,et,ot;if(at||!Re)return;_t.current=null;let ht=Number(((le=Q.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qe=Number(((xe=Q.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ne=new Date().getTime()-((et=Be.current)==null?void 0:et.getTime()),st=ge==="x"?ht:Qe,Et=Math.abs(st)/Ne;if(Math.abs(st)>=Zoe||Et>.11){ie(tt.current),(ot=_.onDismiss)==null||ot.call(_,_),ve(ge==="x"?ht>0?"right":"left":Qe>0?"down":"up"),je(),Ae(!0),Ue(!1);return}Ct(!1),Se(null)},onPointerMove:le=>{var xe,et,ot,ht;if(!_t.current||!Re||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;let Qe=le.clientY-_t.current.y,Ne=le.clientX-_t.current.x,st=(et=t.swipeDirections)!=null?et:Qoe(re);!ge&&(Math.abs(Ne)>1||Math.abs(Qe)>1)&&Se(Math.abs(Ne)>Math.abs(Qe)?"x":"y");let Et={x:0,y:0};ge==="y"?(st.includes("top")||st.includes("bottom"))&&(st.includes("top")&&Qe<0||st.includes("bottom")&&Qe>0)&&(Et.y=Qe):ge==="x"&&(st.includes("left")||st.includes("right"))&&(st.includes("left")&&Ne<0||st.includes("right")&&Ne>0)&&(Et.x=Ne),(Math.abs(Et.x)>0||Math.abs(Et.y)>0)&&Ue(!0),(ot=Q.current)==null||ot.style.setProperty("--swipe-amount-x",`${Et.x}px`),(ht=Q.current)==null||ht.style.setProperty("--swipe-amount-y",`${Et.y}px`)}},kt&&!_.jsx?Dt.createElement("button",{"aria-label":j,"data-disabled":gt,"data-close-button":!0,onClick:gt||!Re?()=>{}:()=>{var le;je(),(le=_.onDismiss)==null||le.call(_,_)},className:xl(se?.closeButton,(r=_?.classNames)==null?void 0:r.closeButton)},(s=Z?.close)!=null?s:Loe):null,_.jsx||U.isValidElement(_.title)?_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title:Dt.createElement(Dt.Fragment,null,we||_.icon||_.promise?Dt.createElement("div",{"data-icon":"",className:xl(se?.icon,(a=_?.classNames)==null?void 0:a.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||J():null,_.type!=="loading"?_.icon||Z?.[we]||Doe(we):null):null,Dt.createElement("div",{"data-content":"",className:xl(se?.content,(o=_?.classNames)==null?void 0:o.content)},Dt.createElement("div",{"data-title":"",className:xl(se?.title,(l=_?.classNames)==null?void 0:l.title)},typeof _.title=="function"?_.title():_.title),_.description?Dt.createElement("div",{"data-description":"",className:xl(ee,St,se?.description,(f=_?.classNames)==null?void 0:f.description)},typeof _.description=="function"?_.description():_.description):null),U.isValidElement(_.cancel)?_.cancel:_.cancel&&bE(_.cancel)?Dt.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||F,onClick:le=>{var xe,et;bE(_.cancel)&&Re&&((et=(xe=_.cancel).onClick)==null||et.call(xe,le),je())},className:xl(se?.cancelButton,(p=_?.classNames)==null?void 0:p.cancelButton)},_.cancel.label):null,U.isValidElement(_.action)?_.action:_.action&&bE(_.action)?Dt.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||G,onClick:le=>{var xe,et;bE(_.action)&&((et=(xe=_.action).onClick)==null||et.call(xe,le),!le.defaultPrevented&&je())},className:xl(se?.actionButton,(g=_?.classNames)==null?void 0:g.actionButton)},_.action.label):null))};function AL(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function eue(t,e){let n={};return[t,e].forEach((i,r)=>{let s=r===1,a=s?"--mobile-offset":"--offset",o=s?$oe:qoe;function l(f){["top","right","bottom","left"].forEach(p=>{n[`${a}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof i=="number"||typeof i=="string"?l(i):typeof i=="object"?["top","right","bottom","left"].forEach(f=>{i[f]===void 0?n[`${a}-${f}`]=o:n[`${a}-${f}`]=typeof i[f]=="number"?`${i[f]}px`:i[f]}):l(o)}),n}var tue=U.forwardRef(function(t,e){let{invert:n,position:i="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:f,theme:p="light",richColors:g,duration:y,style:_,visibleToasts:x=joe,toastOptions:S,dir:E=AL(),gap:w=Yoe,loadingIcon:C,icons:A,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:N}=t,[O,P]=Dt.useState([]),z=Dt.useMemo(()=>Array.from(new Set([i].concat(O.filter(ue=>ue.position).map(ue=>ue.position)))),[O,i]),[k,F]=Dt.useState([]),[G,$]=Dt.useState(!1),[ee,ne]=Dt.useState(!1),[re,W]=Dt.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=Dt.useRef(null),te=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=Dt.useRef(null),Z=Dt.useRef(!1),j=Dt.useCallback(ue=>{P(ge=>{var Se;return(Se=ge.find(Fe=>Fe.id===ue.id))!=null&&Se.delete||To.dismiss(ue.id),ge.filter(({id:Fe})=>Fe!==ue.id)})},[]);return Dt.useEffect(()=>To.subscribe(ue=>{if(ue.dismiss){P(ge=>ge.map(Se=>Se.id===ue.id?{...Se,delete:!0}:Se));return}setTimeout(()=>{lO.flushSync(()=>{P(ge=>{let Se=ge.findIndex(Fe=>Fe.id===ue.id);return Se!==-1?[...ge.slice(0,Se),{...ge[Se],...ue},...ge.slice(Se+1)]:[ue,...ge]})})})}),[]),Dt.useEffect(()=>{if(p!=="system"){W(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let ue=window.matchMedia("(prefers-color-scheme: dark)");try{ue.addEventListener("change",({matches:ge})=>{W(ge?"dark":"light")})}catch{ue.addListener(({matches:Se})=>{try{W(Se?"dark":"light")}catch(Fe){console.error(Fe)}})}},[p]),Dt.useEffect(()=>{O.length<=1&&$(!1)},[O]),Dt.useEffect(()=>{let ue=ge=>{var Se,Fe;r.every(ve=>ge[ve]||ge.code===ve)&&($(!0),(Se=q.current)==null||Se.focus()),ge.code==="Escape"&&(document.activeElement===q.current||(Fe=q.current)!=null&&Fe.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",ue),()=>document.removeEventListener("keydown",ue)},[r]),Dt.useEffect(()=>{if(q.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,Z.current=!1)}},[q.current]),Dt.createElement("section",{ref:e,"aria-label":`${R} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((ue,ge)=>{var Se;let[Fe,ve]=ue.split("-");return O.length?Dt.createElement("ol",{key:ue,dir:E==="auto"?AL():E,tabIndex:-1,ref:q,className:o,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":Fe,"data-lifted":G&&O.length>1&&!s,"data-x-position":ve,style:{"--front-toast-height":`${((Se=k[0])==null?void 0:Se.height)||0}px`,"--width":`${Xoe}px`,"--gap":`${w}px`,..._,...eue(l,f)},onBlur:fe=>{Z.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(Z.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,se.current=fe.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{ee||$(!1)},onDragEnd:()=>$(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},O.filter(fe=>!fe.position&&ge===0||fe.position===ue).map((fe,He)=>{var Xe,Ye;return Dt.createElement(Joe,{key:fe.id,icons:A,index:He,toast:fe,defaultRichColors:g,duration:(Xe=S?.duration)!=null?Xe:y,className:S?.className,descriptionClassName:S?.descriptionClassName,invert:n,visibleToasts:x,closeButton:(Ye=S?.closeButton)!=null?Ye:a,interacting:ee,position:ue,style:S?.style,unstyled:S?.unstyled,classNames:S?.classNames,cancelButtonStyle:S?.cancelButtonStyle,actionButtonStyle:S?.actionButtonStyle,removeToast:j,toasts:O.filter(bt=>bt.position==fe.position),heights:k.filter(bt=>bt.position==fe.position),setHeights:F,expandByDefault:s,gap:w,loadingIcon:C,expanded:G,pauseWhenPageIsHidden:N,swipeDirections:t.swipeDirections})})):null}))});const nue=({...t})=>{const{theme:e="system"}=Aoe();return V.jsx(tue,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function iue(t,e=globalThis?.document){const n=Js(t);U.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var rue="DismissableLayer",iI="dismissableLayer.update",sue="dismissableLayer.pointerDownOutside",aue="dismissableLayer.focusOutside",DL,n9=U.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),i9=U.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,f=U.useContext(n9),[p,g]=U.useState(null),y=p?.ownerDocument??globalThis?.document,[,_]=U.useState({}),x=sr(e,P=>g(P)),S=Array.from(f.layers),[E]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),w=S.indexOf(E),C=p?S.indexOf(p):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,R=C>=w,N=lue(P=>{const z=P.target,k=[...f.branches].some(F=>F.contains(z));!R||k||(r?.(P),a?.(P),P.defaultPrevented||o?.())},y),O=cue(P=>{const z=P.target;[...f.branches].some(F=>F.contains(z))||(s?.(P),a?.(P),P.defaultPrevented||o?.())},y);return iue(P=>{C===f.layers.size-1&&(i?.(P),!P.defaultPrevented&&o&&(P.preventDefault(),o()))},y),U.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(DL=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),RL(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=DL)}},[p,y,n,f]),U.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),RL())},[p,f]),U.useEffect(()=>{const P=()=>_({});return document.addEventListener(iI,P),()=>document.removeEventListener(iI,P)},[]),V.jsx(Si.div,{...l,ref:x,style:{pointerEvents:A?R?"auto":"none":void 0,...t.style},onFocusCapture:Un(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Un(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Un(t.onPointerDownCapture,N.onPointerDownCapture)})});i9.displayName=rue;var oue="DismissableLayerBranch",uue=U.forwardRef((t,e)=>{const n=U.useContext(n9),i=U.useRef(null),r=sr(e,i);return U.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),V.jsx(Si.div,{...t,ref:r})});uue.displayName=oue;function lue(t,e=globalThis?.document){const n=Js(t),i=U.useRef(!1),r=U.useRef(()=>{});return U.useEffect(()=>{const s=o=>{if(o.target&&!i.current){let l=function(){r9(sue,n,f,{discrete:!0})};const f={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function cue(t,e=globalThis?.document){const n=Js(t),i=U.useRef(!1);return U.useEffect(()=>{const r=s=>{s.target&&!i.current&&r9(aue,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function RL(){const t=new CustomEvent(iI);document.dispatchEvent(t)}function r9(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?dC(r,s):r.dispatchEvent(s)}var fue=cC[" useId ".trim().toString()]||(()=>{}),due=0;function TO(t){const[e,n]=U.useState(fue());return Ps(()=>{n(i=>i??String(due++))},[t]),e?`radix-${e}`:""}const hue=["top","right","bottom","left"],Ah=Math.min,Qo=Math.max,NT=Math.round,xE=Math.floor,Dh=t=>({x:t,y:t}),pue={left:"right",right:"left",bottom:"top",top:"bottom"},mue={start:"end",end:"start"};function rI(t,e,n){return Qo(t,Ah(e,n))}function Wf(t,e){return typeof t=="function"?t(e):t}function jf(t){return t.split("-")[0]}function Q_(t){return t.split("-")[1]}function MO(t){return t==="x"?"y":"x"}function CO(t){return t==="y"?"height":"width"}function Rh(t){return["top","bottom"].includes(jf(t))?"y":"x"}function AO(t){return MO(Rh(t))}function gue(t,e,n){n===void 0&&(n=!1);const i=Q_(t),r=AO(t),s=CO(r);let a=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=OT(a)),[a,OT(a)]}function _ue(t){const e=OT(t);return[sI(t),e,sI(e)]}function sI(t){return t.replace(/start|end/g,e=>mue[e])}function yue(t,e,n){const i=["left","right"],r=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?s:a;default:return[]}}function vue(t,e,n,i){const r=Q_(t);let s=yue(jf(t),n==="start",i);return r&&(s=s.map(a=>a+"-"+r),e&&(s=s.concat(s.map(sI)))),s}function OT(t){return t.replace(/left|right|bottom|top/g,e=>pue[e])}function bue(t){return{top:0,right:0,bottom:0,left:0,...t}}function s9(t){return typeof t!="number"?bue(t):{top:t,right:t,bottom:t,left:t}}function kT(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function IL(t,e,n){let{reference:i,floating:r}=t;const s=Rh(e),a=AO(e),o=CO(a),l=jf(e),f=s==="y",p=i.x+i.width/2-r.width/2,g=i.y+i.height/2-r.height/2,y=i[o]/2-r[o]/2;let _;switch(l){case"top":_={x:p,y:i.y-r.height};break;case"bottom":_={x:p,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:g};break;case"left":_={x:i.x-r.width,y:g};break;default:_={x:i.x,y:i.y}}switch(Q_(e)){case"start":_[a]-=y*(n&&f?-1:1);break;case"end":_[a]+=y*(n&&f?-1:1);break}return _}const xue=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:p,y:g}=IL(f,i,l),y=i,_={},x=0;for(let S=0;S<o.length;S++){const{name:E,fn:w}=o[S],{x:C,y:A,data:R,reset:N}=await w({x:p,y:g,initialPlacement:i,placement:y,strategy:r,middlewareData:_,rects:f,platform:a,elements:{reference:t,floating:e}});p=C??p,g=A??g,_={..._,[E]:{..._[E],...R}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(y=N.placement),N.rects&&(f=N.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):N.rects),{x:p,y:g}=IL(f,y,l)),S=-1)}return{x:p,y:g,placement:y,strategy:r,middlewareData:_}};async function tx(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:y=!1,padding:_=0}=Wf(e,t),x=s9(_),E=o[y?g==="floating"?"reference":"floating":g],w=kT(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:f,rootBoundary:p,strategy:l})),C=g==="floating"?{x:i,y:r,width:a.floating.width,height:a.floating.height}:a.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),R=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},N=kT(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:C,offsetParent:A,strategy:l}):C);return{top:(w.top-N.top+x.top)/R.y,bottom:(N.bottom-w.bottom+x.bottom)/R.y,left:(w.left-N.left+x.left)/R.x,right:(N.right-w.right+x.right)/R.x}}const Sue=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:f,padding:p=0}=Wf(t,e)||{};if(f==null)return{};const g=s9(p),y={x:n,y:i},_=AO(r),x=CO(_),S=await a.getDimensions(f),E=_==="y",w=E?"top":"left",C=E?"bottom":"right",A=E?"clientHeight":"clientWidth",R=s.reference[x]+s.reference[_]-y[_]-s.floating[x],N=y[_]-s.reference[_],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let P=O?O[A]:0;(!P||!await(a.isElement==null?void 0:a.isElement(O)))&&(P=o.floating[A]||s.floating[x]);const z=R/2-N/2,k=P/2-S[x]/2-1,F=Ah(g[w],k),G=Ah(g[C],k),$=F,ee=P-S[x]-G,ne=P/2-S[x]/2+z,re=rI($,ne,ee),W=!l.arrow&&Q_(r)!=null&&ne!==re&&s.reference[x]/2-(ne<$?F:G)-S[x]/2<0,q=W?ne<$?ne-$:ne-ee:0;return{[_]:y[_]+q,data:{[_]:re,centerOffset:ne-re-q,...W&&{alignmentOffset:q}},reset:W}}}),Eue=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:f}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:S=!0,...E}=Wf(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=jf(r),C=Rh(o),A=jf(o)===o,R=await(l.isRTL==null?void 0:l.isRTL(f.floating)),N=y||(A||!S?[OT(o)]:_ue(o)),O=x!=="none";!y&&O&&N.push(...vue(o,S,x,R));const P=[o,...N],z=await tx(e,E),k=[];let F=((i=s.flip)==null?void 0:i.overflows)||[];if(p&&k.push(z[w]),g){const ne=gue(r,a,R);k.push(z[ne[0]],z[ne[1]])}if(F=[...F,{placement:r,overflows:k}],!k.every(ne=>ne<=0)){var G,$;const ne=(((G=s.flip)==null?void 0:G.index)||0)+1,re=P[ne];if(re)return{data:{index:ne,overflows:F},reset:{placement:re}};let W=($=F.filter(q=>q.overflows[0]<=0).sort((q,te)=>q.overflows[1]-te.overflows[1])[0])==null?void 0:$.placement;if(!W)switch(_){case"bestFit":{var ee;const q=(ee=F.filter(te=>{if(O){const se=Rh(te.placement);return se===C||se==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(se=>se>0).reduce((se,Z)=>se+Z,0)]).sort((te,se)=>te[1]-se[1])[0])==null?void 0:ee[0];q&&(W=q);break}case"initialPlacement":W=o;break}if(r!==W)return{reset:{placement:W}}}return{}}}};function NL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function OL(t){return hue.some(e=>t[e]>=0)}const wue=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=Wf(t,e);switch(i){case"referenceHidden":{const s=await tx(e,{...r,elementContext:"reference"}),a=NL(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:OL(a)}}}case"escaped":{const s=await tx(e,{...r,altBoundary:!0}),a=NL(s,n.floating);return{data:{escapedOffsets:a,escaped:OL(a)}}}default:return{}}}}};async function Tue(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),a=jf(n),o=Q_(n),l=Rh(n)==="y",f=["left","top"].includes(a)?-1:1,p=s&&l?-1:1,g=Wf(e,t);let{mainAxis:y,crossAxis:_,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return o&&typeof x=="number"&&(_=o==="end"?x*-1:x),l?{x:_*p,y:y*f}:{x:y*f,y:_*p}}const Mue=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:a,middlewareData:o}=e,l=await Tue(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(i=o.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:a}}}}},Cue=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:E=>{let{x:w,y:C}=E;return{x:w,y:C}}},...l}=Wf(t,e),f={x:n,y:i},p=await tx(e,l),g=Rh(jf(r)),y=MO(g);let _=f[y],x=f[g];if(s){const E=y==="y"?"top":"left",w=y==="y"?"bottom":"right",C=_+p[E],A=_-p[w];_=rI(C,_,A)}if(a){const E=g==="y"?"top":"left",w=g==="y"?"bottom":"right",C=x+p[E],A=x-p[w];x=rI(C,x,A)}const S=o.fn({...e,[y]:_,[g]:x});return{...S,data:{x:S.x-n,y:S.y-i,enabled:{[y]:s,[g]:a}}}}}},Aue=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:f=!0}=Wf(t,e),p={x:n,y:i},g=Rh(r),y=MO(g);let _=p[y],x=p[g];const S=Wf(o,e),E=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(l){const A=y==="y"?"height":"width",R=s.reference[y]-s.floating[A]+E.mainAxis,N=s.reference[y]+s.reference[A]-E.mainAxis;_<R?_=R:_>N&&(_=N)}if(f){var w,C;const A=y==="y"?"width":"height",R=["top","left"].includes(jf(r)),N=s.reference[g]-s.floating[A]+(R&&((w=a.offset)==null?void 0:w[g])||0)+(R?0:E.crossAxis),O=s.reference[g]+s.reference[A]+(R?0:((C=a.offset)==null?void 0:C[g])||0)-(R?E.crossAxis:0);x<N?x=N:x>O&&(x=O)}return{[y]:_,[g]:x}}}},Due=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...f}=Wf(t,e),p=await tx(e,f),g=jf(r),y=Q_(r),_=Rh(r)==="y",{width:x,height:S}=s.floating;let E,w;g==="top"||g==="bottom"?(E=g,w=y===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(w=g,E=y==="end"?"top":"bottom");const C=S-p.top-p.bottom,A=x-p.left-p.right,R=Ah(S-p[E],C),N=Ah(x-p[w],A),O=!e.middlewareData.shift;let P=R,z=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(z=A),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(P=C),O&&!y){const F=Qo(p.left,0),G=Qo(p.right,0),$=Qo(p.top,0),ee=Qo(p.bottom,0);_?z=x-2*(F!==0||G!==0?F+G:Qo(p.left,p.right)):P=S-2*($!==0||ee!==0?$+ee:Qo(p.top,p.bottom))}await l({...e,availableWidth:z,availableHeight:P});const k=await a.getDimensions(o.floating);return x!==k.width||S!==k.height?{reset:{rects:!0}}:{}}}};function bC(){return typeof window<"u"}function J_(t){return a9(t)?(t.nodeName||"").toLowerCase():"#document"}function au(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Uc(t){var e;return(e=(a9(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function a9(t){return bC()?t instanceof Node||t instanceof au(t).Node:!1}function kl(t){return bC()?t instanceof Element||t instanceof au(t).Element:!1}function Rc(t){return bC()?t instanceof HTMLElement||t instanceof au(t).HTMLElement:!1}function kL(t){return!bC()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof au(t).ShadowRoot}function t1(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=Pl(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function Rue(t){return["table","td","th"].includes(J_(t))}function xC(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function DO(t){const e=RO(),n=kl(t)?Pl(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function Iue(t){let e=Ih(t);for(;Rc(e)&&!x_(e);){if(DO(e))return e;if(xC(e))return null;e=Ih(e)}return null}function RO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function x_(t){return["html","body","#document"].includes(J_(t))}function Pl(t){return au(t).getComputedStyle(t)}function SC(t){return kl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ih(t){if(J_(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kL(t)&&t.host||Uc(t);return kL(e)?e.host:e}function o9(t){const e=Ih(t);return x_(e)?t.ownerDocument?t.ownerDocument.body:t.body:Rc(e)&&t1(e)?e:o9(e)}function nx(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=o9(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),a=au(r);if(s){const o=aI(a);return e.concat(a,a.visualViewport||[],t1(r)?r:[],o&&n?nx(o):[])}return e.concat(r,nx(r,[],n))}function aI(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function u9(t){const e=Pl(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Rc(t),s=r?t.offsetWidth:n,a=r?t.offsetHeight:i,o=NT(n)!==s||NT(i)!==a;return o&&(n=s,i=a),{width:n,height:i,$:o}}function IO(t){return kl(t)?t:t.contextElement}function Jg(t){const e=IO(t);if(!Rc(e))return Dh(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=u9(e);let a=(s?NT(n.width):n.width)/i,o=(s?NT(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Nue=Dh(0);function l9(t){const e=au(t);return!RO()||!e.visualViewport?Nue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Oue(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==au(t)?!1:e}function Rm(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=IO(t);let a=Dh(1);e&&(i?kl(i)&&(a=Jg(i)):a=Jg(t));const o=Oue(s,n,i)?l9(s):Dh(0);let l=(r.left+o.x)/a.x,f=(r.top+o.y)/a.y,p=r.width/a.x,g=r.height/a.y;if(s){const y=au(s),_=i&&kl(i)?au(i):i;let x=y,S=aI(x);for(;S&&i&&_!==x;){const E=Jg(S),w=S.getBoundingClientRect(),C=Pl(S),A=w.left+(S.clientLeft+parseFloat(C.paddingLeft))*E.x,R=w.top+(S.clientTop+parseFloat(C.paddingTop))*E.y;l*=E.x,f*=E.y,p*=E.x,g*=E.y,l+=A,f+=R,x=au(S),S=aI(x)}}return kT({width:p,height:g,x:l,y:f})}function kue(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",a=Uc(i),o=e?xC(e.floating):!1;if(i===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},f=Dh(1);const p=Dh(0),g=Rc(i);if((g||!g&&!s)&&((J_(i)!=="body"||t1(a))&&(l=SC(i)),Rc(i))){const y=Rm(i);f=Jg(i),p.x=y.x+i.clientLeft,p.y=y.y+i.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-l.scrollLeft*f.x+p.x,y:n.y*f.y-l.scrollTop*f.y+p.y}}function Pue(t){return Array.from(t.getClientRects())}function oI(t,e){const n=SC(t).scrollLeft;return e?e.left+n:Rm(Uc(t)).left+n}function Lue(t){const e=Uc(t),n=SC(t),i=t.ownerDocument.body,r=Qo(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Qo(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+oI(t);const o=-n.scrollTop;return Pl(i).direction==="rtl"&&(a+=Qo(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:a,y:o}}function Fue(t,e){const n=au(t),i=Uc(t),r=n.visualViewport;let s=i.clientWidth,a=i.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;const f=RO();(!f||f&&e==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}return{width:s,height:a,x:o,y:l}}function Uue(t,e){const n=Rm(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=Rc(t)?Jg(t):Dh(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=r*s.x,f=i*s.y;return{width:a,height:o,x:l,y:f}}function PL(t,e,n){let i;if(e==="viewport")i=Fue(t,n);else if(e==="document")i=Lue(Uc(t));else if(kl(e))i=Uue(e,n);else{const r=l9(t);i={...e,x:e.x-r.x,y:e.y-r.y}}return kT(i)}function c9(t,e){const n=Ih(t);return n===e||!kl(n)||x_(n)?!1:Pl(n).position==="fixed"||c9(n,e)}function Bue(t,e){const n=e.get(t);if(n)return n;let i=nx(t,[],!1).filter(o=>kl(o)&&J_(o)!=="body"),r=null;const s=Pl(t).position==="fixed";let a=s?Ih(t):t;for(;kl(a)&&!x_(a);){const o=Pl(a),l=DO(a);!l&&o.position==="fixed"&&(r=null),(s?!l&&!r:!l&&o.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||t1(a)&&!l&&c9(t,a))?i=i.filter(p=>p!==a):r=o,a=Ih(a)}return e.set(t,i),i}function zue(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const a=[...n==="clippingAncestors"?xC(e)?[]:Bue(e,this._c):[].concat(n),i],o=a[0],l=a.reduce((f,p)=>{const g=PL(e,p,r);return f.top=Qo(g.top,f.top),f.right=Ah(g.right,f.right),f.bottom=Ah(g.bottom,f.bottom),f.left=Qo(g.left,f.left),f},PL(e,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Hue(t){const{width:e,height:n}=u9(t);return{width:e,height:n}}function Vue(t,e,n){const i=Rc(e),r=Uc(e),s=n==="fixed",a=Rm(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Dh(0);if(i||!i&&!s)if((J_(e)!=="body"||t1(r))&&(o=SC(e)),i){const _=Rm(e,!0,s,e);l.x=_.x+e.clientLeft,l.y=_.y+e.clientTop}else r&&(l.x=oI(r));let f=0,p=0;if(r&&!i&&!s){const _=r.getBoundingClientRect();p=_.top+o.scrollTop,f=_.left+o.scrollLeft-oI(r,_)}const g=a.left+o.scrollLeft-l.x-f,y=a.top+o.scrollTop-l.y-p;return{x:g,y,width:a.width,height:a.height}}function G3(t){return Pl(t).position==="static"}function LL(t,e){if(!Rc(t)||Pl(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Uc(t)===n&&(n=n.ownerDocument.body),n}function f9(t,e){const n=au(t);if(xC(t))return n;if(!Rc(t)){let r=Ih(t);for(;r&&!x_(r);){if(kl(r)&&!G3(r))return r;r=Ih(r)}return n}let i=LL(t,e);for(;i&&Rue(i)&&G3(i);)i=LL(i,e);return i&&x_(i)&&G3(i)&&!DO(i)?n:i||Iue(t)||n}const Gue=async function(t){const e=this.getOffsetParent||f9,n=this.getDimensions,i=await n(t.floating);return{reference:Vue(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Wue(t){return Pl(t).direction==="rtl"}const jue={convertOffsetParentRelativeRectToViewportRelativeRect:kue,getDocumentElement:Uc,getClippingRect:zue,getOffsetParent:f9,getElementRects:Gue,getClientRects:Pue,getDimensions:Hue,getScale:Jg,isElement:kl,isRTL:Wue};function que(t,e){let n=null,i;const r=Uc(t);function s(){var o;clearTimeout(i),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const{left:f,top:p,width:g,height:y}=t.getBoundingClientRect();if(o||e(),!g||!y)return;const _=xE(p),x=xE(r.clientWidth-(f+g)),S=xE(r.clientHeight-(p+y)),E=xE(f),C={rootMargin:-_+"px "+-x+"px "+-S+"px "+-E+"px",threshold:Qo(0,Ah(1,l))||1};let A=!0;function R(N){const O=N[0].intersectionRatio;if(O!==l){if(!A)return a();O?a(!1,O):i=setTimeout(()=>{a(!1,1e-7)},1e3)}A=!1}try{n=new IntersectionObserver(R,{...C,root:r.ownerDocument})}catch{n=new IntersectionObserver(R,C)}n.observe(t)}return a(!0),s}function $ue(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,f=IO(t),p=r||s?[...f?nx(f):[],...nx(e)]:[];p.forEach(w=>{r&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const g=f&&o?que(f,n):null;let y=-1,_=null;a&&(_=new ResizeObserver(w=>{let[C]=w;C&&C.target===f&&_&&(_.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var A;(A=_)==null||A.observe(e)})),n()}),f&&!l&&_.observe(f),_.observe(e));let x,S=l?Rm(t):null;l&&E();function E(){const w=Rm(t);S&&(w.x!==S.x||w.y!==S.y||w.width!==S.width||w.height!==S.height)&&n(),S=w,x=requestAnimationFrame(E)}return n(),()=>{var w;p.forEach(C=>{r&&C.removeEventListener("scroll",n),s&&C.removeEventListener("resize",n)}),g?.(),(w=_)==null||w.disconnect(),_=null,l&&cancelAnimationFrame(x)}}const Xue=Mue,Yue=Cue,Zue=Eue,Kue=Due,Que=wue,FL=Sue,Jue=Aue,ele=(t,e,n)=>{const i=new Map,r={platform:jue,...n},s={...r.platform,_c:i};return xue(t,e,{...r,platform:s})};var jw=typeof document<"u"?U.useLayoutEffect:U.useEffect;function PT(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!PT(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!PT(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function d9(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function UL(t,e){const n=d9(t);return Math.round(e*n)/n}function W3(t){const e=U.useRef(t);return jw(()=>{e.current=t}),e}function tle(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:f}=t,[p,g]=U.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,_]=U.useState(i);PT(y,i)||_(i);const[x,S]=U.useState(null),[E,w]=U.useState(null),C=U.useCallback(te=>{te!==O.current&&(O.current=te,S(te))},[]),A=U.useCallback(te=>{te!==P.current&&(P.current=te,w(te))},[]),R=s||x,N=a||E,O=U.useRef(null),P=U.useRef(null),z=U.useRef(p),k=l!=null,F=W3(l),G=W3(r),$=W3(f),ee=U.useCallback(()=>{if(!O.current||!P.current)return;const te={placement:e,strategy:n,middleware:y};G.current&&(te.platform=G.current),ele(O.current,P.current,te).then(se=>{const Z={...se,isPositioned:$.current!==!1};ne.current&&!PT(z.current,Z)&&(z.current=Z,Xm.flushSync(()=>{g(Z)}))})},[y,e,n,G,$]);jw(()=>{f===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,g(te=>({...te,isPositioned:!1})))},[f]);const ne=U.useRef(!1);jw(()=>(ne.current=!0,()=>{ne.current=!1}),[]),jw(()=>{if(R&&(O.current=R),N&&(P.current=N),R&&N){if(F.current)return F.current(R,N,ee);ee()}},[R,N,ee,F,k]);const re=U.useMemo(()=>({reference:O,floating:P,setReference:C,setFloating:A}),[C,A]),W=U.useMemo(()=>({reference:R,floating:N}),[R,N]),q=U.useMemo(()=>{const te={position:n,left:0,top:0};if(!W.floating)return te;const se=UL(W.floating,p.x),Z=UL(W.floating,p.y);return o?{...te,transform:"translate("+se+"px, "+Z+"px)",...d9(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:Z}},[n,o,W.floating,p.x,p.y]);return U.useMemo(()=>({...p,update:ee,refs:re,elements:W,floatingStyles:q}),[p,ee,re,W,q])}const nle=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?FL({element:i.current,padding:r}).fn(n):{}:i?FL({element:i,padding:r}).fn(n):{}}}},ile=(t,e)=>({...Xue(t),options:[t,e]}),rle=(t,e)=>({...Yue(t),options:[t,e]}),sle=(t,e)=>({...Jue(t),options:[t,e]}),ale=(t,e)=>({...Zue(t),options:[t,e]}),ole=(t,e)=>({...Kue(t),options:[t,e]}),ule=(t,e)=>({...Que(t),options:[t,e]}),lle=(t,e)=>({...nle(t),options:[t,e]});var cle="Arrow",h9=U.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return V.jsx(Si.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:V.jsx("polygon",{points:"0,0 30,0 15,10"})})});h9.displayName=cle;var fle=h9;function dle(t){const[e,n]=U.useState(void 0);return Ps(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,f=Array.isArray(l)?l[0]:l;a=f.inlineSize,o=f.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var NO="Popper",[p9,EC]=Yx(NO),[hle,m9]=p9(NO),g9=t=>{const{__scopePopper:e,children:n}=t,[i,r]=U.useState(null);return V.jsx(hle,{scope:e,anchor:i,onAnchorChange:r,children:n})};g9.displayName=NO;var _9="PopperAnchor",y9=U.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=m9(_9,n),a=U.useRef(null),o=sr(e,a),l=U.useRef(null);return U.useEffect(()=>{const f=l.current;l.current=i?.current||a.current,f!==l.current&&s.onAnchorChange(l.current)}),i?null:V.jsx(Si.div,{...r,ref:o})});y9.displayName=_9;var OO="PopperContent",[ple,mle]=p9(OO),v9=U.forwardRef((t,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:_="optimized",onPlaced:x,...S}=t,E=m9(OO,n),[w,C]=U.useState(null),A=sr(e,fe=>C(fe)),[R,N]=U.useState(null),O=dle(R),P=O?.width??0,z=O?.height??0,k=i+(s!=="center"?"-"+s:""),F=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},G=Array.isArray(f)?f:[f],$=G.length>0,ee={padding:F,boundary:G.filter(_le),altBoundary:$},{refs:ne,floatingStyles:re,placement:W,isPositioned:q,middlewareData:te}=tle({strategy:"fixed",placement:k,whileElementsMounted:(...fe)=>$ue(...fe,{animationFrame:_==="always"}),elements:{reference:E.anchor},middleware:[ile({mainAxis:r+z,alignmentAxis:a}),l&&rle({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?sle():void 0,...ee}),l&&ale({...ee}),ole({...ee,apply:({elements:fe,rects:He,availableWidth:Xe,availableHeight:Ye})=>{const{width:bt,height:Ct}=He.reference,at=fe.floating.style;at.setProperty("--radix-popper-available-width",`${Xe}px`),at.setProperty("--radix-popper-available-height",`${Ye}px`),at.setProperty("--radix-popper-anchor-width",`${bt}px`),at.setProperty("--radix-popper-anchor-height",`${Ct}px`)}}),R&&lle({element:R,padding:o}),yle({arrowWidth:P,arrowHeight:z}),y&&ule({strategy:"referenceHidden",...ee})]}),[se,Z]=S9(W),j=Js(x);Ps(()=>{q&&j?.()},[q,j]);const ue=te.arrow?.x,ge=te.arrow?.y,Se=te.arrow?.centerOffset!==0,[Fe,ve]=U.useState();return Ps(()=>{w&&ve(window.getComputedStyle(w).zIndex)},[w]),V.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:q?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[te.transformOrigin?.x,te.transformOrigin?.y].join(" "),...te.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:V.jsx(ple,{scope:n,placedSide:se,onArrowChange:N,arrowX:ue,arrowY:ge,shouldHideArrow:Se,children:V.jsx(Si.div,{"data-side":se,"data-align":Z,...S,ref:A,style:{...S.style,animation:q?void 0:"none"}})})})});v9.displayName=OO;var b9="PopperArrow",gle={top:"bottom",right:"left",bottom:"top",left:"right"},x9=U.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=mle(b9,i),a=gle[s.placedSide];return V.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:V.jsx(fle,{...r,ref:n,style:{...r.style,display:"block"}})})});x9.displayName=b9;function _le(t){return t!==null}var yle=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:i,middlewareData:r}=e,a=r.arrow?.centerOffset!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[f,p]=S9(n),g={start:"0%",center:"50%",end:"100%"}[p],y=(r.arrow?.x??0)+o/2,_=(r.arrow?.y??0)+l/2;let x="",S="";return f==="bottom"?(x=a?g:`${y}px`,S=`${-l}px`):f==="top"?(x=a?g:`${y}px`,S=`${i.floating.height+l}px`):f==="right"?(x=`${-l}px`,S=a?g:`${_}px`):f==="left"&&(x=`${i.floating.width+l}px`,S=a?g:`${_}px`),{data:{x,y:S}}}});function S9(t){const[e,n="center"]=t.split("-");return[e,n]}var vle=g9,E9=y9,w9=v9,T9=x9,ble=Symbol("radix.slottable");function xle(t){const e=({children:n})=>V.jsx(V.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=ble,e}var[wC]=Yx("Tooltip",[EC]),kO=EC(),M9="TooltipProvider",Sle=700,BL="tooltip.open",[Ele,C9]=wC(M9),A9=t=>{const{__scopeTooltip:e,delayDuration:n=Sle,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=t,a=U.useRef(!0),o=U.useRef(!1),l=U.useRef(0);return U.useEffect(()=>{const f=l.current;return()=>window.clearTimeout(f)},[]),V.jsx(Ele,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:U.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:U.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,i)},[i]),isPointerInTransitRef:o,onPointerInTransitChange:U.useCallback(f=>{o.current=f},[]),disableHoverableContent:r,children:s})};A9.displayName=M9;var D9="Tooltip",[pwe,TC]=wC(D9),uI="TooltipTrigger",wle=U.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=TC(uI,n),s=C9(uI,n),a=kO(n),o=U.useRef(null),l=sr(e,o,r.onTriggerChange),f=U.useRef(!1),p=U.useRef(!1),g=U.useCallback(()=>f.current=!1,[]);return U.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),V.jsx(E9,{asChild:!0,...a,children:V.jsx(Si.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:Un(t.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),p.current=!0)}),onPointerLeave:Un(t.onPointerLeave,()=>{r.onTriggerLeave(),p.current=!1}),onPointerDown:Un(t.onPointerDown,()=>{r.open&&r.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Un(t.onFocus,()=>{f.current||r.onOpen()}),onBlur:Un(t.onBlur,r.onClose),onClick:Un(t.onClick,r.onClose)})})});wle.displayName=uI;var Tle="TooltipPortal",[mwe,Mle]=wC(Tle,{forceMount:void 0}),S_="TooltipContent",R9=U.forwardRef((t,e)=>{const n=Mle(S_,t.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...s}=t,a=TC(S_,t.__scopeTooltip);return V.jsx(cO,{present:i||a.open,children:a.disableHoverableContent?V.jsx(I9,{side:r,...s,ref:e}):V.jsx(Cle,{side:r,...s,ref:e})})}),Cle=U.forwardRef((t,e)=>{const n=TC(S_,t.__scopeTooltip),i=C9(S_,t.__scopeTooltip),r=U.useRef(null),s=sr(e,r),[a,o]=U.useState(null),{trigger:l,onClose:f}=n,p=r.current,{onPointerInTransitChange:g}=i,y=U.useCallback(()=>{o(null),g(!1)},[g]),_=U.useCallback((x,S)=>{const E=x.currentTarget,w={x:x.clientX,y:x.clientY},C=Nle(w,E.getBoundingClientRect()),A=Ole(w,C),R=kle(S.getBoundingClientRect()),N=Lle([...A,...R]);o(N),g(!0)},[g]);return U.useEffect(()=>()=>y(),[y]),U.useEffect(()=>{if(l&&p){const x=E=>_(E,p),S=E=>_(E,l);return l.addEventListener("pointerleave",x),p.addEventListener("pointerleave",S),()=>{l.removeEventListener("pointerleave",x),p.removeEventListener("pointerleave",S)}}},[l,p,_,y]),U.useEffect(()=>{if(a){const x=S=>{const E=S.target,w={x:S.clientX,y:S.clientY},C=l?.contains(E)||p?.contains(E),A=!Ple(w,a);C?y():A&&(y(),f())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,p,a,f,y]),V.jsx(I9,{...t,ref:s})}),[Ale,Dle]=wC(D9,{isInside:!1}),Rle=xle("TooltipContent"),I9=U.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,l=TC(S_,n),f=kO(n),{onClose:p}=l;return U.useEffect(()=>(document.addEventListener(BL,p),()=>document.removeEventListener(BL,p)),[p]),U.useEffect(()=>{if(l.trigger){const g=y=>{y.target?.contains(l.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[l.trigger,p]),V.jsx(i9,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:V.jsxs(w9,{"data-state":l.stateAttribute,...f,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[V.jsx(Rle,{children:i}),V.jsx(Ale,{scope:n,isInside:!0,children:V.jsx(Dne,{id:l.contentId,role:"tooltip",children:r||i})})]})})});R9.displayName=S_;var N9="TooltipArrow",Ile=U.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=kO(n);return Dle(N9,n).isInside?null:V.jsx(T9,{...r,...i,ref:e})});Ile.displayName=N9;function Nle(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,i,r,s)){case s:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function Ole(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function kle(t){const{top:e,right:n,bottom:i,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:i},{x:r,y:i}]}function Ple(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],f=o.x,p=o.y,g=l.x,y=l.y;p>i!=y>i&&n<(g-f)*(i-p)/(y-p)+f&&(r=!r)}return r}function Lle(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),Fle(e)}function Fle(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const r=t[i];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const r=t[i];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(r.y-a.y)>=(s.y-a.y)*(r.x-a.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Ule=A9,O9=R9;const Ble=Ule,zle=U.forwardRef(({className:t,sideOffset:e=4,...n},i)=>V.jsx(O9,{ref:i,sideOffset:e,className:Wr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));zle.displayName=O9.displayName;var n1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hle={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Vle=class{#e=Hle;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},am=new Vle;function Gle(t){setTimeout(t,0)}var Im=typeof window>"u"||"Deno"in globalThis;function Co(){}function Wle(t,e){return typeof t=="function"?t(e):t}function lI(t){return typeof t=="number"&&t>=0&&t!==1/0}function k9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gh(t,e){return typeof t=="function"?t(e):t}function Vu(t,e){return typeof t=="function"?t(e):t}function zL(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:a,stale:o}=t;if(a){if(i){if(e.queryHash!==PO(a,e.options))return!1}else if(!rx(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||r&&r!==e.state.fetchStatus||s&&!s(e))}function HL(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ix(e.options.mutationKey)!==ix(s))return!1}else if(!rx(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function PO(t,e){return(e?.queryKeyHashFn||ix)(t)}function ix(t){return JSON.stringify(t,(e,n)=>fI(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function rx(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>rx(t[n],e[n])):!1}var jle=Object.prototype.hasOwnProperty;function P9(t,e,n=0){if(t===e)return t;if(n>500)return e;const i=VL(t)&&VL(e);if(!i&&!(fI(t)&&fI(e)))return e;const s=(i?t:Object.keys(t)).length,a=i?e:Object.keys(e),o=a.length,l=i?new Array(o):{};let f=0;for(let p=0;p<o;p++){const g=i?p:a[p],y=t[g],_=e[g];if(y===_){l[g]=y,(i?p<s:jle.call(t,g))&&f++;continue}if(y===null||_===null||typeof y!="object"||typeof _!="object"){l[g]=_;continue}const x=P9(y,_,n+1);l[g]=x,x===y&&f++}return s===o&&f===s?t:l}function cI(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function VL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fI(t){if(!GL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!GL(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function GL(t){return Object.prototype.toString.call(t)==="[object Object]"}function qle(t){return new Promise(e=>{am.setTimeout(e,t)})}function dI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?P9(t,e):e}function $le(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function Xle(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var LO=Symbol();function L9(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===LO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function F9(t,e){return typeof t=="function"?t(...e):!!t}function Yle(t,e,n){let i=!1,r;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(r??=e(),i||(i=!0,r.aborted?n():r.addEventListener("abort",n,{once:!0})),r)}),t}var Zle=class extends n1{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Im&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},FO=new Zle;function hI(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}var Kle=Gle;function Qle(){let t=[],e=0,n=o=>{o()},i=o=>{o()},r=Kle;const s=o=>{e?t.push(o):r(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&r(()=>{i(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{i=o},setScheduler:o=>{r=o}}}var Xs=Qle(),Jle=class extends n1{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Im&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},LT=new Jle;function ece(t){return Math.min(1e3*2**t,3e4)}function U9(t){return(t??"online")==="online"?LT.isOnline():!0}var pI=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function B9(t){let e=!1,n=0,i;const r=hI(),s=()=>r.status!=="pending",a=S=>{if(!s()){const E=new pI(S);y(E),t.onCancel?.(E)}},o=()=>{e=!0},l=()=>{e=!1},f=()=>FO.isFocused()&&(t.networkMode==="always"||LT.isOnline())&&t.canRun(),p=()=>U9(t.networkMode)&&t.canRun(),g=S=>{s()||(i?.(),r.resolve(S))},y=S=>{s()||(i?.(),r.reject(S))},_=()=>new Promise(S=>{i=E=>{(s()||f())&&S(E)},t.onPause?.()}).then(()=>{i=void 0,s()||t.onContinue?.()}),x=()=>{if(s())return;let S;const E=n===0?t.initialPromise:void 0;try{S=E??t.fn()}catch(w){S=Promise.reject(w)}Promise.resolve(S).then(g).catch(w=>{if(s())return;const C=t.retry??(Im?0:3),A=t.retryDelay??ece,R=typeof A=="function"?A(n,w):A,N=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,w);if(e||!N){y(w);return}n++,t.onFail?.(n,w),qle(R).then(()=>f()?void 0:_()).then(()=>{e?y(w):x()})})};return{promise:r,status:()=>r.status,cancel:a,continue:()=>(i?.(),r),cancelRetry:o,continueRetry:l,canStart:p,start:()=>(p()?x():_().then(x),r)}}var z9=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lI(this.gcTime)&&(this.#e=am.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Im?1/0:300*1e3))}clearGcTimeout(){this.#e&&(am.clearTimeout(this.#e),this.#e=void 0)}},tce=class extends z9{#e;#t;#n;#r;#i;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=jL(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=jL(this.options);e.data!==void 0&&(this.setState(WL(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=dI(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Co).catch(Co):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Vu(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===LO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>gh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!k9(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,i=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},r=()=>{const o=L9(this.options,e),f=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(p),p})();return this.#a=!1,this.options.persister?this.options.persister(o,f,this):o(f)},a=(()=>{const o={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};return i(o),o})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#i=B9({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof pI&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(o,l)=>{this.#s({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#i.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#n.config.onSuccess?.(o,this),this.#n.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof pI){if(o.silent)return this.#i.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#s({type:"error",error:o}),this.#n.config.onError?.(o,this),this.#n.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...H9(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...WL(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?i:void 0,i;case"error":const r=t.error;return{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Xs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function H9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:U9(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function WL(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function jL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var nce=class extends n1{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#a=hI(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#m;#d;#h;#l;#c;#u;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),qL(this.#t,this.options)?this.#f():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mI(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mI(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vu(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),e._defaulted&&!cI(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&$L(this.#t,n,this.options,e)&&this.#f(),this.updateResult(),i&&(this.#t!==n||Vu(this.options.enabled,this.#t)!==Vu(e.enabled,this.#t)||gh(this.options.staleTime,this.#t)!==gh(e.staleTime,this.#t))&&this.#g();const r=this.#_();i&&(this.#t!==n||Vu(this.options.enabled,this.#t)!==Vu(e.enabled,this.#t)||r!==this.#u)&&this.#y(r)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return rce(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#f(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Co)),e}#g(){this.#b();const t=gh(this.options.staleTime,this.#t);if(Im||this.#r.isStale||!lI(t))return;const n=k9(this.#r.dataUpdatedAt,t)+1;this.#l=am.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#_(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#x(),this.#u=t,!(Im||Vu(this.options.enabled,this.#t)===!1||!lI(this.#u)||this.#u===0)&&(this.#c=am.setInterval(()=>{(this.options.refetchIntervalInBackground||FO.isFocused())&&this.#f()},this.#u))}#v(){this.#g(),this.#y(this.#_())}#b(){this.#l&&(am.clearTimeout(this.#l),this.#l=void 0)}#x(){this.#c&&(am.clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#t,i=this.options,r=this.#r,s=this.#i,a=this.#o,l=t!==n?t.state:this.#n,{state:f}=t;let p={...f},g=!1,y;if(e._optimisticResults){const z=this.hasListeners(),k=!z&&qL(t,e),F=z&&$L(t,n,e,i);(k||F)&&(p={...p,...H9(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:_,errorUpdatedAt:x,status:S}=p;y=p.data;let E=!1;if(e.placeholderData!==void 0&&y===void 0&&S==="pending"){let z;r?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(z=r.data,E=!0):z=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,z!==void 0&&(S="success",y=dI(r?.data,z,e),g=!0)}if(e.select&&y!==void 0&&!E)if(r&&y===s?.data&&e.select===this.#m)y=this.#d;else try{this.#m=e.select,y=e.select(y),y=dI(r?.data,y,e),this.#d=y,this.#s=null}catch(z){this.#s=z}this.#s&&(_=this.#s,y=this.#d,x=Date.now(),S="error");const w=p.fetchStatus==="fetching",C=S==="pending",A=S==="error",R=C&&w,N=y!==void 0,P={status:S,fetchStatus:p.fetchStatus,isPending:C,isSuccess:S==="success",isError:A,isInitialLoading:R,isLoading:R,data:y,dataUpdatedAt:p.dataUpdatedAt,error:_,errorUpdatedAt:x,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>l.dataUpdateCount||p.errorUpdateCount>l.errorUpdateCount,isFetching:w,isRefetching:w&&!C,isLoadingError:A&&!N,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:A&&N,isStale:UO(t,e),refetch:this.refetch,promise:this.#a,isEnabled:Vu(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const z=P.data!==void 0,k=P.status==="error"&&!z,F=ee=>{k?ee.reject(P.error):z&&ee.resolve(P.data)},G=()=>{const ee=this.#a=P.promise=hI();F(ee)},$=this.#a;switch($.status){case"pending":t.queryHash===n.queryHash&&F($);break;case"fulfilled":(k||P.data!==$.value)&&G();break;case"rejected":(!k||P.error!==$.reason)&&G();break}}return P}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#t),cI(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,r=typeof i=="function"?i():i;if(r==="all"||!r&&!this.#p.size)return!0;const s=new Set(r??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(a=>{const o=a;return this.#r[o]!==t[o]&&s.has(o)})};this.#E({listeners:n()})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#E(t){Xs.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function ice(t,e){return Vu(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qL(t,e){return ice(t,e)||t.state.data!==void 0&&mI(t,e,e.refetchOnMount)}function mI(t,e,n){if(Vu(e.enabled,t)!==!1&&gh(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&UO(t,e)}return!1}function $L(t,e,n,i){return(t!==e||Vu(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&UO(t,n)}function UO(t,e){return Vu(e.enabled,t)!==!1&&t.isStaleByTime(gh(e.staleTime,t))}function rce(t,e){return!cI(t.getCurrentResult(),e)}function XL(t){return{onFetch:(e,n)=>{const i=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const f=async()=>{let p=!1;const g=x=>{Yle(x,()=>e.signal,()=>p=!0)},y=L9(e.options,e.fetchOptions),_=async(x,S,E)=>{if(p)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const C=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:S,direction:E?"backward":"forward",meta:e.options.meta};return g(O),O})(),A=await y(C),{maxPages:R}=e.options,N=E?Xle:$le;return{pages:N(x.pages,A,R),pageParams:N(x.pageParams,S,R)}};if(r&&s.length){const x=r==="backward",S=x?sce:YL,E={pages:s,pageParams:a},w=S(i,E);o=await _(E,w,x)}else{const x=t??s.length;do{const S=l===0?a[0]??i.initialPageParam:YL(i,o);if(l>0&&S==null)break;o=await _(o,S),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function YL(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function sce(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var ace=class extends z9{#e;#t;#n;#r;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||oce(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=B9({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#i({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",r=!this.#r.canStart();try{if(i)e();else{this.#i({type:"pending",variables:t,isPaused:r}),this.#n.config.onMutate&&await this.#n.config.onMutate(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#i({type:"pending",context:a,variables:t,isPaused:r})}const s=await this.#r.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#i({type:"success",data:s}),s}catch(s){try{await this.#n.config.onError?.(s,t,this.state.context,this,n)}catch(a){Promise.reject(a)}try{await this.options.onError?.(s,t,this.state.context,n)}catch(a){Promise.reject(a)}try{await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,s,t,this.state.context,n)}catch(a){Promise.reject(a)}throw this.#i({type:"error",error:s}),s}finally{this.#n.runNext(this)}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Xs.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function oce(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var uce=class extends n1{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new ace({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=SE(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=SE(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=SE(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(r=>r.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=SE(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Xs.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>HL(e,n))}findAll(t={}){return this.getAll().filter(e=>HL(t,e))}notify(t){Xs.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Xs.batch(()=>Promise.all(t.map(e=>e.continue().catch(Co))))}};function SE(t){return t.options.scope?.id}var lce=class extends n1{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,r=e.queryHash??PO(i,e);let s=this.get(r);return s||(s=new tce({client:t,queryKey:i,queryHash:r,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>zL(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>zL(t,n)):e}notify(t){Xs.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Xs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cce=class{#e;#t;#n;#r;#i;#o;#a;#s;constructor(t={}){this.#e=t.queryCache||new lce,this.#t=t.mutationCache||new uce,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=FO.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=LT.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(gh(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(i.queryHash)?.state.data,a=Wle(e,s);if(a!==void 0)return this.#e.build(this,i).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Xs.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Xs.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Xs.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=Xs.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(Co).catch(Co)}invalidateQueries(t,e={}){return Xs.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Xs.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(Co)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Co)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(gh(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Co).catch(Co)}fetchInfiniteQuery(t){return t.behavior=XL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Co).catch(Co)}ensureInfiniteQueryData(t){return t.behavior=XL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return LT.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(ix(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{rx(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(ix(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{rx(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=PO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===LO&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},V9=U.createContext(void 0),fce=t=>{const e=U.useContext(V9);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},dce=({client:t,children:e})=>(U.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),V.jsx(V9.Provider,{value:t,children:e})),G9=U.createContext(!1),hce=()=>U.useContext(G9);G9.Provider;function pce(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var mce=U.createContext(pce()),gce=()=>U.useContext(mce),_ce=(t,e,n)=>{const i=n?.state.error&&typeof t.throwOnError=="function"?F9(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||i)&&(e.isReset()||(t.retryOnMount=!1))},yce=t=>{U.useEffect(()=>{t.clearReset()},[t])},vce=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(r&&t.data===void 0||F9(n,[t.error,i])),bce=t=>{if(t.suspense){const n=r=>r==="static"?r:Math.max(r??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...r)=>n(i(...r)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},xce=(t,e)=>t.isLoading&&t.isFetching&&!e,Sce=(t,e)=>t?.suspense&&e.isPending,ZL=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Ece(t,e,n){const i=hce(),r=gce(),s=fce(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=i?"isRestoring":"optimistic",bce(a),_ce(a,r,o),yce(r);const l=!s.getQueryCache().get(a.queryHash),[f]=U.useState(()=>new e(s,a)),p=f.getOptimisticResult(a),g=!i&&t.subscribed!==!1;if(U.useSyncExternalStore(U.useCallback(y=>{const _=g?f.subscribe(Xs.batchCalls(y)):Co;return f.updateResult(),_},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),U.useEffect(()=>{f.setOptions(a)},[a,f]),Sce(a,p))throw ZL(a,f,r);if(vce({result:p,errorResetBoundary:r,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw p.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,p),a.experimental_prefetchInRender&&!Im&&xce(p,i)&&(l?ZL(a,f,r):o?.promise)?.catch(Co).finally(()=>{f.updateResult()}),a.notifyOnChangeProps?p:f.trackResult(p)}function gI(t,e){return Ece(t,nce)}function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},sx.apply(this,arguments)}var ah;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ah||(ah={}));const KL="popstate";function wce(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return _I("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:FT(r)}return Mce(e,n,null,t)}function cs(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BO(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tce(){return Math.random().toString(36).substr(2,8)}function QL(t,e){return{usr:t.state,key:t.key,idx:e}}function _I(t,e,n,i){return n===void 0&&(n=null),sx({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ey(e):e,{state:n,key:e&&e.key||i||Tce()})}function FT(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ey(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Mce(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o=ah.Pop,l=null,f=p();f==null&&(f=0,a.replaceState(sx({},a.state,{idx:f}),""));function p(){return(a.state||{idx:null}).idx}function g(){o=ah.Pop;let E=p(),w=E==null?null:E-f;f=E,l&&l({action:o,location:S.location,delta:w})}function y(E,w){o=ah.Push;let C=_I(S.location,E,w);f=p()+1;let A=QL(C,f),R=S.createHref(C);try{a.pushState(A,"",R)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(R)}s&&l&&l({action:o,location:S.location,delta:1})}function _(E,w){o=ah.Replace;let C=_I(S.location,E,w);f=p();let A=QL(C,f),R=S.createHref(C);a.replaceState(A,"",R),s&&l&&l({action:o,location:S.location,delta:0})}function x(E){let w=r.location.origin!=="null"?r.location.origin:r.location.href,C=typeof E=="string"?E:FT(E);return C=C.replace(/ $/,"%20"),cs(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let S={get action(){return o},get location(){return t(r,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(KL,g),l=E,()=>{r.removeEventListener(KL,g),l=null}},createHref(E){return e(r,E)},createURL:x,encodeLocation(E){let w=x(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:_,go(E){return a.go(E)}};return S}var JL;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(JL||(JL={}));function Cce(t,e,n){return n===void 0&&(n="/"),Ace(t,e,n)}function Ace(t,e,n,i){let r=typeof e=="string"?ey(e):e,s=zO(r.pathname||"/",n);if(s==null)return null;let a=W9(t);Dce(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let f=Hce(s);o=Uce(a[l],f)}return o}function W9(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(cs(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let f=_h([i,l.relativePath]),p=n.concat(l);s.children&&s.children.length>0&&(cs(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),W9(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:Lce(f,s.index),routesMeta:p})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let l of j9(s.path))r(s,a,l)}),e}function j9(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=j9(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Dce(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Fce(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const Rce=/^:[\w-]+$/,Ice=3,Nce=2,Oce=1,kce=10,Pce=-2,e4=t=>t==="*";function Lce(t,e){let n=t.split("/"),i=n.length;return n.some(e4)&&(i+=Pce),e&&(i+=Nce),n.filter(r=>!e4(r)).reduce((r,s)=>r+(Rce.test(s)?Ice:s===""?Oce:kce),i)}function Fce(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Uce(t,e,n){let{routesMeta:i}=t,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],f=o===i.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=Bce({path:l.relativePath,caseSensitive:l.caseSensitive,end:f},p),y=l.route;if(!g)return null;Object.assign(r,g.params),a.push({params:r,pathname:_h([s,g.pathname]),pathnameBase:qce(_h([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=_h([s,g.pathnameBase]))}return a}function Bce(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=zce(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((f,p,g)=>{let{paramName:y,isOptional:_}=p;if(y==="*"){let S=o[g]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=o[g];return _&&!x?f[y]=void 0:f[y]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function zce(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),BO(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Hce(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return BO(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const Vce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gce=t=>Vce.test(t);function Wce(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ey(t):t,s;if(n)if(Gce(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),BO(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=t4(n.substring(1),"/"):s=t4(n,e)}else s=e;return{pathname:s,search:$ce(i),hash:Xce(r)}}function t4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function j3(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jce(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function q9(t,e){let n=jce(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function $9(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=ey(t):(r=sx({},t),cs(!r.pathname||!r.pathname.includes("?"),j3("?","pathname","search",r)),cs(!r.pathname||!r.pathname.includes("#"),j3("#","pathname","hash",r)),cs(!r.search||!r.search.includes("#"),j3("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=n;else{let g=e.length-1;if(!i&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}o=g>=0?e[g]:"/"}let l=Wce(r,o),f=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(f||p)&&(l.pathname+="/"),l}const _h=t=>t.join("/").replace(/\/\/+/g,"/"),qce=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$ce=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Xce=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Yce(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const X9=["post","put","patch","delete"];new Set(X9);const Zce=["get",...X9];new Set(Zce);function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ax.apply(this,arguments)}const HO=U.createContext(null),Kce=U.createContext(null),Ym=U.createContext(null),MC=U.createContext(null),Vh=U.createContext({outlet:null,matches:[],isDataRoute:!1}),Y9=U.createContext(null);function Qce(t,e){let{relative:n}=e===void 0?{}:e;i1()||cs(!1);let{basename:i,navigator:r}=U.useContext(Ym),{hash:s,pathname:a,search:o}=Q9(t,{relative:n}),l=a;return i!=="/"&&(l=a==="/"?i:_h([i,a])),r.createHref({pathname:l,search:o,hash:s})}function i1(){return U.useContext(MC)!=null}function r1(){return i1()||cs(!1),U.useContext(MC).location}function Z9(t){U.useContext(Ym).static||U.useLayoutEffect(t)}function K9(){let{isDataRoute:t}=U.useContext(Vh);return t?dfe():Jce()}function Jce(){i1()||cs(!1);let t=U.useContext(HO),{basename:e,future:n,navigator:i}=U.useContext(Ym),{matches:r}=U.useContext(Vh),{pathname:s}=r1(),a=JSON.stringify(q9(r,n.v7_relativeSplatPath)),o=U.useRef(!1);return Z9(()=>{o.current=!0}),U.useCallback(function(f,p){if(p===void 0&&(p={}),!o.current)return;if(typeof f=="number"){i.go(f);return}let g=$9(f,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:_h([e,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[e,i,a,s,t])}function efe(){let{matches:t}=U.useContext(Vh),e=t[t.length-1];return e?e.params:{}}function Q9(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=U.useContext(Ym),{matches:r}=U.useContext(Vh),{pathname:s}=r1(),a=JSON.stringify(q9(r,i.v7_relativeSplatPath));return U.useMemo(()=>$9(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function tfe(t,e){return nfe(t,e)}function nfe(t,e,n,i){i1()||cs(!1);let{navigator:r}=U.useContext(Ym),{matches:s}=U.useContext(Vh),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let f=r1(),p;if(e){var g;let E=typeof e=="string"?ey(e):e;l==="/"||(g=E.pathname)!=null&&g.startsWith(l)||cs(!1),p=E}else p=f;let y=p.pathname||"/",_=y;if(l!=="/"){let E=l.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=Cce(t,{pathname:_}),S=ofe(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:_h([l,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:_h([l,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,i);return e&&S?U.createElement(MC.Provider,{value:{location:ax({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ah.Pop}},S):S}function ife(){let t=ffe(),e=Yce(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:r},n):null,null)}const rfe=U.createElement(ife,null);class sfe extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Vh.Provider,{value:this.props.routeContext},U.createElement(Y9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function afe(t){let{routeContext:e,match:n,children:i}=t,r=U.useContext(HO);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Vh.Provider,{value:e},i)}function ofe(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let p=a.findIndex(g=>g.route.id&&o?.[g.route.id]!==void 0);p>=0||cs(!1),a=a.slice(0,Math.min(a.length,p+1))}let l=!1,f=-1;if(n&&i&&i.v7_partialHydration)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:y,errors:_}=n,x=g.route.loader&&y[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||x){l=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,g,y)=>{let _,x=!1,S=null,E=null;n&&(_=o&&g.route.id?o[g.route.id]:void 0,S=g.route.errorElement||rfe,l&&(f<0&&y===0?(hfe("route-fallback"),x=!0,E=null):f===y&&(x=!0,E=g.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,y+1)),C=()=>{let A;return _?A=S:x?A=E:g.route.Component?A=U.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=p,U.createElement(afe,{match:g,routeContext:{outlet:p,matches:w,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?U.createElement(sfe,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var J9=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(J9||{}),e7=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(e7||{});function ufe(t){let e=U.useContext(HO);return e||cs(!1),e}function lfe(t){let e=U.useContext(Kce);return e||cs(!1),e}function cfe(t){let e=U.useContext(Vh);return e||cs(!1),e}function t7(t){let e=cfe(),n=e.matches[e.matches.length-1];return n.route.id||cs(!1),n.route.id}function ffe(){var t;let e=U.useContext(Y9),n=lfe(),i=t7();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function dfe(){let{router:t}=ufe(J9.UseNavigateStable),e=t7(e7.UseNavigateStable),n=U.useRef(!1);return Z9(()=>{n.current=!0}),U.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,ax({fromRouteId:e},s)))},[t,e])}const n4={};function hfe(t,e,n){n4[t]||(n4[t]=!0)}function pfe(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Fg(t){cs(!1)}function mfe(t){let{basename:e="/",children:n=null,location:i,navigationType:r=ah.Pop,navigator:s,static:a=!1,future:o}=t;i1()&&cs(!1);let l=e.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:l,navigator:s,static:a,future:ax({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=ey(i));let{pathname:p="/",search:g="",hash:y="",state:_=null,key:x="default"}=i,S=U.useMemo(()=>{let E=zO(p,l);return E==null?null:{location:{pathname:E,search:g,hash:y,state:_,key:x},navigationType:r}},[l,p,g,y,_,x,r]);return S==null?null:U.createElement(Ym.Provider,{value:f},U.createElement(MC.Provider,{children:n,value:S}))}function gfe(t){let{children:e,location:n}=t;return tfe(yI(e),n)}new Promise(()=>{});function yI(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(i,r)=>{if(!U.isValidElement(i))return;let s=[...e,r];if(i.type===U.Fragment){n.push.apply(n,yI(i.props.children,s));return}i.type!==Fg&&cs(!1),!i.props.index||!i.props.children||cs(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=yI(i.props.children,s)),n.push(a)}),n}function vI(){return vI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vI.apply(this,arguments)}function _fe(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function yfe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vfe(t,e){return t.button===0&&(!e||e==="_self")&&!yfe(t)}const bfe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xfe="6";try{window.__reactRouterVersion=xfe}catch{}const Sfe="startTransition",i4=cC[Sfe];function Efe(t){let{basename:e,children:n,future:i,window:r}=t,s=U.useRef();s.current==null&&(s.current=wce({window:r,v5Compat:!0}));let a=s.current,[o,l]=U.useState({action:a.action,location:a.location}),{v7_startTransition:f}=i||{},p=U.useCallback(g=>{f&&i4?i4(()=>l(g)):l(g)},[l,f]);return U.useLayoutEffect(()=>a.listen(p),[a,p]),U.useEffect(()=>pfe(i),[i]),U.createElement(mfe,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:i})}const wfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tfe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kf=U.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:o,target:l,to:f,preventScrollReset:p,viewTransition:g}=e,y=_fe(e,bfe),{basename:_}=U.useContext(Ym),x,S=!1;if(typeof f=="string"&&Tfe.test(f)&&(x=f,wfe))try{let A=new URL(window.location.href),R=f.startsWith("//")?new URL(A.protocol+f):new URL(f),N=zO(R.pathname,_);R.origin===A.origin&&N!=null?f=N+R.search+R.hash:S=!0}catch{}let E=Qce(f,{relative:r}),w=Mfe(f,{replace:a,state:o,target:l,preventScrollReset:p,relative:r,viewTransition:g});function C(A){i&&i(A),A.defaultPrevented||w(A)}return U.createElement("a",vI({},y,{href:x||E,onClick:S||s?i:C,ref:n,target:l}))});var r4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(r4||(r4={}));var s4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(s4||(s4={}));function Mfe(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=K9(),f=r1(),p=Q9(t,{relative:a});return U.useCallback(g=>{if(vfe(g,n)){g.preventDefault();let y=i!==void 0?i:FT(f)===FT(p);l(t,{replace:y,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[f,l,p,i,r,n,t,s,a,o])}const Cfe="#181717",n7=U.forwardRef(function({title:e="GitHub",color:n="currentColor",size:i=24,...r},s){return n==="default"&&(n=Cfe),V.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,fill:n,viewBox:"0 0 24 24",ref:s,...r,children:[V.jsx("title",{children:e}),V.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})]})}),i7=({className:t,children:e})=>V.jsx("div",{className:Wr("bg-[#0a0a0a] border-2 border-[#333333] p-6 overflow-hidden relative group hover:border-[#ff3333] transition-colors duration-200",t),children:e}),VO=({language:t,className:e})=>V.jsx("span",{className:Wr("inline-flex items-center px-2 py-1 text-xs font-mono border border-[#444444] text-[#888888] hover:border-[#ff3333] hover:text-[#ff3333] transition-colors whitespace-nowrap",e),children:t}),r7=({repo:t})=>V.jsx(i7,{className:"h-full",children:V.jsxs("div",{className:"flex flex-col h-full",children:[V.jsxs("div",{className:"flex items-start justify-between mb-4",children:[V.jsx("h3",{className:"text-lg font-bold text-white hover:text-[#ff3333] transition-colors",children:t.name}),V.jsxs("div",{className:"flex space-x-3",children:[V.jsx("a",{href:t.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-[#666666] hover:text-[#ff3333] transition-colors","aria-label":"GitHub Repository",children:V.jsx(n7,{size:18})}),t.homepage&&V.jsx("a",{href:t.homepage,target:"_blank",rel:"noopener noreferrer",className:"text-[#666666] hover:text-[#ff3333] transition-colors","aria-label":"Live Demo",children:V.jsx(uie,{size:18})})]})]}),V.jsx("p",{className:"text-[#999999] mb-4 flex-grow text-sm",children:t.description||"No description provided."}),V.jsx("div",{className:"mt-auto",children:t.language&&V.jsxs("div",{className:"flex items-center mt-2",children:[V.jsx(VO,{language:t.language}),t.stargazers_count>0&&V.jsxs("span",{className:"ml-4 flex items-center text-sm text-[#666666]",children:[V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 mr-1",children:V.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),t.stargazers_count]}),t.forks_count>0&&V.jsxs("span",{className:"ml-4 flex items-center text-sm text-[#666666]",children:[V.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 mr-1",children:[V.jsx("line",{x1:"6",y1:"3",x2:"6",y2:"15"}),V.jsx("circle",{cx:"18",cy:"6",r:"3"}),V.jsx("circle",{cx:"6",cy:"18",r:"3"}),V.jsx("path",{d:"M18 9a9 9 0 0 1-9 9"})]}),t.forks_count]})]})})]})}),q3=[{name:"dotfiles",description:"My dotfiles for both linux and macos"},{name:"vue-treeview",description:"A vue-treeview component that you can plug into your vuejs application"},{name:"lazyvim_config",description:"My up-to-date neovim configurations"}],Afe="ll931217";async function GO(t="all",e,n){try{const i=await fetch(`https://api.github.com/users/${Afe}/repos?sort=updated&per_page=100`);if(!i.ok)throw new Error(`GitHub API error: ${i.status}`);let r=await i.json();switch(e&&e!=="all"&&(r=r.filter(s=>s.language?.toLowerCase()===e.toLowerCase())),t){case"featured":r=r.filter(s=>q3.some(a=>a.name===s.name));break;case"featuredOnly":r=r.filter(s=>q3.some(a=>a.name===s.name)),r=r.slice(0,6);break;case"recent":r=r.sort((s,a)=>new Date(a.updated_at).getTime()-new Date(s.updated_at).getTime()).slice(0,6);break;case"popular":r=r.sort((s,a)=>a.stargazers_count-s.stargazers_count).slice(0,6);break;default:r=r.filter(s=>!s.fork)}return r=r.map(s=>({...s,featured:q3.some(a=>a.name===s.name)})).filter(s=>{const a=(n||"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(a,"i").test(s.name)}),r}catch(i){return console.error("Error fetching repositories:",i),[]}}async function Dfe(){try{const e=(await GO()).filter(n=>n.language).map(n=>n.language);return Array.from(new Set(e)).sort()}catch(t){return console.error("Error fetching languages:",t),[]}}const Rfe=()=>{const{data:t,isLoading:e,error:n}=gI({queryKey:["featured-repos"],queryFn:()=>GO("featuredOnly")}),i=t?.slice(0,3)||[];return V.jsx("section",{className:"py-16 px-4 md:px-8 border-t-2 border-dashed border-[#666666]",children:V.jsxs("div",{className:"max-w-7xl mx-auto",children:[V.jsxs("div",{className:"flex justify-between items-center mb-10",children:[V.jsx("h2",{className:"text-[#ff3333] text-xl font-bold",children:"[PROJECTS]"}),V.jsxs(kf,{to:"/projects",className:"text-[#666666] hover:text-[#ff3333] flex items-center transition-colors text-sm",children:["VIEW ALL",V.jsx(KB,{className:"ml-1 h-4 w-4"})]})]}),e?V.jsx("div",{className:"grid grid-cols-1 gap-6 animate-pulse",children:[1,2,3].map(r=>V.jsx("div",{className:"h-48 bg-[#1a1a1a] border border-[#333333]"},r))}):n?V.jsxs("div",{className:"border-2 border-[#ff3333] bg-[#1a1a1a] text-center py-8",children:[V.jsx("p",{className:"text-[#ff3333] mb-4",children:"ERROR: Unable to load projects"}),V.jsx(kf,{to:"/projects",className:"border border-[#666666] px-4 py-2 text-[#666666] hover:border-[#ff3333] hover:text-[#ff3333] transition-colors",children:"RETRY"})]}):V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map(r=>V.jsx(r7,{repo:r},r.id))})]})})},s7=({blog:t})=>V.jsx(kf,{to:`/blog/${t.slug}`,children:V.jsx(i7,{className:"h-full",children:V.jsxs("article",{className:"flex flex-col h-full",children:[V.jsxs("div",{className:"mb-4",children:[V.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-[#ff3333] transition-colors mb-2",children:t.title}),V.jsx("time",{dateTime:t.date,className:"text-sm text-[#666666]",children:Yz(t.date)})]}),V.jsx("p",{className:"text-[#999999] mb-4 flex-grow text-sm",children:t.excerpt}),V.jsx("div",{className:"flex flex-wrap gap-2 mt-auto",children:t.tags.map(e=>V.jsx(VO,{language:e},e))})]})})}),Ife={title:"My Top CLI tools",date:"2025-06-03T00:00:00.000Z",author:"Liang-Shih Lin",excerpt:"CLI tools that I love and use most of the time in my development workflow.",tags:["CLI","bash"]},Nfe=`# My Top CLI tools

I love the terminal, I love typing in some command and it will produce the result I want. I work inside the terminal for about 80% of my day.

Here is a list of the CLI tools I use almost daily:

## [LazyGit](https://github.com/jesseduffield/lazygit)

![lazygit](https://github.com/jesseduffield/lazygit/raw/assets/demo/commit_and_push-compressed.gif)

This has been the tool that helps me use git with ease, very simple CLI that uses vim keybinds to navigate.

## [LazyDocker](https://github.com/jesseduffield/lazydocker)

![lazydocker](https://github.com/jesseduffield/lazydocker/raw/master/docs/resources/demo3.gif)

Created by the same author as [LazyGit](#lazygithttpsgithubcomjesseduffieldlazygit), this tool helped me so much when Linux didn't have Docker Desktop, ever since using it I couldn't go back to docker desktop. I can easily manage my docker containers through this TUI.

## [btop](https://github.com/aristocratos/btop)

![btop](https://github.com/aristocratos/btop/raw/main/Img/normal.png)

A \`top\` or \`htop\` replacement, that has a modern interface.

## [yazi](https://yazi-rs.github.io/)

I use this as my file explorer and as my navigation tool. You can open tabs, copy/cut/paste between these tabs.

I have added a custom bash function that helps \`cd\` to where I navigated to:

\`\`\`bash
function y() {
 local tmp="$(mktemp -t "yazi-cwd.XXXXXX")"
 yazi "$@" --cwd-file="$tmp"
 if cwd="$(/usr/bin/cat -- "$tmp")" && [ -n "$cwd" ] && [ "$cwd" != "$PWD" ]; then
  builtin cd -- "$cwd"
 fi
 rm -f -- "$tmp"
}
\`\`\`

## Neovim + tmux

This is my main development setup, I can't go back to vscode anymore since removing the time that it takes for me to reach the cursor, find the cursor on screen, click the item I want then move the hand back to the table has helped improved my productivity many times over.

## [Aider Chat](https://aider.chat/)

![aider-chat](https://aider.chat/assets/shell-cmds-small.mp4)

When using AI in my development workflow, I don't want to keep having multiple subscriptions to different services, I like just having one and being able to access them all. That is why I subbed to [OpenRouter](https://openrouter.ai/), the only downside for OpenRouter is that it only has the completion models, it doesn't have access to models specialised for other areas such as embeddings.

With Aider Chat, I can't interact with any OpenAI compatible LLM, in this case is OpenRouter, then add files to the context and allow Aider Chat to help me figure things out or implement features.

I am still waiting for the [MCP server feature](https://github.com/Aider-AI/aider/pull/3937) to be implemented, this should make Aider Chat even more useful.

`,Ofe=Object.freeze(Object.defineProperty({__proto__:null,attributes:Ife,markdown:Nfe},Symbol.toStringTag,{value:"Module"})),kfe={title:"Simplicity is best",date:"2025-04-12T05:52:40.000Z",author:"Liang-Shih Lin",excerpt:"Don't overthink, keep things simple, it will be much easier to manage your system.",tags:["Backend","Frontend","DevOps"]},Pfe=`When I started working in the real world on systems that affects the real world, I kept learning new things from different frontend frameworks (React, Vue, Svelte), to different backend frameworks (Flask, Django, FastAPI, Expressjs, Nestjs), it also affected the way I design my system architectures. I would always try to find an excuse to use something I want to learn on the latest project I would be given but sometimes this isn't the best way to go about doing things.

## GraphQL + MongoDB (2018)

When GraphQL first started gaining traction, I was very new to backend development. Looking back on it now, I didn't know how to properly create a RESTful API, I had no idea about the best practices to follow, I just winged the development since everything I did was self-taught. In 2018, I had a client that wanted me to create a system that can print and scan QR quotes which contain links to third-party services to introduce the product the QR codes are attached to. I used this project as an excuse to learn both MongoDB and GraphQL. With MongoDB, there wasn't too much issue, since the system was very simple but GraphQL took up so much of the development time because of my inexperience that it made the client unhappy with the progress. From this I learned that maybe it isn't a good idea to just work on a new technology when starting a project for a client that has a time constraint.

## Microservices + Kubernetes (2023)

This was when I became the founding backend engineer for an headhunting startup that wants to revolutionise the HR industry by improving the way clients and headhunters collaborate leveraging AI in their system. The thing with start ups is that, resources are very limited. Resources including:

- Time
- Human
- Funding

With start ups, the amount of people working on the same project is very limited, it could just be you on a certain part of a system for a while before the company will hire more. The funding is limited, it could be out of the founders' pockets, which can directly impact the time available, once those funds run out its over, I learned that the hard way. All this means that you need to move FAST, have your system online as soon as possible and get your clients in. When you have clients, you have numbers to show potential investors, that is when you can get more funding and potentially have some income stream for the company.

Our product team didn't have a proper leadership, our CTO didn't give much technical input, so all the technical decisions was done by the engineers with some input from the CEO. The company gave us (engineers) too much power, I helped the company create their backend system from 0-1, managed the entire backend infrastructure including CI/CD pipeline, cloud infrastructure, tests, etc. Initially I wanted to create a microservices architecture for our system using kubernetes (I don't have any experience with these whatsoever), however I got shot down by the other engineer and our CEO (thankfully).

We decided on hosting our monolithic backend on AWS, but since I am not too familiar with AWS I had to do a lot of research, the deployment wasn't very smooth with tasks going on multiple sprints (Not a good look I know). AWS was also very costly if you don't know how to use the platform properly, most of our cost comes from PostgreSQL hosted on RDS.

Having that experience I have learned that using other hosting providers could had been better such as using Hetzner, Airway, DigitalOcean to name a few. Leave the DevOps to the professionals until our system's traffic becomes too big then we can hire proper DevOps engineers to manage the cloud. However this backend is probably one of the best backend codes I had ever written and I am proud of it.

# Key lessons

## Don't overcomplicate things

Simplicity can make the system easy to understand and develop with, reduces the possibility of having tickets that span multiple sprints, this can improve how fast your system gets released to the market.

## Use technologies you have experience in

Similar with the previous point, don't experiment with technologies you are not familiar with, it can cause unexpected issues with your inexperience and resulting in countless headaches down the road. Save yourself that hassle. If you want to learn new technologies, work on side projects at your own time unless time isn't an issue.

## Delegating certain workloads to third-party services

Remember relying on other services isn't a bad thing, it can save you time, headache and maybe even money. Focus on the bigger picture, on what is important which is to ship fast and generate revenue as soon as possible.

`,Lfe=Object.freeze(Object.defineProperty({__proto__:null,attributes:kfe,markdown:Pfe},Symbol.toStringTag,{value:"Module"})),Ffe={title:"TypeScript Best Practices in 2025",date:"2025-02-22T00:00:00.000Z",author:"Liang-Shih Lin",excerpt:"Learn the current best practices for TypeScript development to improve your code quality and productivity.",tags:["TypeScript","JavaScript","Best Practices"]},Ufe=`<!--toc:start-->

- [Use Type Inference When Possible](#use-type-inference-when-possible)
- [Leverage Type Aliases and Interfaces](#leverage-type-aliases-and-interfaces)
- [Use Union Types for Flexibility](#use-union-types-for-flexibility)
- [Null Handling](#null-handling)
- [Discriminated Unions for Complex Types](#discriminated-unions-for-complex-types)
- [Use Readonly for Immutability](#use-readonly-for-immutability)
- [Leverage Utility Types](#leverage-utility-types)
- [Use Generics for Reusable Code](#use-generics-for-reusable-code)

<!--toc:end-->

TypeScript continues to grow in popularity, and for good reason - it adds static typing to JavaScript, making your code more predictable and easier to debug. Here are some best practices for writing TypeScript code in 2025.

## Use Type Inference When Possible

TypeScript's type inference is powerful and can often determine types without explicit annotations:

\`\`\`typescript
// Instead of this:
const name: string = "Alice";

// Do this:
const name = "Alice"; // TypeScript knows this is a string
\`\`\`

Let TypeScript do the work for you, but be explicit when the inference isn't clear or when you want to document your code better.

## Leverage Type Aliases and Interfaces

Organize and reuse your types:

\`\`\`typescript
// Type alias
type User = {
  id: number;
  name: string;
  email: string;
};

// Interface
interface Product {
  id: number;
  name: string;
  price: number;
}
\`\`\`

Interfaces can be extended and are generally preferred for public APIs, while type aliases are great for union types and more complex type definitions. There have been arguments that went into types vs interfaces, I would say choose whichever one you like.

## Use Union Types for Flexibility

Union types allow you to specify that a value can be one of several types:

\`\`\`typescript
function formatValue(value: string | number): string {
  if (typeof value === "string") {
    return value.trim();
  }
  return value.toString();
}
\`\`\`

## Null Handling

Use the \`strictNullChecks\` compiler option and be explicit about nullable values:

\`\`\`typescript
function getUser(id: number): User | null {
  // Implementation might return null
}

const user = getUser(1);
// TypeScript forces you to check before using
if (user) {
  console.log(user.name);
}
\`\`\`

## Discriminated Unions for Complex Types

When you have several related types, use discriminated unions:

\`\`\`typescript
type Shape =
  | { kind: "circle"; radius: number }
  | { kind: "rectangle"; width: number; height: number };

function calculateArea(shape: Shape): number {
  switch (shape.kind) {
    case "circle":
      return Math.PI * shape.radius ** 2;
    case "rectangle":
      return shape.width * shape.height;
  }
}
\`\`\`

## Use Readonly for Immutability

When you want to prevent modification of properties:

\`\`\`typescript
interface Config {
  readonly apiUrl: string;
  readonly timeout: number;
}

const config: Config = { apiUrl: "https://api.example.com", timeout: 3000 };
// This would produce a compile error:
// config.apiUrl = 'https://new-api.example.com';
\`\`\`

## Leverage Utility Types

TypeScript provides built-in utility types that are handy for common transformations:

\`\`\`typescript
// Make all properties optional
type PartialUser = Partial<User>;

// Extract specific properties
type UserCredentials = Pick<User, "email" | "password">;

// Make all properties required
type RequiredConfig = Required<Config>;
\`\`\`

## Use Generics for Reusable Code

Generics allow you to write flexible, reusable components:

\`\`\`typescript
function firstElement<T>(array: T[]): T | undefined {
  return array[0];
}

// TypeScript knows these are different types
const first = firstElement([1, 2, 3]); // number
const name = firstElement(["Alice", "Bob"]); // string
\`\`\`

By following these best practices, you'll write TypeScript code that's more maintainable, less error-prone, and easier for your team to understand. Happy coding!

`,Bfe=Object.freeze(Object.defineProperty({__proto__:null,attributes:Ffe,markdown:Ufe},Symbol.toStringTag,{value:"Module"})),zfe=Object.assign({"/src/content/blog/my-top-cli-tools.md":Ofe,"/src/content/blog/simplicity-is-best.md":Lfe,"/src/content/blog/typescript-best-practices.md":Bfe}),a7=Object.entries(zfe).map(([t,e])=>{const[,n]=t.match(/([^/\\]+)\.md$/)||[];return{...e.attributes,slug:n,content:e.markdown}});function o7(){return[...a7].sort((t,e)=>new Date(e.date).getTime()-new Date(t.date).getTime())}function Hfe(t){return a7.find(e=>e.slug===t)}const Vfe=()=>{const e=o7().slice(0,3);return V.jsx("section",{className:"py-16 px-4 md:px-8 border-t-2 border-dashed border-[#666666]",children:V.jsxs("div",{className:"max-w-7xl mx-auto",children:[V.jsxs("div",{className:"flex justify-between items-center mb-10",children:[V.jsx("h2",{className:"text-[#ff3333] text-xl font-bold",children:"[BLOG]"}),V.jsxs(kf,{to:"/blog",className:"text-[#666666] hover:text-[#ff3333] flex items-center transition-colors text-sm",children:["VIEW ALL",V.jsx(KB,{className:"ml-1 h-4 w-4"})]})]}),V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(n=>V.jsx(s7,{blog:n},n.slug))})]})})};const CC="182",Gfe={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Wfe={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},u7=0,bI=1,l7=2,jfe=3,c7=0,e_=1,bb=2,om=3,qf=0,Ka=1,yc=2,Ac=0,_m=1,xI=2,SI=3,EI=4,f7=5,nh=100,d7=101,h7=102,p7=103,m7=104,g7=200,_7=201,y7=202,v7=203,UT=204,BT=205,b7=206,x7=207,S7=208,E7=209,w7=210,T7=211,M7=212,C7=213,A7=214,zT=0,HT=1,VT=2,Nm=3,GT=4,WT=5,jT=6,qT=7,s1=0,D7=1,R7=2,Xu=0,WO=1,jO=2,qO=3,AC=4,$O=5,XO=6,YO=7,wI="attached",I7="detached",DC=300,Ic=301,Nh=302,ox=303,ux=304,ty=306,lx=1e3,Io=1001,cx=1002,Qr=1003,ZO=1004,qfe=1004,jg=1005,$fe=1005,gr=1006,xb=1007,Xfe=1007,wc=1008,Yfe=1008,qa=1009,KO=1010,QO=1011,E_=1012,RC=1013,el=1014,Za=1015,Nc=1016,IC=1017,NC=1018,w_=1020,JO=35902,e6=35899,t6=1021,n6=1022,ba=1023,Oc=1026,oh=1027,OC=1028,a1=1029,Om=1030,kC=1031,Zfe=1032,PC=1033,Sb=33776,Eb=33777,wb=33778,Tb=33779,$T=35840,XT=35841,YT=35842,ZT=35843,KT=36196,QT=37492,JT=37496,eM=37488,tM=37489,nM=37490,iM=37491,rM=37808,sM=37809,aM=37810,oM=37811,uM=37812,lM=37813,cM=37814,fM=37815,dM=37816,hM=37817,pM=37818,mM=37819,gM=37820,_M=37821,yM=36492,vM=36494,bM=36495,xM=36283,SM=36284,EM=36285,wM=36286,N7=2200,O7=2201,k7=2202,fx=2300,TM=2301,qw=2302,um=2400,lm=2401,dx=2402,LC=2500,i6=2501,Kfe=0,Qfe=1,Jfe=2,P7=3200,ede=3201,tde=3202,nde=3203,Gh=0,L7=1,Cf="",_a="srgb",Oh="srgb-linear",hx="linear",Li="srgb",ide="",rde="rg",sde="ga",ade=0,Qp=7680,ode=7681,ude=7682,lde=7683,cde=34055,fde=34056,dde=5386,hde=512,pde=513,mde=514,gde=515,_de=516,yde=517,vde=518,TI=519,F7=512,U7=513,B7=514,FC=515,z7=516,H7=517,UC=518,V7=519,px=35044,bde=35048,xde=35040,Sde=35045,Ede=35049,wde=35041,Tde=35046,Mde=35050,Cde=35042,Ade="100",MI="300 es",nu=2e3,T_=2001,Dde={COMPUTE:"compute",RENDER:"render"},Rde={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Ide={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function G7(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Nde={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function qg(t,e){return new Nde[t](e)}function W7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mx(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function j7(){const t=mx("canvas");return t.style.display="block",t}const a4={};let kh=null;function Ode(t){kh=t}function kde(){return kh}function gx(...t){const e="THREE."+t.shift();kh?kh("log",e,...t):console.log(e,...t)}function Ut(...t){const e="THREE."+t.shift();kh?kh("warn",e,...t):console.warn(e,...t)}function en(...t){const e="THREE."+t.shift();kh?kh("error",e,...t):console.error(e,...t)}function M_(...t){const e=t.join(" ");e in a4||(a4[e]=!0,Ut(...t))}function Pde(t,e,n){return new Promise(function(i,r){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:i()}}setTimeout(s,n)})}class Bc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}const fa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let o4=1234567;const ym=Math.PI/180,C_=180/Math.PI;function ou(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(fa[t&255]+fa[t>>8&255]+fa[t>>16&255]+fa[t>>24&255]+"-"+fa[e&255]+fa[e>>8&255]+"-"+fa[e>>16&15|64]+fa[e>>24&255]+"-"+fa[n&63|128]+fa[n>>8&255]+"-"+fa[n>>16&255]+fa[n>>24&255]+fa[i&255]+fa[i>>8&255]+fa[i>>16&255]+fa[i>>24&255]).toLowerCase()}function hn(t,e,n){return Math.max(e,Math.min(n,t))}function r6(t,e){return(t%e+e)%e}function Lde(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function Fde(t,e,n){return t!==e?(n-t)/(e-t):0}function Mb(t,e,n){return(1-n)*t+n*e}function Ude(t,e,n,i){return Mb(t,e,1-Math.exp(-n*i))}function Bde(t,e=1){return e-Math.abs(r6(t,e*2)-e)}function zde(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Hde(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Vde(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Gde(t,e){return t+Math.random()*(e-t)}function Wde(t){return t*(.5-Math.random())}function jde(t){t!==void 0&&(o4=t);let e=o4+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function qde(t){return t*ym}function $de(t){return t*C_}function Xde(t){return(t&t-1)===0&&t!==0}function Yde(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Zde(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Kde(t,e,n,i,r){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),f=s((e+i)/2),p=a((e+i)/2),g=s((e-i)/2),y=a((e-i)/2),_=s((i-e)/2),x=a((i-e)/2);switch(r){case"XYX":t.set(o*p,l*g,l*y,o*f);break;case"YZY":t.set(l*y,o*p,l*g,o*f);break;case"ZXZ":t.set(l*g,l*y,o*p,o*f);break;case"XZX":t.set(o*p,l*x,l*_,o*f);break;case"YXY":t.set(l*_,o*p,l*x,o*f);break;case"ZYZ":t.set(l*x,l*_,o*p,o*f);break;default:Ut("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function $a(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Fn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Qde={DEG2RAD:ym,RAD2DEG:C_,generateUUID:ou,clamp:hn,euclideanModulo:r6,mapLinear:Lde,inverseLerp:Fde,lerp:Mb,damp:Ude,pingpong:Bde,smoothstep:zde,smootherstep:Hde,randInt:Vde,randFloat:Gde,randFloatSpread:Wde,seededRandom:jde,degToRad:qde,radToDeg:$de,isPowerOfTwo:Xde,ceilPowerOfTwo:Yde,floorPowerOfTwo:Zde,setQuaternionFromProperEuler:Kde,normalize:Fn,denormalize:$a};class ft{constructor(e=0,n=0){ft.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=hn(this.x,e.x,n.x),this.y=hn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=hn(this.x,e,n),this.y=hn(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(hn(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(hn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class No{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,a,o){let l=i[r+0],f=i[r+1],p=i[r+2],g=i[r+3],y=s[a+0],_=s[a+1],x=s[a+2],S=s[a+3];if(o<=0){e[n+0]=l,e[n+1]=f,e[n+2]=p,e[n+3]=g;return}if(o>=1){e[n+0]=y,e[n+1]=_,e[n+2]=x,e[n+3]=S;return}if(g!==S||l!==y||f!==_||p!==x){let E=l*y+f*_+p*x+g*S;E<0&&(y=-y,_=-_,x=-x,S=-S,E=-E);let w=1-o;if(E<.9995){const C=Math.acos(E),A=Math.sin(C);w=Math.sin(w*C)/A,o=Math.sin(o*C)/A,l=l*w+y*o,f=f*w+_*o,p=p*w+x*o,g=g*w+S*o}else{l=l*w+y*o,f=f*w+_*o,p=p*w+x*o,g=g*w+S*o;const C=1/Math.sqrt(l*l+f*f+p*p+g*g);l*=C,f*=C,p*=C,g*=C}}e[n]=l,e[n+1]=f,e[n+2]=p,e[n+3]=g}static multiplyQuaternionsFlat(e,n,i,r,s,a){const o=i[r],l=i[r+1],f=i[r+2],p=i[r+3],g=s[a],y=s[a+1],_=s[a+2],x=s[a+3];return e[n]=o*x+p*g+l*_-f*y,e[n+1]=l*x+p*y+f*g-o*_,e[n+2]=f*x+p*_+o*y-l*g,e[n+3]=p*x-o*g-l*y-f*_,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,f=o(i/2),p=o(r/2),g=o(s/2),y=l(i/2),_=l(r/2),x=l(s/2);switch(a){case"XYZ":this._x=y*p*g+f*_*x,this._y=f*_*g-y*p*x,this._z=f*p*x+y*_*g,this._w=f*p*g-y*_*x;break;case"YXZ":this._x=y*p*g+f*_*x,this._y=f*_*g-y*p*x,this._z=f*p*x-y*_*g,this._w=f*p*g+y*_*x;break;case"ZXY":this._x=y*p*g-f*_*x,this._y=f*_*g+y*p*x,this._z=f*p*x+y*_*g,this._w=f*p*g-y*_*x;break;case"ZYX":this._x=y*p*g-f*_*x,this._y=f*_*g+y*p*x,this._z=f*p*x-y*_*g,this._w=f*p*g+y*_*x;break;case"YZX":this._x=y*p*g+f*_*x,this._y=f*_*g+y*p*x,this._z=f*p*x-y*_*g,this._w=f*p*g-y*_*x;break;case"XZY":this._x=y*p*g-f*_*x,this._y=f*_*g-y*p*x,this._z=f*p*x+y*_*g,this._w=f*p*g+y*_*x;break;default:Ut("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],a=n[1],o=n[5],l=n[9],f=n[2],p=n[6],g=n[10],y=i+o+g;if(y>0){const _=.5/Math.sqrt(y+1);this._w=.25/_,this._x=(p-l)*_,this._y=(s-f)*_,this._z=(a-r)*_}else if(i>o&&i>g){const _=2*Math.sqrt(1+i-o-g);this._w=(p-l)/_,this._x=.25*_,this._y=(r+a)/_,this._z=(s+f)/_}else if(o>g){const _=2*Math.sqrt(1+o-i-g);this._w=(s-f)/_,this._x=(r+a)/_,this._y=.25*_,this._z=(l+p)/_}else{const _=2*Math.sqrt(1+g-i-o);this._w=(a-r)/_,this._x=(s+f)/_,this._y=(l+p)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(hn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,a=e._w,o=n._x,l=n._y,f=n._z,p=n._w;return this._x=i*p+a*o+r*f-s*l,this._y=r*p+a*l+s*o-i*f,this._z=s*p+a*f+i*l-r*o,this._w=a*p-i*o-r*l-s*f,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let i=e._x,r=e._y,s=e._z,a=e._w,o=this.dot(e);o<0&&(i=-i,r=-r,s=-s,a=-a,o=-o);let l=1-n;if(o<.9995){const f=Math.acos(o),p=Math.sin(f);l=Math.sin(l*f)/p,n=Math.sin(n*f)/p,this._x=this._x*l+i*n,this._y=this._y*l+r*n,this._z=this._z*l+s*n,this._w=this._w*l+a*n,this._onChangeCallback()}else this._x=this._x*l+i*n,this._y=this._y*l+r*n,this._z=this._z*l+s*n,this._w=this._w*l+a*n,this.normalize();return this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class oe{constructor(e=0,n=0,i=0){oe.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(u4.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(u4.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,f=2*(a*r-o*i),p=2*(o*n-s*r),g=2*(s*i-a*n);return this.x=n+l*f+a*g-o*p,this.y=i+l*p+o*f-s*g,this.z=r+l*g+s*p-a*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=hn(this.x,e.x,n.x),this.y=hn(this.y,e.y,n.y),this.z=hn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=hn(this.x,e,n),this.y=hn(this.y,e,n),this.z=hn(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(hn(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=r*l-s*o,this.y=s*a-i*l,this.z=i*o-r*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return $3.copy(this).projectOnVector(e),this.sub($3)}reflect(e){return this.sub($3.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(hn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $3=new oe,u4=new No;class On{constructor(e,n,i,r,s,a,o,l,f){On.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,a,o,l,f)}set(e,n,i,r,s,a,o,l,f){const p=this.elements;return p[0]=e,p[1]=r,p[2]=o,p[3]=n,p[4]=s,p[5]=l,p[6]=i,p[7]=a,p[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,a=i[0],o=i[3],l=i[6],f=i[1],p=i[4],g=i[7],y=i[2],_=i[5],x=i[8],S=r[0],E=r[3],w=r[6],C=r[1],A=r[4],R=r[7],N=r[2],O=r[5],P=r[8];return s[0]=a*S+o*C+l*N,s[3]=a*E+o*A+l*O,s[6]=a*w+o*R+l*P,s[1]=f*S+p*C+g*N,s[4]=f*E+p*A+g*O,s[7]=f*w+p*R+g*P,s[2]=y*S+_*C+x*N,s[5]=y*E+_*A+x*O,s[8]=y*w+_*R+x*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],f=e[7],p=e[8];return n*a*p-n*o*f-i*s*p+i*o*l+r*s*f-r*a*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],f=e[7],p=e[8],g=p*a-o*f,y=o*l-p*s,_=f*s-a*l,x=n*g+i*y+r*_;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/x;return e[0]=g*S,e[1]=(r*f-p*i)*S,e[2]=(o*i-r*a)*S,e[3]=y*S,e[4]=(p*n-r*l)*S,e[5]=(r*s-o*n)*S,e[6]=_*S,e[7]=(i*l-f*n)*S,e[8]=(a*n-i*s)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,a,o){const l=Math.cos(s),f=Math.sin(s);return this.set(i*l,i*f,-i*(l*a+f*o)+a+e,-r*f,r*l,-r*(-f*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(X3.makeScale(e,n)),this}rotate(e){return this.premultiply(X3.makeRotation(-e)),this}translate(e,n){return this.premultiply(X3.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const X3=new On,l4=new On().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),c4=new On().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Jde(){const t={enabled:!0,workingColorSpace:Oh,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Li&&(r.r=Pf(r.r),r.g=Pf(r.g),r.b=Pf(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Li&&(r.r=t_(r.r),r.g=t_(r.g),r.b=t_(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Cf?hx:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return M_("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return M_("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[Oh]:{primaries:e,whitePoint:i,transfer:hx,toXYZ:l4,fromXYZ:c4,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:_a},outputColorSpaceConfig:{drawingBufferColorSpace:_a}},[_a]:{primaries:e,whitePoint:i,transfer:Li,toXYZ:l4,fromXYZ:c4,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:_a}}}),t}const fi=Jde();function Pf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function t_(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let sg;class q7{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{sg===void 0&&(sg=mx("canvas")),sg.width=e.width,sg.height=e.height;const r=sg.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=sg}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=mx("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=Pf(s[a]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Pf(n[i]/255)*255):n[i]=Pf(n[i]);return{data:n,width:e.width,height:e.height}}else return Ut("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ehe=0;class uh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ehe++}),this.uuid=ou(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(Y3(r[a].image)):s.push(Y3(r[a]))}else s=Y3(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function Y3(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?q7.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Ut("Texture: Unable to serialize Texture."),{})}let the=0;const Z3=new oe;class Gr extends Bc{constructor(e=Gr.DEFAULT_IMAGE,n=Gr.DEFAULT_MAPPING,i=Io,r=Io,s=gr,a=wc,o=ba,l=qa,f=Gr.DEFAULT_ANISOTROPY,p=Cf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:the++}),this.uuid=ou(),this.name="",this.source=new uh(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=f,this.format=o,this.internalFormat=null,this.type=l,this.offset=new ft(0,0),this.repeat=new ft(1,1),this.center=new ft(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new On,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Z3).x}get height(){return this.source.getSize(Z3).y}get depth(){return this.source.getSize(Z3).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){Ut(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){Ut(`Texture.setValues(): property '${n}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==DC)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case lx:e.x=e.x-Math.floor(e.x);break;case Io:e.x=e.x<0?0:1;break;case cx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case lx:e.y=e.y-Math.floor(e.y);break;case Io:e.y=e.y<0?0:1;break;case cx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Gr.DEFAULT_IMAGE=null;Gr.DEFAULT_MAPPING=DC;Gr.DEFAULT_ANISOTROPY=1;class Zi{constructor(e=0,n=0,i=0,r=1){Zi.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*n+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*n+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*n+a[7]*i+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,f=l[0],p=l[4],g=l[8],y=l[1],_=l[5],x=l[9],S=l[2],E=l[6],w=l[10];if(Math.abs(p-y)<.01&&Math.abs(g-S)<.01&&Math.abs(x-E)<.01){if(Math.abs(p+y)<.1&&Math.abs(g+S)<.1&&Math.abs(x+E)<.1&&Math.abs(f+_+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const A=(f+1)/2,R=(_+1)/2,N=(w+1)/2,O=(p+y)/4,P=(g+S)/4,z=(x+E)/4;return A>R&&A>N?A<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(A),r=O/i,s=P/i):R>N?R<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(R),i=O/r,s=z/r):N<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(N),i=P/s,r=z/s),this.set(i,r,s,n),this}let C=Math.sqrt((E-x)*(E-x)+(g-S)*(g-S)+(y-p)*(y-p));return Math.abs(C)<.001&&(C=1),this.x=(E-x)/C,this.y=(g-S)/C,this.z=(y-p)/C,this.w=Math.acos((f+_+w-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=hn(this.x,e.x,n.x),this.y=hn(this.y,e.y,n.y),this.z=hn(this.z,e.z,n.z),this.w=hn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=hn(this.x,e,n),this.y=hn(this.y,e,n),this.z=hn(this.z,e,n),this.w=hn(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(hn(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class s6 extends Bc{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:gr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new Zi(0,0,e,n),this.scissorTest=!1,this.viewport=new Zi(0,0,e,n);const r={width:e,height:n,depth:i.depth},s=new Gr(r);this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:gr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const r=Object.assign({},e.textures[n].image);this.textures[n].source=new uh(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class uu extends s6{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class BC extends Gr{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Qr,this.minFilter=Qr,this.wrapR=Io,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class nhe extends uu{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new BC(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class zC extends Gr{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Qr,this.minFilter=Qr,this.wrapR=Io,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ihe extends uu{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new zC(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class Sa{constructor(e=new oe(1/0,1/0,1/0),n=new oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Sl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Sl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Sl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Sl):Sl.fromBufferAttribute(s,a),Sl.applyMatrix4(e.matrixWorld),this.expandByPoint(Sl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),EE.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),EE.copy(i.boundingBox)),EE.applyMatrix4(e.matrixWorld),this.union(EE)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Sl),Sl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(zv),wE.subVectors(this.max,zv),ag.subVectors(e.a,zv),og.subVectors(e.b,zv),ug.subVectors(e.c,zv),Vd.subVectors(og,ag),Gd.subVectors(ug,og),Pp.subVectors(ag,ug);let n=[0,-Vd.z,Vd.y,0,-Gd.z,Gd.y,0,-Pp.z,Pp.y,Vd.z,0,-Vd.x,Gd.z,0,-Gd.x,Pp.z,0,-Pp.x,-Vd.y,Vd.x,0,-Gd.y,Gd.x,0,-Pp.y,Pp.x,0];return!K3(n,ag,og,ug,wE)||(n=[1,0,0,0,1,0,0,0,1],!K3(n,ag,og,ug,wE))?!1:(TE.crossVectors(Vd,Gd),n=[TE.x,TE.y,TE.z],K3(n,ag,og,ug,wE))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Sl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Sl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(yf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),yf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),yf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),yf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),yf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),yf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),yf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),yf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(yf),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const yf=[new oe,new oe,new oe,new oe,new oe,new oe,new oe,new oe],Sl=new oe,EE=new Sa,ag=new oe,og=new oe,ug=new oe,Vd=new oe,Gd=new oe,Pp=new oe,zv=new oe,wE=new oe,TE=new oe,Lp=new oe;function K3(t,e,n,i,r){for(let s=0,a=t.length-3;s<=a;s+=3){Lp.fromArray(t,s);const o=r.x*Math.abs(Lp.x)+r.y*Math.abs(Lp.y)+r.z*Math.abs(Lp.z),l=e.dot(Lp),f=n.dot(Lp),p=i.dot(Lp);if(Math.max(-Math.max(l,f,p),Math.min(l,f,p))>o)return!1}return!0}const rhe=new Sa,Hv=new oe,Q3=new oe;class Ks{constructor(e=new oe,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):rhe.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Hv.subVectors(e,this.center);const n=Hv.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Hv,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Q3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Hv.copy(e.center).add(Q3)),this.expandByPoint(Hv.copy(e.center).sub(Q3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const vf=new oe,J3=new oe,ME=new oe,Wd=new oe,eD=new oe,CE=new oe,tD=new oe;class ny{constructor(e=new oe,n=new oe(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,vf)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=vf.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(vf.copy(this.origin).addScaledVector(this.direction,n),vf.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){J3.copy(e).add(n).multiplyScalar(.5),ME.copy(n).sub(e).normalize(),Wd.copy(this.origin).sub(J3);const s=e.distanceTo(n)*.5,a=-this.direction.dot(ME),o=Wd.dot(this.direction),l=-Wd.dot(ME),f=Wd.lengthSq(),p=Math.abs(1-a*a);let g,y,_,x;if(p>0)if(g=a*l-o,y=a*o-l,x=s*p,g>=0)if(y>=-x)if(y<=x){const S=1/p;g*=S,y*=S,_=g*(g+a*y+2*o)+y*(a*g+y+2*l)+f}else y=s,g=Math.max(0,-(a*y+o)),_=-g*g+y*(y+2*l)+f;else y=-s,g=Math.max(0,-(a*y+o)),_=-g*g+y*(y+2*l)+f;else y<=-x?(g=Math.max(0,-(-a*s+o)),y=g>0?-s:Math.min(Math.max(-s,-l),s),_=-g*g+y*(y+2*l)+f):y<=x?(g=0,y=Math.min(Math.max(-s,-l),s),_=y*(y+2*l)+f):(g=Math.max(0,-(a*s+o)),y=g>0?s:Math.min(Math.max(-s,-l),s),_=-g*g+y*(y+2*l)+f);else y=a>0?-s:s,g=Math.max(0,-(a*y+o)),_=-g*g+y*(y+2*l)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(J3).addScaledVector(ME,y),_}intersectSphere(e,n){vf.subVectors(e.center,this.origin);const i=vf.dot(this.direction),r=vf.dot(vf)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,a,o,l;const f=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,y=this.origin;return f>=0?(i=(e.min.x-y.x)*f,r=(e.max.x-y.x)*f):(i=(e.max.x-y.x)*f,r=(e.min.x-y.x)*f),p>=0?(s=(e.min.y-y.y)*p,a=(e.max.y-y.y)*p):(s=(e.max.y-y.y)*p,a=(e.min.y-y.y)*p),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),g>=0?(o=(e.min.z-y.z)*g,l=(e.max.z-y.z)*g):(o=(e.max.z-y.z)*g,l=(e.min.z-y.z)*g),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,vf)!==null}intersectTriangle(e,n,i,r,s){eD.subVectors(n,e),CE.subVectors(i,e),tD.crossVectors(eD,CE);let a=this.direction.dot(tD),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Wd.subVectors(this.origin,e);const l=o*this.direction.dot(CE.crossVectors(Wd,CE));if(l<0)return null;const f=o*this.direction.dot(eD.cross(Wd));if(f<0||l+f>a)return null;const p=-o*Wd.dot(tD);return p<0?null:this.at(p/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _n{constructor(e,n,i,r,s,a,o,l,f,p,g,y,_,x,S,E){_n.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,a,o,l,f,p,g,y,_,x,S,E)}set(e,n,i,r,s,a,o,l,f,p,g,y,_,x,S,E){const w=this.elements;return w[0]=e,w[4]=n,w[8]=i,w[12]=r,w[1]=s,w[5]=a,w[9]=o,w[13]=l,w[2]=f,w[6]=p,w[10]=g,w[14]=y,w[3]=_,w[7]=x,w[11]=S,w[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _n().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),i.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this)}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,i=e.elements,r=1/lg.setFromMatrixColumn(e,0).length(),s=1/lg.setFromMatrixColumn(e,1).length(),a=1/lg.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(r),f=Math.sin(r),p=Math.cos(s),g=Math.sin(s);if(e.order==="XYZ"){const y=a*p,_=a*g,x=o*p,S=o*g;n[0]=l*p,n[4]=-l*g,n[8]=f,n[1]=_+x*f,n[5]=y-S*f,n[9]=-o*l,n[2]=S-y*f,n[6]=x+_*f,n[10]=a*l}else if(e.order==="YXZ"){const y=l*p,_=l*g,x=f*p,S=f*g;n[0]=y+S*o,n[4]=x*o-_,n[8]=a*f,n[1]=a*g,n[5]=a*p,n[9]=-o,n[2]=_*o-x,n[6]=S+y*o,n[10]=a*l}else if(e.order==="ZXY"){const y=l*p,_=l*g,x=f*p,S=f*g;n[0]=y-S*o,n[4]=-a*g,n[8]=x+_*o,n[1]=_+x*o,n[5]=a*p,n[9]=S-y*o,n[2]=-a*f,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const y=a*p,_=a*g,x=o*p,S=o*g;n[0]=l*p,n[4]=x*f-_,n[8]=y*f+S,n[1]=l*g,n[5]=S*f+y,n[9]=_*f-x,n[2]=-f,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const y=a*l,_=a*f,x=o*l,S=o*f;n[0]=l*p,n[4]=S-y*g,n[8]=x*g+_,n[1]=g,n[5]=a*p,n[9]=-o*p,n[2]=-f*p,n[6]=_*g+x,n[10]=y-S*g}else if(e.order==="XZY"){const y=a*l,_=a*f,x=o*l,S=o*f;n[0]=l*p,n[4]=-g,n[8]=f*p,n[1]=y*g+S,n[5]=a*p,n[9]=_*g-x,n[2]=x*g-_,n[6]=o*p,n[10]=S*g+y}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(she,e,ahe)}lookAt(e,n,i){const r=this.elements;return qo.subVectors(e,n),qo.lengthSq()===0&&(qo.z=1),qo.normalize(),jd.crossVectors(i,qo),jd.lengthSq()===0&&(Math.abs(i.z)===1?qo.x+=1e-4:qo.z+=1e-4,qo.normalize(),jd.crossVectors(i,qo)),jd.normalize(),AE.crossVectors(qo,jd),r[0]=jd.x,r[4]=AE.x,r[8]=qo.x,r[1]=jd.y,r[5]=AE.y,r[9]=qo.y,r[2]=jd.z,r[6]=AE.z,r[10]=qo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,a=i[0],o=i[4],l=i[8],f=i[12],p=i[1],g=i[5],y=i[9],_=i[13],x=i[2],S=i[6],E=i[10],w=i[14],C=i[3],A=i[7],R=i[11],N=i[15],O=r[0],P=r[4],z=r[8],k=r[12],F=r[1],G=r[5],$=r[9],ee=r[13],ne=r[2],re=r[6],W=r[10],q=r[14],te=r[3],se=r[7],Z=r[11],j=r[15];return s[0]=a*O+o*F+l*ne+f*te,s[4]=a*P+o*G+l*re+f*se,s[8]=a*z+o*$+l*W+f*Z,s[12]=a*k+o*ee+l*q+f*j,s[1]=p*O+g*F+y*ne+_*te,s[5]=p*P+g*G+y*re+_*se,s[9]=p*z+g*$+y*W+_*Z,s[13]=p*k+g*ee+y*q+_*j,s[2]=x*O+S*F+E*ne+w*te,s[6]=x*P+S*G+E*re+w*se,s[10]=x*z+S*$+E*W+w*Z,s[14]=x*k+S*ee+E*q+w*j,s[3]=C*O+A*F+R*ne+N*te,s[7]=C*P+A*G+R*re+N*se,s[11]=C*z+A*$+R*W+N*Z,s[15]=C*k+A*ee+R*q+N*j,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],f=e[13],p=e[2],g=e[6],y=e[10],_=e[14],x=e[3],S=e[7],E=e[11],w=e[15],C=l*_-f*y,A=o*_-f*g,R=o*y-l*g,N=a*_-f*p,O=a*y-l*p,P=a*g-o*p;return n*(S*C-E*A+w*R)-i*(x*C-E*N+w*O)+r*(x*A-S*N+w*P)-s*(x*R-S*O+E*P)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],f=e[7],p=e[8],g=e[9],y=e[10],_=e[11],x=e[12],S=e[13],E=e[14],w=e[15],C=g*E*f-S*y*f+S*l*_-o*E*_-g*l*w+o*y*w,A=x*y*f-p*E*f-x*l*_+a*E*_+p*l*w-a*y*w,R=p*S*f-x*g*f+x*o*_-a*S*_-p*o*w+a*g*w,N=x*g*l-p*S*l-x*o*y+a*S*y+p*o*E-a*g*E,O=n*C+i*A+r*R+s*N;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/O;return e[0]=C*P,e[1]=(S*y*s-g*E*s-S*r*_+i*E*_+g*r*w-i*y*w)*P,e[2]=(o*E*s-S*l*s+S*r*f-i*E*f-o*r*w+i*l*w)*P,e[3]=(g*l*s-o*y*s-g*r*f+i*y*f+o*r*_-i*l*_)*P,e[4]=A*P,e[5]=(p*E*s-x*y*s+x*r*_-n*E*_-p*r*w+n*y*w)*P,e[6]=(x*l*s-a*E*s-x*r*f+n*E*f+a*r*w-n*l*w)*P,e[7]=(a*y*s-p*l*s+p*r*f-n*y*f-a*r*_+n*l*_)*P,e[8]=R*P,e[9]=(x*g*s-p*S*s-x*i*_+n*S*_+p*i*w-n*g*w)*P,e[10]=(a*S*s-x*o*s+x*i*f-n*S*f-a*i*w+n*o*w)*P,e[11]=(p*o*s-a*g*s-p*i*f+n*g*f+a*i*_-n*o*_)*P,e[12]=N*P,e[13]=(p*S*r-x*g*r+x*i*y-n*S*y-p*i*E+n*g*E)*P,e[14]=(x*o*r-a*S*r-x*i*l+n*S*l+a*i*E-n*o*E)*P,e[15]=(a*g*r-p*o*r+p*i*l-n*g*l-a*i*y+n*o*y)*P,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,a=e.x,o=e.y,l=e.z,f=s*a,p=s*o;return this.set(f*a+i,f*o-r*l,f*l+r*o,0,f*o+r*l,p*o+i,p*l-r*a,0,f*l-r*o,p*l+r*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,f=s+s,p=a+a,g=o+o,y=s*f,_=s*p,x=s*g,S=a*p,E=a*g,w=o*g,C=l*f,A=l*p,R=l*g,N=i.x,O=i.y,P=i.z;return r[0]=(1-(S+w))*N,r[1]=(_+R)*N,r[2]=(x-A)*N,r[3]=0,r[4]=(_-R)*O,r[5]=(1-(y+w))*O,r[6]=(E+C)*O,r[7]=0,r[8]=(x+A)*P,r[9]=(E-C)*P,r[10]=(1-(y+S))*P,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;if(e.x=r[12],e.y=r[13],e.z=r[14],this.determinant()===0)return i.set(1,1,1),n.identity(),this;let s=lg.set(r[0],r[1],r[2]).length();const a=lg.set(r[4],r[5],r[6]).length(),o=lg.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),El.copy(this);const f=1/s,p=1/a,g=1/o;return El.elements[0]*=f,El.elements[1]*=f,El.elements[2]*=f,El.elements[4]*=p,El.elements[5]*=p,El.elements[6]*=p,El.elements[8]*=g,El.elements[9]*=g,El.elements[10]*=g,n.setFromRotationMatrix(El),i.x=s,i.y=a,i.z=o,this}makePerspective(e,n,i,r,s,a,o=nu,l=!1){const f=this.elements,p=2*s/(n-e),g=2*s/(i-r),y=(n+e)/(n-e),_=(i+r)/(i-r);let x,S;if(l)x=s/(a-s),S=a*s/(a-s);else if(o===nu)x=-(a+s)/(a-s),S=-2*a*s/(a-s);else if(o===T_)x=-a/(a-s),S=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return f[0]=p,f[4]=0,f[8]=y,f[12]=0,f[1]=0,f[5]=g,f[9]=_,f[13]=0,f[2]=0,f[6]=0,f[10]=x,f[14]=S,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,n,i,r,s,a,o=nu,l=!1){const f=this.elements,p=2/(n-e),g=2/(i-r),y=-(n+e)/(n-e),_=-(i+r)/(i-r);let x,S;if(l)x=1/(a-s),S=a/(a-s);else if(o===nu)x=-2/(a-s),S=-(a+s)/(a-s);else if(o===T_)x=-1/(a-s),S=-s/(a-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return f[0]=p,f[4]=0,f[8]=0,f[12]=y,f[1]=0,f[5]=g,f[9]=0,f[13]=_,f[2]=0,f[6]=0,f[10]=x,f[14]=S,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const lg=new oe,El=new _n,she=new oe(0,0,0),ahe=new oe(1,1,1),jd=new oe,AE=new oe,qo=new oe,f4=new _n,d4=new No;class du{constructor(e=0,n=0,i=0,r=du.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],f=r[5],p=r[9],g=r[2],y=r[6],_=r[10];switch(n){case"XYZ":this._y=Math.asin(hn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-p,_),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(y,f),this._z=0);break;case"YXZ":this._x=Math.asin(-hn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(o,_),this._z=Math.atan2(l,f)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(hn(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,_),this._z=Math.atan2(-a,f)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-hn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,_),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,f));break;case"YZX":this._z=Math.asin(hn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(o,_));break;case"XZY":this._z=Math.asin(-hn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-p,_),this._y=0);break;default:Ut("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return f4.makeRotationFromQuaternion(e),this.setFromRotationMatrix(f4,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return d4.setFromEuler(this),this.setFromQuaternion(d4,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}du.DEFAULT_ORDER="XYZ";class A_{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let ohe=0;const h4=new oe,cg=new No,bf=new _n,DE=new oe,Vv=new oe,uhe=new oe,lhe=new No,p4=new oe(1,0,0),m4=new oe(0,1,0),g4=new oe(0,0,1),_4={type:"added"},che={type:"removed"},fg={type:"childadded",child:null},nD={type:"childremoved",child:null};class xi extends Bc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ohe++}),this.uuid=ou(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xi.DEFAULT_UP.clone();const e=new oe,n=new du,i=new No,r=new oe(1,1,1);function s(){i.setFromEuler(n,!1)}function a(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new _n},normalMatrix:{value:new On}}),this.matrix=new _n,this.matrixWorld=new _n,this.matrixAutoUpdate=xi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=xi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new A_,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return cg.setFromAxisAngle(e,n),this.quaternion.multiply(cg),this}rotateOnWorldAxis(e,n){return cg.setFromAxisAngle(e,n),this.quaternion.premultiply(cg),this}rotateX(e){return this.rotateOnAxis(p4,e)}rotateY(e){return this.rotateOnAxis(m4,e)}rotateZ(e){return this.rotateOnAxis(g4,e)}translateOnAxis(e,n){return h4.copy(e).applyQuaternion(this.quaternion),this.position.add(h4.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(p4,e)}translateY(e){return this.translateOnAxis(m4,e)}translateZ(e){return this.translateOnAxis(g4,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(bf.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?DE.copy(e):DE.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Vv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?bf.lookAt(Vv,DE,this.up):bf.lookAt(DE,Vv,this.up),this.quaternion.setFromRotationMatrix(bf),r&&(bf.extractRotation(r.matrixWorld),cg.setFromRotationMatrix(bf),this.quaternion.premultiply(cg.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(en("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(_4),fg.child=e,this.dispatchEvent(fg),fg.child=null):en("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(che),nD.child=e,this.dispatchEvent(nD),nD.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),bf.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),bf.multiply(e.parent.matrixWorld)),e.applyMatrix4(bf),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(_4),fg.child=e,this.dispatchEvent(fg),fg.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vv,e,uhe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vv,lhe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let f=0,p=l.length;f<p;f++){const g=l[f];s(e.shapes,g)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,f=this.material.length;l<f;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),f=a(e.textures),p=a(e.images),g=a(e.shapes),y=a(e.skeletons),_=a(e.animations),x=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),f.length>0&&(i.textures=f),p.length>0&&(i.images=p),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),_.length>0&&(i.animations=_),x.length>0&&(i.nodes=x)}return i.object=r,i;function a(o){const l=[];for(const f in o){const p=o[f];delete p.metadata,l.push(p)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}xi.DEFAULT_UP=new oe(0,1,0);xi.DEFAULT_MATRIX_AUTO_UPDATE=!0;xi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const wl=new oe,xf=new oe,iD=new oe,Sf=new oe,dg=new oe,hg=new oe,y4=new oe,rD=new oe,sD=new oe,aD=new oe,oD=new Zi,uD=new Zi,lD=new Zi;class Do{constructor(e=new oe,n=new oe,i=new oe){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),wl.subVectors(e,n),r.cross(wl);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){wl.subVectors(r,n),xf.subVectors(i,n),iD.subVectors(e,n);const a=wl.dot(wl),o=wl.dot(xf),l=wl.dot(iD),f=xf.dot(xf),p=xf.dot(iD),g=a*f-o*o;if(g===0)return s.set(0,0,0),null;const y=1/g,_=(f*l-o*p)*y,x=(a*p-o*l)*y;return s.set(1-_-x,x,_)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Sf)===null?!1:Sf.x>=0&&Sf.y>=0&&Sf.x+Sf.y<=1}static getInterpolation(e,n,i,r,s,a,o,l){return this.getBarycoord(e,n,i,r,Sf)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Sf.x),l.addScaledVector(a,Sf.y),l.addScaledVector(o,Sf.z),l)}static getInterpolatedAttribute(e,n,i,r,s,a){return oD.setScalar(0),uD.setScalar(0),lD.setScalar(0),oD.fromBufferAttribute(e,n),uD.fromBufferAttribute(e,i),lD.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(oD,s.x),a.addScaledVector(uD,s.y),a.addScaledVector(lD,s.z),a}static isFrontFacing(e,n,i,r){return wl.subVectors(i,n),xf.subVectors(e,n),wl.cross(xf).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return wl.subVectors(this.c,this.b),xf.subVectors(this.a,this.b),wl.cross(xf).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Do.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Do.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,s){return Do.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return Do.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Do.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let a,o;dg.subVectors(r,i),hg.subVectors(s,i),rD.subVectors(e,i);const l=dg.dot(rD),f=hg.dot(rD);if(l<=0&&f<=0)return n.copy(i);sD.subVectors(e,r);const p=dg.dot(sD),g=hg.dot(sD);if(p>=0&&g<=p)return n.copy(r);const y=l*g-p*f;if(y<=0&&l>=0&&p<=0)return a=l/(l-p),n.copy(i).addScaledVector(dg,a);aD.subVectors(e,s);const _=dg.dot(aD),x=hg.dot(aD);if(x>=0&&_<=x)return n.copy(s);const S=_*f-l*x;if(S<=0&&f>=0&&x<=0)return o=f/(f-x),n.copy(i).addScaledVector(hg,o);const E=p*x-_*g;if(E<=0&&g-p>=0&&_-x>=0)return y4.subVectors(s,r),o=(g-p)/(g-p+(_-x)),n.copy(r).addScaledVector(y4,o);const w=1/(E+S+y);return a=S*w,o=y*w,n.copy(i).addScaledVector(dg,a).addScaledVector(hg,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const $7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},qd={h:0,s:0,l:0},RE={h:0,s:0,l:0};function cD(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Vt{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=_a){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,fi.colorSpaceToWorking(this,n),this}setRGB(e,n,i,r=fi.workingColorSpace){return this.r=e,this.g=n,this.b=i,fi.colorSpaceToWorking(this,r),this}setHSL(e,n,i,r=fi.workingColorSpace){if(e=r6(e,1),n=hn(n,0,1),i=hn(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,a=2*i-s;this.r=cD(a,s,e+1/3),this.g=cD(a,s,e),this.b=cD(a,s,e-1/3)}return fi.colorSpaceToWorking(this,r),this}setStyle(e,n=_a){function i(s){s!==void 0&&parseFloat(s)<1&&Ut("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:Ut("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);Ut("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=_a){const i=$7[e.toLowerCase()];return i!==void 0?this.setHex(i,n):Ut("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Pf(e.r),this.g=Pf(e.g),this.b=Pf(e.b),this}copyLinearToSRGB(e){return this.r=t_(e.r),this.g=t_(e.g),this.b=t_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=_a){return fi.workingToColorSpace(da.copy(this),e),Math.round(hn(da.r*255,0,255))*65536+Math.round(hn(da.g*255,0,255))*256+Math.round(hn(da.b*255,0,255))}getHexString(e=_a){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=fi.workingColorSpace){fi.workingToColorSpace(da.copy(this),n);const i=da.r,r=da.g,s=da.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let l,f;const p=(o+a)/2;if(o===a)l=0,f=0;else{const g=a-o;switch(f=p<=.5?g/(a+o):g/(2-a-o),a){case i:l=(r-s)/g+(r<s?6:0);break;case r:l=(s-i)/g+2;break;case s:l=(i-r)/g+4;break}l/=6}return e.h=l,e.s=f,e.l=p,e}getRGB(e,n=fi.workingColorSpace){return fi.workingToColorSpace(da.copy(this),n),e.r=da.r,e.g=da.g,e.b=da.b,e}getStyle(e=_a){fi.workingToColorSpace(da.copy(this),e);const n=da.r,i=da.g,r=da.b;return e!==_a?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(qd),this.setHSL(qd.h+e,qd.s+n,qd.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(qd),e.getHSL(RE);const i=Mb(qd.h,RE.h,n),r=Mb(qd.s,RE.s,n),s=Mb(qd.l,RE.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const da=new Vt;Vt.NAMES=$7;let fhe=0;class wa extends Bc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:fhe++}),this.uuid=ou(),this.name="",this.type="Material",this.blending=_m,this.side=qf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=UT,this.blendDst=BT,this.blendEquation=nh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Vt(0,0,0),this.blendAlpha=0,this.depthFunc=Nm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=TI,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Qp,this.stencilZFail=Qp,this.stencilZPass=Qp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){Ut(`Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){Ut(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==_m&&(i.blending=this.blending),this.side!==qf&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==UT&&(i.blendSrc=this.blendSrc),this.blendDst!==BT&&(i.blendDst=this.blendDst),this.blendEquation!==nh&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Nm&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==TI&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Qp&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Qp&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Qp&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.allowOverride===!1&&(i.allowOverride=!1),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(n){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Wh extends wa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new du,this.combine=s1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Af=dhe();function dhe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const f=l-127;f<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):f<-14?(i[l]=1024>>-f-14,i[l|256]=1024>>-f-14|32768,r[l]=-f-1,r[l|256]=-f-1):f<=15?(i[l]=f+15<<10,i[l|256]=f+15<<10|32768,r[l]=13,r[l|256]=13):f<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let f=l<<13,p=0;for(;(f&8388608)===0;)f<<=1,p-=8388608;f&=-8388609,p+=947912704,s[l]=f|p}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function Eo(t){Math.abs(t)>65504&&Ut("DataUtils.toHalfFloat(): Value out of range."),t=hn(t,-65504,65504),Af.floatView[0]=t;const e=Af.uint32View[0],n=e>>23&511;return Af.baseTable[n]+((e&8388607)>>Af.shiftTable[n])}function nb(t){const e=t>>10;return Af.uint32View[0]=Af.mantissaTable[Af.offsetTable[e]+(t&1023)]+Af.exponentTable[e],Af.floatView[0]}class hhe{static toHalfFloat(e){return Eo(e)}static fromHalfFloat(e){return nb(e)}}const as=new oe,IE=new ft;let phe=0;class ji{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:phe++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=px,this.updateRanges=[],this.gpuType=Za,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)IE.fromBufferAttribute(this,n),IE.applyMatrix3(e),this.setXY(n,IE.x,IE.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)as.fromBufferAttribute(this,n),as.applyMatrix3(e),this.setXYZ(n,as.x,as.y,as.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)as.fromBufferAttribute(this,n),as.applyMatrix4(e),this.setXYZ(n,as.x,as.y,as.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)as.fromBufferAttribute(this,n),as.applyNormalMatrix(e),this.setXYZ(n,as.x,as.y,as.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)as.fromBufferAttribute(this,n),as.transformDirection(e),this.setXYZ(n,as.x,as.y,as.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=$a(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Fn(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=$a(n,this.array)),n}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=$a(n,this.array)),n}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=$a(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=$a(n,this.array)),n}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),i=Fn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),i=Fn(i,this.array),r=Fn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),i=Fn(i,this.array),r=Fn(r,this.array),s=Fn(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==px&&(e.usage=this.usage),e}}class mhe extends ji{constructor(e,n,i){super(new Int8Array(e),n,i)}}class ghe extends ji{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class _he extends ji{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class yhe extends ji{constructor(e,n,i){super(new Int16Array(e),n,i)}}class a6 extends ji{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class vhe extends ji{constructor(e,n,i){super(new Int32Array(e),n,i)}}class o6 extends ji{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class bhe extends ji{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=nb(this.array[e*this.itemSize]);return this.normalized&&(n=$a(n,this.array)),n}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize]=Eo(n),this}getY(e){let n=nb(this.array[e*this.itemSize+1]);return this.normalized&&(n=$a(n,this.array)),n}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+1]=Eo(n),this}getZ(e){let n=nb(this.array[e*this.itemSize+2]);return this.normalized&&(n=$a(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+2]=Eo(n),this}getW(e){let n=nb(this.array[e*this.itemSize+3]);return this.normalized&&(n=$a(n,this.array)),n}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.array[e*this.itemSize+3]=Eo(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),i=Fn(i,this.array)),this.array[e+0]=Eo(n),this.array[e+1]=Eo(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),i=Fn(i,this.array),r=Fn(r,this.array)),this.array[e+0]=Eo(n),this.array[e+1]=Eo(i),this.array[e+2]=Eo(r),this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=Fn(n,this.array),i=Fn(i,this.array),r=Fn(r,this.array),s=Fn(s,this.array)),this.array[e+0]=Eo(n),this.array[e+1]=Eo(i),this.array[e+2]=Eo(r),this.array[e+3]=Eo(s),this}}class jt extends ji{constructor(e,n,i){super(new Float32Array(e),n,i)}}let xhe=0;const zu=new _n,fD=new xi,pg=new oe,$o=new Sa,Gv=new Sa,Ds=new oe;class Rn extends Bc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:xhe++}),this.uuid=ou(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(G7(e)?o6:a6)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new On().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return zu.makeRotationFromQuaternion(e),this.applyMatrix4(zu),this}rotateX(e){return zu.makeRotationX(e),this.applyMatrix4(zu),this}rotateY(e){return zu.makeRotationY(e),this.applyMatrix4(zu),this}rotateZ(e){return zu.makeRotationZ(e),this.applyMatrix4(zu),this}translate(e,n,i){return zu.makeTranslation(e,n,i),this.applyMatrix4(zu),this}scale(e,n,i){return zu.makeScale(e,n,i),this.applyMatrix4(zu),this}lookAt(e){return fD.lookAt(e),fD.updateMatrix(),this.applyMatrix4(fD.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(pg).negate(),this.translate(pg.x,pg.y,pg.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new jt(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const s=e[r];n.setXYZ(r,s.x,s.y,s.z||0)}e.length>n.count&&Ut("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Sa);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){en("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new oe(-1/0,-1/0,-1/0),new oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];$o.setFromBufferAttribute(s),this.morphTargetsRelative?(Ds.addVectors(this.boundingBox.min,$o.min),this.boundingBox.expandByPoint(Ds),Ds.addVectors(this.boundingBox.max,$o.max),this.boundingBox.expandByPoint(Ds)):(this.boundingBox.expandByPoint($o.min),this.boundingBox.expandByPoint($o.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&en('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ks);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){en("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new oe,1/0);return}if(e){const i=this.boundingSphere.center;if($o.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];Gv.setFromBufferAttribute(o),this.morphTargetsRelative?(Ds.addVectors($o.min,Gv.min),$o.expandByPoint(Ds),Ds.addVectors($o.max,Gv.max),$o.expandByPoint(Ds)):($o.expandByPoint(Gv.min),$o.expandByPoint(Gv.max))}$o.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Ds.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Ds));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],l=this.morphTargetsRelative;for(let f=0,p=o.count;f<p;f++)Ds.fromBufferAttribute(o,f),l&&(pg.fromBufferAttribute(e,f),Ds.add(pg)),r=Math.max(r,i.distanceToSquared(Ds))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&en('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){en("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ji(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let z=0;z<i.count;z++)o[z]=new oe,l[z]=new oe;const f=new oe,p=new oe,g=new oe,y=new ft,_=new ft,x=new ft,S=new oe,E=new oe;function w(z,k,F){f.fromBufferAttribute(i,z),p.fromBufferAttribute(i,k),g.fromBufferAttribute(i,F),y.fromBufferAttribute(s,z),_.fromBufferAttribute(s,k),x.fromBufferAttribute(s,F),p.sub(f),g.sub(f),_.sub(y),x.sub(y);const G=1/(_.x*x.y-x.x*_.y);isFinite(G)&&(S.copy(p).multiplyScalar(x.y).addScaledVector(g,-_.y).multiplyScalar(G),E.copy(g).multiplyScalar(_.x).addScaledVector(p,-x.x).multiplyScalar(G),o[z].add(S),o[k].add(S),o[F].add(S),l[z].add(E),l[k].add(E),l[F].add(E))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let z=0,k=C.length;z<k;++z){const F=C[z],G=F.start,$=F.count;for(let ee=G,ne=G+$;ee<ne;ee+=3)w(e.getX(ee+0),e.getX(ee+1),e.getX(ee+2))}const A=new oe,R=new oe,N=new oe,O=new oe;function P(z){N.fromBufferAttribute(r,z),O.copy(N);const k=o[z];A.copy(k),A.sub(N.multiplyScalar(N.dot(k))).normalize(),R.crossVectors(O,k);const G=R.dot(l[z])<0?-1:1;a.setXYZW(z,A.x,A.y,A.z,G)}for(let z=0,k=C.length;z<k;++z){const F=C[z],G=F.start,$=F.count;for(let ee=G,ne=G+$;ee<ne;ee+=3)P(e.getX(ee+0)),P(e.getX(ee+1)),P(e.getX(ee+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ji(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let y=0,_=i.count;y<_;y++)i.setXYZ(y,0,0,0);const r=new oe,s=new oe,a=new oe,o=new oe,l=new oe,f=new oe,p=new oe,g=new oe;if(e)for(let y=0,_=e.count;y<_;y+=3){const x=e.getX(y+0),S=e.getX(y+1),E=e.getX(y+2);r.fromBufferAttribute(n,x),s.fromBufferAttribute(n,S),a.fromBufferAttribute(n,E),p.subVectors(a,s),g.subVectors(r,s),p.cross(g),o.fromBufferAttribute(i,x),l.fromBufferAttribute(i,S),f.fromBufferAttribute(i,E),o.add(p),l.add(p),f.add(p),i.setXYZ(x,o.x,o.y,o.z),i.setXYZ(S,l.x,l.y,l.z),i.setXYZ(E,f.x,f.y,f.z)}else for(let y=0,_=n.count;y<_;y+=3)r.fromBufferAttribute(n,y+0),s.fromBufferAttribute(n,y+1),a.fromBufferAttribute(n,y+2),p.subVectors(a,s),g.subVectors(r,s),p.cross(g),i.setXYZ(y+0,p.x,p.y,p.z),i.setXYZ(y+1,p.x,p.y,p.z),i.setXYZ(y+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Ds.fromBufferAttribute(e,n),Ds.normalize(),e.setXYZ(n,Ds.x,Ds.y,Ds.z)}toNonIndexed(){function e(o,l){const f=o.array,p=o.itemSize,g=o.normalized,y=new f.constructor(l.length*p);let _=0,x=0;for(let S=0,E=l.length;S<E;S++){o.isInterleavedBufferAttribute?_=l[S]*o.data.stride+o.offset:_=l[S]*p;for(let w=0;w<p;w++)y[x++]=f[_++]}return new ji(y,p,g)}if(this.index===null)return Ut("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Rn,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],f=e(l,i);n.setAttribute(o,f)}const s=this.morphAttributes;for(const o in s){const l=[],f=s[o];for(let p=0,g=f.length;p<g;p++){const y=f[p],_=e(y,i);l.push(_)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const f=a[o];n.addGroup(f.start,f.count,f.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const f in l)l[f]!==void 0&&(e[f]=l[f]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const f=i[l];e.data.attributes[l]=f.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const f=this.morphAttributes[l],p=[];for(let g=0,y=f.length;g<y;g++){const _=f[g];p.push(_.toJSON(e.data))}p.length>0&&(r[l]=p,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const f in r){const p=r[f];this.setAttribute(f,p.clone(n))}const s=e.morphAttributes;for(const f in s){const p=[],g=s[f];for(let y=0,_=g.length;y<_;y++)p.push(g[y].clone(n));this.morphAttributes[f]=p}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let f=0,p=a.length;f<p;f++){const g=a[f];this.addGroup(g.start,g.count,g.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const v4=new _n,Fp=new ny,NE=new Ks,b4=new oe,OE=new oe,kE=new oe,PE=new oe,dD=new oe,LE=new oe,x4=new oe,FE=new oe;class ds extends xi{constructor(e=new Rn,n=new Wh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){LE.set(0,0,0);for(let l=0,f=s.length;l<f;l++){const p=o[l],g=s[l];p!==0&&(dD.fromBufferAttribute(g,e),a?LE.addScaledVector(dD,p):LE.addScaledVector(dD.sub(n),p))}n.add(LE)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),NE.copy(i.boundingSphere),NE.applyMatrix4(s),Fp.copy(e.ray).recast(e.near),!(NE.containsPoint(Fp.origin)===!1&&(Fp.intersectSphere(NE,b4)===null||Fp.origin.distanceToSquared(b4)>(e.far-e.near)**2))&&(v4.copy(s).invert(),Fp.copy(e.ray).applyMatrix4(v4),!(i.boundingBox!==null&&Fp.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Fp)))}_computeIntersections(e,n,i){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,f=s.attributes.uv,p=s.attributes.uv1,g=s.attributes.normal,y=s.groups,_=s.drawRange;if(o!==null)if(Array.isArray(a))for(let x=0,S=y.length;x<S;x++){const E=y[x],w=a[E.materialIndex],C=Math.max(E.start,_.start),A=Math.min(o.count,Math.min(E.start+E.count,_.start+_.count));for(let R=C,N=A;R<N;R+=3){const O=o.getX(R),P=o.getX(R+1),z=o.getX(R+2);r=UE(this,w,e,i,f,p,g,O,P,z),r&&(r.faceIndex=Math.floor(R/3),r.face.materialIndex=E.materialIndex,n.push(r))}}else{const x=Math.max(0,_.start),S=Math.min(o.count,_.start+_.count);for(let E=x,w=S;E<w;E+=3){const C=o.getX(E),A=o.getX(E+1),R=o.getX(E+2);r=UE(this,a,e,i,f,p,g,C,A,R),r&&(r.faceIndex=Math.floor(E/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let x=0,S=y.length;x<S;x++){const E=y[x],w=a[E.materialIndex],C=Math.max(E.start,_.start),A=Math.min(l.count,Math.min(E.start+E.count,_.start+_.count));for(let R=C,N=A;R<N;R+=3){const O=R,P=R+1,z=R+2;r=UE(this,w,e,i,f,p,g,O,P,z),r&&(r.faceIndex=Math.floor(R/3),r.face.materialIndex=E.materialIndex,n.push(r))}}else{const x=Math.max(0,_.start),S=Math.min(l.count,_.start+_.count);for(let E=x,w=S;E<w;E+=3){const C=E,A=E+1,R=E+2;r=UE(this,a,e,i,f,p,g,C,A,R),r&&(r.faceIndex=Math.floor(E/3),n.push(r))}}}}function She(t,e,n,i,r,s,a,o){let l;if(e.side===Ka?l=i.intersectTriangle(a,s,r,!0,o):l=i.intersectTriangle(r,s,a,e.side===qf,o),l===null)return null;FE.copy(o),FE.applyMatrix4(t.matrixWorld);const f=n.ray.origin.distanceTo(FE);return f<n.near||f>n.far?null:{distance:f,point:FE.clone(),object:t}}function UE(t,e,n,i,r,s,a,o,l,f){t.getVertexPosition(o,OE),t.getVertexPosition(l,kE),t.getVertexPosition(f,PE);const p=She(t,e,n,i,OE,kE,PE,x4);if(p){const g=new oe;Do.getBarycoord(x4,OE,kE,PE,g),r&&(p.uv=Do.getInterpolatedAttribute(r,o,l,f,g,new ft)),s&&(p.uv1=Do.getInterpolatedAttribute(s,o,l,f,g,new ft)),a&&(p.normal=Do.getInterpolatedAttribute(a,o,l,f,g,new oe),p.normal.dot(i.direction)>0&&p.normal.multiplyScalar(-1));const y={a:o,b:l,c:f,normal:new oe,materialIndex:0};Do.getNormal(OE,kE,PE,y.normal),p.face=y,p.barycoord=g}return p}class Zm extends Rn{constructor(e=1,n=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],f=[],p=[],g=[];let y=0,_=0;x("z","y","x",-1,-1,i,n,e,a,s,0),x("z","y","x",1,-1,i,n,-e,a,s,1),x("x","z","y",1,1,e,i,n,r,a,2),x("x","z","y",1,-1,e,i,-n,r,a,3),x("x","y","z",1,-1,e,n,i,r,s,4),x("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new jt(f,3)),this.setAttribute("normal",new jt(p,3)),this.setAttribute("uv",new jt(g,2));function x(S,E,w,C,A,R,N,O,P,z,k){const F=R/P,G=N/z,$=R/2,ee=N/2,ne=O/2,re=P+1,W=z+1;let q=0,te=0;const se=new oe;for(let Z=0;Z<W;Z++){const j=Z*G-ee;for(let ue=0;ue<re;ue++){const ge=ue*F-$;se[S]=ge*C,se[E]=j*A,se[w]=ne,f.push(se.x,se.y,se.z),se[S]=0,se[E]=0,se[w]=O>0?1:-1,p.push(se.x,se.y,se.z),g.push(ue/P),g.push(1-Z/z),q+=1}}for(let Z=0;Z<z;Z++)for(let j=0;j<P;j++){const ue=y+j+re*Z,ge=y+j+re*(Z+1),Se=y+(j+1)+re*(Z+1),Fe=y+(j+1)+re*Z;l.push(ue,ge,Fe),l.push(ge,Se,Fe),te+=6}o.addGroup(_,te,k),_+=te,y+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function D_(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(Ut("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Ha(t){const e={};for(let n=0;n<t.length;n++){const i=D_(t[n]);for(const r in i)e[r]=i[r]}return e}function Ehe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function X7(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:fi.workingColorSpace}const Y7={clone:D_,merge:Ha};var whe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,The=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class tl extends wa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=whe,this.fragmentShader=The,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=D_(e.uniforms),this.uniformsGroups=Ehe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?n.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[r]={type:"m4",value:a.toArray()}:n.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class HC extends xi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new _n,this.projectionMatrix=new _n,this.projectionMatrixInverse=new _n,this.coordinateSystem=nu,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const $d=new oe,S4=new ft,E4=new ft;class Os extends HC{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=C_*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ym*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return C_*2*Math.atan(Math.tan(ym*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){$d.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set($d.x,$d.y).multiplyScalar(-e/$d.z),$d.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set($d.x,$d.y).multiplyScalar(-e/$d.z)}getViewSize(e,n){return this.getViewBounds(e,S4,E4),n.subVectors(E4,S4)}setViewOffset(e,n,i,r,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ym*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,f=a.fullHeight;s+=a.offsetX*r/l,n-=a.offsetY*i/f,r*=a.width/l,i*=a.height/f}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const mg=-90,gg=1;class Z7 extends xi{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Os(mg,gg,e,n);r.layers=this.layers,this.add(r);const s=new Os(mg,gg,e,n);s.layers=this.layers,this.add(s);const a=new Os(mg,gg,e,n);a.layers=this.layers,this.add(a);const o=new Os(mg,gg,e,n);o.layers=this.layers,this.add(o);const l=new Os(mg,gg,e,n);l.layers=this.layers,this.add(l);const f=new Os(mg,gg,e,n);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,a,o,l]=n;for(const f of n)this.remove(f);if(e===nu)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===T_)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of n)this.add(f),f.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,f,p]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),_=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const S=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,a),e.setRenderTarget(i,2,r),e.render(n,o),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,f),i.texture.generateMipmaps=S,e.setRenderTarget(i,5,r),e.render(n,p),e.setRenderTarget(g,y,_),e.xr.enabled=x,i.texture.needsPMREMUpdate=!0}}class o1 extends Gr{constructor(e=[],n=Ic,i,r,s,a,o,l,f,p){super(e,n,i,r,s,a,o,l,f,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class u6 extends uu{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new o1(r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Zm(5,5,5),s=new tl({name:"CubemapFromEquirect",uniforms:D_(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ka,blending:Ac});s.uniforms.tEquirect.value=n;const a=new ds(r,s),o=n.minFilter;return n.minFilter===wc&&(n.minFilter=gr),new Z7(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,i,r);e.setRenderTarget(s)}}class $g extends xi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Mhe={type:"move"};class $w{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new $g,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new $g,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new $g,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,f=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(f&&e.hand){a=!0;for(const S of e.hand.values()){const E=n.getJointPose(S,i),w=this._getHandJoint(f,S);E!==null&&(w.matrix.fromArray(E.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=E.radius),w.visible=E!==null}const p=f.joints["index-finger-tip"],g=f.joints["thumb-tip"],y=p.position.distanceTo(g.position),_=.02,x=.005;f.inputState.pinching&&y>_+x?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&y<=_-x&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Mhe)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),f!==null&&(f.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new $g;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class VC{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Vt(e),this.density=n}clone(){return new VC(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class GC{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Vt(e),this.near=n,this.far=i}clone(){return new GC(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class l6 extends xi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new du,this.environmentIntensity=1,this.environmentRotation=new du,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class WC{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=px,this.updateRanges=[],this.version=0,this.uuid=ou()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ou()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ou()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Fa=new oe;class km{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)Fa.fromBufferAttribute(this,n),Fa.applyMatrix4(e),this.setXYZ(n,Fa.x,Fa.y,Fa.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Fa.fromBufferAttribute(this,n),Fa.applyNormalMatrix(e),this.setXYZ(n,Fa.x,Fa.y,Fa.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Fa.fromBufferAttribute(this,n),Fa.transformDirection(e),this.setXYZ(n,Fa.x,Fa.y,Fa.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=$a(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Fn(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=$a(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=$a(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=$a(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=$a(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),i=Fn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),i=Fn(i,this.array),r=Fn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Fn(n,this.array),i=Fn(i,this.array),r=Fn(r,this.array),s=Fn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){gx("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return new ji(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new km(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){gx("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class c6 extends wa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Vt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let _g;const Wv=new oe,yg=new oe,vg=new oe,bg=new ft,jv=new ft,K7=new _n,BE=new oe,qv=new oe,zE=new oe,w4=new ft,hD=new ft,T4=new ft;class Q7 extends xi{constructor(e=new c6){if(super(),this.isSprite=!0,this.type="Sprite",_g===void 0){_g=new Rn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new WC(n,5);_g.setIndex([0,1,2,0,2,3]),_g.setAttribute("position",new km(i,3,0,!1)),_g.setAttribute("uv",new km(i,2,3,!1))}this.geometry=_g,this.material=e,this.center=new ft(.5,.5),this.count=1}raycast(e,n){e.camera===null&&en('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),yg.setFromMatrixScale(this.matrixWorld),K7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),vg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&yg.multiplyScalar(-vg.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;HE(BE.set(-.5,-.5,0),vg,a,yg,r,s),HE(qv.set(.5,-.5,0),vg,a,yg,r,s),HE(zE.set(.5,.5,0),vg,a,yg,r,s),w4.set(0,0),hD.set(1,0),T4.set(1,1);let o=e.ray.intersectTriangle(BE,qv,zE,!1,Wv);if(o===null&&(HE(qv.set(-.5,.5,0),vg,a,yg,r,s),hD.set(0,1),o=e.ray.intersectTriangle(BE,zE,qv,!1,Wv),o===null))return;const l=e.ray.origin.distanceTo(Wv);l<e.near||l>e.far||n.push({distance:l,point:Wv.clone(),uv:Do.getInterpolation(Wv,BE,qv,zE,w4,hD,T4,new ft),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function HE(t,e,n,i,r,s){bg.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(jv.x=s*bg.x-r*bg.y,jv.y=r*bg.x+s*bg.y):jv.copy(bg),t.copy(e),t.x+=jv.x,t.y+=jv.y,t.applyMatrix4(K7)}const VE=new oe,M4=new oe;class J7 extends xi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const s=n[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let s;for(s=0;s<r.length&&!(n<r[s].distance);s++);return r.splice(s,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const r=n.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),e<s)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){VE.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(VE);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){VE.setFromMatrixPosition(e.matrixWorld),M4.setFromMatrixPosition(this.matrixWorld);const i=VE.distanceTo(M4)/e.zoom;n[0].object.visible=!0;let r,s;for(r=1,s=n.length;r<s;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),i>=a)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const C4=new oe,A4=new Zi,D4=new Zi,Che=new oe,R4=new _n,GE=new oe,pD=new Ks,I4=new _n,mD=new ny;class eH extends ds{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=wI,this.bindMatrix=new _n,this.bindMatrixInverse=new _n,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Sa),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,GE),this.boundingBox.expandByPoint(GE)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ks),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,GE),this.boundingSphere.expandByPoint(GE)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),pD.copy(this.boundingSphere),pD.applyMatrix4(r),e.ray.intersectsSphere(pD)!==!1&&(I4.copy(r).invert(),mD.copy(e.ray).applyMatrix4(I4),!(this.boundingBox!==null&&mD.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,mD)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Zi,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===wI?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===I7?this.bindMatrixInverse.copy(this.bindMatrix).invert():Ut("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;A4.fromBufferAttribute(r.attributes.skinIndex,e),D4.fromBufferAttribute(r.attributes.skinWeight,e),C4.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=D4.getComponent(s);if(a!==0){const o=A4.getComponent(s);R4.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),n.addScaledVector(Che.copy(C4).applyMatrix4(R4),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class f6 extends xi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ol extends Gr{constructor(e=null,n=1,i=1,r,s,a,o,l,f=Qr,p=Qr,g,y){super(null,a,o,l,f,p,r,s,g,y),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const N4=new _n,Ahe=new _n;class jC{constructor(e=[],n=[]){this.uuid=ou(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){Ut("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new _n)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new _n;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:Ahe;N4.multiplyMatrices(o,n[s]),N4.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new jC(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Ol(n,e,e,ba,Za);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=n[s];a===void 0&&(Ut("Skeleton: No bone found with UUID:",s),a=new f6),this.bones.push(a),this.boneInverses.push(new _n().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,s=n.length;r<s;r++){const a=n[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class R_ extends ji{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const xg=new _n,O4=new _n,WE=[],k4=new Sa,Dhe=new _n,$v=new ds,Xv=new Ks;class tH extends ds{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new R_(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,Dhe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Sa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,xg),k4.copy(e.boundingBox).applyMatrix4(xg),this.boundingBox.union(k4)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ks),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,xg),Xv.copy(e.boundingSphere).applyMatrix4(xg),this.boundingSphere.union(Xv)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let o=0;o<i.length;o++)i[o]=r[a+o]}raycast(e,n){const i=this.matrixWorld,r=this.count;if($v.geometry=this.geometry,$v.material=this.material,$v.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Xv.copy(this.boundingSphere),Xv.applyMatrix4(i),e.ray.intersectsSphere(Xv)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,xg),O4.multiplyMatrices(i,xg),$v.matrixWorld=O4,$v.raycast(e,WE);for(let a=0,o=WE.length;a<o;a++){const l=WE[a];l.instanceId=s,l.object=this,n.push(l)}WE.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new R_(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Ol(new Float32Array(r*this.count),r,this.count,OC,Za));const s=this.morphTexture.source.data.data;let a=0;for(let f=0;f<i.length;f++)a+=i[f];const o=this.geometry.morphTargetsRelative?1:1-a,l=r*e;s[l]=o,s.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const gD=new oe,Rhe=new oe,Ihe=new On;class eh{constructor(e=new oe(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=gD.subVectors(i,n).cross(Rhe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(gD),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||Ihe.getNormalMatrix(e),r=this.coplanarPoint(gD).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Up=new Ks,Nhe=new ft(.5,.5),jE=new oe;class iy{constructor(e=new eh,n=new eh,i=new eh,r=new eh,s=new eh,a=new eh){this.planes=[e,n,i,r,s,a]}set(e,n,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=nu,i=!1){const r=this.planes,s=e.elements,a=s[0],o=s[1],l=s[2],f=s[3],p=s[4],g=s[5],y=s[6],_=s[7],x=s[8],S=s[9],E=s[10],w=s[11],C=s[12],A=s[13],R=s[14],N=s[15];if(r[0].setComponents(f-a,_-p,w-x,N-C).normalize(),r[1].setComponents(f+a,_+p,w+x,N+C).normalize(),r[2].setComponents(f+o,_+g,w+S,N+A).normalize(),r[3].setComponents(f-o,_-g,w-S,N-A).normalize(),i)r[4].setComponents(l,y,E,R).normalize(),r[5].setComponents(f-l,_-y,w-E,N-R).normalize();else if(r[4].setComponents(f-l,_-y,w-E,N-R).normalize(),n===nu)r[5].setComponents(f+l,_+y,w+E,N+R).normalize();else if(n===T_)r[5].setComponents(l,y,E,R).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Up.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Up.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Up)}intersectsSprite(e){Up.center.set(0,0,0);const n=Nhe.distanceTo(e.center);return Up.radius=.7071067811865476+n,Up.applyMatrix4(e.matrixWorld),this.intersectsSphere(Up)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(jE.x=r.normal.x>0?e.max.x:e.min.x,jE.y=r.normal.y>0?e.max.y:e.min.y,jE.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(jE)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const dc=new _n,hc=new iy;class qC{constructor(){this.coordinateSystem=nu}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(dc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),hc.setFromProjectionMatrix(dc,r.coordinateSystem,r.reversedDepth),hc.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(dc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),hc.setFromProjectionMatrix(dc,r.coordinateSystem,r.reversedDepth),hc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(dc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),hc.setFromProjectionMatrix(dc,r.coordinateSystem,r.reversedDepth),hc.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(dc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),hc.setFromProjectionMatrix(dc,r.coordinateSystem,r.reversedDepth),hc.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(dc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),hc.setFromProjectionMatrix(dc,r.coordinateSystem,r.reversedDepth),hc.containsPoint(e))return!0}return!1}clone(){return new qC}}function _D(t,e){return t-e}function Ohe(t,e){return t.z-e.z}function khe(t,e){return e.z-t.z}class Phe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=n,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const So=new _n,Lhe=new Vt(1,1,1),P4=new iy,Fhe=new qC,qE=new Sa,Bp=new Ks,Yv=new oe,L4=new oe,Uhe=new oe,yD=new Phe,ha=new ds,$E=[];function Bhe(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let s=0;s<r;s++)for(let a=0;a<i;a++)e.setComponent(s+n,a,t.getComponent(s,a))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function zp(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class nH extends ds{constructor(e,n,i=n*2,r){super(new Rn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Ol(n,e,e,ba,Za);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Ol(n,e,e,a1,el);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Ol(n,e,e,ba,Za);i.colorSpace=fi.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:f}=a,p=new o.constructor(i*l),g=new ji(p,l,f);n.setAttribute(s,g)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new ji(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=n.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Sa);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const s=n[i].geometryIndex;this.getMatrixAt(i,So),this.getBoundingBoxAt(s,qE).applyMatrix4(So),e.union(qE)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ks);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const s=n[i].geometryIndex;this.getMatrixAt(i,So),this.getBoundingSphereAt(s,Bp).applyMatrix4(So),e.union(Bp)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(_D),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;So.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(Lhe.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(_D),l=this._availableGeometryIds.shift(),s[l]=r):(l=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),a=n.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||n.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,f=o.reservedVertexCount;o.vertexCount=n.getAttribute("position").count;for(const p in i.attributes){const g=n.getAttribute(p),y=i.getAttribute(p);Bhe(g,y,l);const _=g.itemSize;for(let x=g.count,S=f;x<S;x++){const E=l+x;for(let w=0;w<_;w++)y.setComponent(E,w,0)}y.needsUpdate=!0,y.addUpdateRange(l*_,f*_)}if(r){const p=o.indexStart,g=o.reservedIndexCount;o.indexCount=n.getIndex().count;for(let y=0;y<a.count;y++)s.setX(p+y,l+a.getX(y));for(let y=a.count,_=g;y<_;y++)s.setX(p+y,l);s.needsUpdate=!0,s.addUpdateRange(p,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,n.boundingBox!==null&&(o.boundingBox=n.boundingBox.clone()),o.boundingSphere=null,n.boundingSphere!==null&&(o.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,r=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),s=this.geometry;for(let a=0,o=i.length;a<o;a++){const l=r[a],f=i[l];if(f.active!==!1){if(s.index!==null){if(f.indexStart!==n){const{indexStart:p,vertexStart:g,reservedIndexCount:y}=f,_=s.index,x=_.array,S=e-g;for(let E=p;E<p+y;E++)x[E]=x[E]+S;_.array.copyWithin(n,p,p+y),_.addUpdateRange(n,y),_.needsUpdate=!0,f.indexStart=n}n+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:p,reservedVertexCount:g}=f,y=s.attributes;for(const _ in y){const x=y[_],{array:S,itemSize:E}=x;S.copyWithin(e*E,p*E,(p+g)*E),x.addUpdateRange(e*E,g*E),x.needsUpdate=!0}f.vertexStart=e}e+=f.reservedVertexCount,f.start=s.index?f.indexStart:f.vertexStart,this._nextIndexStart=s.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new Sa,a=i.index,o=i.attributes.position;for(let l=r.start,f=r.start+r.count;l<f;l++){let p=l;a&&(p=a.getX(p)),s.expandByPoint(Yv.fromBufferAttribute(o,p))}r.boundingBox=s}return n.copy(r.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new Ks;this.getBoundingBoxAt(e,qE),qE.getCenter(s.center);const a=i.index,o=i.attributes.position;let l=0;for(let f=r.start,p=r.start+r.count;f<p;f++){let g=f;a&&(g=a.getX(g)),Yv.fromBufferAttribute(o,g),l=Math.max(l,s.center.distanceToSquared(Yv))}s.radius=Math.sqrt(l),r.boundingSphere=s}return n.copy(r.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return n.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(_D);n[n.length-1]===i.length-1;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);zp(this._multiDrawCounts,r),zp(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),zp(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),zp(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),zp(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Rn,this._initializeGeometry(s));const a=this.geometry;s.index&&zp(s.index.array,a.index.array);for(const o in s.attributes)zp(s.attributes[o].array,a.attributes[o].array)}raycast(e,n){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;ha.material=this.material,ha.geometry.index=a.index,ha.geometry.attributes=a.attributes,ha.geometry.boundingBox===null&&(ha.geometry.boundingBox=new Sa),ha.geometry.boundingSphere===null&&(ha.geometry.boundingSphere=new Ks);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const f=i[o].geometryIndex,p=r[f];ha.geometry.setDrawRange(p.start,p.count),this.getMatrixAt(o,ha.matrixWorld).premultiply(s),this.getBoundingBoxAt(f,ha.geometry.boundingBox),this.getBoundingSphereAt(f,ha.geometry.boundingSphere),ha.raycast(e,$E);for(let g=0,y=$E.length;g<y;g++){const _=$E[g];_.object=this,_.batchId=o,n.push(_)}$E.length=0}ha.material=null,ha.geometry.index=null,ha.geometry.attributes={},ha.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,f=this._multiDrawStarts,p=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,_=this._indirectTexture,x=_.image.data,S=i.isArrayCamera?Fhe:P4;y&&!i.isArrayCamera&&(So.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),P4.setFromProjectionMatrix(So,i.coordinateSystem,i.reversedDepth));let E=0;if(this.sortObjects){So.copy(this.matrixWorld).invert(),Yv.setFromMatrixPosition(i.matrixWorld).applyMatrix4(So),L4.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(So);for(let A=0,R=l.length;A<R;A++)if(l[A].visible&&l[A].active){const N=l[A].geometryIndex;this.getMatrixAt(A,So),this.getBoundingSphereAt(N,Bp).applyMatrix4(So);let O=!1;if(y&&(O=!S.intersectsSphere(Bp,i)),!O){const P=g[N],z=Uhe.subVectors(Bp.center,Yv).dot(L4);yD.push(P.start,P.count,z,A)}}const w=yD.list,C=this.customSort;C===null?w.sort(s.transparent?khe:Ohe):C.call(this,w,i);for(let A=0,R=w.length;A<R;A++){const N=w[A];f[E]=N.start*o,p[E]=N.count,x[E]=N.index,E++}yD.reset()}else for(let w=0,C=l.length;w<C;w++)if(l[w].visible&&l[w].active){const A=l[w].geometryIndex;let R=!1;if(y&&(this.getMatrixAt(w,So),this.getBoundingSphereAt(A,Bp).applyMatrix4(So),R=!S.intersectsSphere(Bp,i)),!R){const N=g[A];f[E]=N.start*o,p[E]=N.count,x[E]=w,E++}}_.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class no extends wa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Vt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const MM=new oe,CM=new oe,F4=new _n,Zv=new ny,XE=new Ks,vD=new oe,U4=new oe;class Ph extends xi{constructor(e=new Rn,n=new no){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,s=n.count;r<s;r++)MM.fromBufferAttribute(n,r-1),CM.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=MM.distanceTo(CM);e.setAttribute("lineDistance",new jt(i,1))}else Ut("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),XE.copy(i.boundingSphere),XE.applyMatrix4(r),XE.radius+=s,e.ray.intersectsSphere(XE)===!1)return;F4.copy(r).invert(),Zv.copy(e.ray).applyMatrix4(F4);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,f=this.isLineSegments?2:1,p=i.index,y=i.attributes.position;if(p!==null){const _=Math.max(0,a.start),x=Math.min(p.count,a.start+a.count);for(let S=_,E=x-1;S<E;S+=f){const w=p.getX(S),C=p.getX(S+1),A=YE(this,e,Zv,l,w,C,S);A&&n.push(A)}if(this.isLineLoop){const S=p.getX(x-1),E=p.getX(_),w=YE(this,e,Zv,l,S,E,x-1);w&&n.push(w)}}else{const _=Math.max(0,a.start),x=Math.min(y.count,a.start+a.count);for(let S=_,E=x-1;S<E;S+=f){const w=YE(this,e,Zv,l,S,S+1,S);w&&n.push(w)}if(this.isLineLoop){const S=YE(this,e,Zv,l,x-1,_,x-1);S&&n.push(S)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function YE(t,e,n,i,r,s,a){const o=t.geometry.attributes.position;if(MM.fromBufferAttribute(o,r),CM.fromBufferAttribute(o,s),n.distanceSqToSegment(MM,CM,vD,U4)>i)return;vD.applyMatrix4(t.matrixWorld);const f=e.ray.origin.distanceTo(vD);if(!(f<e.near||f>e.far))return{distance:f,point:U4.clone().applyMatrix4(t.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:t}}const B4=new oe,z4=new oe;class zc extends Ph{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,s=n.count;r<s;r+=2)B4.fromBufferAttribute(n,r),z4.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+B4.distanceTo(z4);e.setAttribute("lineDistance",new jt(i,1))}else Ut("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class iH extends Ph{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class d6 extends wa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Vt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const H4=new _n,CI=new ny,ZE=new Ks,KE=new oe;class rH extends xi{constructor(e=new Rn,n=new d6){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),ZE.copy(i.boundingSphere),ZE.applyMatrix4(r),ZE.radius+=s,e.ray.intersectsSphere(ZE)===!1)return;H4.copy(r).invert(),CI.copy(e.ray).applyMatrix4(H4);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,f=i.index,g=i.attributes.position;if(f!==null){const y=Math.max(0,a.start),_=Math.min(f.count,a.start+a.count);for(let x=y,S=_;x<S;x++){const E=f.getX(x);KE.fromBufferAttribute(g,E),V4(KE,E,l,r,e,n,this)}}else{const y=Math.max(0,a.start),_=Math.min(g.count,a.start+a.count);for(let x=y,S=_;x<S;x++)KE.fromBufferAttribute(g,x),V4(KE,x,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function V4(t,e,n,i,r,s,a){const o=CI.distanceSqToPoint(t);if(o<n){const l=new oe;CI.closestPointToPoint(t,l),l.applyMatrix4(i);const f=r.ray.origin.distanceTo(l);if(f<r.near||f>r.far)return;s.push({distance:f,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class sH extends Gr{constructor(e,n,i,r,s=gr,a=gr,o,l,f){super(e,n,i,r,s,a,o,l,f),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const p=this;function g(){p.needsUpdate=!0,p._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class zhe extends sH{constructor(e,n,i,r,s,a,o,l){super({},e,n,i,r,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Hhe extends Gr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Qr,this.minFilter=Qr,this.generateMipmaps=!1,this.needsUpdate=!0}}class $C extends Gr{constructor(e,n,i,r,s,a,o,l,f,p,g,y){super(null,a,o,l,f,p,r,s,g,y),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Vhe extends $C{constructor(e,n,i,r,s,a){super(e,n,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Io,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Ghe extends $C{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Ic),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Whe extends Gr{constructor(e,n,i,r,s,a,o,l,f){super(e,n,i,r,s,a,o,l,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class I_ extends Gr{constructor(e,n,i=el,r,s,a,o=Qr,l=Qr,f,p=Oc,g=1){if(p!==Oc&&p!==oh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:n,depth:g};super(y,r,s,a,o,l,p,i,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new uh(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class aH extends I_{constructor(e,n=el,i=Ic,r,s,a=Qr,o=Qr,l,f=Oc){const p={width:e,height:e,depth:1},g=[p,p,p,p,p,p];super(e,e,n,i,r,s,a,o,l,f),this.image=g,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class h6 extends Gr{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class XC extends Rn{constructor(e=1,n=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:i,radialSegments:r,heightSegments:s},n=Math.max(0,n),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],f=[],p=n/2,g=Math.PI/2*e,y=n,_=2*g+y,x=i*2+s,S=r+1,E=new oe,w=new oe;for(let C=0;C<=x;C++){let A=0,R=0,N=0,O=0;if(C<=i){const k=C/i,F=k*Math.PI/2;R=-p-e*Math.cos(F),N=e*Math.sin(F),O=-e*Math.cos(F),A=k*g}else if(C<=i+s){const k=(C-i)/s;R=-p+k*n,N=e,O=0,A=g+k*y}else{const k=(C-i-s)/i,F=k*Math.PI/2;R=p+e*Math.sin(F),N=e*Math.cos(F),O=e*Math.sin(F),A=g+y+k*g}const P=Math.max(0,Math.min(1,A/_));let z=0;C===0?z=.5/r:C===x&&(z=-.5/r);for(let k=0;k<=r;k++){const F=k/r,G=F*Math.PI*2,$=Math.sin(G),ee=Math.cos(G);w.x=-N*ee,w.y=R,w.z=N*$,o.push(w.x,w.y,w.z),E.set(-N*ee,O,N*$),E.normalize(),l.push(E.x,E.y,E.z),f.push(F+z,P)}if(C>0){const k=(C-1)*S;for(let F=0;F<r;F++){const G=k+F,$=k+F+1,ee=C*S+F,ne=C*S+F+1;a.push(G,$,ee),a.push($,ne,ee)}}}this.setIndex(a),this.setAttribute("position",new jt(o,3)),this.setAttribute("normal",new jt(l,3)),this.setAttribute("uv",new jt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XC(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class YC extends Rn{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const s=[],a=[],o=[],l=[],f=new oe,p=new ft;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let g=0,y=3;g<=n;g++,y+=3){const _=i+g/n*r;f.x=e*Math.cos(_),f.y=e*Math.sin(_),a.push(f.x,f.y,f.z),o.push(0,0,1),p.x=(a[y]/e+1)/2,p.y=(a[y+1]/e+1)/2,l.push(p.x,p.y)}for(let g=1;g<=n;g++)s.push(g,g+1,0);this.setIndex(s),this.setAttribute("position",new jt(a,3)),this.setAttribute("normal",new jt(o,3)),this.setAttribute("uv",new jt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new YC(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class u1 extends Rn{constructor(e=1,n=1,i=1,r=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const f=this;r=Math.floor(r),s=Math.floor(s);const p=[],g=[],y=[],_=[];let x=0;const S=[],E=i/2;let w=0;C(),a===!1&&(e>0&&A(!0),n>0&&A(!1)),this.setIndex(p),this.setAttribute("position",new jt(g,3)),this.setAttribute("normal",new jt(y,3)),this.setAttribute("uv",new jt(_,2));function C(){const R=new oe,N=new oe;let O=0;const P=(n-e)/i;for(let z=0;z<=s;z++){const k=[],F=z/s,G=F*(n-e)+e;for(let $=0;$<=r;$++){const ee=$/r,ne=ee*l+o,re=Math.sin(ne),W=Math.cos(ne);N.x=G*re,N.y=-F*i+E,N.z=G*W,g.push(N.x,N.y,N.z),R.set(re,P,W).normalize(),y.push(R.x,R.y,R.z),_.push(ee,1-F),k.push(x++)}S.push(k)}for(let z=0;z<r;z++)for(let k=0;k<s;k++){const F=S[k][z],G=S[k+1][z],$=S[k+1][z+1],ee=S[k][z+1];(e>0||k!==0)&&(p.push(F,G,ee),O+=3),(n>0||k!==s-1)&&(p.push(G,$,ee),O+=3)}f.addGroup(w,O,0),w+=O}function A(R){const N=x,O=new ft,P=new oe;let z=0;const k=R===!0?e:n,F=R===!0?1:-1;for(let $=1;$<=r;$++)g.push(0,E*F,0),y.push(0,F,0),_.push(.5,.5),x++;const G=x;for(let $=0;$<=r;$++){const ne=$/r*l+o,re=Math.cos(ne),W=Math.sin(ne);P.x=k*W,P.y=E*F,P.z=k*re,g.push(P.x,P.y,P.z),y.push(0,F,0),O.x=re*.5+.5,O.y=W*.5*F+.5,_.push(O.x,O.y),x++}for(let $=0;$<r;$++){const ee=N+$,ne=G+$;R===!0?p.push(ne,ne+1,ee):p.push(ne+1,ne,ee),z+=3}f.addGroup(w,z,R===!0?1:2),w+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class l1 extends u1{constructor(e=1,n=1,i=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,n,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new l1(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class jh extends Rn{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const s=[],a=[];o(r),f(i),p(),this.setAttribute("position",new jt(s,3)),this.setAttribute("normal",new jt(s.slice(),3)),this.setAttribute("uv",new jt(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(C){const A=new oe,R=new oe,N=new oe;for(let O=0;O<n.length;O+=3)_(n[O+0],A),_(n[O+1],R),_(n[O+2],N),l(A,R,N,C)}function l(C,A,R,N){const O=N+1,P=[];for(let z=0;z<=O;z++){P[z]=[];const k=C.clone().lerp(R,z/O),F=A.clone().lerp(R,z/O),G=O-z;for(let $=0;$<=G;$++)$===0&&z===O?P[z][$]=k:P[z][$]=k.clone().lerp(F,$/G)}for(let z=0;z<O;z++)for(let k=0;k<2*(O-z)-1;k++){const F=Math.floor(k/2);k%2===0?(y(P[z][F+1]),y(P[z+1][F]),y(P[z][F])):(y(P[z][F+1]),y(P[z+1][F+1]),y(P[z+1][F]))}}function f(C){const A=new oe;for(let R=0;R<s.length;R+=3)A.x=s[R+0],A.y=s[R+1],A.z=s[R+2],A.normalize().multiplyScalar(C),s[R+0]=A.x,s[R+1]=A.y,s[R+2]=A.z}function p(){const C=new oe;for(let A=0;A<s.length;A+=3){C.x=s[A+0],C.y=s[A+1],C.z=s[A+2];const R=E(C)/2/Math.PI+.5,N=w(C)/Math.PI+.5;a.push(R,1-N)}x(),g()}function g(){for(let C=0;C<a.length;C+=6){const A=a[C+0],R=a[C+2],N=a[C+4],O=Math.max(A,R,N),P=Math.min(A,R,N);O>.9&&P<.1&&(A<.2&&(a[C+0]+=1),R<.2&&(a[C+2]+=1),N<.2&&(a[C+4]+=1))}}function y(C){s.push(C.x,C.y,C.z)}function _(C,A){const R=C*3;A.x=e[R+0],A.y=e[R+1],A.z=e[R+2]}function x(){const C=new oe,A=new oe,R=new oe,N=new oe,O=new ft,P=new ft,z=new ft;for(let k=0,F=0;k<s.length;k+=9,F+=6){C.set(s[k+0],s[k+1],s[k+2]),A.set(s[k+3],s[k+4],s[k+5]),R.set(s[k+6],s[k+7],s[k+8]),O.set(a[F+0],a[F+1]),P.set(a[F+2],a[F+3]),z.set(a[F+4],a[F+5]),N.copy(C).add(A).add(R).divideScalar(3);const G=E(N);S(O,F+0,C,G),S(P,F+2,A,G),S(z,F+4,R,G)}}function S(C,A,R,N){N<0&&C.x===1&&(a[A]=C.x-1),R.x===0&&R.z===0&&(a[A]=N/2/Math.PI+.5)}function E(C){return Math.atan2(C.z,-C.x)}function w(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jh(e.vertices,e.indices,e.radius,e.detail)}}class ZC extends jh{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ZC(e.radius,e.detail)}}const QE=new oe,JE=new oe,bD=new oe,ew=new Do;class oH extends Rn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),s=Math.cos(ym*n),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,f=[0,0,0],p=["a","b","c"],g=new Array(3),y={},_=[];for(let x=0;x<l;x+=3){a?(f[0]=a.getX(x),f[1]=a.getX(x+1),f[2]=a.getX(x+2)):(f[0]=x,f[1]=x+1,f[2]=x+2);const{a:S,b:E,c:w}=ew;if(S.fromBufferAttribute(o,f[0]),E.fromBufferAttribute(o,f[1]),w.fromBufferAttribute(o,f[2]),ew.getNormal(bD),g[0]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,g[1]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,g[2]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let C=0;C<3;C++){const A=(C+1)%3,R=g[C],N=g[A],O=ew[p[C]],P=ew[p[A]],z=`${R}_${N}`,k=`${N}_${R}`;k in y&&y[k]?(bD.dot(y[k].normal)<=s&&(_.push(O.x,O.y,O.z),_.push(P.x,P.y,P.z)),y[k]=null):z in y||(y[z]={index0:f[C],index1:f[A],normal:bD.clone()})}}for(const x in y)if(y[x]){const{index0:S,index1:E}=y[x];QE.fromBufferAttribute(o,S),JE.fromBufferAttribute(o,E),_.push(QE.x,QE.y,QE.z),_.push(JE.x,JE.y,JE.z)}this.setAttribute("position",new jt(_,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Fl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Ut("Curve: .getPoint() not implemented.")}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),n.push(s),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const i=this.getLengths();let r=0;const s=i.length;let a;n?a=n:a=e*i[s-1];let o=0,l=s-1,f;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),f=i[r]-a,f<0)o=r+1;else if(f>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(s-1);const p=i[r],y=i[r+1]-p,_=(a-p)/y;return(r+_)/(s-1)}getTangent(e,n){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),l=n||(a.isVector2?new ft:new oe);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n=!1){const i=new oe,r=[],s=[],a=[],o=new oe,l=new _n;for(let _=0;_<=e;_++){const x=_/e;r[_]=this.getTangentAt(x,new oe)}s[0]=new oe,a[0]=new oe;let f=Number.MAX_VALUE;const p=Math.abs(r[0].x),g=Math.abs(r[0].y),y=Math.abs(r[0].z);p<=f&&(f=p,i.set(1,0,0)),g<=f&&(f=g,i.set(0,1,0)),y<=f&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let _=1;_<=e;_++){if(s[_]=s[_-1].clone(),a[_]=a[_-1].clone(),o.crossVectors(r[_-1],r[_]),o.length()>Number.EPSILON){o.normalize();const x=Math.acos(hn(r[_-1].dot(r[_]),-1,1));s[_].applyMatrix4(l.makeRotationAxis(o,x))}a[_].crossVectors(r[_],s[_])}if(n===!0){let _=Math.acos(hn(s[0].dot(s[e]),-1,1));_/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(_=-_);for(let x=1;x<=e;x++)s[x].applyMatrix4(l.makeRotationAxis(r[x],_*x)),a[x].crossVectors(r[x],s[x])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class KC extends Fl{constructor(e=0,n=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new ft){const i=n,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),f=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=l-this.aX,_=f-this.aY;l=y*p-_*g+this.aX,f=y*g+_*p+this.aY}return i.set(l,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class uH extends KC{constructor(e,n,i,r,s,a){super(e,n,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function p6(){let t=0,e=0,n=0,i=0;function r(s,a,o,l){t=s,e=o,n=-3*s+3*a-2*o-l,i=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,f){r(a,o,f*(o-s),f*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,f,p,g){let y=(a-s)/f-(o-s)/(f+p)+(o-a)/p,_=(o-a)/p-(l-a)/(p+g)+(l-o)/g;y*=p,_*=p,r(a,o,y,_)},calc:function(s){const a=s*s,o=a*s;return t+e*s+n*a+i*o}}}const tw=new oe,xD=new p6,SD=new p6,ED=new p6;class lH extends Fl{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new oe){const i=n,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let f,p;this.closed||o>0?f=r[(o-1)%s]:(tw.subVectors(r[0],r[1]).add(r[0]),f=tw);const g=r[o%s],y=r[(o+1)%s];if(this.closed||o+2<s?p=r[(o+2)%s]:(tw.subVectors(r[s-1],r[s-2]).add(r[s-1]),p=tw),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let x=Math.pow(f.distanceToSquared(g),_),S=Math.pow(g.distanceToSquared(y),_),E=Math.pow(y.distanceToSquared(p),_);S<1e-4&&(S=1),x<1e-4&&(x=S),E<1e-4&&(E=S),xD.initNonuniformCatmullRom(f.x,g.x,y.x,p.x,x,S,E),SD.initNonuniformCatmullRom(f.y,g.y,y.y,p.y,x,S,E),ED.initNonuniformCatmullRom(f.z,g.z,y.z,p.z,x,S,E)}else this.curveType==="catmullrom"&&(xD.initCatmullRom(f.x,g.x,y.x,p.x,this.tension),SD.initCatmullRom(f.y,g.y,y.y,p.y,this.tension),ED.initCatmullRom(f.z,g.z,y.z,p.z,this.tension));return i.set(xD.calc(l),SD.calc(l),ED.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new oe().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function G4(t,e,n,i,r){const s=(i-e)*.5,a=(r-n)*.5,o=t*t,l=t*o;return(2*n-2*i+s+a)*l+(-3*n+3*i-2*s-a)*o+s*t+n}function jhe(t,e){const n=1-t;return n*n*e}function qhe(t,e){return 2*(1-t)*t*e}function $he(t,e){return t*t*e}function Cb(t,e,n,i){return jhe(t,e)+qhe(t,n)+$he(t,i)}function Xhe(t,e){const n=1-t;return n*n*n*e}function Yhe(t,e){const n=1-t;return 3*n*n*t*e}function Zhe(t,e){return 3*(1-t)*t*t*e}function Khe(t,e){return t*t*t*e}function Ab(t,e,n,i,r){return Xhe(t,e)+Yhe(t,n)+Zhe(t,i)+Khe(t,r)}class m6 extends Fl{constructor(e=new ft,n=new ft,i=new ft,r=new ft){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new ft){const i=n,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(Ab(e,r.x,s.x,a.x,o.x),Ab(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cH extends Fl{constructor(e=new oe,n=new oe,i=new oe,r=new oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new oe){const i=n,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(Ab(e,r.x,s.x,a.x,o.x),Ab(e,r.y,s.y,a.y,o.y),Ab(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class g6 extends Fl{constructor(e=new ft,n=new ft){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ft){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ft){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fH extends Fl{constructor(e=new oe,n=new oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new oe){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new oe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _6 extends Fl{constructor(e=new ft,n=new ft,i=new ft){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new ft){const i=n,r=this.v0,s=this.v1,a=this.v2;return i.set(Cb(e,r.x,s.x,a.x),Cb(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class y6 extends Fl{constructor(e=new oe,n=new oe,i=new oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new oe){const i=n,r=this.v0,s=this.v1,a=this.v2;return i.set(Cb(e,r.x,s.x,a.x),Cb(e,r.y,s.y,a.y),Cb(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class v6 extends Fl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ft){const i=n,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,l=r[a===0?a:a-1],f=r[a],p=r[a>r.length-2?r.length-1:a+1],g=r[a>r.length-3?r.length-1:a+2];return i.set(G4(o,l.x,f.x,p.x,g.x),G4(o,l.y,f.y,p.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new ft().fromArray(r))}return this}}var AM=Object.freeze({__proto__:null,ArcCurve:uH,CatmullRomCurve3:lH,CubicBezierCurve:m6,CubicBezierCurve3:cH,EllipseCurve:KC,LineCurve:g6,LineCurve3:fH,QuadraticBezierCurve:_6,QuadraticBezierCurve3:y6,SplineCurve:v6});class dH extends Fl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new AM[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],l=o.getLength(),f=l===0?0:1-a/l;return o.getPointAt(f,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let f=0;f<l.length;f++){const p=l[f];i&&i.equals(p)||(n.push(p),i=p)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new AM[r.type]().fromJSON(r))}return this}}class DM extends dH{constructor(e){super(),this.type="Path",this.currentPoint=new ft,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new g6(this.currentPoint.clone(),new ft(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const s=new _6(this.currentPoint.clone(),new ft(e,n),new ft(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,s,a){const o=new m6(this.currentPoint.clone(),new ft(e,n),new ft(i,r),new ft(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new v6(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,i,r,s,a),this}absarc(e,n,i,r,s,a){return this.absellipse(e,n,i,i,r,s,a),this}ellipse(e,n,i,r,s,a,o,l){const f=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+f,n+p,i,r,s,a,o,l),this}absellipse(e,n,i,r,s,a,o,l){const f=new KC(e,n,i,r,s,a,o,l);if(this.curves.length>0){const g=f.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(f);const p=f.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class vm extends DM{constructor(e){super(e),this.uuid=ou(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new DM().fromJSON(r))}return this}}function Qhe(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let s=hH(t,0,r,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,f;if(i&&(s=ipe(t,e,s,n)),t.length>80*n){o=t[0],l=t[1];let p=o,g=l;for(let y=n;y<r;y+=n){const _=t[y],x=t[y+1];_<o&&(o=_),x<l&&(l=x),_>p&&(p=_),x>g&&(g=x)}f=Math.max(p-o,g-l),f=f!==0?32767/f:0}return _x(s,a,n,o,l,f,0),a}function hH(t,e,n,i,r){let s;if(r===ppe(t,e,n,i)>0)for(let a=e;a<n;a+=i)s=W4(a/i|0,t[a],t[a+1],s);else for(let a=n-i;a>=e;a-=i)s=W4(a/i|0,t[a],t[a+1],s);return s&&N_(s,s.next)&&(vx(s),s=s.next),s}function Pm(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(N_(n,n.next)||kr(n.prev,n,n.next)===0)){if(vx(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function _x(t,e,n,i,r,s,a){if(!t)return;!a&&s&&upe(t,i,r,s);let o=t;for(;t.prev!==t.next;){const l=t.prev,f=t.next;if(s?epe(t,i,r,s):Jhe(t)){e.push(l.i,t.i,f.i),vx(t),t=f.next,o=f.next;continue}if(t=f,t===o){a?a===1?(t=tpe(Pm(t),e),_x(t,e,n,i,r,s,2)):a===2&&npe(t,e,n,i,r,s):_x(Pm(t),e,n,i,r,s,1);break}}}function Jhe(t){const e=t.prev,n=t,i=t.next;if(kr(e,n,i)>=0)return!1;const r=e.x,s=n.x,a=i.x,o=e.y,l=n.y,f=i.y,p=Math.min(r,s,a),g=Math.min(o,l,f),y=Math.max(r,s,a),_=Math.max(o,l,f);let x=i.next;for(;x!==e;){if(x.x>=p&&x.x<=y&&x.y>=g&&x.y<=_&&ib(r,o,s,l,a,f,x.x,x.y)&&kr(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function epe(t,e,n,i){const r=t.prev,s=t,a=t.next;if(kr(r,s,a)>=0)return!1;const o=r.x,l=s.x,f=a.x,p=r.y,g=s.y,y=a.y,_=Math.min(o,l,f),x=Math.min(p,g,y),S=Math.max(o,l,f),E=Math.max(p,g,y),w=AI(_,x,e,n,i),C=AI(S,E,e,n,i);let A=t.prevZ,R=t.nextZ;for(;A&&A.z>=w&&R&&R.z<=C;){if(A.x>=_&&A.x<=S&&A.y>=x&&A.y<=E&&A!==r&&A!==a&&ib(o,p,l,g,f,y,A.x,A.y)&&kr(A.prev,A,A.next)>=0||(A=A.prevZ,R.x>=_&&R.x<=S&&R.y>=x&&R.y<=E&&R!==r&&R!==a&&ib(o,p,l,g,f,y,R.x,R.y)&&kr(R.prev,R,R.next)>=0))return!1;R=R.nextZ}for(;A&&A.z>=w;){if(A.x>=_&&A.x<=S&&A.y>=x&&A.y<=E&&A!==r&&A!==a&&ib(o,p,l,g,f,y,A.x,A.y)&&kr(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;R&&R.z<=C;){if(R.x>=_&&R.x<=S&&R.y>=x&&R.y<=E&&R!==r&&R!==a&&ib(o,p,l,g,f,y,R.x,R.y)&&kr(R.prev,R,R.next)>=0)return!1;R=R.nextZ}return!0}function tpe(t,e){let n=t;do{const i=n.prev,r=n.next.next;!N_(i,r)&&mH(i,n,n.next,r)&&yx(i,r)&&yx(r,i)&&(e.push(i.i,n.i,r.i),vx(n),vx(n.next),n=t=r),n=n.next}while(n!==t);return Pm(n)}function npe(t,e,n,i,r,s){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&fpe(a,o)){let l=gH(a,o);a=Pm(a,a.next),l=Pm(l,l.next),_x(a,e,n,i,r,s,0),_x(l,e,n,i,r,s,0);return}o=o.next}a=a.next}while(a!==t)}function ipe(t,e,n,i){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*i,l=s<a-1?e[s+1]*i:t.length,f=hH(t,o,l,i,!1);f===f.next&&(f.steiner=!0),r.push(cpe(f))}r.sort(rpe);for(let s=0;s<r.length;s++)n=spe(r[s],n);return n}function rpe(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const i=(t.next.y-t.y)/(t.next.x-t.x),r=(e.next.y-e.y)/(e.next.x-e.x);n=i-r}return n}function spe(t,e){const n=ape(t,e);if(!n)return e;const i=gH(n,t);return Pm(i,i.next),Pm(n,n.next)}function ape(t,e){let n=e;const i=t.x,r=t.y;let s=-1/0,a;if(N_(t,n))return n;do{if(N_(t,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const g=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=i&&g>s&&(s=g,a=n.x<n.next.x?n:n.next,g===i))return a}n=n.next}while(n!==e);if(!a)return null;const o=a,l=a.x,f=a.y;let p=1/0;n=a;do{if(i>=n.x&&n.x>=l&&i!==n.x&&pH(r<f?i:s,r,l,f,r<f?s:i,r,n.x,n.y)){const g=Math.abs(r-n.y)/(i-n.x);yx(n,t)&&(g<p||g===p&&(n.x>a.x||n.x===a.x&&ope(a,n)))&&(a=n,p=g)}n=n.next}while(n!==o);return a}function ope(t,e){return kr(t.prev,t,e.prev)<0&&kr(e.next,t,t.next)<0}function upe(t,e,n,i){let r=t;do r.z===0&&(r.z=AI(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,lpe(r)}function lpe(t){let e,n=1;do{let i=t,r;t=null;let s=null;for(e=0;i;){e++;let a=i,o=0;for(let f=0;f<n&&(o++,a=a.nextZ,!!a);f++);let l=n;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=a}s.nextZ=null,n*=2}while(e>1);return t}function AI(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function cpe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function pH(t,e,n,i,r,s,a,o){return(r-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(i-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(r-a)*(i-o)}function ib(t,e,n,i,r,s,a,o){return!(t===a&&e===o)&&pH(t,e,n,i,r,s,a,o)}function fpe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!dpe(t,e)&&(yx(t,e)&&yx(e,t)&&hpe(t,e)&&(kr(t.prev,t,e.prev)||kr(t,e.prev,e))||N_(t,e)&&kr(t.prev,t,t.next)>0&&kr(e.prev,e,e.next)>0)}function kr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function N_(t,e){return t.x===e.x&&t.y===e.y}function mH(t,e,n,i){const r=iw(kr(t,e,n)),s=iw(kr(t,e,i)),a=iw(kr(n,i,t)),o=iw(kr(n,i,e));return!!(r!==s&&a!==o||r===0&&nw(t,n,e)||s===0&&nw(t,i,e)||a===0&&nw(n,t,i)||o===0&&nw(n,e,i))}function nw(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function iw(t){return t>0?1:t<0?-1:0}function dpe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&mH(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function yx(t,e){return kr(t.prev,t,t.next)<0?kr(t,e,t.next)>=0&&kr(t,t.prev,e)>=0:kr(t,e,t.prev)<0||kr(t,t.next,e)<0}function hpe(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function gH(t,e){const n=DI(t.i,t.x,t.y),i=DI(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function W4(t,e,n,i){const r=DI(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function vx(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function DI(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function ppe(t,e,n,i){let r=0;for(let s=e,a=n-i;s<n;s+=i)r+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return r}class mpe{static triangulate(e,n,i=2){return Qhe(e,n,i)}}class Nl{static area(e){const n=e.length;let i=0;for(let r=n-1,s=0;s<n;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return Nl.area(e)<0}static triangulateShape(e,n){const i=[],r=[],s=[];j4(e),q4(i,e);let a=e.length;n.forEach(j4);for(let l=0;l<n.length;l++)r.push(a),a+=n[l].length,q4(i,n[l]);const o=mpe.triangulate(i,r);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function j4(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function q4(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class QC extends Rn{constructor(e=new vm([new ft(.5,.5),new ft(-.5,.5),new ft(-.5,-.5),new ft(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,l=e.length;o<l;o++){const f=e[o];a(f)}this.setAttribute("position",new jt(r,3)),this.setAttribute("uv",new jt(s,2)),this.computeVertexNormals();function a(o){const l=[],f=n.curveSegments!==void 0?n.curveSegments:12,p=n.steps!==void 0?n.steps:1,g=n.depth!==void 0?n.depth:1;let y=n.bevelEnabled!==void 0?n.bevelEnabled:!0,_=n.bevelThickness!==void 0?n.bevelThickness:.2,x=n.bevelSize!==void 0?n.bevelSize:_-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,E=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,C=n.UVGenerator!==void 0?n.UVGenerator:gpe;let A,R=!1,N,O,P,z;if(w){A=w.getSpacedPoints(p),R=!0,y=!1;const Ae=w.isCatmullRomCurve3?w.closed:!1;N=w.computeFrenetFrames(p,Ae),O=new oe,P=new oe,z=new oe}y||(E=0,_=0,x=0,S=0);const k=o.extractPoints(f);let F=k.shape;const G=k.holes;if(!Nl.isClockWise(F)){F=F.reverse();for(let Ae=0,Ve=G.length;Ae<Ve;Ae++){const Ue=G[Ae];Nl.isClockWise(Ue)&&(G[Ae]=Ue.reverse())}}function ee(Ae){const Ue=10000000000000001e-36;let de=Ae[0];for(let ie=1;ie<=Ae.length;ie++){const It=ie%Ae.length,$e=Ae[It],dt=$e.x-de.x,Be=$e.y-de.y,Q=dt*dt+Be*Be,H=Math.max(Math.abs($e.x),Math.abs($e.y),Math.abs(de.x),Math.abs(de.y)),pe=Ue*H*H;if(Q<=pe){Ae.splice(It,1),ie--;continue}de=$e}}ee(F),G.forEach(ee);const ne=G.length,re=F;for(let Ae=0;Ae<ne;Ae++){const Ve=G[Ae];F=F.concat(Ve)}function W(Ae,Ve,Ue){return Ve||en("ExtrudeGeometry: vec does not exist"),Ae.clone().addScaledVector(Ve,Ue)}const q=F.length;function te(Ae,Ve,Ue){let de,ie,It;const $e=Ae.x-Ve.x,dt=Ae.y-Ve.y,Be=Ue.x-Ae.x,Q=Ue.y-Ae.y,H=$e*$e+dt*dt,pe=$e*Q-dt*Be;if(Math.abs(pe)>Number.EPSILON){const we=Math.sqrt(H),Re=Math.sqrt(Be*Be+Q*Q),Ie=Ve.x-dt/we,St=Ve.y+$e/we,lt=Ue.x-Q/Re,kt=Ue.y+Be/Re,Nt=((lt-Ie)*Q-(kt-St)*Be)/($e*Q-dt*Be);de=Ie+$e*Nt-Ae.x,ie=St+dt*Nt-Ae.y;const Je=de*de+ie*ie;if(Je<=2)return new ft(de,ie);It=Math.sqrt(Je/2)}else{let we=!1;$e>Number.EPSILON?Be>Number.EPSILON&&(we=!0):$e<-Number.EPSILON?Be<-Number.EPSILON&&(we=!0):Math.sign(dt)===Math.sign(Q)&&(we=!0),we?(de=-dt,ie=$e,It=Math.sqrt(H)):(de=$e,ie=dt,It=Math.sqrt(H/2))}return new ft(de/It,ie/It)}const se=[];for(let Ae=0,Ve=re.length,Ue=Ve-1,de=Ae+1;Ae<Ve;Ae++,Ue++,de++)Ue===Ve&&(Ue=0),de===Ve&&(de=0),se[Ae]=te(re[Ae],re[Ue],re[de]);const Z=[];let j,ue=se.concat();for(let Ae=0,Ve=ne;Ae<Ve;Ae++){const Ue=G[Ae];j=[];for(let de=0,ie=Ue.length,It=ie-1,$e=de+1;de<ie;de++,It++,$e++)It===ie&&(It=0),$e===ie&&($e=0),j[de]=te(Ue[de],Ue[It],Ue[$e]);Z.push(j),ue=ue.concat(j)}let ge;if(E===0)ge=Nl.triangulateShape(re,G);else{const Ae=[],Ve=[];for(let Ue=0;Ue<E;Ue++){const de=Ue/E,ie=_*Math.cos(de*Math.PI/2),It=x*Math.sin(de*Math.PI/2)+S;for(let $e=0,dt=re.length;$e<dt;$e++){const Be=W(re[$e],se[$e],It);Xe(Be.x,Be.y,-ie),de===0&&Ae.push(Be)}for(let $e=0,dt=ne;$e<dt;$e++){const Be=G[$e];j=Z[$e];const Q=[];for(let H=0,pe=Be.length;H<pe;H++){const we=W(Be[H],j[H],It);Xe(we.x,we.y,-ie),de===0&&Q.push(we)}de===0&&Ve.push(Q)}}ge=Nl.triangulateShape(Ae,Ve)}const Se=ge.length,Fe=x+S;for(let Ae=0;Ae<q;Ae++){const Ve=y?W(F[Ae],ue[Ae],Fe):F[Ae];R?(P.copy(N.normals[0]).multiplyScalar(Ve.x),O.copy(N.binormals[0]).multiplyScalar(Ve.y),z.copy(A[0]).add(P).add(O),Xe(z.x,z.y,z.z)):Xe(Ve.x,Ve.y,0)}for(let Ae=1;Ae<=p;Ae++)for(let Ve=0;Ve<q;Ve++){const Ue=y?W(F[Ve],ue[Ve],Fe):F[Ve];R?(P.copy(N.normals[Ae]).multiplyScalar(Ue.x),O.copy(N.binormals[Ae]).multiplyScalar(Ue.y),z.copy(A[Ae]).add(P).add(O),Xe(z.x,z.y,z.z)):Xe(Ue.x,Ue.y,g/p*Ae)}for(let Ae=E-1;Ae>=0;Ae--){const Ve=Ae/E,Ue=_*Math.cos(Ve*Math.PI/2),de=x*Math.sin(Ve*Math.PI/2)+S;for(let ie=0,It=re.length;ie<It;ie++){const $e=W(re[ie],se[ie],de);Xe($e.x,$e.y,g+Ue)}for(let ie=0,It=G.length;ie<It;ie++){const $e=G[ie];j=Z[ie];for(let dt=0,Be=$e.length;dt<Be;dt++){const Q=W($e[dt],j[dt],de);R?Xe(Q.x,Q.y+A[p-1].y,A[p-1].x+Ue):Xe(Q.x,Q.y,g+Ue)}}}ve(),fe();function ve(){const Ae=r.length/3;if(y){let Ve=0,Ue=q*Ve;for(let de=0;de<Se;de++){const ie=ge[de];Ye(ie[2]+Ue,ie[1]+Ue,ie[0]+Ue)}Ve=p+E*2,Ue=q*Ve;for(let de=0;de<Se;de++){const ie=ge[de];Ye(ie[0]+Ue,ie[1]+Ue,ie[2]+Ue)}}else{for(let Ve=0;Ve<Se;Ve++){const Ue=ge[Ve];Ye(Ue[2],Ue[1],Ue[0])}for(let Ve=0;Ve<Se;Ve++){const Ue=ge[Ve];Ye(Ue[0]+q*p,Ue[1]+q*p,Ue[2]+q*p)}}i.addGroup(Ae,r.length/3-Ae,0)}function fe(){const Ae=r.length/3;let Ve=0;He(re,Ve),Ve+=re.length;for(let Ue=0,de=G.length;Ue<de;Ue++){const ie=G[Ue];He(ie,Ve),Ve+=ie.length}i.addGroup(Ae,r.length/3-Ae,1)}function He(Ae,Ve){let Ue=Ae.length;for(;--Ue>=0;){const de=Ue;let ie=Ue-1;ie<0&&(ie=Ae.length-1);for(let It=0,$e=p+E*2;It<$e;It++){const dt=q*It,Be=q*(It+1),Q=Ve+de+dt,H=Ve+ie+dt,pe=Ve+ie+Be,we=Ve+de+Be;bt(Q,H,pe,we)}}}function Xe(Ae,Ve,Ue){l.push(Ae),l.push(Ve),l.push(Ue)}function Ye(Ae,Ve,Ue){Ct(Ae),Ct(Ve),Ct(Ue);const de=r.length/3,ie=C.generateTopUV(i,r,de-3,de-2,de-1);at(ie[0]),at(ie[1]),at(ie[2])}function bt(Ae,Ve,Ue,de){Ct(Ae),Ct(Ve),Ct(de),Ct(Ve),Ct(Ue),Ct(de);const ie=r.length/3,It=C.generateSideWallUV(i,r,ie-6,ie-3,ie-2,ie-1);at(It[0]),at(It[1]),at(It[3]),at(It[1]),at(It[2]),at(It[3])}function Ct(Ae){r.push(l[Ae*3+0]),r.push(l[Ae*3+1]),r.push(l[Ae*3+2])}function at(Ae){s.push(Ae.x),s.push(Ae.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return _pe(n,i,e)}static fromJSON(e,n){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new AM[r.type]().fromJSON(r)),new QC(i,e.options)}}const gpe={generateTopUV:function(t,e,n,i,r){const s=e[n*3],a=e[n*3+1],o=e[i*3],l=e[i*3+1],f=e[r*3],p=e[r*3+1];return[new ft(s,a),new ft(o,l),new ft(f,p)]},generateSideWallUV:function(t,e,n,i,r,s){const a=e[n*3],o=e[n*3+1],l=e[n*3+2],f=e[i*3],p=e[i*3+1],g=e[i*3+2],y=e[r*3],_=e[r*3+1],x=e[r*3+2],S=e[s*3],E=e[s*3+1],w=e[s*3+2];return Math.abs(o-p)<Math.abs(a-f)?[new ft(a,1-l),new ft(f,1-g),new ft(y,1-x),new ft(S,1-w)]:[new ft(o,1-l),new ft(p,1-g),new ft(_,1-x),new ft(E,1-w)]}};function _pe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class JC extends jh{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new JC(e.radius,e.detail)}}class eA extends Rn{constructor(e=[new ft(0,-.5),new ft(.5,0),new ft(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=hn(r,0,Math.PI*2);const s=[],a=[],o=[],l=[],f=[],p=1/n,g=new oe,y=new ft,_=new oe,x=new oe,S=new oe;let E=0,w=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:E=e[C+1].x-e[C].x,w=e[C+1].y-e[C].y,_.x=w*1,_.y=-E,_.z=w*0,S.copy(_),_.normalize(),l.push(_.x,_.y,_.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:E=e[C+1].x-e[C].x,w=e[C+1].y-e[C].y,_.x=w*1,_.y=-E,_.z=w*0,x.copy(_),_.x+=S.x,_.y+=S.y,_.z+=S.z,_.normalize(),l.push(_.x,_.y,_.z),S.copy(x)}for(let C=0;C<=n;C++){const A=i+C*p*r,R=Math.sin(A),N=Math.cos(A);for(let O=0;O<=e.length-1;O++){g.x=e[O].x*R,g.y=e[O].y,g.z=e[O].x*N,a.push(g.x,g.y,g.z),y.x=C/n,y.y=O/(e.length-1),o.push(y.x,y.y);const P=l[3*O+0]*R,z=l[3*O+1],k=l[3*O+0]*N;f.push(P,z,k)}}for(let C=0;C<n;C++)for(let A=0;A<e.length-1;A++){const R=A+C*e.length,N=R,O=R+e.length,P=R+e.length+1,z=R+1;s.push(N,O,z),s.push(P,z,O)}this.setIndex(s),this.setAttribute("position",new jt(a,3)),this.setAttribute("uv",new jt(o,2)),this.setAttribute("normal",new jt(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eA(e.points,e.segments,e.phiStart,e.phiLength)}}class c1 extends jh{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new c1(e.radius,e.detail)}}class ry extends Rn{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,a=n/2,o=Math.floor(i),l=Math.floor(r),f=o+1,p=l+1,g=e/o,y=n/l,_=[],x=[],S=[],E=[];for(let w=0;w<p;w++){const C=w*y-a;for(let A=0;A<f;A++){const R=A*g-s;x.push(R,-C,0),S.push(0,0,1),E.push(A/o),E.push(1-w/l)}}for(let w=0;w<l;w++)for(let C=0;C<o;C++){const A=C+f*w,R=C+f*(w+1),N=C+1+f*(w+1),O=C+1+f*w;_.push(A,R,O),_.push(R,N,O)}this.setIndex(_),this.setAttribute("position",new jt(x,3)),this.setAttribute("normal",new jt(S,3)),this.setAttribute("uv",new jt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ry(e.width,e.height,e.widthSegments,e.heightSegments)}}class tA extends Rn{constructor(e=.5,n=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],f=[],p=[];let g=e;const y=(n-e)/r,_=new oe,x=new ft;for(let S=0;S<=r;S++){for(let E=0;E<=i;E++){const w=s+E/i*a;_.x=g*Math.cos(w),_.y=g*Math.sin(w),l.push(_.x,_.y,_.z),f.push(0,0,1),x.x=(_.x/n+1)/2,x.y=(_.y/n+1)/2,p.push(x.x,x.y)}g+=y}for(let S=0;S<r;S++){const E=S*(i+1);for(let w=0;w<i;w++){const C=w+E,A=C,R=C+i+1,N=C+i+2,O=C+1;o.push(A,R,O),o.push(R,N,O)}}this.setIndex(o),this.setAttribute("position",new jt(l,3)),this.setAttribute("normal",new jt(f,3)),this.setAttribute("uv",new jt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tA(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class nA extends Rn{constructor(e=new vm([new ft(0,.5),new ft(-.5,-.5),new ft(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)f(e);else for(let p=0;p<e.length;p++)f(e[p]),this.addGroup(o,l,p),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new jt(r,3)),this.setAttribute("normal",new jt(s,3)),this.setAttribute("uv",new jt(a,2));function f(p){const g=r.length/3,y=p.extractPoints(n);let _=y.shape;const x=y.holes;Nl.isClockWise(_)===!1&&(_=_.reverse());for(let E=0,w=x.length;E<w;E++){const C=x[E];Nl.isClockWise(C)===!0&&(x[E]=C.reverse())}const S=Nl.triangulateShape(_,x);for(let E=0,w=x.length;E<w;E++){const C=x[E];_=_.concat(C)}for(let E=0,w=_.length;E<w;E++){const C=_[E];r.push(C.x,C.y,0),s.push(0,0,1),a.push(C.x,C.y)}for(let E=0,w=S.length;E<w;E++){const C=S[E],A=C[0]+g,R=C[1]+g,N=C[2]+g;i.push(A,R,N),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return ype(n,e)}static fromJSON(e,n){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=n[e.shapes[r]];i.push(a)}return new nA(i,e.curveSegments)}}function ype(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class f1 extends Rn{constructor(e=1,n=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let f=0;const p=[],g=new oe,y=new oe,_=[],x=[],S=[],E=[];for(let w=0;w<=i;w++){const C=[],A=w/i;let R=0;w===0&&a===0?R=.5/n:w===i&&l===Math.PI&&(R=-.5/n);for(let N=0;N<=n;N++){const O=N/n;g.x=-e*Math.cos(r+O*s)*Math.sin(a+A*o),g.y=e*Math.cos(a+A*o),g.z=e*Math.sin(r+O*s)*Math.sin(a+A*o),x.push(g.x,g.y,g.z),y.copy(g).normalize(),S.push(y.x,y.y,y.z),E.push(O+R,1-A),C.push(f++)}p.push(C)}for(let w=0;w<i;w++)for(let C=0;C<n;C++){const A=p[w][C+1],R=p[w][C],N=p[w+1][C],O=p[w+1][C+1];(w!==0||a>0)&&_.push(A,R,O),(w!==i-1||l<Math.PI)&&_.push(R,N,O)}this.setIndex(_),this.setAttribute("position",new jt(x,3)),this.setAttribute("normal",new jt(S,3)),this.setAttribute("uv",new jt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new f1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class iA extends jh{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new iA(e.radius,e.detail)}}class rA extends Rn{constructor(e=1,n=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],l=[],f=[],p=new oe,g=new oe,y=new oe;for(let _=0;_<=i;_++)for(let x=0;x<=r;x++){const S=x/r*s,E=_/i*Math.PI*2;g.x=(e+n*Math.cos(E))*Math.cos(S),g.y=(e+n*Math.cos(E))*Math.sin(S),g.z=n*Math.sin(E),o.push(g.x,g.y,g.z),p.x=e*Math.cos(S),p.y=e*Math.sin(S),y.subVectors(g,p).normalize(),l.push(y.x,y.y,y.z),f.push(x/r),f.push(_/i)}for(let _=1;_<=i;_++)for(let x=1;x<=r;x++){const S=(r+1)*_+x-1,E=(r+1)*(_-1)+x-1,w=(r+1)*(_-1)+x,C=(r+1)*_+x;a.push(S,E,C),a.push(E,w,C)}this.setIndex(a),this.setAttribute("position",new jt(o,3)),this.setAttribute("normal",new jt(l,3)),this.setAttribute("uv",new jt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class sA extends Rn{constructor(e=1,n=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],f=[],p=[],g=new oe,y=new oe,_=new oe,x=new oe,S=new oe,E=new oe,w=new oe;for(let A=0;A<=i;++A){const R=A/i*s*Math.PI*2;C(R,s,a,e,_),C(R+.01,s,a,e,x),E.subVectors(x,_),w.addVectors(x,_),S.crossVectors(E,w),w.crossVectors(S,E),S.normalize(),w.normalize();for(let N=0;N<=r;++N){const O=N/r*Math.PI*2,P=-n*Math.cos(O),z=n*Math.sin(O);g.x=_.x+(P*w.x+z*S.x),g.y=_.y+(P*w.y+z*S.y),g.z=_.z+(P*w.z+z*S.z),l.push(g.x,g.y,g.z),y.subVectors(g,_).normalize(),f.push(y.x,y.y,y.z),p.push(A/i),p.push(N/r)}}for(let A=1;A<=i;A++)for(let R=1;R<=r;R++){const N=(r+1)*(A-1)+(R-1),O=(r+1)*A+(R-1),P=(r+1)*A+R,z=(r+1)*(A-1)+R;o.push(N,O,z),o.push(O,P,z)}this.setIndex(o),this.setAttribute("position",new jt(l,3)),this.setAttribute("normal",new jt(f,3)),this.setAttribute("uv",new jt(p,2));function C(A,R,N,O,P){const z=Math.cos(A),k=Math.sin(A),F=N/R*A,G=Math.cos(F);P.x=O*(2+G)*.5*z,P.y=O*(2+G)*k*.5,P.z=O*Math.sin(F)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sA(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class aA extends Rn{constructor(e=new y6(new oe(-1,-1,0),new oe(-1,1,0),new oe(1,1,0)),n=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new oe,l=new oe,f=new ft;let p=new oe;const g=[],y=[],_=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new jt(g,3)),this.setAttribute("normal",new jt(y,3)),this.setAttribute("uv",new jt(_,2));function S(){for(let A=0;A<n;A++)E(A);E(s===!1?n:0),C(),w()}function E(A){p=e.getPointAt(A/n,p);const R=a.normals[A],N=a.binormals[A];for(let O=0;O<=r;O++){const P=O/r*Math.PI*2,z=Math.sin(P),k=-Math.cos(P);l.x=k*R.x+z*N.x,l.y=k*R.y+z*N.y,l.z=k*R.z+z*N.z,l.normalize(),y.push(l.x,l.y,l.z),o.x=p.x+i*l.x,o.y=p.y+i*l.y,o.z=p.z+i*l.z,g.push(o.x,o.y,o.z)}}function w(){for(let A=1;A<=n;A++)for(let R=1;R<=r;R++){const N=(r+1)*(A-1)+(R-1),O=(r+1)*A+(R-1),P=(r+1)*A+R,z=(r+1)*(A-1)+R;x.push(N,O,z),x.push(O,P,z)}}function C(){for(let A=0;A<=n;A++)for(let R=0;R<=r;R++)f.x=A/n,f.y=R/r,_.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new aA(new AM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class _H extends Rn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new oe,s=new oe;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let f=0,p=l.length;f<p;++f){const g=l[f],y=g.start,_=g.count;for(let x=y,S=y+_;x<S;x+=3)for(let E=0;E<3;E++){const w=o.getX(x+E),C=o.getX(x+(E+1)%3);r.fromBufferAttribute(a,w),s.fromBufferAttribute(a,C),$4(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let f=0;f<3;f++){const p=3*o+f,g=3*o+(f+1)%3;r.fromBufferAttribute(a,p),s.fromBufferAttribute(a,g),$4(r,s,i)===!0&&(n.push(r.x,r.y,r.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new jt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function $4(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var X4=Object.freeze({__proto__:null,BoxGeometry:Zm,CapsuleGeometry:XC,CircleGeometry:YC,ConeGeometry:l1,CylinderGeometry:u1,DodecahedronGeometry:ZC,EdgesGeometry:oH,ExtrudeGeometry:QC,IcosahedronGeometry:JC,LatheGeometry:eA,OctahedronGeometry:c1,PlaneGeometry:ry,PolyhedronGeometry:jh,RingGeometry:tA,ShapeGeometry:nA,SphereGeometry:f1,TetrahedronGeometry:iA,TorusGeometry:rA,TorusKnotGeometry:sA,TubeGeometry:aA,WireframeGeometry:_H});class yH extends wa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Vt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class b6 extends tl{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class x6 extends wa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Vt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gh,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new du,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vH extends x6{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ft(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return hn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Vt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Vt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Vt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class bH extends wa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Vt(16777215),this.specular=new Vt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gh,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new du,this.combine=s1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xH extends wa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Vt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gh,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class SH extends wa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gh,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class EH extends wa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gh,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new du,this.combine=s1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class S6 extends wa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=P7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class E6 extends wa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class wH extends wa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Vt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gh,this.normalScale=new ft(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class TH extends no{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function cm(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function MH(t){function e(r,s){return t[r]-t[s]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function RI(t,e,n){const i=t.length,r=new t.constructor(i);for(let s=0,a=0;a!==i;++s){const o=n[s]*e;for(let l=0;l!==e;++l)r[a++]=t[o+l]}return r}function w6(t,e,n,i){let r=1,s=t[0];for(;s!==void 0&&s[i]===void 0;)s=t[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),n.push(...a)),s=t[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),n.push(a)),s=t[r++];while(s!==void 0)}function vpe(t,e,n,i,r=30){const s=t.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const f=s.tracks[l],p=f.getValueSize(),g=[],y=[];for(let _=0;_<f.times.length;++_){const x=f.times[_]*r;if(!(x<n||x>=i)){g.push(f.times[_]);for(let S=0;S<p;++S)y.push(f.values[_*p+S])}}g.length!==0&&(f.times=cm(g,f.times.constructor),f.values=cm(y,f.values.constructor),a.push(f))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function bpe(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=n.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const f=t.tracks.find(function(w){return w.name===o.name&&w.ValueTypeName===l});if(f===void 0)continue;let p=0;const g=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let y=0;const _=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=_/3);const x=o.times.length-1;let S;if(s<=o.times[0]){const w=p,C=g-p;S=o.values.slice(w,C)}else if(s>=o.times[x]){const w=x*g+p,C=w+g-p;S=o.values.slice(w,C)}else{const w=o.createInterpolant(),C=p,A=g-p;w.evaluate(s),S=w.resultBuffer.slice(C,A)}l==="quaternion"&&new No().fromArray(S).normalize().conjugate().toArray(S);const E=f.times.length;for(let w=0;w<E;++w){const C=w*_+y;if(l==="quaternion")No.multiplyQuaternionsFlat(f.values,C,S,0,f.values,C);else{const A=_-y*2;for(let R=0;R<A;++R)f.values[C+R]-=S[R]}}}return t.blendMode=i6,t}class xpe{static convertArray(e,n){return cm(e,n)}static isTypedArray(e){return W7(e)}static getKeyframeOrder(e){return MH(e)}static sortedArray(e,n,i){return RI(e,n,i)}static flattenJSON(e,n,i,r){w6(e,n,i,r)}static subclip(e,n,i,r,s=30){return vpe(e,n,i,r,s)}static makeClipAdditive(e,n=0,i=e,r=30){return bpe(e,n,i,r)}}class d1{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],s=n[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=n[++i],e<r)break t}a=n.length;break n}if(!(e>=s)){const o=n[1];e<o&&(i=2,s=o);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=n[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<n[o]?a=o:i=o+1}if(r=n[i],s=n[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)n[a]=i[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CH extends d1{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:um,endingEnd:um}}intervalChanged_(e,n,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],l=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case lm:s=e,o=2*n-i;break;case dx:s=r.length-2,o=n+r[s]-r[s+1];break;default:s=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case lm:a=e,l=2*i-n;break;case dx:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=n}const f=(i-n)*.5,p=this.valueSize;this._weightPrev=f/(n-o),this._weightNext=f/(l-i),this._offsetPrev=s*p,this._offsetNext=a*p}interpolate_(e,n,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,f=l-o,p=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,_=this._weightNext,x=(i-n)/(r-n),S=x*x,E=S*x,w=-y*E+2*y*S-y*x,C=(1+y)*E+(-1.5-2*y)*S+(-.5+y)*x+1,A=(-1-_)*E+(1.5+_)*S+.5*x,R=_*E-_*S;for(let N=0;N!==o;++N)s[N]=w*a[p+N]+C*a[f+N]+A*a[l+N]+R*a[g+N];return s}}class T6 extends d1{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,f=l-o,p=(i-n)/(r-n),g=1-p;for(let y=0;y!==o;++y)s[y]=a[f+y]*g+a[l+y]*p;return s}}class AH extends d1{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class nl{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=cm(n,this.TimeBufferType),this.values=cm(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:cm(e.times,Array),values:cm(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new AH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new T6(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new CH(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case fx:n=this.InterpolantFactoryMethodDiscrete;break;case TM:n=this.InterpolantFactoryMethodLinear;break;case qw:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return Ut("KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return fx;case this.InterpolantFactoryMethodLinear:return TM;case this.InterpolantFactoryMethodSmooth:return qw}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>n;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(en("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(en("KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){en("KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){en("KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(r!==void 0&&W7(r))for(let o=0,l=r.length;o!==l;++o){const f=r[o];if(isNaN(f)){en("KeyframeTrack: Value is not a valid number.",this,o,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===qw,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const f=e[o],p=e[o+1];if(f!==p&&(o!==1||f!==e[0]))if(r)l=!0;else{const g=o*i,y=g-i,_=g+i;for(let x=0;x!==i;++x){const S=n[g+x];if(S!==n[y+x]||S!==n[_+x]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const g=o*i,y=a*i;for(let _=0;_!==i;++_)n[y+_]=n[g+_]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,l=a*i,f=0;f!==i;++f)n[l+f]=n[o+f];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}nl.prototype.ValueTypeName="";nl.prototype.TimeBufferType=Float32Array;nl.prototype.ValueBufferType=Float32Array;nl.prototype.DefaultInterpolation=TM;class Km extends nl{constructor(e,n,i){super(e,n,i)}}Km.prototype.ValueTypeName="bool";Km.prototype.ValueBufferType=Array;Km.prototype.DefaultInterpolation=fx;Km.prototype.InterpolantFactoryMethodLinear=void 0;Km.prototype.InterpolantFactoryMethodSmooth=void 0;class M6 extends nl{constructor(e,n,i,r){super(e,n,i,r)}}M6.prototype.ValueTypeName="color";class bx extends nl{constructor(e,n,i,r){super(e,n,i,r)}}bx.prototype.ValueTypeName="number";class DH extends d1{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-n)/(r-n);let f=e*o;for(let p=f+o;f!==p;f+=4)No.slerpFlat(s,0,a,f-o,a,f,l);return s}}class h1 extends nl{constructor(e,n,i,r){super(e,n,i,r)}InterpolantFactoryMethodLinear(e){return new DH(this.times,this.values,this.getValueSize(),e)}}h1.prototype.ValueTypeName="quaternion";h1.prototype.InterpolantFactoryMethodSmooth=void 0;class Qm extends nl{constructor(e,n,i){super(e,n,i)}}Qm.prototype.ValueTypeName="string";Qm.prototype.ValueBufferType=Array;Qm.prototype.DefaultInterpolation=fx;Qm.prototype.InterpolantFactoryMethodLinear=void 0;Qm.prototype.InterpolantFactoryMethodSmooth=void 0;class xx extends nl{constructor(e,n,i,r){super(e,n,i,r)}}xx.prototype.ValueTypeName="vector";class Sx{constructor(e="",n=-1,i=[],r=LC){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=ou(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)n.push(Epe(i[a]).scale(r));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,a=i.length;s!==a;++s)n.push(nl.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const s=n.length,a=[];for(let o=0;o<s;o++){let l=[],f=[];l.push((o+s-1)%s,o,(o+1)%s),f.push(0,1,0);const p=MH(l);l=RI(l,1,p),f=RI(f,1,p),!r&&l[0]===0&&(l.push(s),f.push(f[0])),a.push(new bx(".morphTargetInfluences["+n[o].name+"]",l,f).scale(1/i))}return new this(e,-1,a)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const f=e[o],p=f.name.match(s);if(p&&p.length>1){const g=p[1];let y=r[g];y||(r[g]=y=[]),y.push(f)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],n,i));return a}static parseAnimation(e,n){if(Ut("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return en("AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,_,x,S){if(_.length!==0){const E=[],w=[];w6(_,E,w,x),E.length!==0&&S.push(new g(y,E,w))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const f=e.hierarchy||[];for(let g=0;g<f.length;g++){const y=f[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const _={};let x;for(x=0;x<y.length;x++)if(y[x].morphTargets)for(let S=0;S<y[x].morphTargets.length;S++)_[y[x].morphTargets[S]]=-1;for(const S in _){const E=[],w=[];for(let C=0;C!==y[x].morphTargets.length;++C){const A=y[x];E.push(A.time),w.push(A.morphTarget===S?1:0)}r.push(new bx(".morphTargetInfluence["+S+"]",E,w))}l=_.length*a}else{const _=".bones["+n[g].name+"]";i(xx,_+".position",y,"pos",r),i(h1,_+".quaternion",y,"rot",r),i(xx,_+".scale",y,"scl",r)}}return r.length===0?null:new this(s,l,r,o)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function Spe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return bx;case"vector":case"vector2":case"vector3":case"vector4":return xx;case"color":return M6;case"quaternion":return h1;case"bool":case"boolean":return Km;case"string":return Qm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Epe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Spe(t.type);if(t.times===void 0){const n=[],i=[];w6(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Tc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class C6{constructor(e,n,i){const r=this;let s=!1,a=0,o=0,l;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this._abortController=null,this.itemStart=function(p){o++,s===!1&&r.onStart!==void 0&&r.onStart(p,a,o),s=!0},this.itemEnd=function(p){a++,r.onProgress!==void 0&&r.onProgress(p,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(p){r.onError!==void 0&&r.onError(p)},this.resolveURL=function(p){return l?l(p):p},this.setURLModifier=function(p){return l=p,this},this.addHandler=function(p,g){return f.push(p,g),this},this.removeHandler=function(p){const g=f.indexOf(p);return g!==-1&&f.splice(g,2),this},this.getHandler=function(p){for(let g=0,y=f.length;g<y;g+=2){const _=f[g],x=f[g+1];if(_.global&&(_.lastIndex=0),_.test(p))return x}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const RH=new C6;class zo{constructor(e){this.manager=e!==void 0?e:RH,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,s){i.load(e,r,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}zo.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ef={};class wpe extends Error{constructor(e,n){super(e),this.response=n}}class $f extends zo{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Tc.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Ef[e]!==void 0){Ef[e].push({onLoad:n,onProgress:i,onError:r});return}Ef[e]=[],Ef[e].push({onLoad:n,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(a).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&Ut("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const p=Ef[e],g=f.body.getReader(),y=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),_=y?parseInt(y):0,x=_!==0;let S=0;const E=new ReadableStream({start(w){C();function C(){g.read().then(({done:A,value:R})=>{if(A)w.close();else{S+=R.byteLength;const N=new ProgressEvent("progress",{lengthComputable:x,loaded:S,total:_});for(let O=0,P=p.length;O<P;O++){const z=p[O];z.onProgress&&z.onProgress(N)}w.enqueue(R),C()}},A=>{w.error(A)})}}});return new Response(E)}else throw new wpe(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(l){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(p=>new DOMParser().parseFromString(p,o));case"json":return f.json();default:if(o==="")return f.text();{const g=/charset="?([^;"\s]*)"?/i.exec(o),y=g&&g[1]?g[1].toLowerCase():void 0,_=new TextDecoder(y);return f.arrayBuffer().then(x=>_.decode(x))}}}).then(f=>{Tc.add(`file:${e}`,f);const p=Ef[e];delete Ef[e];for(let g=0,y=p.length;g<y;g++){const _=p[g];_.onLoad&&_.onLoad(f)}}).catch(f=>{const p=Ef[e];if(p===void 0)throw this.manager.itemError(e),f;delete Ef[e];for(let g=0,y=p.length;g<y;g++){const _=p[g];_.onError&&_.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Tpe extends zo{constructor(e){super(e)}load(e,n,i,r){const s=this,a=new $f(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){r?r(l):en(l),s.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=Sx.parse(e[i]);n.push(r)}return n}}class Mpe extends zo{constructor(e){super(e)}load(e,n,i,r){const s=this,a=[],o=new $C,l=new $f(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let f=0;function p(g){l.load(e[g],function(y){const _=s.parse(y,!0);a[g]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},f+=1,f===6&&(_.mipmapCount===1&&(o.minFilter=gr),o.image=a,o.format=_.format,o.needsUpdate=!0,n&&n(o))},i,r)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)p(g);else l.load(e,function(g){const y=s.parse(g,!0);if(y.isCubemap){const _=y.mipmaps.length/y.mipmapCount;for(let x=0;x<_;x++){a[x]={mipmaps:[]};for(let S=0;S<y.mipmapCount;S++)a[x].mipmaps.push(y.mipmaps[x*y.mipmapCount+S]),a[x].format=y.format,a[x].width=y.width,a[x].height=y.height}o.image=a}else o.image.width=y.width,o.image.height=y.height,o.mipmaps=y.mipmaps;y.mipmapCount===1&&(o.minFilter=gr),o.format=y.format,o.needsUpdate=!0,n&&n(o)},i,r);return o}}const Sg=new WeakMap;class Ex extends zo{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Tc.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0);else{let g=Sg.get(a);g===void 0&&(g=[],Sg.set(a,g)),g.push({onLoad:n,onError:r})}return a}const o=mx("img");function l(){p(),n&&n(this);const g=Sg.get(this)||[];for(let y=0;y<g.length;y++){const _=g[y];_.onLoad&&_.onLoad(this)}Sg.delete(this),s.manager.itemEnd(e)}function f(g){p(),r&&r(g),Tc.remove(`image:${e}`);const y=Sg.get(this)||[];for(let _=0;_<y.length;_++){const x=y[_];x.onError&&x.onError(g)}Sg.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function p(){o.removeEventListener("load",l,!1),o.removeEventListener("error",f,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),Tc.add(`image:${e}`,o),s.manager.itemStart(e),o.src=e,o}}class Cpe extends zo{constructor(e){super(e)}load(e,n,i,r){const s=new o1;s.colorSpace=_a;const a=new Ex(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(f){a.load(e[f],function(p){s.images[f]=p,o++,o===6&&(s.needsUpdate=!0,n&&n(s))},void 0,r)}for(let f=0;f<e.length;++f)l(f);return s}}class Ape extends zo{constructor(e){super(e)}load(e,n,i,r){const s=this,a=new Ol,o=new $f(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let f;try{f=s.parse(l)}catch(p){if(r!==void 0)r(p);else{p(p);return}}f.image!==void 0?a.image=f.image:f.data!==void 0&&(a.image.width=f.width,a.image.height=f.height,a.image.data=f.data),a.wrapS=f.wrapS!==void 0?f.wrapS:Io,a.wrapT=f.wrapT!==void 0?f.wrapT:Io,a.magFilter=f.magFilter!==void 0?f.magFilter:gr,a.minFilter=f.minFilter!==void 0?f.minFilter:gr,a.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(a.colorSpace=f.colorSpace),f.flipY!==void 0&&(a.flipY=f.flipY),f.format!==void 0&&(a.format=f.format),f.type!==void 0&&(a.type=f.type),f.mipmaps!==void 0&&(a.mipmaps=f.mipmaps,a.minFilter=wc),f.mipmapCount===1&&(a.minFilter=gr),f.generateMipmaps!==void 0&&(a.generateMipmaps=f.generateMipmaps),a.needsUpdate=!0,n&&n(a,f)},i,r),a}}class Dpe extends zo{constructor(e){super(e)}load(e,n,i,r){const s=new Gr,a=new Ex(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,n!==void 0&&n(s)},i,r),s}}class qh extends xi{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Vt(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class IH extends qh{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(xi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Vt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const wD=new _n,Y4=new oe,Z4=new oe;class A6{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ft(512,512),this.mapType=qa,this.map=null,this.mapPass=null,this.matrix=new _n,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new iy,this._frameExtents=new ft(1,1),this._viewportCount=1,this._viewports=[new Zi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;Y4.setFromMatrixPosition(e.matrixWorld),n.position.copy(Y4),Z4.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Z4),n.updateMatrixWorld(),wD.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wD,n.coordinateSystem,n.reversedDepth),n.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(wD)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Rpe extends A6{constructor(){super(new Os(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,i=C_*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(i!==n.fov||r!==n.aspect||s!==n.far)&&(n.fov=i,n.aspect=r,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class NH extends qh{constructor(e,n,i=0,r=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(xi.DEFAULT_UP),this.updateMatrix(),this.target=new xi,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new Rpe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class Ipe extends A6{constructor(){super(new Os(90,1,.5,500)),this.isPointLightShadow=!0}}class OH extends qh{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Ipe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class sy extends HC{constructor(e=-1,n=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,a=s+f*this.view.width,o-=p*this.view.offsetY,l=o-p*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Npe extends A6{constructor(){super(new sy(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class kH extends qh{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(xi.DEFAULT_UP),this.updateMatrix(),this.target=new xi,this.shadow=new Npe}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class PH extends qh{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class LH extends qh{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class D6{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new oe)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*r),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*i),n.addScaledVector(a[4],1.092548*(i*r)),n.addScaledVector(a[5],1.092548*(r*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(i*s)),n.addScaledVector(a[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*r),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*i),n.addScaledVector(a[4],2*.429043*i*r),n.addScaledVector(a[5],2*.429043*r*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*i*s),n.addScaledVector(a[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,s=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*s,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*i*s,n[8]=.546274*(i*i-r*r)}}class FH extends qh{constructor(e=new D6,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class oA extends zo{constructor(e){super(e),this.textures={}}load(e,n,i,r){const s=this,a=new $f(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){r?r(l):en(l),s.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(s){return n[s]===void 0&&Ut("MaterialLoader: Undefined texture",s),n[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Vt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(r.allowOverride=e.allowOverride),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new Vt().setHex(a.value);break;case"v2":r.uniforms[s].value=new ft().fromArray(a.value);break;case"v3":r.uniforms[s].value=new oe().fromArray(a.value);break;case"v4":r.uniforms[s].value=new Zi().fromArray(a.value);break;case"m3":r.uniforms[s].value=new On().fromArray(a.value);break;case"m4":r.uniforms[s].value=new _n().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ft().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ft().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return oA.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:yH,SpriteMaterial:c6,RawShaderMaterial:b6,ShaderMaterial:tl,PointsMaterial:d6,MeshPhysicalMaterial:vH,MeshStandardMaterial:x6,MeshPhongMaterial:bH,MeshToonMaterial:xH,MeshNormalMaterial:SH,MeshLambertMaterial:EH,MeshDepthMaterial:S6,MeshDistanceMaterial:E6,MeshBasicMaterial:Wh,MeshMatcapMaterial:wH,LineDashedMaterial:TH,LineBasicMaterial:no,Material:wa};return new n[e]}}class II{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class UH extends Rn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class BH extends zo{constructor(e){super(e)}load(e,n,i,r){const s=this,a=new $f(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){r?r(l):en(l),s.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(_,x){if(n[x]!==void 0)return n[x];const E=_.interleavedBuffers[x],w=s(_,E.buffer),C=qg(E.type,w),A=new WC(C,E.stride);return A.uuid=E.uuid,n[x]=A,A}function s(_,x){if(i[x]!==void 0)return i[x];const E=_.arrayBuffers[x],w=new Uint32Array(E).buffer;return i[x]=w,w}const a=e.isInstancedBufferGeometry?new UH:new Rn,o=e.data.index;if(o!==void 0){const _=qg(o.type,o.array);a.setIndex(new ji(_,1))}const l=e.data.attributes;for(const _ in l){const x=l[_];let S;if(x.isInterleavedBufferAttribute){const E=r(e.data,x.data);S=new km(E,x.itemSize,x.offset,x.normalized)}else{const E=qg(x.type,x.array),w=x.isInstancedBufferAttribute?R_:ji;S=new w(E,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),x.usage!==void 0&&S.setUsage(x.usage),a.setAttribute(_,S)}const f=e.data.morphAttributes;if(f)for(const _ in f){const x=f[_],S=[];for(let E=0,w=x.length;E<w;E++){const C=x[E];let A;if(C.isInterleavedBufferAttribute){const R=r(e.data,C.data);A=new km(R,C.itemSize,C.offset,C.normalized)}else{const R=qg(C.type,C.array);A=new ji(R,C.itemSize,C.normalized)}C.name!==void 0&&(A.name=C.name),S.push(A)}a.morphAttributes[_]=S}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let _=0,x=g.length;_!==x;++_){const S=g[_];a.addGroup(S.start,S.count,S.materialIndex)}const y=e.data.boundingSphere;return y!==void 0&&(a.boundingSphere=new Ks().fromJSON(y)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Ope extends zo{constructor(e){super(e)}load(e,n,i,r){const s=this,a=this.path===""?II.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new $f(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let f=null;try{f=JSON.parse(l)}catch(g){r!==void 0&&r(g),g("ObjectLoader: Can't parse "+e+".",g.message);return}const p=f.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),en("ObjectLoader: Can't load "+e);return}s.parse(f,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?II.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new $f(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,n),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){n!==void 0&&n(f)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),f=this.parseObject(e.object,s,l,o,i),p=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,p),this.bindLightTargets(f),n!==void 0){let g=!1;for(const y in a)if(a[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&n(f)}return f}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,n),f=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,f),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new vm().fromJSON(e[i]);n[s.uuid]=s}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new jC().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new BH;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in X4?o=X4[l.type].fromJSON(l,n):Ut(`ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const s=new oA;s.setTextures(n);for(let a=0,o=e.length;a<o;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Sx.parse(r);n[s.uuid]=s}return n}parseImages(e,n){const i=this,r={};let s;function a(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const f=l,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return a(p)}else return l.data?{data:qg(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new C6(n);s=new Ex(l),s.setCrossOrigin(this.crossOrigin);for(let f=0,p=e.length;f<p;f++){const g=e[f],y=g.url;if(Array.isArray(y)){const _=[];for(let x=0,S=y.length;x<S;x++){const E=y[x],w=o(E);w!==null&&(w instanceof HTMLImageElement?_.push(w):_.push(new Ol(w.data,w.width,w.height)))}r[g.uuid]=new uh(_)}else{const _=o(g.url);r[g.uuid]=new uh(_)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await r.loadAsync(l)}else return a.data?{data:qg(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new Ex(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],f=l.url;if(Array.isArray(f)){const p=[];for(let g=0,y=f.length;g<y;g++){const _=f[g],x=await s(_);x!==null&&(x instanceof HTMLImageElement?p.push(x):p.push(new Ol(x.data,x.width,x.height)))}i[l.uuid]=new uh(p)}else{const p=await s(l.url);i[l.uuid]=new uh(p)}}}return i}parseTextures(e,n){function i(s,a){return typeof s=="number"?s:(Ut("ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&Ut('ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&Ut("ObjectLoader: Undefined image",o.image);const l=n[o.image],f=l.data;let p;Array.isArray(f)?(p=new o1,f.length===6&&(p.needsUpdate=!0)):(f&&f.data?p=new Ol:p=new Gr,f&&(p.needsUpdate=!0)),p.source=l,p.uuid=o.uuid,o.name!==void 0&&(p.name=o.name),o.mapping!==void 0&&(p.mapping=i(o.mapping,kpe)),o.channel!==void 0&&(p.channel=o.channel),o.offset!==void 0&&p.offset.fromArray(o.offset),o.repeat!==void 0&&p.repeat.fromArray(o.repeat),o.center!==void 0&&p.center.fromArray(o.center),o.rotation!==void 0&&(p.rotation=o.rotation),o.wrap!==void 0&&(p.wrapS=i(o.wrap[0],K4),p.wrapT=i(o.wrap[1],K4)),o.format!==void 0&&(p.format=o.format),o.internalFormat!==void 0&&(p.internalFormat=o.internalFormat),o.type!==void 0&&(p.type=o.type),o.colorSpace!==void 0&&(p.colorSpace=o.colorSpace),o.minFilter!==void 0&&(p.minFilter=i(o.minFilter,Q4)),o.magFilter!==void 0&&(p.magFilter=i(o.magFilter,Q4)),o.anisotropy!==void 0&&(p.anisotropy=o.anisotropy),o.flipY!==void 0&&(p.flipY=o.flipY),o.generateMipmaps!==void 0&&(p.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(p.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(p.compareFunction=o.compareFunction),o.userData!==void 0&&(p.userData=o.userData),r[o.uuid]=p}return r}parseObject(e,n,i,r,s){let a;function o(y){return n[y]===void 0&&Ut("ObjectLoader: Undefined geometry",y),n[y]}function l(y){if(y!==void 0){if(Array.isArray(y)){const _=[];for(let x=0,S=y.length;x<S;x++){const E=y[x];i[E]===void 0&&Ut("ObjectLoader: Undefined material",E),_.push(i[E])}return _}return i[y]===void 0&&Ut("ObjectLoader: Undefined material",y),i[y]}}function f(y){return r[y]===void 0&&Ut("ObjectLoader: Undefined texture",y),r[y]}let p,g;switch(e.type){case"Scene":a=new l6,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Vt(e.background):a.background=f(e.background)),e.environment!==void 0&&(a.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new GC(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new VC(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Os(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new sy(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new PH(e.color,e.intensity);break;case"DirectionalLight":a=new kH(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new OH(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new LH(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new NH(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new IH(e.color,e.groundColor,e.intensity);break;case"LightProbe":const y=new D6().fromArray(e.sh);a=new FH(y,e.intensity);break;case"SkinnedMesh":p=o(e.geometry),g=l(e.material),a=new eH(p,g),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":p=o(e.geometry),g=l(e.material),a=new ds(p,g);break;case"InstancedMesh":p=o(e.geometry),g=l(e.material);const _=e.count,x=e.instanceMatrix,S=e.instanceColor;a=new tH(p,g,_),a.instanceMatrix=new R_(new Float32Array(x.array),16),S!==void 0&&(a.instanceColor=new R_(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":p=o(e.geometry),g=l(e.material),a=new nH(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),a.geometry=p,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(E=>{let w=null,C=null;return E.boundingBox!==void 0&&(w=new Sa().fromJSON(E.boundingBox)),E.boundingSphere!==void 0&&(C=new Ks().fromJSON(E.boundingSphere)),{...E,boundingBox:w,boundingSphere:C}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=f(e.matricesTexture.uuid),a._indirectTexture=f(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=f(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new Ks().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new Sa().fromJSON(e.boundingBox));break;case"LOD":a=new J7;break;case"Line":a=new Ph(o(e.geometry),l(e.material));break;case"LineLoop":a=new iH(o(e.geometry),l(e.material));break;case"LineSegments":a=new zc(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new rH(o(e.geometry),l(e.material));break;case"Sprite":a=new Q7(l(e.material));break;case"Group":a=new $g;break;case"Bone":a=new f6;break;default:a=new xi}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let _=0;_<y.length;_++)a.add(this.parseObject(y[_],n,i,r,s))}if(e.animations!==void 0){const y=e.animations;for(let _=0;_<y.length;_++){const x=y[_];a.animations.push(s[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const y=e.levels;for(let _=0;_<y.length;_++){const x=y[_],S=a.getObjectByProperty("uuid",x.object);S!==void 0&&a.addLevel(S,x.distance,x.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?Ut("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new xi}})}}const kpe={UVMapping:DC,CubeReflectionMapping:Ic,CubeRefractionMapping:Nh,EquirectangularReflectionMapping:ox,EquirectangularRefractionMapping:ux,CubeUVReflectionMapping:ty},K4={RepeatWrapping:lx,ClampToEdgeWrapping:Io,MirroredRepeatWrapping:cx},Q4={NearestFilter:Qr,NearestMipmapNearestFilter:ZO,NearestMipmapLinearFilter:jg,LinearFilter:gr,LinearMipmapNearestFilter:xb,LinearMipmapLinearFilter:wc},TD=new WeakMap;class Ppe extends zo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Ut("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Ut("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Tc.get(`image-bitmap:${e}`);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(f=>{if(TD.has(a)===!0)r&&r(TD.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(f),s.manager.itemEnd(e),f});return}return setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(f){return Tc.add(`image-bitmap:${e}`,f),n&&n(f),s.manager.itemEnd(e),f}).catch(function(f){r&&r(f),TD.set(l,f),Tc.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Tc.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let rw;class R6{static getContext(){return rw===void 0&&(rw=new(window.AudioContext||window.webkitAudioContext)),rw}static setContext(e){rw=e}}class Lpe extends zo{constructor(e){super(e)}load(e,n,i,r){const s=this,a=new $f(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const f=l.slice(0);R6.getContext().decodeAudioData(f,function(g){n(g)}).catch(o)}catch(f){o(f)}},i,r);function o(l){r?r(l):en(l),s.manager.itemError(e)}}}const J4=new _n,eF=new _n,Hp=new _n;class Fpe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Os,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Os,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Hp.copy(e.projectionMatrix);const r=n.eyeSep/2,s=r*n.near/n.focus,a=n.near*Math.tan(ym*n.fov*.5)/n.zoom;let o,l;eF.elements[12]=-r,J4.elements[12]=r,o=-a*n.aspect+s,l=a*n.aspect+s,Hp.elements[0]=2*n.near/(l-o),Hp.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(Hp),o=-a*n.aspect-s,l=a*n.aspect-s,Hp.elements[0]=2*n.near/(l-o),Hp.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(Hp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(eF),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(J4)}}class zH extends Os{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class I6{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Vp=new oe,MD=new No,Upe=new oe,Gp=new oe,Wp=new oe;class Bpe extends xi{constructor(){super(),this.type="AudioListener",this.context=R6.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new I6}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Vp,MD,Upe),Gp.set(0,0,-1).applyQuaternion(MD),Wp.set(0,1,0).applyQuaternion(MD),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Vp.x,i),n.positionY.linearRampToValueAtTime(Vp.y,i),n.positionZ.linearRampToValueAtTime(Vp.z,i),n.forwardX.linearRampToValueAtTime(Gp.x,i),n.forwardY.linearRampToValueAtTime(Gp.y,i),n.forwardZ.linearRampToValueAtTime(Gp.z,i),n.upX.linearRampToValueAtTime(Wp.x,i),n.upY.linearRampToValueAtTime(Wp.y,i),n.upZ.linearRampToValueAtTime(Wp.z,i)}else n.setPosition(Vp.x,Vp.y,Vp.z),n.setOrientation(Gp.x,Gp.y,Gp.z,Wp.x,Wp.y,Wp.z)}}class HH extends xi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Ut("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Ut("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(Ut("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const jp=new oe,tF=new No,zpe=new oe,qp=new oe;class Hpe extends HH{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(jp,tF,zpe),qp.set(0,0,1).applyQuaternion(tF);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(jp.x,i),n.positionY.linearRampToValueAtTime(jp.y,i),n.positionZ.linearRampToValueAtTime(jp.z,i),n.orientationX.linearRampToValueAtTime(qp.x,i),n.orientationY.linearRampToValueAtTime(qp.y,i),n.orientationZ.linearRampToValueAtTime(qp.z,i)}else n.setPosition(jp.x,jp.y,jp.z),n.setOrientation(qp.x,qp.y,qp.z)}}class Vpe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class VH{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,s,a;switch(n){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-s,n)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,f=n+n;l!==f;++l)if(i[l]!==i[l+n]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let s=i,a=r;s!==a;++s)n[s]=n[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[n+a]=e[i+a]}_slerp(e,n,i,r){No.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,s){const a=this._workIndex*s;No.multiplyQuaternionsFlat(e,a,e,n,e,i),No.slerpFlat(e,n,e,n,e,a,r)}_lerp(e,n,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]*a+e[i+o]*r}}_lerpAdditive(e,n,i,r,s){for(let a=0;a!==s;++a){const o=n+a;e[o]=e[o]+e[i+a]*r}}}const N6="\\[\\]\\.:\\/",Gpe=new RegExp("["+N6+"]","g"),O6="[^"+N6+"]",Wpe="[^"+N6.replace("\\.","")+"]",jpe=/((?:WC+[\/:])*)/.source.replace("WC",O6),qpe=/(WCOD+)?/.source.replace("WCOD",Wpe),$pe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",O6),Xpe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",O6),Ype=new RegExp("^"+jpe+qpe+$pe+Xpe+"$"),Zpe=["material","materials","bones","map"];class Kpe{constructor(e,n,i){const r=i||vi.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class vi{constructor(e,n,i){this.path=n,this.parsedPath=i||vi.parseTrackName(n),this.node=vi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new vi.Composite(e,n,i):new vi(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Gpe,"")}static parseTrackName(e){const n=Ype.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Zpe.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===n||o.uuid===n)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let s=n.propertyIndex;if(e||(e=vi.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Ut("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let f=n.objectIndex;switch(i){case"materials":if(!e.material){en("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){en("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){en("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===f){f=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){en("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){en("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){en("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){en("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const a=e[r];if(a===void 0){const f=n.nodeName;en("PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){en("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){en("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}vi.Composite=Kpe;vi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};vi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};vi.prototype.GetterByBindingType=[vi.prototype._getValue_direct,vi.prototype._getValue_array,vi.prototype._getValue_arrayElement,vi.prototype._getValue_toArray];vi.prototype.SetterByBindingTypeAndVersioning=[[vi.prototype._setValue_direct,vi.prototype._setValue_direct_setNeedsUpdate,vi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_array,vi.prototype._setValue_array_setNeedsUpdate,vi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_arrayElement,vi.prototype._setValue_arrayElement_setNeedsUpdate,vi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vi.prototype._setValue_fromArray,vi.prototype._setValue_fromArray_setNeedsUpdate,vi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Qpe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ou(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,f=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const y=arguments[p],_=y.uuid;let x=n[_];if(x===void 0){x=l++,n[_]=x,e.push(y);for(let S=0,E=a;S!==E;++S)s[S].push(new vi(y,i[S],r[S]))}else if(x<f){o=e[x];const S=--f,E=e[S];n[E.uuid]=x,e[x]=E,n[_]=S,e[S]=y;for(let w=0,C=a;w!==C;++w){const A=s[w],R=A[S];let N=A[x];A[x]=R,N===void 0&&(N=new vi(y,i[w],r[w])),A[S]=N}}else e[x]!==o&&en("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],f=l.uuid,p=n[f];if(p!==void 0&&p>=s){const g=s++,y=e[g];n[y.uuid]=p,e[p]=y,n[f]=g,e[g]=l;for(let _=0,x=r;_!==x;++_){const S=i[_],E=S[g],w=S[p];S[p]=E,S[g]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const f=arguments[o],p=f.uuid,g=n[p];if(g!==void 0)if(delete n[p],g<s){const y=--s,_=e[y],x=--a,S=e[x];n[_.uuid]=g,e[g]=_,n[S.uuid]=y,e[y]=S,e.pop();for(let E=0,w=r;E!==w;++E){const C=i[E],A=C[y],R=C[x];C[g]=A,C[y]=R,C.pop()}}else{const y=--a,_=e[y];y>0&&(n[_.uuid]=g),e[g]=_,e.pop();for(let x=0,S=r;x!==S;++x){const E=i[x];E[g]=E[y],E.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,l=this._objects,f=l.length,p=this.nCachedObjects_,g=new Array(f);r=s.length,i[e]=r,a.push(e),o.push(n),s.push(g);for(let y=p,_=l.length;y!==_;++y){const x=l[y];g[y]=new vi(x,e,n)}return g}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],f=e[o];n[f]=i,a[i]=l,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class GH{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const s=n.tracks,a=s.length,o=new Array(a),l={endingStart:um,endingEnd:um};for(let f=0;f!==a;++f){const p=s[f].createInterpolant(null);o[f]=p,p.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=O7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i=!1){if(e.fadeOut(n),this.fadeIn(n),i===!0){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,i=!1){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,f=o.sampleValues;return l[0]=s,l[1]=s+i,f[0]=e/a,f[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case i6:for(let p=0,g=l.length;p!==g;++p)l[p].evaluate(a),f[p].accumulateAdditive(o);break;case LC:default:for(let p=0,g=l.length;p!==g;++p)l[p].evaluate(a),f[p].accumulate(r,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===k7;if(e===0)return s===-1?r:a&&(s&1)===1?n-r:r;if(i===N7){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=n||r<0){const o=Math.floor(r/n);r-=n*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const f=e<0;this._setEndings(f,!f,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=lm,r.endingEnd=lm):(e?r.endingStart=this.zeroSlopeAtStart?lm:um:r.endingStart=dx,n?r.endingEnd=this.zeroSlopeAtEnd?lm:um:r.endingEnd=dx)}_scheduleFading(e,n,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=n,o[1]=s+e,l[1]=i,this}}const Jpe=new Float32Array(1);class eme extends Bc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,f=this._bindingsByRootAndName;let p=f[l];p===void 0&&(p={},f[l]=p);for(let g=0;g!==s;++g){const y=r[g],_=y.name;let x=p[_];if(x!==void 0)++x.referenceCount,a[g]=x;else{if(x=a[g],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,_));continue}const S=n&&n._propertyBindings[g].binding.parsedPath;x=new VH(vi.create(i,_,S),y.ValueTypeName,y.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,_),a[g]=x}o[g].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,f=l[l.length-1],p=e._byClipCacheIndex;f._byClipCacheIndex=p,l[p]=f,l.pop(),e._byClipCacheIndex=null;const g=o.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const s=n[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[n];a===void 0&&(a={},r[n]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],l=n[n.length-1],f=e._cacheIndex;l._cacheIndex=f,n[f]=l,n.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=n[r];e._cacheIndex=r,n[r]=e,s._cacheIndex=i,n[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new T6(new Float32Array(2),new Float32Array(2),1,Jpe),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=n[r];e.__cacheIndex=r,n[r]=e,s.__cacheIndex=i,n[i]=s}clipAction(e,n,i){const r=n||this._root,s=r.uuid;let a=typeof e=="string"?Sx.findByName(r,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let f=null;if(i===void 0&&(a!==null?i=a.blendMode:i=LC),l!==void 0){const g=l.actionByRoot[s];if(g!==void 0&&g.blendMode===i)return g;f=l.knownActions[0],a===null&&(a=f._clip)}if(a===null)return null;const p=new GH(this,a,n,i);return this._bindAction(p,f),this._addInactiveAction(p,o,s),p}existingAction(e,n){const i=n||this._root,r=i.uuid,s=typeof e=="string"?Sx.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let f=0;f!==i;++f)n[f]._update(r,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let f=0;f!==l;++f)o[f].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const f=a[o];this._deactivateAction(f);const p=f._cacheIndex,g=n[n.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,g._cacheIndex=p,n[p]=g,n.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[n];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class tme extends s6{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new zC(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class k6{constructor(e){this.value=e}clone(){return new k6(this.value.clone===void 0?this.value:this.value.clone())}}let nme=0;class ime extends Bc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:nme++}),this.name="",this.usage=px,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const s=Array.isArray(n[i])?n[i]:[n[i]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class rme extends WC{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class sme{constructor(e,n,i,r,s,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=s,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const nF=new _n;class WH{constructor(e,n,i=0,r=1/0){this.ray=new ny(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new A_,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):en("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return nF.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(nF),this}intersectObject(e,n=!0,i=[]){return NI(e,this,i,n),i.sort(iF),i}intersectObjects(e,n=!0,i=[]){for(let r=0,s=e.length;r<s;r++)NI(e[r],this,i,n);return i.sort(iF),i}}function iF(t,e){return t.distance-e.distance}function NI(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const s=t.children;for(let a=0,o=s.length;a<o;a++)NI(s[a],e,n,!0)}}class ame{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=ome.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function ome(){this._document.hidden===!1&&this.reset()}class ume{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=hn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(hn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class lme{constructor(e=1,n=0,i=0){this.radius=e,this.theta=n,this.y=i}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class P6{constructor(e,n,i,r){P6.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const s=this.elements;return s[0]=e,s[2]=n,s[1]=i,s[3]=r,this}}const rF=new ft;class cme{constructor(e=new ft(1/0,1/0),n=new ft(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=rF.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,rF).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const sF=new oe,sw=new oe,Eg=new oe,wg=new oe,CD=new oe,fme=new oe,dme=new oe;class hme{constructor(e=new oe,n=new oe){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){sF.subVectors(e,this.start),sw.subVectors(this.end,this.start);const i=sw.dot(sw);let s=sw.dot(sF)/i;return n&&(s=hn(s,0,1)),s}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,n=fme,i=dme){const r=10000000000000001e-32;let s,a;const o=this.start,l=e.start,f=this.end,p=e.end;Eg.subVectors(f,o),wg.subVectors(p,l),CD.subVectors(o,l);const g=Eg.dot(Eg),y=wg.dot(wg),_=wg.dot(CD);if(g<=r&&y<=r)return n.copy(o),i.copy(l),n.sub(i),n.dot(n);if(g<=r)s=0,a=_/y,a=hn(a,0,1);else{const x=Eg.dot(CD);if(y<=r)a=0,s=hn(-x/g,0,1);else{const S=Eg.dot(wg),E=g*y-S*S;E!==0?s=hn((S*_-x*y)/E,0,1):s=0,a=(S*s+_)/y,a<0?(a=0,s=hn(-x/g,0,1)):a>1&&(a=1,s=hn((S-x)/g,0,1))}}return n.copy(o).add(Eg.multiplyScalar(s)),i.copy(l).add(wg.multiplyScalar(a)),n.sub(i),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const aF=new oe;class pme extends xi{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new Rn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const f=a/l*Math.PI*2,p=o/l*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(p),Math.sin(p),1)}i.setAttribute("position",new jt(r,3));const s=new no({fog:!1,toneMapped:!1});this.cone=new zc(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),aF.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(aF),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Xd=new oe,aw=new _n,AD=new _n;class mme extends zc{constructor(e){const n=jH(e),i=new Rn,r=[],s=[];for(let f=0;f<n.length;f++){const p=n[f];p.parent&&p.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}i.setAttribute("position",new jt(r,3)),i.setAttribute("color",new jt(s,3));const a=new no({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new Vt(255),l=new Vt(65280);this.setColors(o,l)}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");AD.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const o=n[s];o.parent&&o.parent.isBone&&(aw.multiplyMatrices(AD,o.matrixWorld),Xd.setFromMatrixPosition(aw),r.setXYZ(a,Xd.x,Xd.y,Xd.z),aw.multiplyMatrices(AD,o.parent.matrixWorld),Xd.setFromMatrixPosition(aw),r.setXYZ(a+1,Xd.x,Xd.y,Xd.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const r=this.geometry.getAttribute("color");for(let s=0;s<r.count;s+=2)r.setXYZ(s,e.r,e.g,e.b),r.setXYZ(s+1,n.r,n.g,n.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function jH(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...jH(t.children[n]));return e}class gme extends ds{constructor(e,n,i){const r=new f1(n,4,2),s=new Wh({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _me=new oe,oF=new Vt,uF=new Vt;class yme extends xi{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new c1(n);r.rotateY(Math.PI*.5),this.material=new Wh({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new ji(a,3)),this.add(new ds(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");oF.copy(this.light.color),uF.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const s=i<r/2?oF:uF;n.setXYZ(i,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(_me.setFromMatrixPosition(this.light.matrixWorld).negate())}}class vme extends zc{constructor(e=10,n=10,i=4473924,r=8947848){i=new Vt(i),r=new Vt(r);const s=n/2,a=e/n,o=e/2,l=[],f=[];for(let y=0,_=0,x=-o;y<=n;y++,x+=a){l.push(-o,0,x,o,0,x),l.push(x,0,-o,x,0,o);const S=y===s?i:r;S.toArray(f,_),_+=3,S.toArray(f,_),_+=3,S.toArray(f,_),_+=3,S.toArray(f,_),_+=3}const p=new Rn;p.setAttribute("position",new jt(l,3)),p.setAttribute("color",new jt(f,3));const g=new no({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class bme extends zc{constructor(e=10,n=16,i=8,r=64,s=4473924,a=8947848){s=new Vt(s),a=new Vt(a);const o=[],l=[];if(n>1)for(let g=0;g<n;g++){const y=g/n*(Math.PI*2),_=Math.sin(y)*e,x=Math.cos(y)*e;o.push(0,0,0),o.push(_,0,x);const S=g&1?s:a;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let g=0;g<i;g++){const y=g&1?s:a,_=e-e/i*g;for(let x=0;x<r;x++){let S=x/r*(Math.PI*2),E=Math.sin(S)*_,w=Math.cos(S)*_;o.push(E,0,w),l.push(y.r,y.g,y.b),S=(x+1)/r*(Math.PI*2),E=Math.sin(S)*_,w=Math.cos(S)*_,o.push(E,0,w),l.push(y.r,y.g,y.b)}}const f=new Rn;f.setAttribute("position",new jt(o,3)),f.setAttribute("color",new jt(l,3));const p=new no({vertexColors:!0,toneMapped:!1});super(f,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const lF=new oe,ow=new oe,cF=new oe;class xme extends xi{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new Rn;r.setAttribute("position",new jt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new no({fog:!1,toneMapped:!1});this.lightPlane=new Ph(r,s),this.add(this.lightPlane),r=new Rn,r.setAttribute("position",new jt([0,0,0,0,0,1],3)),this.targetLine=new Ph(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),lF.setFromMatrixPosition(this.light.matrixWorld),ow.setFromMatrixPosition(this.light.target.matrixWorld),cF.subVectors(ow,lF),this.lightPlane.lookAt(ow),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ow),this.targetLine.scale.z=cF.length()}}const uw=new oe,Hr=new HC;class Sme extends zc{constructor(e){const n=new Rn,i=new no({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(x,S){l(x),l(S)}function l(x){r.push(0,0,0),s.push(0,0,0),a[x]===void 0&&(a[x]=[]),a[x].push(r.length/3-1)}n.setAttribute("position",new jt(r,3)),n.setAttribute("color",new jt(s,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const f=new Vt(16755200),p=new Vt(16711680),g=new Vt(43775),y=new Vt(16777215),_=new Vt(3355443);this.setColors(f,p,g,y,_)}setColors(e,n,i,r,s){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;let s,a;if(Hr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,a=0;else if(this.camera.coordinateSystem===nu)s=-1,a=1;else if(this.camera.coordinateSystem===T_)s=0,a=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Zr("c",n,e,Hr,0,0,s),Zr("t",n,e,Hr,0,0,a),Zr("n1",n,e,Hr,-i,-r,s),Zr("n2",n,e,Hr,i,-r,s),Zr("n3",n,e,Hr,-i,r,s),Zr("n4",n,e,Hr,i,r,s),Zr("f1",n,e,Hr,-i,-r,a),Zr("f2",n,e,Hr,i,-r,a),Zr("f3",n,e,Hr,-i,r,a),Zr("f4",n,e,Hr,i,r,a),Zr("u1",n,e,Hr,i*.7,r*1.1,s),Zr("u2",n,e,Hr,-i*.7,r*1.1,s),Zr("u3",n,e,Hr,0,r*2,s),Zr("cf1",n,e,Hr,-i,0,a),Zr("cf2",n,e,Hr,i,0,a),Zr("cf3",n,e,Hr,0,-r,a),Zr("cf4",n,e,Hr,0,r,a),Zr("cn1",n,e,Hr,-i,0,s),Zr("cn2",n,e,Hr,i,0,s),Zr("cn3",n,e,Hr,0,-r,s),Zr("cn4",n,e,Hr,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Zr(t,e,n,i,r,s,a){uw.set(r,s,a).unproject(i);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let f=0,p=o.length;f<p;f++)l.setXYZ(o[f],uw.x,uw.y,uw.z)}}const lw=new Sa;class Eme extends zc{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new Rn;s.setIndex(new ji(i,1)),s.setAttribute("position",new ji(r,3)),super(s,new no({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&lw.setFromObject(this.object),lw.isEmpty())return;const e=lw.min,n=lw.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wme extends zc{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Rn;s.setIndex(new ji(i,1)),s.setAttribute("position",new jt(r,3)),super(s,new no({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tme extends Ph{constructor(e,n=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Rn;a.setAttribute("position",new jt(s,3)),a.computeBoundingSphere(),super(a,new no({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Rn;l.setAttribute("position",new jt(o,3)),l.computeBoundingSphere(),this.add(new ds(l,new Wh({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const fF=new oe;let cw,DD;class Mme extends xi{constructor(e=new oe(0,0,1),n=new oe(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",cw===void 0&&(cw=new Rn,cw.setAttribute("position",new jt([0,0,0,0,1,0],3)),DD=new l1(.5,1,5,1),DD.translate(0,-.5,0)),this.position.copy(n),this.line=new Ph(cw,new no({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ds(DD,new Wh({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{fF.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(fF,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Cme extends zc{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Rn;r.setAttribute("position",new jt(n,3)),r.setAttribute("color",new jt(i,3));const s=new no({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,n,i){const r=new Vt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(n),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ame{constructor(){this.type="ShapePath",this.color=new Vt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new DM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,s,a){return this.currentPath.bezierCurveTo(e,n,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(w){const C=[];for(let A=0,R=w.length;A<R;A++){const N=w[A],O=new vm;O.curves=N.curves,C.push(O)}return C}function i(w,C){const A=C.length;let R=!1;for(let N=A-1,O=0;O<A;N=O++){let P=C[N],z=C[O],k=z.x-P.x,F=z.y-P.y;if(Math.abs(F)>Number.EPSILON){if(F<0&&(P=C[O],k=-k,z=C[N],F=-F),w.y<P.y||w.y>z.y)continue;if(w.y===P.y){if(w.x===P.x)return!0}else{const G=F*(w.x-P.x)-k*(w.y-P.y);if(G===0)return!0;if(G<0)continue;R=!R}}else{if(w.y!==P.y)continue;if(z.x<=w.x&&w.x<=P.x||P.x<=w.x&&w.x<=z.x)return!0}}return R}const r=Nl.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const f=[];if(s.length===1)return o=s[0],l=new vm,l.curves=o.curves,f.push(l),f;let p=!r(s[0].getPoints());p=e?!p:p;const g=[],y=[];let _=[],x=0,S;y[x]=void 0,_[x]=[];for(let w=0,C=s.length;w<C;w++)o=s[w],S=o.getPoints(),a=r(S),a=e?!a:a,a?(!p&&y[x]&&x++,y[x]={s:new vm,p:S},y[x].s.curves=o.curves,p&&x++,_[x]=[]):_[x].push({h:o,p:S[0]});if(!y[0])return n(s);if(y.length>1){let w=!1,C=0;for(let A=0,R=y.length;A<R;A++)g[A]=[];for(let A=0,R=y.length;A<R;A++){const N=_[A];for(let O=0;O<N.length;O++){const P=N[O];let z=!0;for(let k=0;k<y.length;k++)i(P.p,y[k].p)&&(A!==k&&C++,z?(z=!1,g[k].push(P)):w=!0);z&&g[A].push(P)}}C>0&&w===!1&&(_=g)}let E;for(let w=0,C=y.length;w<C;w++){l=y[w].s,f.push(l),E=_[w];for(let A=0,R=E.length;A<R;A++)l.holes.push(E[A].h)}return f}}class Dme extends Bc{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Ut("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Rme(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Ime(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Nme(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function OI(t,e,n,i){const r=Ome(i);switch(n){case t6:return t*e;case OC:return t*e/r.components*r.byteLength;case a1:return t*e/r.components*r.byteLength;case Om:return t*e*2/r.components*r.byteLength;case kC:return t*e*2/r.components*r.byteLength;case n6:return t*e*3/r.components*r.byteLength;case ba:return t*e*4/r.components*r.byteLength;case PC:return t*e*4/r.components*r.byteLength;case Sb:case Eb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case wb:case Tb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case XT:case ZT:return Math.max(t,16)*Math.max(e,8)/4;case $T:case YT:return Math.max(t,8)*Math.max(e,8)/2;case KT:case QT:case eM:case tM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case JT:case nM:case iM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case rM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case sM:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case aM:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case oM:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case uM:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case lM:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case cM:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case fM:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case dM:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case hM:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case pM:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case mM:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case gM:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case _M:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case yM:case vM:case bM:return Math.ceil(t/4)*Math.ceil(e/4)*16;case xM:case SM:return Math.ceil(t/4)*Math.ceil(e/4)*8;case EM:case wM:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Ome(t){switch(t){case qa:case KO:return{byteLength:1,components:1};case E_:case QO:case Nc:return{byteLength:2,components:1};case IC:case NC:return{byteLength:2,components:4};case el:case RC:case Za:return{byteLength:4,components:1};case JO:case e6:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class kme{static contain(e,n){return Rme(e,n)}static cover(e,n){return Ime(e,n)}static fill(e){return Nme(e)}static getByteLength(e,n,i,r){return OI(e,n,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:CC}}));typeof window<"u"&&(window.__THREE__?Ut("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=CC);function qH(){let t=null,e=!1,n=null,i=null;function r(s,a){n(s,a),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Pme(t){const e=new WeakMap;function n(o,l){const f=o.array,p=o.usage,g=f.byteLength,y=t.createBuffer();t.bindBuffer(l,y),t.bufferData(l,f,p),o.onUploadCallback();let _;if(f instanceof Float32Array)_=t.FLOAT;else if(typeof Float16Array<"u"&&f instanceof Float16Array)_=t.HALF_FLOAT;else if(f instanceof Uint16Array)o.isFloat16BufferAttribute?_=t.HALF_FLOAT:_=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)_=t.SHORT;else if(f instanceof Uint32Array)_=t.UNSIGNED_INT;else if(f instanceof Int32Array)_=t.INT;else if(f instanceof Int8Array)_=t.BYTE;else if(f instanceof Uint8Array)_=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)_=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:y,type:_,bytesPerElement:f.BYTES_PER_ELEMENT,version:o.version,size:g}}function i(o,l,f){const p=l.array,g=l.updateRanges;if(t.bindBuffer(f,o),g.length===0)t.bufferSubData(f,0,p);else{g.sort((_,x)=>_.start-x.start);let y=0;for(let _=1;_<g.length;_++){const x=g[y],S=g[_];S.start<=x.start+x.count+1?x.count=Math.max(x.count,S.start+S.count-x.start):(++y,g[y]=S)}g.length=y+1;for(let _=0,x=g.length;_<x;_++){const S=g[_];t.bufferSubData(f,S.start*p.BYTES_PER_ELEMENT,p,S.start,S.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const p=e.get(o);(!p||p.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const f=e.get(o);if(f===void 0)e.set(o,n(o,l));else if(f.version<o.version){if(f.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(f.buffer,o,l),f.version=o.version}}return{get:r,remove:s,update:a}}var Lme=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Fme=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Ume=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Bme=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zme=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Hme=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Vme=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Gme=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Wme=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,jme=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,qme=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,$me=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Xme=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Yme=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Zme=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Kme=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Qme=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Jme=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,e0e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,t0e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,n0e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,i0e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,r0e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,s0e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,a0e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,o0e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,u0e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,l0e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,c0e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,f0e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,d0e="gl_FragColor = linearToOutputTexel( gl_FragColor );",h0e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,p0e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,m0e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,g0e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,_0e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,y0e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,v0e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,b0e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,x0e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,S0e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,E0e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,w0e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,T0e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,M0e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,C0e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,A0e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,D0e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,R0e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,I0e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,N0e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,O0e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,k0e=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,P0e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,L0e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,F0e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,U0e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,B0e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,z0e=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,H0e=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,V0e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,G0e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,W0e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,j0e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,q0e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$0e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,X0e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Y0e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Z0e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,K0e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Q0e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,J0e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ege=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,tge=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,nge=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ige=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,rge=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,sge=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,age=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,oge=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,uge=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,lge=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,cge=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,fge=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,dge=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,hge=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,pge=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,mge=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,gge=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,_ge=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,yge=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,vge=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,bge=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,xge=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Sge=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Ege=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,wge=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Tge=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Mge=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Cge=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Age=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Dge=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Rge=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Ige=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Nge=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Oge=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,kge=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Pge=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Lge=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Fge=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Uge=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Bge=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zge=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hge=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Vge=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Gge=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Wge=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,jge=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,qge=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$ge=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Xge=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Yge=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Zge=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kge=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qge=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jge=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,e_e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,t_e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,n_e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,i_e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,r_e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,s_e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,a_e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o_e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,u_e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l_e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,c_e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,f_e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,d_e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,h_e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,p_e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Vn={alphahash_fragment:Lme,alphahash_pars_fragment:Fme,alphamap_fragment:Ume,alphamap_pars_fragment:Bme,alphatest_fragment:zme,alphatest_pars_fragment:Hme,aomap_fragment:Vme,aomap_pars_fragment:Gme,batching_pars_vertex:Wme,batching_vertex:jme,begin_vertex:qme,beginnormal_vertex:$me,bsdfs:Xme,iridescence_fragment:Yme,bumpmap_pars_fragment:Zme,clipping_planes_fragment:Kme,clipping_planes_pars_fragment:Qme,clipping_planes_pars_vertex:Jme,clipping_planes_vertex:e0e,color_fragment:t0e,color_pars_fragment:n0e,color_pars_vertex:i0e,color_vertex:r0e,common:s0e,cube_uv_reflection_fragment:a0e,defaultnormal_vertex:o0e,displacementmap_pars_vertex:u0e,displacementmap_vertex:l0e,emissivemap_fragment:c0e,emissivemap_pars_fragment:f0e,colorspace_fragment:d0e,colorspace_pars_fragment:h0e,envmap_fragment:p0e,envmap_common_pars_fragment:m0e,envmap_pars_fragment:g0e,envmap_pars_vertex:_0e,envmap_physical_pars_fragment:A0e,envmap_vertex:y0e,fog_vertex:v0e,fog_pars_vertex:b0e,fog_fragment:x0e,fog_pars_fragment:S0e,gradientmap_pars_fragment:E0e,lightmap_pars_fragment:w0e,lights_lambert_fragment:T0e,lights_lambert_pars_fragment:M0e,lights_pars_begin:C0e,lights_toon_fragment:D0e,lights_toon_pars_fragment:R0e,lights_phong_fragment:I0e,lights_phong_pars_fragment:N0e,lights_physical_fragment:O0e,lights_physical_pars_fragment:k0e,lights_fragment_begin:P0e,lights_fragment_maps:L0e,lights_fragment_end:F0e,logdepthbuf_fragment:U0e,logdepthbuf_pars_fragment:B0e,logdepthbuf_pars_vertex:z0e,logdepthbuf_vertex:H0e,map_fragment:V0e,map_pars_fragment:G0e,map_particle_fragment:W0e,map_particle_pars_fragment:j0e,metalnessmap_fragment:q0e,metalnessmap_pars_fragment:$0e,morphinstance_vertex:X0e,morphcolor_vertex:Y0e,morphnormal_vertex:Z0e,morphtarget_pars_vertex:K0e,morphtarget_vertex:Q0e,normal_fragment_begin:J0e,normal_fragment_maps:ege,normal_pars_fragment:tge,normal_pars_vertex:nge,normal_vertex:ige,normalmap_pars_fragment:rge,clearcoat_normal_fragment_begin:sge,clearcoat_normal_fragment_maps:age,clearcoat_pars_fragment:oge,iridescence_pars_fragment:uge,opaque_fragment:lge,packing:cge,premultiplied_alpha_fragment:fge,project_vertex:dge,dithering_fragment:hge,dithering_pars_fragment:pge,roughnessmap_fragment:mge,roughnessmap_pars_fragment:gge,shadowmap_pars_fragment:_ge,shadowmap_pars_vertex:yge,shadowmap_vertex:vge,shadowmask_pars_fragment:bge,skinbase_vertex:xge,skinning_pars_vertex:Sge,skinning_vertex:Ege,skinnormal_vertex:wge,specularmap_fragment:Tge,specularmap_pars_fragment:Mge,tonemapping_fragment:Cge,tonemapping_pars_fragment:Age,transmission_fragment:Dge,transmission_pars_fragment:Rge,uv_pars_fragment:Ige,uv_pars_vertex:Nge,uv_vertex:Oge,worldpos_vertex:kge,background_vert:Pge,background_frag:Lge,backgroundCube_vert:Fge,backgroundCube_frag:Uge,cube_vert:Bge,cube_frag:zge,depth_vert:Hge,depth_frag:Vge,distance_vert:Gge,distance_frag:Wge,equirect_vert:jge,equirect_frag:qge,linedashed_vert:$ge,linedashed_frag:Xge,meshbasic_vert:Yge,meshbasic_frag:Zge,meshlambert_vert:Kge,meshlambert_frag:Qge,meshmatcap_vert:Jge,meshmatcap_frag:e_e,meshnormal_vert:t_e,meshnormal_frag:n_e,meshphong_vert:i_e,meshphong_frag:r_e,meshphysical_vert:s_e,meshphysical_frag:a_e,meshtoon_vert:o_e,meshtoon_frag:u_e,points_vert:l_e,points_frag:c_e,shadow_vert:f_e,shadow_frag:d_e,sprite_vert:h_e,sprite_frag:p_e},Bt={common:{diffuse:{value:new Vt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new On},alphaMap:{value:null},alphaMapTransform:{value:new On},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new On}},envmap:{envMap:{value:null},envMapRotation:{value:new On},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new On}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new On}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new On},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new On},normalScale:{value:new ft(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new On},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new On}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new On}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new On}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Vt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Vt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new On},alphaTest:{value:0},uvTransform:{value:new On}},sprite:{diffuse:{value:new Vt(16777215)},opacity:{value:1},center:{value:new ft(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new On},alphaMap:{value:null},alphaMapTransform:{value:new On},alphaTest:{value:0}}},Rl={basic:{uniforms:Ha([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.fog]),vertexShader:Vn.meshbasic_vert,fragmentShader:Vn.meshbasic_frag},lambert:{uniforms:Ha([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,Bt.lights,{emissive:{value:new Vt(0)}}]),vertexShader:Vn.meshlambert_vert,fragmentShader:Vn.meshlambert_frag},phong:{uniforms:Ha([Bt.common,Bt.specularmap,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,Bt.lights,{emissive:{value:new Vt(0)},specular:{value:new Vt(1118481)},shininess:{value:30}}]),vertexShader:Vn.meshphong_vert,fragmentShader:Vn.meshphong_frag},standard:{uniforms:Ha([Bt.common,Bt.envmap,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.roughnessmap,Bt.metalnessmap,Bt.fog,Bt.lights,{emissive:{value:new Vt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Vn.meshphysical_vert,fragmentShader:Vn.meshphysical_frag},toon:{uniforms:Ha([Bt.common,Bt.aomap,Bt.lightmap,Bt.emissivemap,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.gradientmap,Bt.fog,Bt.lights,{emissive:{value:new Vt(0)}}]),vertexShader:Vn.meshtoon_vert,fragmentShader:Vn.meshtoon_frag},matcap:{uniforms:Ha([Bt.common,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,Bt.fog,{matcap:{value:null}}]),vertexShader:Vn.meshmatcap_vert,fragmentShader:Vn.meshmatcap_frag},points:{uniforms:Ha([Bt.points,Bt.fog]),vertexShader:Vn.points_vert,fragmentShader:Vn.points_frag},dashed:{uniforms:Ha([Bt.common,Bt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Vn.linedashed_vert,fragmentShader:Vn.linedashed_frag},depth:{uniforms:Ha([Bt.common,Bt.displacementmap]),vertexShader:Vn.depth_vert,fragmentShader:Vn.depth_frag},normal:{uniforms:Ha([Bt.common,Bt.bumpmap,Bt.normalmap,Bt.displacementmap,{opacity:{value:1}}]),vertexShader:Vn.meshnormal_vert,fragmentShader:Vn.meshnormal_frag},sprite:{uniforms:Ha([Bt.sprite,Bt.fog]),vertexShader:Vn.sprite_vert,fragmentShader:Vn.sprite_frag},background:{uniforms:{uvTransform:{value:new On},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Vn.background_vert,fragmentShader:Vn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new On}},vertexShader:Vn.backgroundCube_vert,fragmentShader:Vn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Vn.cube_vert,fragmentShader:Vn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Vn.equirect_vert,fragmentShader:Vn.equirect_frag},distance:{uniforms:Ha([Bt.common,Bt.displacementmap,{referencePosition:{value:new oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Vn.distance_vert,fragmentShader:Vn.distance_frag},shadow:{uniforms:Ha([Bt.lights,Bt.fog,{color:{value:new Vt(0)},opacity:{value:1}}]),vertexShader:Vn.shadow_vert,fragmentShader:Vn.shadow_frag}};Rl.physical={uniforms:Ha([Rl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new On},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new On},clearcoatNormalScale:{value:new ft(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new On},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new On},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new On},sheen:{value:0},sheenColor:{value:new Vt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new On},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new On},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new On},transmissionSamplerSize:{value:new ft},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new On},attenuationDistance:{value:0},attenuationColor:{value:new Vt(0)},specularColor:{value:new Vt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new On},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new On},anisotropyVector:{value:new ft},anisotropyMap:{value:null},anisotropyMapTransform:{value:new On}}]),vertexShader:Vn.meshphysical_vert,fragmentShader:Vn.meshphysical_frag};const fw={r:0,b:0,g:0},$p=new du,m_e=new _n;function g_e(t,e,n,i,r,s,a){const o=new Vt(0);let l=s===!0?0:1,f,p,g=null,y=0,_=null;function x(A){let R=A.isScene===!0?A.background:null;return R&&R.isTexture&&(R=(A.backgroundBlurriness>0?n:e).get(R)),R}function S(A){let R=!1;const N=x(A);N===null?w(o,l):N&&N.isColor&&(w(N,1),R=!0);const O=t.xr.getEnvironmentBlendMode();O==="additive"?i.buffers.color.setClear(0,0,0,1,a):O==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(t.autoClear||R)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function E(A,R){const N=x(R);N&&(N.isCubeTexture||N.mapping===ty)?(p===void 0&&(p=new ds(new Zm(1,1,1),new tl({name:"BackgroundCubeMaterial",uniforms:D_(Rl.backgroundCube.uniforms),vertexShader:Rl.backgroundCube.vertexShader,fragmentShader:Rl.backgroundCube.fragmentShader,side:Ka,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(O,P,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(p)),$p.copy(R.backgroundRotation),$p.x*=-1,$p.y*=-1,$p.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&($p.y*=-1,$p.z*=-1),p.material.uniforms.envMap.value=N,p.material.uniforms.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(m_e.makeRotationFromEuler($p)),p.material.toneMapped=fi.getTransfer(N.colorSpace)!==Li,(g!==N||y!==N.version||_!==t.toneMapping)&&(p.material.needsUpdate=!0,g=N,y=N.version,_=t.toneMapping),p.layers.enableAll(),A.unshift(p,p.geometry,p.material,0,0,null)):N&&N.isTexture&&(f===void 0&&(f=new ds(new ry(2,2),new tl({name:"BackgroundMaterial",uniforms:D_(Rl.background.uniforms),vertexShader:Rl.background.vertexShader,fragmentShader:Rl.background.fragmentShader,side:qf,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=N,f.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,f.material.toneMapped=fi.getTransfer(N.colorSpace)!==Li,N.matrixAutoUpdate===!0&&N.updateMatrix(),f.material.uniforms.uvTransform.value.copy(N.matrix),(g!==N||y!==N.version||_!==t.toneMapping)&&(f.material.needsUpdate=!0,g=N,y=N.version,_=t.toneMapping),f.layers.enableAll(),A.unshift(f,f.geometry,f.material,0,0,null))}function w(A,R){A.getRGB(fw,X7(t)),i.buffers.color.setClear(fw.r,fw.g,fw.b,R,a)}function C(){p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return o},setClearColor:function(A,R=1){o.set(A),l=R,w(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,w(o,l)},render:S,addToRenderList:E,dispose:C}}function __e(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=y(null);let s=r,a=!1;function o(F,G,$,ee,ne){let re=!1;const W=g(ee,$,G);s!==W&&(s=W,f(s.object)),re=_(F,ee,$,ne),re&&x(F,ee,$,ne),ne!==null&&e.update(ne,t.ELEMENT_ARRAY_BUFFER),(re||a)&&(a=!1,R(F,G,$,ee),ne!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(ne).buffer))}function l(){return t.createVertexArray()}function f(F){return t.bindVertexArray(F)}function p(F){return t.deleteVertexArray(F)}function g(F,G,$){const ee=$.wireframe===!0;let ne=i[F.id];ne===void 0&&(ne={},i[F.id]=ne);let re=ne[G.id];re===void 0&&(re={},ne[G.id]=re);let W=re[ee];return W===void 0&&(W=y(l()),re[ee]=W),W}function y(F){const G=[],$=[],ee=[];for(let ne=0;ne<n;ne++)G[ne]=0,$[ne]=0,ee[ne]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:$,attributeDivisors:ee,object:F,attributes:{},index:null}}function _(F,G,$,ee){const ne=s.attributes,re=G.attributes;let W=0;const q=$.getAttributes();for(const te in q)if(q[te].location>=0){const Z=ne[te];let j=re[te];if(j===void 0&&(te==="instanceMatrix"&&F.instanceMatrix&&(j=F.instanceMatrix),te==="instanceColor"&&F.instanceColor&&(j=F.instanceColor)),Z===void 0||Z.attribute!==j||j&&Z.data!==j.data)return!0;W++}return s.attributesNum!==W||s.index!==ee}function x(F,G,$,ee){const ne={},re=G.attributes;let W=0;const q=$.getAttributes();for(const te in q)if(q[te].location>=0){let Z=re[te];Z===void 0&&(te==="instanceMatrix"&&F.instanceMatrix&&(Z=F.instanceMatrix),te==="instanceColor"&&F.instanceColor&&(Z=F.instanceColor));const j={};j.attribute=Z,Z&&Z.data&&(j.data=Z.data),ne[te]=j,W++}s.attributes=ne,s.attributesNum=W,s.index=ee}function S(){const F=s.newAttributes;for(let G=0,$=F.length;G<$;G++)F[G]=0}function E(F){w(F,0)}function w(F,G){const $=s.newAttributes,ee=s.enabledAttributes,ne=s.attributeDivisors;$[F]=1,ee[F]===0&&(t.enableVertexAttribArray(F),ee[F]=1),ne[F]!==G&&(t.vertexAttribDivisor(F,G),ne[F]=G)}function C(){const F=s.newAttributes,G=s.enabledAttributes;for(let $=0,ee=G.length;$<ee;$++)G[$]!==F[$]&&(t.disableVertexAttribArray($),G[$]=0)}function A(F,G,$,ee,ne,re,W){W===!0?t.vertexAttribIPointer(F,G,$,ne,re):t.vertexAttribPointer(F,G,$,ee,ne,re)}function R(F,G,$,ee){S();const ne=ee.attributes,re=$.getAttributes(),W=G.defaultAttributeValues;for(const q in re){const te=re[q];if(te.location>=0){let se=ne[q];if(se===void 0&&(q==="instanceMatrix"&&F.instanceMatrix&&(se=F.instanceMatrix),q==="instanceColor"&&F.instanceColor&&(se=F.instanceColor)),se!==void 0){const Z=se.normalized,j=se.itemSize,ue=e.get(se);if(ue===void 0)continue;const ge=ue.buffer,Se=ue.type,Fe=ue.bytesPerElement,ve=Se===t.INT||Se===t.UNSIGNED_INT||se.gpuType===RC;if(se.isInterleavedBufferAttribute){const fe=se.data,He=fe.stride,Xe=se.offset;if(fe.isInstancedInterleavedBuffer){for(let Ye=0;Ye<te.locationSize;Ye++)w(te.location+Ye,fe.meshPerAttribute);F.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let Ye=0;Ye<te.locationSize;Ye++)E(te.location+Ye);t.bindBuffer(t.ARRAY_BUFFER,ge);for(let Ye=0;Ye<te.locationSize;Ye++)A(te.location+Ye,j/te.locationSize,Se,Z,He*Fe,(Xe+j/te.locationSize*Ye)*Fe,ve)}else{if(se.isInstancedBufferAttribute){for(let fe=0;fe<te.locationSize;fe++)w(te.location+fe,se.meshPerAttribute);F.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let fe=0;fe<te.locationSize;fe++)E(te.location+fe);t.bindBuffer(t.ARRAY_BUFFER,ge);for(let fe=0;fe<te.locationSize;fe++)A(te.location+fe,j/te.locationSize,Se,Z,j*Fe,j/te.locationSize*fe*Fe,ve)}}else if(W!==void 0){const Z=W[q];if(Z!==void 0)switch(Z.length){case 2:t.vertexAttrib2fv(te.location,Z);break;case 3:t.vertexAttrib3fv(te.location,Z);break;case 4:t.vertexAttrib4fv(te.location,Z);break;default:t.vertexAttrib1fv(te.location,Z)}}}}C()}function N(){z();for(const F in i){const G=i[F];for(const $ in G){const ee=G[$];for(const ne in ee)p(ee[ne].object),delete ee[ne];delete G[$]}delete i[F]}}function O(F){if(i[F.id]===void 0)return;const G=i[F.id];for(const $ in G){const ee=G[$];for(const ne in ee)p(ee[ne].object),delete ee[ne];delete G[$]}delete i[F.id]}function P(F){for(const G in i){const $=i[G];if($[F.id]===void 0)continue;const ee=$[F.id];for(const ne in ee)p(ee[ne].object),delete ee[ne];delete $[F.id]}}function z(){k(),a=!0,s!==r&&(s=r,f(s.object))}function k(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:z,resetDefaultState:k,dispose:N,releaseStatesOfGeometry:O,releaseStatesOfProgram:P,initAttributes:S,enableAttribute:E,disableUnusedAttributes:C}}function y_e(t,e,n){let i;function r(f){i=f}function s(f,p){t.drawArrays(i,f,p),n.update(p,i,1)}function a(f,p,g){g!==0&&(t.drawArraysInstanced(i,f,p,g),n.update(p,i,g))}function o(f,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,f,0,p,0,g);let _=0;for(let x=0;x<g;x++)_+=p[x];n.update(_,i,1)}function l(f,p,g,y){if(g===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let x=0;x<f.length;x++)a(f[x],p[x],y[x]);else{_.multiDrawArraysInstancedWEBGL(i,f,0,p,0,y,0,g);let x=0;for(let S=0;S<g;S++)x+=p[S]*y[S];n.update(x,i,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function v_e(t,e,n,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(P){return!(P!==ba&&i.convert(P)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(P){const z=P===Nc&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==qa&&i.convert(P)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==Za&&!z)}function l(P){if(P==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=n.precision!==void 0?n.precision:"highp";const p=l(f);p!==f&&(Ut("WebGLRenderer:",f,"not supported, using",p,"instead."),f=p);const g=n.logarithmicDepthBuffer===!0,y=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),_=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_TEXTURE_SIZE),E=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),w=t.getParameter(t.MAX_VERTEX_ATTRIBS),C=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),A=t.getParameter(t.MAX_VARYING_VECTORS),R=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),N=t.getParameter(t.MAX_SAMPLES),O=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:f,logarithmicDepthBuffer:g,reversedDepthBuffer:y,maxTextures:_,maxVertexTextures:x,maxTextureSize:S,maxCubemapSize:E,maxAttributes:w,maxVertexUniforms:C,maxVaryings:A,maxFragmentUniforms:R,maxSamples:N,samples:O}}function b_e(t){const e=this;let n=null,i=0,r=!1,s=!1;const a=new eh,o=new On,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const _=g.length!==0||y||i!==0||r;return r=y,i=g.length,_},this.beginShadows=function(){s=!0,p(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(g,y){n=p(g,y,0)},this.setState=function(g,y,_){const x=g.clippingPlanes,S=g.clipIntersection,E=g.clipShadows,w=t.get(g);if(!r||x===null||x.length===0||s&&!E)s?p(null):f();else{const C=s?0:i,A=C*4;let R=w.clippingState||null;l.value=R,R=p(x,y,A,_);for(let N=0;N!==A;++N)R[N]=n[N];w.clippingState=R,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=C}};function f(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(g,y,_,x){const S=g!==null?g.length:0;let E=null;if(S!==0){if(E=l.value,x!==!0||E===null){const w=_+S*4,C=y.matrixWorldInverse;o.getNormalMatrix(C),(E===null||E.length<w)&&(E=new Float32Array(w));for(let A=0,R=_;A!==S;++A,R+=4)a.copy(g[A]).applyMatrix4(C,o),a.normal.toArray(E,R),E[R+3]=a.constant}l.value=E,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,E}}function x_e(t){let e=new WeakMap;function n(a,o){return o===ox?a.mapping=Ic:o===ux&&(a.mapping=Nh),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===ox||o===ux)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const f=new u6(l.height);return f.fromEquirectangularTexture(t,a),e.set(a,f),a.addEventListener("dispose",r),n(f.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const lh=4,dF=[.125,.215,.35,.446,.526,.582],im=20,S_e=256,Kv=new sy,hF=new Vt;let RD=null,ID=0,ND=0,OD=!1;const E_e=new oe;class kI{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,i=.1,r=100,s={}){const{size:a=256,position:o=E_e}=s;RD=this._renderer.getRenderTarget(),ID=this._renderer.getActiveCubeFace(),ND=this._renderer.getActiveMipmapLevel(),OD=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,o),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=gF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=mF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(RD,ID,ND),this._renderer.xr.enabled=OD,e.scissorTest=!1,Tg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ic||e.mapping===Nh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),RD=this._renderer.getRenderTarget(),ID=this._renderer.getActiveCubeFace(),ND=this._renderer.getActiveMipmapLevel(),OD=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:gr,minFilter:gr,generateMipmaps:!1,type:Nc,format:ba,colorSpace:Oh,depthBuffer:!1},r=pF(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=pF(e,n,i);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=w_e(s)),this._blurMaterial=M_e(s,e,n),this._ggxMaterial=T_e(s,e,n)}return r}_compileMaterial(e){const n=new ds(new Rn,e);this._renderer.compile(n,Kv)}_sceneToCubeUV(e,n,i,r,s){const l=new Os(90,1,n,i),f=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,_=g.toneMapping;g.getClearColor(hF),g.toneMapping=Xu,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(r),g.clearDepth(),g.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new ds(new Zm,new Wh({name:"PMREM.Background",side:Ka,depthWrite:!1,depthTest:!1})));const S=this._backgroundBox,E=S.material;let w=!1;const C=e.background;C?C.isColor&&(E.color.copy(C),e.background=null,w=!0):(E.color.copy(hF),w=!0);for(let A=0;A<6;A++){const R=A%3;R===0?(l.up.set(0,f[A],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+p[A],s.y,s.z)):R===1?(l.up.set(0,0,f[A]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+p[A],s.z)):(l.up.set(0,f[A],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+p[A]));const N=this._cubeSize;Tg(r,R*N,A>2?N:0,N,N),g.setRenderTarget(r),w&&g.render(S,l),g.render(e,l)}g.toneMapping=_,g.autoClear=y,e.background=C}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Ic||e.mapping===Nh;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=gF()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=mF());const s=r?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=s;const o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;Tg(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(a,Kv)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodMeshes.length;for(let s=1;s<r;s++)this._applyGGXFilter(e,s-1,s);n.autoClear=i}_applyGGXFilter(e,n,i){const r=this._renderer,s=this._pingPongRenderTarget,a=this._ggxMaterial,o=this._lodMeshes[i];o.material=a;const l=a.uniforms,f=i/(this._lodMeshes.length-1),p=n/(this._lodMeshes.length-1),g=Math.sqrt(f*f-p*p),y=0+f*1.25,_=g*y,{_lodMax:x}=this,S=this._sizeLods[i],E=3*S*(i>x-lh?i-x+lh:0),w=4*(this._cubeSize-S);l.envMap.value=e.texture,l.roughness.value=_,l.mipInt.value=x-n,Tg(s,E,w,3*S,2*S),r.setRenderTarget(s),r.render(o,Kv),l.envMap.value=s.texture,l.roughness.value=0,l.mipInt.value=x-i,Tg(e,E,w,3*S,2*S),r.setRenderTarget(e),r.render(o,Kv)}_blur(e,n,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,a,o){const l=this._renderer,f=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&en("blur direction must be either latitudinal or longitudinal!");const p=3,g=this._lodMeshes[r];g.material=f;const y=f.uniforms,_=this._sizeLods[i]-1,x=isFinite(s)?Math.PI/(2*_):2*Math.PI/(2*im-1),S=s/x,E=isFinite(s)?1+Math.floor(p*S):im;E>im&&Ut(`sigmaRadians, ${s}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${im}`);const w=[];let C=0;for(let P=0;P<im;++P){const z=P/S,k=Math.exp(-z*z/2);w.push(k),P===0?C+=k:P<E&&(C+=2*k)}for(let P=0;P<w.length;P++)w[P]=w[P]/C;y.envMap.value=e.texture,y.samples.value=E,y.weights.value=w,y.latitudinal.value=a==="latitudinal",o&&(y.poleAxis.value=o);const{_lodMax:A}=this;y.dTheta.value=x,y.mipInt.value=A-i;const R=this._sizeLods[r],N=3*R*(r>A-lh?r-A+lh:0),O=4*(this._cubeSize-R);Tg(n,N,O,3*R,2*R),l.setRenderTarget(n),l.render(g,Kv)}}function w_e(t){const e=[],n=[],i=[];let r=t;const s=t-lh+1+dF.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);e.push(o);let l=1/o;a>t-lh?l=dF[a-t+lh-1]:a===0&&(l=0),n.push(l);const f=1/(o-2),p=-f,g=1+f,y=[p,p,g,p,g,g,p,p,g,g,p,g],_=6,x=6,S=3,E=2,w=1,C=new Float32Array(S*x*_),A=new Float32Array(E*x*_),R=new Float32Array(w*x*_);for(let O=0;O<_;O++){const P=O%3*2/3-1,z=O>2?0:-1,k=[P,z,0,P+2/3,z,0,P+2/3,z+1,0,P,z,0,P+2/3,z+1,0,P,z+1,0];C.set(k,S*x*O),A.set(y,E*x*O);const F=[O,O,O,O,O,O];R.set(F,w*x*O)}const N=new Rn;N.setAttribute("position",new ji(C,S)),N.setAttribute("uv",new ji(A,E)),N.setAttribute("faceIndex",new ji(R,w)),i.push(new ds(N,null)),r>lh&&r--}return{lodMeshes:i,sizeLods:e,sigmas:n}}function pF(t,e,n){const i=new uu(t,e,n);return i.texture.mapping=ty,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Tg(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function T_e(t,e,n){return new tl({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:S_e,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:uA(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Ac,depthTest:!1,depthWrite:!1})}function M_e(t,e,n){const i=new Float32Array(im),r=new oe(0,1,0);return new tl({name:"SphericalGaussianBlur",defines:{n:im,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:uA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ac,depthTest:!1,depthWrite:!1})}function mF(){return new tl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:uA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ac,depthTest:!1,depthWrite:!1})}function gF(){return new tl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:uA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ac,depthTest:!1,depthWrite:!1})}function uA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function C_e(t){let e=new WeakMap,n=null;function i(o){if(o&&o.isTexture){const l=o.mapping,f=l===ox||l===ux,p=l===Ic||l===Nh;if(f||p){let g=e.get(o);const y=g!==void 0?g.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==y)return n===null&&(n=new kI(t)),g=f?n.fromEquirectangular(o,g):n.fromCubemap(o,g),g.texture.pmremVersion=o.pmremVersion,e.set(o,g),g.texture;if(g!==void 0)return g.texture;{const _=o.image;return f&&_&&_.height>0||p&&_&&r(_)?(n===null&&(n=new kI(t)),g=f?n.fromEquirectangular(o):n.fromCubemap(o),g.texture.pmremVersion=o.pmremVersion,e.set(o,g),o.addEventListener("dispose",s),g.texture):null}}}return o}function r(o){let l=0;const f=6;for(let p=0;p<f;p++)o[p]!==void 0&&l++;return l===f}function s(o){const l=o.target;l.removeEventListener("dispose",s);const f=e.get(l);f!==void 0&&(e.delete(l),f.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:a}}function A_e(t){const e={};function n(i){if(e[i]!==void 0)return e[i];const r=t.getExtension(i);return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&M_("WebGLRenderer: "+i+" extension not supported."),r}}}function D_e(t,e,n,i){const r={},s=new WeakMap;function a(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const x in y.attributes)e.remove(y.attributes[x]);y.removeEventListener("dispose",a),delete r[y.id];const _=s.get(y);_&&(e.remove(_),s.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,n.memory.geometries--}function o(g,y){return r[y.id]===!0||(y.addEventListener("dispose",a),r[y.id]=!0,n.memory.geometries++),y}function l(g){const y=g.attributes;for(const _ in y)e.update(y[_],t.ARRAY_BUFFER)}function f(g){const y=[],_=g.index,x=g.attributes.position;let S=0;if(_!==null){const C=_.array;S=_.version;for(let A=0,R=C.length;A<R;A+=3){const N=C[A+0],O=C[A+1],P=C[A+2];y.push(N,O,O,P,P,N)}}else if(x!==void 0){const C=x.array;S=x.version;for(let A=0,R=C.length/3-1;A<R;A+=3){const N=A+0,O=A+1,P=A+2;y.push(N,O,O,P,P,N)}}else return;const E=new(G7(y)?o6:a6)(y,1);E.version=S;const w=s.get(g);w&&e.remove(w),s.set(g,E)}function p(g){const y=s.get(g);if(y){const _=g.index;_!==null&&y.version<_.version&&f(g)}else f(g);return s.get(g)}return{get:o,update:l,getWireframeAttribute:p}}function R_e(t,e,n){let i;function r(y){i=y}let s,a;function o(y){s=y.type,a=y.bytesPerElement}function l(y,_){t.drawElements(i,_,s,y*a),n.update(_,i,1)}function f(y,_,x){x!==0&&(t.drawElementsInstanced(i,_,s,y*a,x),n.update(_,i,x))}function p(y,_,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,_,0,s,y,0,x);let E=0;for(let w=0;w<x;w++)E+=_[w];n.update(E,i,1)}function g(y,_,x,S){if(x===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let w=0;w<y.length;w++)f(y[w]/a,_[w],S[w]);else{E.multiDrawElementsInstancedWEBGL(i,_,0,s,y,0,S,0,x);let w=0;for(let C=0;C<x;C++)w+=_[C]*S[C];n.update(w,i,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=f,this.renderMultiDraw=p,this.renderMultiDrawInstances=g}function I_e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:en("WebGLInfo: Unknown draw mode:",a);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function N_e(t,e,n){const i=new WeakMap,r=new Zi;function s(a,o,l){const f=a.morphTargetInfluences,p=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,g=p!==void 0?p.length:0;let y=i.get(o);if(y===void 0||y.count!==g){let F=function(){z.dispose(),i.delete(o),o.removeEventListener("dispose",F)};var _=F;y!==void 0&&y.texture.dispose();const x=o.morphAttributes.position!==void 0,S=o.morphAttributes.normal!==void 0,E=o.morphAttributes.color!==void 0,w=o.morphAttributes.position||[],C=o.morphAttributes.normal||[],A=o.morphAttributes.color||[];let R=0;x===!0&&(R=1),S===!0&&(R=2),E===!0&&(R=3);let N=o.attributes.position.count*R,O=1;N>e.maxTextureSize&&(O=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const P=new Float32Array(N*O*4*g),z=new BC(P,N,O,g);z.type=Za,z.needsUpdate=!0;const k=R*4;for(let G=0;G<g;G++){const $=w[G],ee=C[G],ne=A[G],re=N*O*4*G;for(let W=0;W<$.count;W++){const q=W*k;x===!0&&(r.fromBufferAttribute($,W),P[re+q+0]=r.x,P[re+q+1]=r.y,P[re+q+2]=r.z,P[re+q+3]=0),S===!0&&(r.fromBufferAttribute(ee,W),P[re+q+4]=r.x,P[re+q+5]=r.y,P[re+q+6]=r.z,P[re+q+7]=0),E===!0&&(r.fromBufferAttribute(ne,W),P[re+q+8]=r.x,P[re+q+9]=r.y,P[re+q+10]=r.z,P[re+q+11]=ne.itemSize===4?r.w:1)}}y={count:g,texture:z,size:new ft(N,O)},i.set(o,y),o.addEventListener("dispose",F)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let x=0;for(let E=0;E<f.length;E++)x+=f[E];const S=o.morphTargetsRelative?1:1-x;l.getUniforms().setValue(t,"morphTargetBaseInfluence",S),l.getUniforms().setValue(t,"morphTargetInfluences",f)}l.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}return{update:s}}function O_e(t,e,n,i){let r=new WeakMap;function s(l){const f=i.render.frame,p=l.geometry,g=e.get(l,p);if(r.get(g)!==f&&(e.update(g),r.set(g,f)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==f&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,f))),l.isSkinnedMesh){const y=l.skeleton;r.get(y)!==f&&(y.update(),r.set(y,f))}return g}function a(){r=new WeakMap}function o(l){const f=l.target;f.removeEventListener("dispose",o),n.remove(f.instanceMatrix),f.instanceColor!==null&&n.remove(f.instanceColor)}return{update:s,dispose:a}}const k_e={[WO]:"LINEAR_TONE_MAPPING",[jO]:"REINHARD_TONE_MAPPING",[qO]:"CINEON_TONE_MAPPING",[AC]:"ACES_FILMIC_TONE_MAPPING",[XO]:"AGX_TONE_MAPPING",[YO]:"NEUTRAL_TONE_MAPPING",[$O]:"CUSTOM_TONE_MAPPING"};function P_e(t,e,n,i,r){const s=new uu(e,n,{type:t,depthBuffer:i,stencilBuffer:r}),a=new uu(e,n,{type:Nc,depthBuffer:!1,stencilBuffer:!1}),o=new Rn;o.setAttribute("position",new jt([-1,3,0,-1,-1,0,3,-1,0],3)),o.setAttribute("uv",new jt([0,2,0,0,2,0],2));const l=new b6({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),f=new ds(o,l),p=new sy(-1,1,1,-1,0,1);let g=null,y=null,_=!1,x,S=null,E=[],w=!1;this.setSize=function(C,A){s.setSize(C,A),a.setSize(C,A);for(let R=0;R<E.length;R++){const N=E[R];N.setSize&&N.setSize(C,A)}},this.setEffects=function(C){E=C,w=E.length>0&&E[0].isRenderPass===!0;const A=s.width,R=s.height;for(let N=0;N<E.length;N++){const O=E[N];O.setSize&&O.setSize(A,R)}},this.begin=function(C,A){if(_||C.toneMapping===Xu&&E.length===0)return!1;if(S=A,A!==null){const R=A.width,N=A.height;(s.width!==R||s.height!==N)&&this.setSize(R,N)}return w===!1&&C.setRenderTarget(s),x=C.toneMapping,C.toneMapping=Xu,!0},this.hasRenderPass=function(){return w},this.end=function(C,A){C.toneMapping=x,_=!0;let R=s,N=a;for(let O=0;O<E.length;O++){const P=E[O];if(P.enabled!==!1&&(P.render(C,N,R,A),P.needsSwap!==!1)){const z=R;R=N,N=z}}if(g!==C.outputColorSpace||y!==C.toneMapping){g=C.outputColorSpace,y=C.toneMapping,l.defines={},fi.getTransfer(g)===Li&&(l.defines.SRGB_TRANSFER="");const O=k_e[y];O&&(l.defines[O]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=R.texture,C.setRenderTarget(S),C.render(f,p),S=null,_=!1},this.isCompositing=function(){return _},this.dispose=function(){s.dispose(),a.dispose(),o.dispose(),l.dispose()}}const $H=new Gr,PI=new I_(1,1),XH=new BC,YH=new zC,ZH=new o1,_F=[],yF=[],vF=new Float32Array(16),bF=new Float32Array(9),xF=new Float32Array(4);function ay(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=_F[r];if(s===void 0&&(s=new Float32Array(r),_F[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function Ss(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Es(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function lA(t,e){let n=yF[e];n===void 0&&(n=new Int32Array(e),yF[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function L_e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function F_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ss(n,e))return;t.uniform2fv(this.addr,e),Es(n,e)}}function U_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ss(n,e))return;t.uniform3fv(this.addr,e),Es(n,e)}}function B_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ss(n,e))return;t.uniform4fv(this.addr,e),Es(n,e)}}function z_e(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ss(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Es(n,e)}else{if(Ss(n,i))return;xF.set(i),t.uniformMatrix2fv(this.addr,!1,xF),Es(n,i)}}function H_e(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ss(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Es(n,e)}else{if(Ss(n,i))return;bF.set(i),t.uniformMatrix3fv(this.addr,!1,bF),Es(n,i)}}function V_e(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ss(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Es(n,e)}else{if(Ss(n,i))return;vF.set(i),t.uniformMatrix4fv(this.addr,!1,vF),Es(n,i)}}function G_e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function W_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ss(n,e))return;t.uniform2iv(this.addr,e),Es(n,e)}}function j_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ss(n,e))return;t.uniform3iv(this.addr,e),Es(n,e)}}function q_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ss(n,e))return;t.uniform4iv(this.addr,e),Es(n,e)}}function $_e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function X_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ss(n,e))return;t.uniform2uiv(this.addr,e),Es(n,e)}}function Y_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ss(n,e))return;t.uniform3uiv(this.addr,e),Es(n,e)}}function Z_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ss(n,e))return;t.uniform4uiv(this.addr,e),Es(n,e)}}function K_e(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let s;this.type===t.SAMPLER_2D_SHADOW?(PI.compareFunction=n.isReversedDepthBuffer()?UC:FC,s=PI):s=$H,n.setTexture2D(e||s,r)}function Q_e(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||YH,r)}function J_e(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||ZH,r)}function eye(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||XH,r)}function tye(t){switch(t){case 5126:return L_e;case 35664:return F_e;case 35665:return U_e;case 35666:return B_e;case 35674:return z_e;case 35675:return H_e;case 35676:return V_e;case 5124:case 35670:return G_e;case 35667:case 35671:return W_e;case 35668:case 35672:return j_e;case 35669:case 35673:return q_e;case 5125:return $_e;case 36294:return X_e;case 36295:return Y_e;case 36296:return Z_e;case 35678:case 36198:case 36298:case 36306:case 35682:return K_e;case 35679:case 36299:case 36307:return Q_e;case 35680:case 36300:case 36308:case 36293:return J_e;case 36289:case 36303:case 36311:case 36292:return eye}}function nye(t,e){t.uniform1fv(this.addr,e)}function iye(t,e){const n=ay(e,this.size,2);t.uniform2fv(this.addr,n)}function rye(t,e){const n=ay(e,this.size,3);t.uniform3fv(this.addr,n)}function sye(t,e){const n=ay(e,this.size,4);t.uniform4fv(this.addr,n)}function aye(t,e){const n=ay(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function oye(t,e){const n=ay(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function uye(t,e){const n=ay(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function lye(t,e){t.uniform1iv(this.addr,e)}function cye(t,e){t.uniform2iv(this.addr,e)}function fye(t,e){t.uniform3iv(this.addr,e)}function dye(t,e){t.uniform4iv(this.addr,e)}function hye(t,e){t.uniform1uiv(this.addr,e)}function pye(t,e){t.uniform2uiv(this.addr,e)}function mye(t,e){t.uniform3uiv(this.addr,e)}function gye(t,e){t.uniform4uiv(this.addr,e)}function _ye(t,e,n){const i=this.cache,r=e.length,s=lA(n,r);Ss(i,s)||(t.uniform1iv(this.addr,s),Es(i,s));let a;this.type===t.SAMPLER_2D_SHADOW?a=PI:a=$H;for(let o=0;o!==r;++o)n.setTexture2D(e[o]||a,s[o])}function yye(t,e,n){const i=this.cache,r=e.length,s=lA(n,r);Ss(i,s)||(t.uniform1iv(this.addr,s),Es(i,s));for(let a=0;a!==r;++a)n.setTexture3D(e[a]||YH,s[a])}function vye(t,e,n){const i=this.cache,r=e.length,s=lA(n,r);Ss(i,s)||(t.uniform1iv(this.addr,s),Es(i,s));for(let a=0;a!==r;++a)n.setTextureCube(e[a]||ZH,s[a])}function bye(t,e,n){const i=this.cache,r=e.length,s=lA(n,r);Ss(i,s)||(t.uniform1iv(this.addr,s),Es(i,s));for(let a=0;a!==r;++a)n.setTexture2DArray(e[a]||XH,s[a])}function xye(t){switch(t){case 5126:return nye;case 35664:return iye;case 35665:return rye;case 35666:return sye;case 35674:return aye;case 35675:return oye;case 35676:return uye;case 5124:case 35670:return lye;case 35667:case 35671:return cye;case 35668:case 35672:return fye;case 35669:case 35673:return dye;case 5125:return hye;case 36294:return pye;case 36295:return mye;case 36296:return gye;case 35678:case 36198:case 36298:case 36306:case 35682:return _ye;case 35679:case 36299:case 36307:return yye;case 35680:case 36300:case 36308:case 36293:return vye;case 36289:case 36303:case 36311:case 36292:return bye}}class Sye{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=tye(n.type)}}class Eye{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=xye(n.type)}}class wye{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,n[o.id],i)}}}const kD=/(\w+)(\])?(\[|\.)?/g;function SF(t,e){t.seq.push(e),t.map[e.id]=e}function Tye(t,e,n){const i=t.name,r=i.length;for(kD.lastIndex=0;;){const s=kD.exec(i),a=kD.lastIndex;let o=s[1];const l=s[2]==="]",f=s[3];if(l&&(o=o|0),f===void 0||f==="["&&a+2===r){SF(n,f===void 0?new Sye(o,t,e):new Eye(o,t,e));break}else{let g=n.map[o];g===void 0&&(g=new wye(o),SF(n,g)),n=g}}}class Xw{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let a=0;a<i;++a){const o=e.getActiveUniform(n,a),l=e.getUniformLocation(n,o.name);Tye(o,l,this)}const r=[],s=[];for(const a of this.seq)a.type===e.SAMPLER_2D_SHADOW||a.type===e.SAMPLER_CUBE_SHADOW||a.type===e.SAMPLER_2D_ARRAY_SHADOW?r.push(a):s.push(a);r.length>0&&(this.seq=r.concat(s))}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,a=n.length;s!==a;++s){const o=n[s],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in n&&i.push(a)}return i}}function EF(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const Mye=37297;let Cye=0;function Aye(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return i.join(`
`)}const wF=new On;function Dye(t){fi._getMatrix(wF,fi.workingColorSpace,t);const e=`mat3( ${wF.elements.map(n=>n.toFixed(4))} )`;switch(fi.getTransfer(t)){case hx:return[e,"LinearTransferOETF"];case Li:return[e,"sRGBTransferOETF"];default:return Ut("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function TF(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(i&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return n.toUpperCase()+`

`+s+`

`+Aye(t.getShaderSource(e),o)}else return s}function Rye(t,e){const n=Dye(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const Iye={[WO]:"Linear",[jO]:"Reinhard",[qO]:"Cineon",[AC]:"ACESFilmic",[XO]:"AgX",[YO]:"Neutral",[$O]:"Custom"};function Nye(t,e){const n=Iye[e];return n===void 0?(Ut("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const dw=new oe;function Oye(){fi.getLuminanceCoefficients(dw);const t=dw.x.toFixed(4),e=dw.y.toFixed(4),n=dw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function kye(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(rb).join(`
`)}function Pye(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function Lye(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function rb(t){return t!==""}function MF(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function CF(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Fye=/^[ \t]*#include +<([\w\d./]+)>/gm;function LI(t){return t.replace(Fye,Bye)}const Uye=new Map;function Bye(t,e){let n=Vn[e];if(n===void 0){const i=Uye.get(e);if(i!==void 0)n=Vn[i],Ut('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return LI(n)}const zye=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function AF(t){return t.replace(zye,Hye)}function Hye(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function DF(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const Vye={[e_]:"SHADOWMAP_TYPE_PCF",[om]:"SHADOWMAP_TYPE_VSM"};function Gye(t){return Vye[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const Wye={[Ic]:"ENVMAP_TYPE_CUBE",[Nh]:"ENVMAP_TYPE_CUBE",[ty]:"ENVMAP_TYPE_CUBE_UV"};function jye(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":Wye[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const qye={[Nh]:"ENVMAP_MODE_REFRACTION"};function $ye(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":qye[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const Xye={[s1]:"ENVMAP_BLENDING_MULTIPLY",[D7]:"ENVMAP_BLENDING_MIX",[R7]:"ENVMAP_BLENDING_ADD"};function Yye(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":Xye[t.combine]||"ENVMAP_BLENDING_NONE"}function Zye(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}function Kye(t,e,n,i){const r=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=Gye(n),f=jye(n),p=$ye(n),g=Yye(n),y=Zye(n),_=kye(n),x=Pye(s),S=r.createProgram();let E,w,C=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(E=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(rb).join(`
`),E.length>0&&(E+=`
`),w=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(rb).join(`
`),w.length>0&&(w+=`
`)):(E=[DF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(rb).join(`
`),w=[DF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+p:"",n.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Xu?"#define TONE_MAPPING":"",n.toneMapping!==Xu?Vn.tonemapping_pars_fragment:"",n.toneMapping!==Xu?Nye("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Vn.colorspace_pars_fragment,Rye("linearToOutputTexel",n.outputColorSpace),Oye(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(rb).join(`
`)),a=LI(a),a=MF(a,n),a=CF(a,n),o=LI(o),o=MF(o,n),o=CF(o,n),a=AF(a),o=AF(o),n.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,E=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,w=["#define varying in",n.glslVersion===MI?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===MI?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const A=C+E+a,R=C+w+o,N=EF(r,r.VERTEX_SHADER,A),O=EF(r,r.FRAGMENT_SHADER,R);r.attachShader(S,N),r.attachShader(S,O),n.index0AttributeName!==void 0?r.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S);function P(G){if(t.debug.checkShaderErrors){const $=r.getProgramInfoLog(S)||"",ee=r.getShaderInfoLog(N)||"",ne=r.getShaderInfoLog(O)||"",re=$.trim(),W=ee.trim(),q=ne.trim();let te=!0,se=!0;if(r.getProgramParameter(S,r.LINK_STATUS)===!1)if(te=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,S,N,O);else{const Z=TF(r,N,"vertex"),j=TF(r,O,"fragment");en("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,r.VALIDATE_STATUS)+`

Material Name: `+G.name+`
Material Type: `+G.type+`

Program Info Log: `+re+`
`+Z+`
`+j)}else re!==""?Ut("WebGLProgram: Program Info Log:",re):(W===""||q==="")&&(se=!1);se&&(G.diagnostics={runnable:te,programLog:re,vertexShader:{log:W,prefix:E},fragmentShader:{log:q,prefix:w}})}r.deleteShader(N),r.deleteShader(O),z=new Xw(r,S),k=Lye(r,S)}let z;this.getUniforms=function(){return z===void 0&&P(this),z};let k;this.getAttributes=function(){return k===void 0&&P(this),k};let F=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return F===!1&&(F=r.getProgramParameter(S,Mye)),F},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Cye++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=N,this.fragmentShader=O,this}let Qye=0;class Jye{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new eve(e),n.set(e,i)),i}}class eve{constructor(e){this.id=Qye++,this.code=e,this.usedTimes=0}}function tve(t,e,n,i,r,s,a){const o=new A_,l=new Jye,f=new Set,p=[],g=new Map,y=r.logarithmicDepthBuffer;let _=r.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(k){return f.add(k),k===0?"uv":`uv${k}`}function E(k,F,G,$,ee){const ne=$.fog,re=ee.geometry,W=k.isMeshStandardMaterial?$.environment:null,q=(k.isMeshStandardMaterial?n:e).get(k.envMap||W),te=q&&q.mapping===ty?q.image.height:null,se=x[k.type];k.precision!==null&&(_=r.getMaxPrecision(k.precision),_!==k.precision&&Ut("WebGLProgram.getParameters:",k.precision,"not supported, using",_,"instead."));const Z=re.morphAttributes.position||re.morphAttributes.normal||re.morphAttributes.color,j=Z!==void 0?Z.length:0;let ue=0;re.morphAttributes.position!==void 0&&(ue=1),re.morphAttributes.normal!==void 0&&(ue=2),re.morphAttributes.color!==void 0&&(ue=3);let ge,Se,Fe,ve;if(se){const ot=Rl[se];ge=ot.vertexShader,Se=ot.fragmentShader}else ge=k.vertexShader,Se=k.fragmentShader,l.update(k),Fe=l.getVertexShaderID(k),ve=l.getFragmentShaderID(k);const fe=t.getRenderTarget(),He=t.state.buffers.depth.getReversed(),Xe=ee.isInstancedMesh===!0,Ye=ee.isBatchedMesh===!0,bt=!!k.map,Ct=!!k.matcap,at=!!q,Ae=!!k.aoMap,Ve=!!k.lightMap,Ue=!!k.bumpMap,de=!!k.normalMap,ie=!!k.displacementMap,It=!!k.emissiveMap,$e=!!k.metalnessMap,dt=!!k.roughnessMap,Be=k.anisotropy>0,Q=k.clearcoat>0,H=k.dispersion>0,pe=k.iridescence>0,we=k.sheen>0,Re=k.transmission>0,Ie=Be&&!!k.anisotropyMap,St=Q&&!!k.clearcoatMap,lt=Q&&!!k.clearcoatNormalMap,kt=Q&&!!k.clearcoatRoughnessMap,Nt=pe&&!!k.iridescenceMap,Je=pe&&!!k.iridescenceThicknessMap,tt=we&&!!k.sheenColorMap,xt=we&&!!k.sheenRoughnessMap,_t=!!k.specularMap,pt=!!k.specularColorMap,Zt=!!k.specularIntensityMap,ce=Re&&!!k.transmissionMap,yt=Re&&!!k.thicknessMap,rt=!!k.gradientMap,gt=!!k.alphaMap,je=k.alphaTest>0,J=!!k.alphaHash,le=!!k.extensions;let xe=Xu;k.toneMapped&&(fe===null||fe.isXRRenderTarget===!0)&&(xe=t.toneMapping);const et={shaderID:se,shaderType:k.type,shaderName:k.name,vertexShader:ge,fragmentShader:Se,defines:k.defines,customVertexShaderID:Fe,customFragmentShaderID:ve,isRawShaderMaterial:k.isRawShaderMaterial===!0,glslVersion:k.glslVersion,precision:_,batching:Ye,batchingColor:Ye&&ee._colorsTexture!==null,instancing:Xe,instancingColor:Xe&&ee.instanceColor!==null,instancingMorph:Xe&&ee.morphTexture!==null,outputColorSpace:fe===null?t.outputColorSpace:fe.isXRRenderTarget===!0?fe.texture.colorSpace:Oh,alphaToCoverage:!!k.alphaToCoverage,map:bt,matcap:Ct,envMap:at,envMapMode:at&&q.mapping,envMapCubeUVHeight:te,aoMap:Ae,lightMap:Ve,bumpMap:Ue,normalMap:de,displacementMap:ie,emissiveMap:It,normalMapObjectSpace:de&&k.normalMapType===L7,normalMapTangentSpace:de&&k.normalMapType===Gh,metalnessMap:$e,roughnessMap:dt,anisotropy:Be,anisotropyMap:Ie,clearcoat:Q,clearcoatMap:St,clearcoatNormalMap:lt,clearcoatRoughnessMap:kt,dispersion:H,iridescence:pe,iridescenceMap:Nt,iridescenceThicknessMap:Je,sheen:we,sheenColorMap:tt,sheenRoughnessMap:xt,specularMap:_t,specularColorMap:pt,specularIntensityMap:Zt,transmission:Re,transmissionMap:ce,thicknessMap:yt,gradientMap:rt,opaque:k.transparent===!1&&k.blending===_m&&k.alphaToCoverage===!1,alphaMap:gt,alphaTest:je,alphaHash:J,combine:k.combine,mapUv:bt&&S(k.map.channel),aoMapUv:Ae&&S(k.aoMap.channel),lightMapUv:Ve&&S(k.lightMap.channel),bumpMapUv:Ue&&S(k.bumpMap.channel),normalMapUv:de&&S(k.normalMap.channel),displacementMapUv:ie&&S(k.displacementMap.channel),emissiveMapUv:It&&S(k.emissiveMap.channel),metalnessMapUv:$e&&S(k.metalnessMap.channel),roughnessMapUv:dt&&S(k.roughnessMap.channel),anisotropyMapUv:Ie&&S(k.anisotropyMap.channel),clearcoatMapUv:St&&S(k.clearcoatMap.channel),clearcoatNormalMapUv:lt&&S(k.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:kt&&S(k.clearcoatRoughnessMap.channel),iridescenceMapUv:Nt&&S(k.iridescenceMap.channel),iridescenceThicknessMapUv:Je&&S(k.iridescenceThicknessMap.channel),sheenColorMapUv:tt&&S(k.sheenColorMap.channel),sheenRoughnessMapUv:xt&&S(k.sheenRoughnessMap.channel),specularMapUv:_t&&S(k.specularMap.channel),specularColorMapUv:pt&&S(k.specularColorMap.channel),specularIntensityMapUv:Zt&&S(k.specularIntensityMap.channel),transmissionMapUv:ce&&S(k.transmissionMap.channel),thicknessMapUv:yt&&S(k.thicknessMap.channel),alphaMapUv:gt&&S(k.alphaMap.channel),vertexTangents:!!re.attributes.tangent&&(de||Be),vertexColors:k.vertexColors,vertexAlphas:k.vertexColors===!0&&!!re.attributes.color&&re.attributes.color.itemSize===4,pointsUvs:ee.isPoints===!0&&!!re.attributes.uv&&(bt||gt),fog:!!ne,useFog:k.fog===!0,fogExp2:!!ne&&ne.isFogExp2,flatShading:k.flatShading===!0&&k.wireframe===!1,sizeAttenuation:k.sizeAttenuation===!0,logarithmicDepthBuffer:y,reversedDepthBuffer:He,skinning:ee.isSkinnedMesh===!0,morphTargets:re.morphAttributes.position!==void 0,morphNormals:re.morphAttributes.normal!==void 0,morphColors:re.morphAttributes.color!==void 0,morphTargetsCount:j,morphTextureStride:ue,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numSpotLightMaps:F.spotLightMap.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numSpotLightShadowsWithMaps:F.numSpotLightShadowsWithMaps,numLightProbes:F.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:k.dithering,shadowMapEnabled:t.shadowMap.enabled&&G.length>0,shadowMapType:t.shadowMap.type,toneMapping:xe,decodeVideoTexture:bt&&k.map.isVideoTexture===!0&&fi.getTransfer(k.map.colorSpace)===Li,decodeVideoTextureEmissive:It&&k.emissiveMap.isVideoTexture===!0&&fi.getTransfer(k.emissiveMap.colorSpace)===Li,premultipliedAlpha:k.premultipliedAlpha,doubleSided:k.side===yc,flipSided:k.side===Ka,useDepthPacking:k.depthPacking>=0,depthPacking:k.depthPacking||0,index0AttributeName:k.index0AttributeName,extensionClipCullDistance:le&&k.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(le&&k.extensions.multiDraw===!0||Ye)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:k.customProgramCacheKey()};return et.vertexUv1s=f.has(1),et.vertexUv2s=f.has(2),et.vertexUv3s=f.has(3),f.clear(),et}function w(k){const F=[];if(k.shaderID?F.push(k.shaderID):(F.push(k.customVertexShaderID),F.push(k.customFragmentShaderID)),k.defines!==void 0)for(const G in k.defines)F.push(G),F.push(k.defines[G]);return k.isRawShaderMaterial===!1&&(C(F,k),A(F,k),F.push(t.outputColorSpace)),F.push(k.customProgramCacheKey),F.join()}function C(k,F){k.push(F.precision),k.push(F.outputColorSpace),k.push(F.envMapMode),k.push(F.envMapCubeUVHeight),k.push(F.mapUv),k.push(F.alphaMapUv),k.push(F.lightMapUv),k.push(F.aoMapUv),k.push(F.bumpMapUv),k.push(F.normalMapUv),k.push(F.displacementMapUv),k.push(F.emissiveMapUv),k.push(F.metalnessMapUv),k.push(F.roughnessMapUv),k.push(F.anisotropyMapUv),k.push(F.clearcoatMapUv),k.push(F.clearcoatNormalMapUv),k.push(F.clearcoatRoughnessMapUv),k.push(F.iridescenceMapUv),k.push(F.iridescenceThicknessMapUv),k.push(F.sheenColorMapUv),k.push(F.sheenRoughnessMapUv),k.push(F.specularMapUv),k.push(F.specularColorMapUv),k.push(F.specularIntensityMapUv),k.push(F.transmissionMapUv),k.push(F.thicknessMapUv),k.push(F.combine),k.push(F.fogExp2),k.push(F.sizeAttenuation),k.push(F.morphTargetsCount),k.push(F.morphAttributeCount),k.push(F.numDirLights),k.push(F.numPointLights),k.push(F.numSpotLights),k.push(F.numSpotLightMaps),k.push(F.numHemiLights),k.push(F.numRectAreaLights),k.push(F.numDirLightShadows),k.push(F.numPointLightShadows),k.push(F.numSpotLightShadows),k.push(F.numSpotLightShadowsWithMaps),k.push(F.numLightProbes),k.push(F.shadowMapType),k.push(F.toneMapping),k.push(F.numClippingPlanes),k.push(F.numClipIntersection),k.push(F.depthPacking)}function A(k,F){o.disableAll(),F.instancing&&o.enable(0),F.instancingColor&&o.enable(1),F.instancingMorph&&o.enable(2),F.matcap&&o.enable(3),F.envMap&&o.enable(4),F.normalMapObjectSpace&&o.enable(5),F.normalMapTangentSpace&&o.enable(6),F.clearcoat&&o.enable(7),F.iridescence&&o.enable(8),F.alphaTest&&o.enable(9),F.vertexColors&&o.enable(10),F.vertexAlphas&&o.enable(11),F.vertexUv1s&&o.enable(12),F.vertexUv2s&&o.enable(13),F.vertexUv3s&&o.enable(14),F.vertexTangents&&o.enable(15),F.anisotropy&&o.enable(16),F.alphaHash&&o.enable(17),F.batching&&o.enable(18),F.dispersion&&o.enable(19),F.batchingColor&&o.enable(20),F.gradientMap&&o.enable(21),k.push(o.mask),o.disableAll(),F.fog&&o.enable(0),F.useFog&&o.enable(1),F.flatShading&&o.enable(2),F.logarithmicDepthBuffer&&o.enable(3),F.reversedDepthBuffer&&o.enable(4),F.skinning&&o.enable(5),F.morphTargets&&o.enable(6),F.morphNormals&&o.enable(7),F.morphColors&&o.enable(8),F.premultipliedAlpha&&o.enable(9),F.shadowMapEnabled&&o.enable(10),F.doubleSided&&o.enable(11),F.flipSided&&o.enable(12),F.useDepthPacking&&o.enable(13),F.dithering&&o.enable(14),F.transmission&&o.enable(15),F.sheen&&o.enable(16),F.opaque&&o.enable(17),F.pointsUvs&&o.enable(18),F.decodeVideoTexture&&o.enable(19),F.decodeVideoTextureEmissive&&o.enable(20),F.alphaToCoverage&&o.enable(21),k.push(o.mask)}function R(k){const F=x[k.type];let G;if(F){const $=Rl[F];G=Y7.clone($.uniforms)}else G=k.uniforms;return G}function N(k,F){let G=g.get(F);return G!==void 0?++G.usedTimes:(G=new Kye(t,F,k,s),p.push(G),g.set(F,G)),G}function O(k){if(--k.usedTimes===0){const F=p.indexOf(k);p[F]=p[p.length-1],p.pop(),g.delete(k.cacheKey),k.destroy()}}function P(k){l.remove(k)}function z(){l.dispose()}return{getParameters:E,getProgramCacheKey:w,getUniforms:R,acquireProgram:N,releaseProgram:O,releaseShaderCache:P,programs:p,dispose:z}}function nve(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function i(a){t.delete(a)}function r(a,o,l){t.get(a)[o]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:s}}function ive(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function RF(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function IF(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function a(g,y,_,x,S,E){let w=t[e];return w===void 0?(w={id:g.id,object:g,geometry:y,material:_,groupOrder:x,renderOrder:g.renderOrder,z:S,group:E},t[e]=w):(w.id=g.id,w.object=g,w.geometry=y,w.material=_,w.groupOrder=x,w.renderOrder=g.renderOrder,w.z=S,w.group=E),e++,w}function o(g,y,_,x,S,E){const w=a(g,y,_,x,S,E);_.transmission>0?i.push(w):_.transparent===!0?r.push(w):n.push(w)}function l(g,y,_,x,S,E){const w=a(g,y,_,x,S,E);_.transmission>0?i.unshift(w):_.transparent===!0?r.unshift(w):n.unshift(w)}function f(g,y){n.length>1&&n.sort(g||ive),i.length>1&&i.sort(y||RF),r.length>1&&r.sort(y||RF)}function p(){for(let g=e,y=t.length;g<y;g++){const _=t[g];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:o,unshift:l,finish:p,sort:f}}function rve(){let t=new WeakMap;function e(i,r){const s=t.get(i);let a;return s===void 0?(a=new IF,t.set(i,[a])):r>=s.length?(a=new IF,s.push(a)):a=s[r],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function sve(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new oe,color:new Vt};break;case"SpotLight":n={position:new oe,direction:new oe,color:new Vt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new oe,color:new Vt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new oe,skyColor:new Vt,groundColor:new Vt};break;case"RectAreaLight":n={color:new Vt,position:new oe,halfWidth:new oe,halfHeight:new oe};break}return t[e.id]=n,n}}}function ave(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ft,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let ove=0;function uve(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function lve(t){const e=new sve,n=ave(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new oe);const r=new oe,s=new _n,a=new _n;function o(f){let p=0,g=0,y=0;for(let k=0;k<9;k++)i.probe[k].set(0,0,0);let _=0,x=0,S=0,E=0,w=0,C=0,A=0,R=0,N=0,O=0,P=0;f.sort(uve);for(let k=0,F=f.length;k<F;k++){const G=f[k],$=G.color,ee=G.intensity,ne=G.distance;let re=null;if(G.shadow&&G.shadow.map&&(G.shadow.map.texture.format===Om?re=G.shadow.map.texture:re=G.shadow.map.depthTexture||G.shadow.map.texture),G.isAmbientLight)p+=$.r*ee,g+=$.g*ee,y+=$.b*ee;else if(G.isLightProbe){for(let W=0;W<9;W++)i.probe[W].addScaledVector(G.sh.coefficients[W],ee);P++}else if(G.isDirectionalLight){const W=e.get(G);if(W.color.copy(G.color).multiplyScalar(G.intensity),G.castShadow){const q=G.shadow,te=n.get(G);te.shadowIntensity=q.intensity,te.shadowBias=q.bias,te.shadowNormalBias=q.normalBias,te.shadowRadius=q.radius,te.shadowMapSize=q.mapSize,i.directionalShadow[_]=te,i.directionalShadowMap[_]=re,i.directionalShadowMatrix[_]=G.shadow.matrix,C++}i.directional[_]=W,_++}else if(G.isSpotLight){const W=e.get(G);W.position.setFromMatrixPosition(G.matrixWorld),W.color.copy($).multiplyScalar(ee),W.distance=ne,W.coneCos=Math.cos(G.angle),W.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),W.decay=G.decay,i.spot[S]=W;const q=G.shadow;if(G.map&&(i.spotLightMap[N]=G.map,N++,q.updateMatrices(G),G.castShadow&&O++),i.spotLightMatrix[S]=q.matrix,G.castShadow){const te=n.get(G);te.shadowIntensity=q.intensity,te.shadowBias=q.bias,te.shadowNormalBias=q.normalBias,te.shadowRadius=q.radius,te.shadowMapSize=q.mapSize,i.spotShadow[S]=te,i.spotShadowMap[S]=re,R++}S++}else if(G.isRectAreaLight){const W=e.get(G);W.color.copy($).multiplyScalar(ee),W.halfWidth.set(G.width*.5,0,0),W.halfHeight.set(0,G.height*.5,0),i.rectArea[E]=W,E++}else if(G.isPointLight){const W=e.get(G);if(W.color.copy(G.color).multiplyScalar(G.intensity),W.distance=G.distance,W.decay=G.decay,G.castShadow){const q=G.shadow,te=n.get(G);te.shadowIntensity=q.intensity,te.shadowBias=q.bias,te.shadowNormalBias=q.normalBias,te.shadowRadius=q.radius,te.shadowMapSize=q.mapSize,te.shadowCameraNear=q.camera.near,te.shadowCameraFar=q.camera.far,i.pointShadow[x]=te,i.pointShadowMap[x]=re,i.pointShadowMatrix[x]=G.shadow.matrix,A++}i.point[x]=W,x++}else if(G.isHemisphereLight){const W=e.get(G);W.skyColor.copy(G.color).multiplyScalar(ee),W.groundColor.copy(G.groundColor).multiplyScalar(ee),i.hemi[w]=W,w++}}E>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Bt.LTC_FLOAT_1,i.rectAreaLTC2=Bt.LTC_FLOAT_2):(i.rectAreaLTC1=Bt.LTC_HALF_1,i.rectAreaLTC2=Bt.LTC_HALF_2)),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=y;const z=i.hash;(z.directionalLength!==_||z.pointLength!==x||z.spotLength!==S||z.rectAreaLength!==E||z.hemiLength!==w||z.numDirectionalShadows!==C||z.numPointShadows!==A||z.numSpotShadows!==R||z.numSpotMaps!==N||z.numLightProbes!==P)&&(i.directional.length=_,i.spot.length=S,i.rectArea.length=E,i.point.length=x,i.hemi.length=w,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=R,i.spotShadowMap.length=R,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=R+N-O,i.spotLightMap.length=N,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=P,z.directionalLength=_,z.pointLength=x,z.spotLength=S,z.rectAreaLength=E,z.hemiLength=w,z.numDirectionalShadows=C,z.numPointShadows=A,z.numSpotShadows=R,z.numSpotMaps=N,z.numLightProbes=P,i.version=ove++)}function l(f,p){let g=0,y=0,_=0,x=0,S=0;const E=p.matrixWorldInverse;for(let w=0,C=f.length;w<C;w++){const A=f[w];if(A.isDirectionalLight){const R=i.directional[g];R.direction.setFromMatrixPosition(A.matrixWorld),r.setFromMatrixPosition(A.target.matrixWorld),R.direction.sub(r),R.direction.transformDirection(E),g++}else if(A.isSpotLight){const R=i.spot[_];R.position.setFromMatrixPosition(A.matrixWorld),R.position.applyMatrix4(E),R.direction.setFromMatrixPosition(A.matrixWorld),r.setFromMatrixPosition(A.target.matrixWorld),R.direction.sub(r),R.direction.transformDirection(E),_++}else if(A.isRectAreaLight){const R=i.rectArea[x];R.position.setFromMatrixPosition(A.matrixWorld),R.position.applyMatrix4(E),a.identity(),s.copy(A.matrixWorld),s.premultiply(E),a.extractRotation(s),R.halfWidth.set(A.width*.5,0,0),R.halfHeight.set(0,A.height*.5,0),R.halfWidth.applyMatrix4(a),R.halfHeight.applyMatrix4(a),x++}else if(A.isPointLight){const R=i.point[y];R.position.setFromMatrixPosition(A.matrixWorld),R.position.applyMatrix4(E),y++}else if(A.isHemisphereLight){const R=i.hemi[S];R.direction.setFromMatrixPosition(A.matrixWorld),R.direction.transformDirection(E),S++}}}return{setup:o,setupView:l,state:i}}function NF(t){const e=new lve(t),n=[],i=[];function r(p){f.camera=p,n.length=0,i.length=0}function s(p){n.push(p)}function a(p){i.push(p)}function o(){e.setup(n)}function l(p){e.setupView(n,p)}const f={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function cve(t){let e=new WeakMap;function n(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new NF(t),e.set(r,[o])):s>=a.length?(o=new NF(t),a.push(o)):o=a[s],o}function i(){e=new WeakMap}return{get:n,dispose:i}}const fve=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,dve=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,hve=[new oe(1,0,0),new oe(-1,0,0),new oe(0,1,0),new oe(0,-1,0),new oe(0,0,1),new oe(0,0,-1)],pve=[new oe(0,-1,0),new oe(0,-1,0),new oe(0,0,1),new oe(0,0,-1),new oe(0,-1,0),new oe(0,-1,0)],OF=new _n,Qv=new oe,PD=new oe;function mve(t,e,n){let i=new iy;const r=new ft,s=new ft,a=new Zi,o=new S6,l=new E6,f={},p=n.maxTextureSize,g={[qf]:Ka,[Ka]:qf,[yc]:yc},y=new tl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ft},radius:{value:4}},vertexShader:fve,fragmentShader:dve}),_=y.clone();_.defines.HORIZONTAL_PASS=1;const x=new Rn;x.setAttribute("position",new ji(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new ds(x,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=e_;let w=this.type;this.render=function(O,P,z){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||O.length===0)return;O.type===bb&&(Ut("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),O.type=e_);const k=t.getRenderTarget(),F=t.getActiveCubeFace(),G=t.getActiveMipmapLevel(),$=t.state;$.setBlending(Ac),$.buffers.depth.getReversed()===!0?$.buffers.color.setClear(0,0,0,0):$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const ee=w!==this.type;ee&&P.traverse(function(ne){ne.material&&(Array.isArray(ne.material)?ne.material.forEach(re=>re.needsUpdate=!0):ne.material.needsUpdate=!0)});for(let ne=0,re=O.length;ne<re;ne++){const W=O[ne],q=W.shadow;if(q===void 0){Ut("WebGLShadowMap:",W,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;r.copy(q.mapSize);const te=q.getFrameExtents();if(r.multiply(te),s.copy(q.mapSize),(r.x>p||r.y>p)&&(r.x>p&&(s.x=Math.floor(p/te.x),r.x=s.x*te.x,q.mapSize.x=s.x),r.y>p&&(s.y=Math.floor(p/te.y),r.y=s.y*te.y,q.mapSize.y=s.y)),q.map===null||ee===!0){if(q.map!==null&&(q.map.depthTexture!==null&&(q.map.depthTexture.dispose(),q.map.depthTexture=null),q.map.dispose()),this.type===om){if(W.isPointLight){Ut("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}q.map=new uu(r.x,r.y,{format:Om,type:Nc,minFilter:gr,magFilter:gr,generateMipmaps:!1}),q.map.texture.name=W.name+".shadowMap",q.map.depthTexture=new I_(r.x,r.y,Za),q.map.depthTexture.name=W.name+".shadowMapDepth",q.map.depthTexture.format=Oc,q.map.depthTexture.compareFunction=null,q.map.depthTexture.minFilter=Qr,q.map.depthTexture.magFilter=Qr}else{W.isPointLight?(q.map=new u6(r.x),q.map.depthTexture=new aH(r.x,el)):(q.map=new uu(r.x,r.y),q.map.depthTexture=new I_(r.x,r.y,el)),q.map.depthTexture.name=W.name+".shadowMap",q.map.depthTexture.format=Oc;const Z=t.state.buffers.depth.getReversed();this.type===e_?(q.map.depthTexture.compareFunction=Z?UC:FC,q.map.depthTexture.minFilter=gr,q.map.depthTexture.magFilter=gr):(q.map.depthTexture.compareFunction=null,q.map.depthTexture.minFilter=Qr,q.map.depthTexture.magFilter=Qr)}q.camera.updateProjectionMatrix()}const se=q.map.isWebGLCubeRenderTarget?6:1;for(let Z=0;Z<se;Z++){if(q.map.isWebGLCubeRenderTarget)t.setRenderTarget(q.map,Z),t.clear();else{Z===0&&(t.setRenderTarget(q.map),t.clear());const j=q.getViewport(Z);a.set(s.x*j.x,s.y*j.y,s.x*j.z,s.y*j.w),$.viewport(a)}if(W.isPointLight){const j=q.camera,ue=q.matrix,ge=W.distance||j.far;ge!==j.far&&(j.far=ge,j.updateProjectionMatrix()),Qv.setFromMatrixPosition(W.matrixWorld),j.position.copy(Qv),PD.copy(j.position),PD.add(hve[Z]),j.up.copy(pve[Z]),j.lookAt(PD),j.updateMatrixWorld(),ue.makeTranslation(-Qv.x,-Qv.y,-Qv.z),OF.multiplyMatrices(j.projectionMatrix,j.matrixWorldInverse),q._frustum.setFromProjectionMatrix(OF,j.coordinateSystem,j.reversedDepth)}else q.updateMatrices(W);i=q.getFrustum(),R(P,z,q.camera,W,this.type)}q.isPointLightShadow!==!0&&this.type===om&&C(q,z),q.needsUpdate=!1}w=this.type,E.needsUpdate=!1,t.setRenderTarget(k,F,G)};function C(O,P){const z=e.update(S);y.defines.VSM_SAMPLES!==O.blurSamples&&(y.defines.VSM_SAMPLES=O.blurSamples,_.defines.VSM_SAMPLES=O.blurSamples,y.needsUpdate=!0,_.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new uu(r.x,r.y,{format:Om,type:Nc})),y.uniforms.shadow_pass.value=O.map.depthTexture,y.uniforms.resolution.value=O.mapSize,y.uniforms.radius.value=O.radius,t.setRenderTarget(O.mapPass),t.clear(),t.renderBufferDirect(P,null,z,y,S,null),_.uniforms.shadow_pass.value=O.mapPass.texture,_.uniforms.resolution.value=O.mapSize,_.uniforms.radius.value=O.radius,t.setRenderTarget(O.map),t.clear(),t.renderBufferDirect(P,null,z,_,S,null)}function A(O,P,z,k){let F=null;const G=z.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(G!==void 0)F=G;else if(F=z.isPointLight===!0?l:o,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0||P.alphaToCoverage===!0){const $=F.uuid,ee=P.uuid;let ne=f[$];ne===void 0&&(ne={},f[$]=ne);let re=ne[ee];re===void 0&&(re=F.clone(),ne[ee]=re,P.addEventListener("dispose",N)),F=re}if(F.visible=P.visible,F.wireframe=P.wireframe,k===om?F.side=P.shadowSide!==null?P.shadowSide:P.side:F.side=P.shadowSide!==null?P.shadowSide:g[P.side],F.alphaMap=P.alphaMap,F.alphaTest=P.alphaToCoverage===!0?.5:P.alphaTest,F.map=P.map,F.clipShadows=P.clipShadows,F.clippingPlanes=P.clippingPlanes,F.clipIntersection=P.clipIntersection,F.displacementMap=P.displacementMap,F.displacementScale=P.displacementScale,F.displacementBias=P.displacementBias,F.wireframeLinewidth=P.wireframeLinewidth,F.linewidth=P.linewidth,z.isPointLight===!0&&F.isMeshDistanceMaterial===!0){const $=t.properties.get(F);$.light=z}return F}function R(O,P,z,k,F){if(O.visible===!1)return;if(O.layers.test(P.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&F===om)&&(!O.frustumCulled||i.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,O.matrixWorld);const ee=e.update(O),ne=O.material;if(Array.isArray(ne)){const re=ee.groups;for(let W=0,q=re.length;W<q;W++){const te=re[W],se=ne[te.materialIndex];if(se&&se.visible){const Z=A(O,se,k,F);O.onBeforeShadow(t,O,P,z,ee,Z,te),t.renderBufferDirect(z,null,ee,Z,O,te),O.onAfterShadow(t,O,P,z,ee,Z,te)}}}else if(ne.visible){const re=A(O,ne,k,F);O.onBeforeShadow(t,O,P,z,ee,re,null),t.renderBufferDirect(z,null,ee,re,O,null),O.onAfterShadow(t,O,P,z,ee,re,null)}}const $=O.children;for(let ee=0,ne=$.length;ee<ne;ee++)R($[ee],P,z,k,F)}function N(O){O.target.removeEventListener("dispose",N);for(const z in f){const k=f[z],F=O.target.uuid;F in k&&(k[F].dispose(),delete k[F])}}}const gve={[zT]:HT,[VT]:jT,[GT]:qT,[Nm]:WT,[HT]:zT,[jT]:VT,[qT]:GT,[WT]:Nm};function _ve(t,e){function n(){let ce=!1;const yt=new Zi;let rt=null;const gt=new Zi(0,0,0,0);return{setMask:function(je){rt!==je&&!ce&&(t.colorMask(je,je,je,je),rt=je)},setLocked:function(je){ce=je},setClear:function(je,J,le,xe,et){et===!0&&(je*=xe,J*=xe,le*=xe),yt.set(je,J,le,xe),gt.equals(yt)===!1&&(t.clearColor(je,J,le,xe),gt.copy(yt))},reset:function(){ce=!1,rt=null,gt.set(-1,0,0,0)}}}function i(){let ce=!1,yt=!1,rt=null,gt=null,je=null;return{setReversed:function(J){if(yt!==J){const le=e.get("EXT_clip_control");J?le.clipControlEXT(le.LOWER_LEFT_EXT,le.ZERO_TO_ONE_EXT):le.clipControlEXT(le.LOWER_LEFT_EXT,le.NEGATIVE_ONE_TO_ONE_EXT),yt=J;const xe=je;je=null,this.setClear(xe)}},getReversed:function(){return yt},setTest:function(J){J?fe(t.DEPTH_TEST):He(t.DEPTH_TEST)},setMask:function(J){rt!==J&&!ce&&(t.depthMask(J),rt=J)},setFunc:function(J){if(yt&&(J=gve[J]),gt!==J){switch(J){case zT:t.depthFunc(t.NEVER);break;case HT:t.depthFunc(t.ALWAYS);break;case VT:t.depthFunc(t.LESS);break;case Nm:t.depthFunc(t.LEQUAL);break;case GT:t.depthFunc(t.EQUAL);break;case WT:t.depthFunc(t.GEQUAL);break;case jT:t.depthFunc(t.GREATER);break;case qT:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}gt=J}},setLocked:function(J){ce=J},setClear:function(J){je!==J&&(yt&&(J=1-J),t.clearDepth(J),je=J)},reset:function(){ce=!1,rt=null,gt=null,je=null,yt=!1}}}function r(){let ce=!1,yt=null,rt=null,gt=null,je=null,J=null,le=null,xe=null,et=null;return{setTest:function(ot){ce||(ot?fe(t.STENCIL_TEST):He(t.STENCIL_TEST))},setMask:function(ot){yt!==ot&&!ce&&(t.stencilMask(ot),yt=ot)},setFunc:function(ot,ht,Qe){(rt!==ot||gt!==ht||je!==Qe)&&(t.stencilFunc(ot,ht,Qe),rt=ot,gt=ht,je=Qe)},setOp:function(ot,ht,Qe){(J!==ot||le!==ht||xe!==Qe)&&(t.stencilOp(ot,ht,Qe),J=ot,le=ht,xe=Qe)},setLocked:function(ot){ce=ot},setClear:function(ot){et!==ot&&(t.clearStencil(ot),et=ot)},reset:function(){ce=!1,yt=null,rt=null,gt=null,je=null,J=null,le=null,xe=null,et=null}}}const s=new n,a=new i,o=new r,l=new WeakMap,f=new WeakMap;let p={},g={},y=new WeakMap,_=[],x=null,S=!1,E=null,w=null,C=null,A=null,R=null,N=null,O=null,P=new Vt(0,0,0),z=0,k=!1,F=null,G=null,$=null,ee=null,ne=null;const re=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,q=0;const te=t.getParameter(t.VERSION);te.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(te)[1]),W=q>=1):te.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(te)[1]),W=q>=2);let se=null,Z={};const j=t.getParameter(t.SCISSOR_BOX),ue=t.getParameter(t.VIEWPORT),ge=new Zi().fromArray(j),Se=new Zi().fromArray(ue);function Fe(ce,yt,rt,gt){const je=new Uint8Array(4),J=t.createTexture();t.bindTexture(ce,J),t.texParameteri(ce,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ce,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let le=0;le<rt;le++)ce===t.TEXTURE_3D||ce===t.TEXTURE_2D_ARRAY?t.texImage3D(yt,0,t.RGBA,1,1,gt,0,t.RGBA,t.UNSIGNED_BYTE,je):t.texImage2D(yt+le,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,je);return J}const ve={};ve[t.TEXTURE_2D]=Fe(t.TEXTURE_2D,t.TEXTURE_2D,1),ve[t.TEXTURE_CUBE_MAP]=Fe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ve[t.TEXTURE_2D_ARRAY]=Fe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ve[t.TEXTURE_3D]=Fe(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),fe(t.DEPTH_TEST),a.setFunc(Nm),Ue(!1),de(bI),fe(t.CULL_FACE),Ae(Ac);function fe(ce){p[ce]!==!0&&(t.enable(ce),p[ce]=!0)}function He(ce){p[ce]!==!1&&(t.disable(ce),p[ce]=!1)}function Xe(ce,yt){return g[ce]!==yt?(t.bindFramebuffer(ce,yt),g[ce]=yt,ce===t.DRAW_FRAMEBUFFER&&(g[t.FRAMEBUFFER]=yt),ce===t.FRAMEBUFFER&&(g[t.DRAW_FRAMEBUFFER]=yt),!0):!1}function Ye(ce,yt){let rt=_,gt=!1;if(ce){rt=y.get(yt),rt===void 0&&(rt=[],y.set(yt,rt));const je=ce.textures;if(rt.length!==je.length||rt[0]!==t.COLOR_ATTACHMENT0){for(let J=0,le=je.length;J<le;J++)rt[J]=t.COLOR_ATTACHMENT0+J;rt.length=je.length,gt=!0}}else rt[0]!==t.BACK&&(rt[0]=t.BACK,gt=!0);gt&&t.drawBuffers(rt)}function bt(ce){return x!==ce?(t.useProgram(ce),x=ce,!0):!1}const Ct={[nh]:t.FUNC_ADD,[d7]:t.FUNC_SUBTRACT,[h7]:t.FUNC_REVERSE_SUBTRACT};Ct[p7]=t.MIN,Ct[m7]=t.MAX;const at={[g7]:t.ZERO,[_7]:t.ONE,[y7]:t.SRC_COLOR,[UT]:t.SRC_ALPHA,[w7]:t.SRC_ALPHA_SATURATE,[S7]:t.DST_COLOR,[b7]:t.DST_ALPHA,[v7]:t.ONE_MINUS_SRC_COLOR,[BT]:t.ONE_MINUS_SRC_ALPHA,[E7]:t.ONE_MINUS_DST_COLOR,[x7]:t.ONE_MINUS_DST_ALPHA,[T7]:t.CONSTANT_COLOR,[M7]:t.ONE_MINUS_CONSTANT_COLOR,[C7]:t.CONSTANT_ALPHA,[A7]:t.ONE_MINUS_CONSTANT_ALPHA};function Ae(ce,yt,rt,gt,je,J,le,xe,et,ot){if(ce===Ac){S===!0&&(He(t.BLEND),S=!1);return}if(S===!1&&(fe(t.BLEND),S=!0),ce!==f7){if(ce!==E||ot!==k){if((w!==nh||R!==nh)&&(t.blendEquation(t.FUNC_ADD),w=nh,R=nh),ot)switch(ce){case _m:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case xI:t.blendFunc(t.ONE,t.ONE);break;case SI:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case EI:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:en("WebGLState: Invalid blending: ",ce);break}else switch(ce){case _m:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case xI:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case SI:en("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case EI:en("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:en("WebGLState: Invalid blending: ",ce);break}C=null,A=null,N=null,O=null,P.set(0,0,0),z=0,E=ce,k=ot}return}je=je||yt,J=J||rt,le=le||gt,(yt!==w||je!==R)&&(t.blendEquationSeparate(Ct[yt],Ct[je]),w=yt,R=je),(rt!==C||gt!==A||J!==N||le!==O)&&(t.blendFuncSeparate(at[rt],at[gt],at[J],at[le]),C=rt,A=gt,N=J,O=le),(xe.equals(P)===!1||et!==z)&&(t.blendColor(xe.r,xe.g,xe.b,et),P.copy(xe),z=et),E=ce,k=!1}function Ve(ce,yt){ce.side===yc?He(t.CULL_FACE):fe(t.CULL_FACE);let rt=ce.side===Ka;yt&&(rt=!rt),Ue(rt),ce.blending===_m&&ce.transparent===!1?Ae(Ac):Ae(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),a.setFunc(ce.depthFunc),a.setTest(ce.depthTest),a.setMask(ce.depthWrite),s.setMask(ce.colorWrite);const gt=ce.stencilWrite;o.setTest(gt),gt&&(o.setMask(ce.stencilWriteMask),o.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),o.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),It(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?fe(t.SAMPLE_ALPHA_TO_COVERAGE):He(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ue(ce){F!==ce&&(ce?t.frontFace(t.CW):t.frontFace(t.CCW),F=ce)}function de(ce){ce!==u7?(fe(t.CULL_FACE),ce!==G&&(ce===bI?t.cullFace(t.BACK):ce===l7?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):He(t.CULL_FACE),G=ce}function ie(ce){ce!==$&&(W&&t.lineWidth(ce),$=ce)}function It(ce,yt,rt){ce?(fe(t.POLYGON_OFFSET_FILL),(ee!==yt||ne!==rt)&&(t.polygonOffset(yt,rt),ee=yt,ne=rt)):He(t.POLYGON_OFFSET_FILL)}function $e(ce){ce?fe(t.SCISSOR_TEST):He(t.SCISSOR_TEST)}function dt(ce){ce===void 0&&(ce=t.TEXTURE0+re-1),se!==ce&&(t.activeTexture(ce),se=ce)}function Be(ce,yt,rt){rt===void 0&&(se===null?rt=t.TEXTURE0+re-1:rt=se);let gt=Z[rt];gt===void 0&&(gt={type:void 0,texture:void 0},Z[rt]=gt),(gt.type!==ce||gt.texture!==yt)&&(se!==rt&&(t.activeTexture(rt),se=rt),t.bindTexture(ce,yt||ve[ce]),gt.type=ce,gt.texture=yt)}function Q(){const ce=Z[se];ce!==void 0&&ce.type!==void 0&&(t.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function H(){try{t.compressedTexImage2D(...arguments)}catch(ce){en("WebGLState:",ce)}}function pe(){try{t.compressedTexImage3D(...arguments)}catch(ce){en("WebGLState:",ce)}}function we(){try{t.texSubImage2D(...arguments)}catch(ce){en("WebGLState:",ce)}}function Re(){try{t.texSubImage3D(...arguments)}catch(ce){en("WebGLState:",ce)}}function Ie(){try{t.compressedTexSubImage2D(...arguments)}catch(ce){en("WebGLState:",ce)}}function St(){try{t.compressedTexSubImage3D(...arguments)}catch(ce){en("WebGLState:",ce)}}function lt(){try{t.texStorage2D(...arguments)}catch(ce){en("WebGLState:",ce)}}function kt(){try{t.texStorage3D(...arguments)}catch(ce){en("WebGLState:",ce)}}function Nt(){try{t.texImage2D(...arguments)}catch(ce){en("WebGLState:",ce)}}function Je(){try{t.texImage3D(...arguments)}catch(ce){en("WebGLState:",ce)}}function tt(ce){ge.equals(ce)===!1&&(t.scissor(ce.x,ce.y,ce.z,ce.w),ge.copy(ce))}function xt(ce){Se.equals(ce)===!1&&(t.viewport(ce.x,ce.y,ce.z,ce.w),Se.copy(ce))}function _t(ce,yt){let rt=f.get(yt);rt===void 0&&(rt=new WeakMap,f.set(yt,rt));let gt=rt.get(ce);gt===void 0&&(gt=t.getUniformBlockIndex(yt,ce.name),rt.set(ce,gt))}function pt(ce,yt){const gt=f.get(yt).get(ce);l.get(yt)!==gt&&(t.uniformBlockBinding(yt,gt,ce.__bindingPointIndex),l.set(yt,gt))}function Zt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},se=null,Z={},g={},y=new WeakMap,_=[],x=null,S=!1,E=null,w=null,C=null,A=null,R=null,N=null,O=null,P=new Vt(0,0,0),z=0,k=!1,F=null,G=null,$=null,ee=null,ne=null,ge.set(0,0,t.canvas.width,t.canvas.height),Se.set(0,0,t.canvas.width,t.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:fe,disable:He,bindFramebuffer:Xe,drawBuffers:Ye,useProgram:bt,setBlending:Ae,setMaterial:Ve,setFlipSided:Ue,setCullFace:de,setLineWidth:ie,setPolygonOffset:It,setScissorTest:$e,activeTexture:dt,bindTexture:Be,unbindTexture:Q,compressedTexImage2D:H,compressedTexImage3D:pe,texImage2D:Nt,texImage3D:Je,updateUBOMapping:_t,uniformBlockBinding:pt,texStorage2D:lt,texStorage3D:kt,texSubImage2D:we,texSubImage3D:Re,compressedTexSubImage2D:Ie,compressedTexSubImage3D:St,scissor:tt,viewport:xt,reset:Zt}}function yve(t,e,n,i,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new ft,p=new WeakMap;let g;const y=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(Q,H){return _?new OffscreenCanvas(Q,H):mx("canvas")}function S(Q,H,pe){let we=1;const Re=Be(Q);if((Re.width>pe||Re.height>pe)&&(we=pe/Math.max(Re.width,Re.height)),we<1)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap||typeof VideoFrame<"u"&&Q instanceof VideoFrame){const Ie=Math.floor(we*Re.width),St=Math.floor(we*Re.height);g===void 0&&(g=x(Ie,St));const lt=H?x(Ie,St):g;return lt.width=Ie,lt.height=St,lt.getContext("2d").drawImage(Q,0,0,Ie,St),Ut("WebGLRenderer: Texture has been resized from ("+Re.width+"x"+Re.height+") to ("+Ie+"x"+St+")."),lt}else return"data"in Q&&Ut("WebGLRenderer: Image in DataTexture is too big ("+Re.width+"x"+Re.height+")."),Q;return Q}function E(Q){return Q.generateMipmaps}function w(Q){t.generateMipmap(Q)}function C(Q){return Q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:Q.isWebGL3DRenderTarget?t.TEXTURE_3D:Q.isWebGLArrayRenderTarget||Q.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function A(Q,H,pe,we,Re=!1){if(Q!==null){if(t[Q]!==void 0)return t[Q];Ut("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Ie=H;if(H===t.RED&&(pe===t.FLOAT&&(Ie=t.R32F),pe===t.HALF_FLOAT&&(Ie=t.R16F),pe===t.UNSIGNED_BYTE&&(Ie=t.R8)),H===t.RED_INTEGER&&(pe===t.UNSIGNED_BYTE&&(Ie=t.R8UI),pe===t.UNSIGNED_SHORT&&(Ie=t.R16UI),pe===t.UNSIGNED_INT&&(Ie=t.R32UI),pe===t.BYTE&&(Ie=t.R8I),pe===t.SHORT&&(Ie=t.R16I),pe===t.INT&&(Ie=t.R32I)),H===t.RG&&(pe===t.FLOAT&&(Ie=t.RG32F),pe===t.HALF_FLOAT&&(Ie=t.RG16F),pe===t.UNSIGNED_BYTE&&(Ie=t.RG8)),H===t.RG_INTEGER&&(pe===t.UNSIGNED_BYTE&&(Ie=t.RG8UI),pe===t.UNSIGNED_SHORT&&(Ie=t.RG16UI),pe===t.UNSIGNED_INT&&(Ie=t.RG32UI),pe===t.BYTE&&(Ie=t.RG8I),pe===t.SHORT&&(Ie=t.RG16I),pe===t.INT&&(Ie=t.RG32I)),H===t.RGB_INTEGER&&(pe===t.UNSIGNED_BYTE&&(Ie=t.RGB8UI),pe===t.UNSIGNED_SHORT&&(Ie=t.RGB16UI),pe===t.UNSIGNED_INT&&(Ie=t.RGB32UI),pe===t.BYTE&&(Ie=t.RGB8I),pe===t.SHORT&&(Ie=t.RGB16I),pe===t.INT&&(Ie=t.RGB32I)),H===t.RGBA_INTEGER&&(pe===t.UNSIGNED_BYTE&&(Ie=t.RGBA8UI),pe===t.UNSIGNED_SHORT&&(Ie=t.RGBA16UI),pe===t.UNSIGNED_INT&&(Ie=t.RGBA32UI),pe===t.BYTE&&(Ie=t.RGBA8I),pe===t.SHORT&&(Ie=t.RGBA16I),pe===t.INT&&(Ie=t.RGBA32I)),H===t.RGB&&(pe===t.UNSIGNED_INT_5_9_9_9_REV&&(Ie=t.RGB9_E5),pe===t.UNSIGNED_INT_10F_11F_11F_REV&&(Ie=t.R11F_G11F_B10F)),H===t.RGBA){const St=Re?hx:fi.getTransfer(we);pe===t.FLOAT&&(Ie=t.RGBA32F),pe===t.HALF_FLOAT&&(Ie=t.RGBA16F),pe===t.UNSIGNED_BYTE&&(Ie=St===Li?t.SRGB8_ALPHA8:t.RGBA8),pe===t.UNSIGNED_SHORT_4_4_4_4&&(Ie=t.RGBA4),pe===t.UNSIGNED_SHORT_5_5_5_1&&(Ie=t.RGB5_A1)}return(Ie===t.R16F||Ie===t.R32F||Ie===t.RG16F||Ie===t.RG32F||Ie===t.RGBA16F||Ie===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ie}function R(Q,H){let pe;return Q?H===null||H===el||H===w_?pe=t.DEPTH24_STENCIL8:H===Za?pe=t.DEPTH32F_STENCIL8:H===E_&&(pe=t.DEPTH24_STENCIL8,Ut("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):H===null||H===el||H===w_?pe=t.DEPTH_COMPONENT24:H===Za?pe=t.DEPTH_COMPONENT32F:H===E_&&(pe=t.DEPTH_COMPONENT16),pe}function N(Q,H){return E(Q)===!0||Q.isFramebufferTexture&&Q.minFilter!==Qr&&Q.minFilter!==gr?Math.log2(Math.max(H.width,H.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?H.mipmaps.length:1}function O(Q){const H=Q.target;H.removeEventListener("dispose",O),z(H),H.isVideoTexture&&p.delete(H)}function P(Q){const H=Q.target;H.removeEventListener("dispose",P),F(H)}function z(Q){const H=i.get(Q);if(H.__webglInit===void 0)return;const pe=Q.source,we=y.get(pe);if(we){const Re=we[H.__cacheKey];Re.usedTimes--,Re.usedTimes===0&&k(Q),Object.keys(we).length===0&&y.delete(pe)}i.remove(Q)}function k(Q){const H=i.get(Q);t.deleteTexture(H.__webglTexture);const pe=Q.source,we=y.get(pe);delete we[H.__cacheKey],a.memory.textures--}function F(Q){const H=i.get(Q);if(Q.depthTexture&&(Q.depthTexture.dispose(),i.remove(Q.depthTexture)),Q.isWebGLCubeRenderTarget)for(let we=0;we<6;we++){if(Array.isArray(H.__webglFramebuffer[we]))for(let Re=0;Re<H.__webglFramebuffer[we].length;Re++)t.deleteFramebuffer(H.__webglFramebuffer[we][Re]);else t.deleteFramebuffer(H.__webglFramebuffer[we]);H.__webglDepthbuffer&&t.deleteRenderbuffer(H.__webglDepthbuffer[we])}else{if(Array.isArray(H.__webglFramebuffer))for(let we=0;we<H.__webglFramebuffer.length;we++)t.deleteFramebuffer(H.__webglFramebuffer[we]);else t.deleteFramebuffer(H.__webglFramebuffer);if(H.__webglDepthbuffer&&t.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&t.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer)for(let we=0;we<H.__webglColorRenderbuffer.length;we++)H.__webglColorRenderbuffer[we]&&t.deleteRenderbuffer(H.__webglColorRenderbuffer[we]);H.__webglDepthRenderbuffer&&t.deleteRenderbuffer(H.__webglDepthRenderbuffer)}const pe=Q.textures;for(let we=0,Re=pe.length;we<Re;we++){const Ie=i.get(pe[we]);Ie.__webglTexture&&(t.deleteTexture(Ie.__webglTexture),a.memory.textures--),i.remove(pe[we])}i.remove(Q)}let G=0;function $(){G=0}function ee(){const Q=G;return Q>=r.maxTextures&&Ut("WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+r.maxTextures),G+=1,Q}function ne(Q){const H=[];return H.push(Q.wrapS),H.push(Q.wrapT),H.push(Q.wrapR||0),H.push(Q.magFilter),H.push(Q.minFilter),H.push(Q.anisotropy),H.push(Q.internalFormat),H.push(Q.format),H.push(Q.type),H.push(Q.generateMipmaps),H.push(Q.premultiplyAlpha),H.push(Q.flipY),H.push(Q.unpackAlignment),H.push(Q.colorSpace),H.join()}function re(Q,H){const pe=i.get(Q);if(Q.isVideoTexture&&$e(Q),Q.isRenderTargetTexture===!1&&Q.isExternalTexture!==!0&&Q.version>0&&pe.__version!==Q.version){const we=Q.image;if(we===null)Ut("WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)Ut("WebGLRenderer: Texture marked for update but image is incomplete");else{ve(pe,Q,H);return}}else Q.isExternalTexture&&(pe.__webglTexture=Q.sourceTexture?Q.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,pe.__webglTexture,t.TEXTURE0+H)}function W(Q,H){const pe=i.get(Q);if(Q.isRenderTargetTexture===!1&&Q.version>0&&pe.__version!==Q.version){ve(pe,Q,H);return}else Q.isExternalTexture&&(pe.__webglTexture=Q.sourceTexture?Q.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,pe.__webglTexture,t.TEXTURE0+H)}function q(Q,H){const pe=i.get(Q);if(Q.isRenderTargetTexture===!1&&Q.version>0&&pe.__version!==Q.version){ve(pe,Q,H);return}n.bindTexture(t.TEXTURE_3D,pe.__webglTexture,t.TEXTURE0+H)}function te(Q,H){const pe=i.get(Q);if(Q.isCubeDepthTexture!==!0&&Q.version>0&&pe.__version!==Q.version){fe(pe,Q,H);return}n.bindTexture(t.TEXTURE_CUBE_MAP,pe.__webglTexture,t.TEXTURE0+H)}const se={[lx]:t.REPEAT,[Io]:t.CLAMP_TO_EDGE,[cx]:t.MIRRORED_REPEAT},Z={[Qr]:t.NEAREST,[ZO]:t.NEAREST_MIPMAP_NEAREST,[jg]:t.NEAREST_MIPMAP_LINEAR,[gr]:t.LINEAR,[xb]:t.LINEAR_MIPMAP_NEAREST,[wc]:t.LINEAR_MIPMAP_LINEAR},j={[F7]:t.NEVER,[V7]:t.ALWAYS,[U7]:t.LESS,[FC]:t.LEQUAL,[B7]:t.EQUAL,[UC]:t.GEQUAL,[z7]:t.GREATER,[H7]:t.NOTEQUAL};function ue(Q,H){if(H.type===Za&&e.has("OES_texture_float_linear")===!1&&(H.magFilter===gr||H.magFilter===xb||H.magFilter===jg||H.magFilter===wc||H.minFilter===gr||H.minFilter===xb||H.minFilter===jg||H.minFilter===wc)&&Ut("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(Q,t.TEXTURE_WRAP_S,se[H.wrapS]),t.texParameteri(Q,t.TEXTURE_WRAP_T,se[H.wrapT]),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,se[H.wrapR]),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,Z[H.magFilter]),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,Z[H.minFilter]),H.compareFunction&&(t.texParameteri(Q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Q,t.TEXTURE_COMPARE_FUNC,j[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(H.magFilter===Qr||H.minFilter!==jg&&H.minFilter!==wc||H.type===Za&&e.has("OES_texture_float_linear")===!1)return;if(H.anisotropy>1||i.get(H).__currentAnisotropy){const pe=e.get("EXT_texture_filter_anisotropic");t.texParameterf(Q,pe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,r.getMaxAnisotropy())),i.get(H).__currentAnisotropy=H.anisotropy}}}function ge(Q,H){let pe=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,H.addEventListener("dispose",O));const we=H.source;let Re=y.get(we);Re===void 0&&(Re={},y.set(we,Re));const Ie=ne(H);if(Ie!==Q.__cacheKey){Re[Ie]===void 0&&(Re[Ie]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,pe=!0),Re[Ie].usedTimes++;const St=Re[Q.__cacheKey];St!==void 0&&(Re[Q.__cacheKey].usedTimes--,St.usedTimes===0&&k(H)),Q.__cacheKey=Ie,Q.__webglTexture=Re[Ie].texture}return pe}function Se(Q,H,pe){return Math.floor(Math.floor(Q/pe)/H)}function Fe(Q,H,pe,we){const Ie=Q.updateRanges;if(Ie.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,H.width,H.height,pe,we,H.data);else{Ie.sort((Je,tt)=>Je.start-tt.start);let St=0;for(let Je=1;Je<Ie.length;Je++){const tt=Ie[St],xt=Ie[Je],_t=tt.start+tt.count,pt=Se(xt.start,H.width,4),Zt=Se(tt.start,H.width,4);xt.start<=_t+1&&pt===Zt&&Se(xt.start+xt.count-1,H.width,4)===pt?tt.count=Math.max(tt.count,xt.start+xt.count-tt.start):(++St,Ie[St]=xt)}Ie.length=St+1;const lt=t.getParameter(t.UNPACK_ROW_LENGTH),kt=t.getParameter(t.UNPACK_SKIP_PIXELS),Nt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,H.width);for(let Je=0,tt=Ie.length;Je<tt;Je++){const xt=Ie[Je],_t=Math.floor(xt.start/4),pt=Math.ceil(xt.count/4),Zt=_t%H.width,ce=Math.floor(_t/H.width),yt=pt,rt=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Zt),t.pixelStorei(t.UNPACK_SKIP_ROWS,ce),n.texSubImage2D(t.TEXTURE_2D,0,Zt,ce,yt,rt,pe,we,H.data)}Q.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,lt),t.pixelStorei(t.UNPACK_SKIP_PIXELS,kt),t.pixelStorei(t.UNPACK_SKIP_ROWS,Nt)}}function ve(Q,H,pe){let we=t.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(we=t.TEXTURE_2D_ARRAY),H.isData3DTexture&&(we=t.TEXTURE_3D);const Re=ge(Q,H),Ie=H.source;n.bindTexture(we,Q.__webglTexture,t.TEXTURE0+pe);const St=i.get(Ie);if(Ie.version!==St.__version||Re===!0){n.activeTexture(t.TEXTURE0+pe);const lt=fi.getPrimaries(fi.workingColorSpace),kt=H.colorSpace===Cf?null:fi.getPrimaries(H.colorSpace),Nt=H.colorSpace===Cf||lt===kt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,H.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,H.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Nt);let Je=S(H.image,!1,r.maxTextureSize);Je=dt(H,Je);const tt=s.convert(H.format,H.colorSpace),xt=s.convert(H.type);let _t=A(H.internalFormat,tt,xt,H.colorSpace,H.isVideoTexture);ue(we,H);let pt;const Zt=H.mipmaps,ce=H.isVideoTexture!==!0,yt=St.__version===void 0||Re===!0,rt=Ie.dataReady,gt=N(H,Je);if(H.isDepthTexture)_t=R(H.format===oh,H.type),yt&&(ce?n.texStorage2D(t.TEXTURE_2D,1,_t,Je.width,Je.height):n.texImage2D(t.TEXTURE_2D,0,_t,Je.width,Je.height,0,tt,xt,null));else if(H.isDataTexture)if(Zt.length>0){ce&&yt&&n.texStorage2D(t.TEXTURE_2D,gt,_t,Zt[0].width,Zt[0].height);for(let je=0,J=Zt.length;je<J;je++)pt=Zt[je],ce?rt&&n.texSubImage2D(t.TEXTURE_2D,je,0,0,pt.width,pt.height,tt,xt,pt.data):n.texImage2D(t.TEXTURE_2D,je,_t,pt.width,pt.height,0,tt,xt,pt.data);H.generateMipmaps=!1}else ce?(yt&&n.texStorage2D(t.TEXTURE_2D,gt,_t,Je.width,Je.height),rt&&Fe(H,Je,tt,xt)):n.texImage2D(t.TEXTURE_2D,0,_t,Je.width,Je.height,0,tt,xt,Je.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){ce&&yt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,gt,_t,Zt[0].width,Zt[0].height,Je.depth);for(let je=0,J=Zt.length;je<J;je++)if(pt=Zt[je],H.format!==ba)if(tt!==null)if(ce){if(rt)if(H.layerUpdates.size>0){const le=OI(pt.width,pt.height,H.format,H.type);for(const xe of H.layerUpdates){const et=pt.data.subarray(xe*le/pt.data.BYTES_PER_ELEMENT,(xe+1)*le/pt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,je,0,0,xe,pt.width,pt.height,1,tt,et)}H.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,je,0,0,0,pt.width,pt.height,Je.depth,tt,pt.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,je,_t,pt.width,pt.height,Je.depth,0,pt.data,0,0);else Ut("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ce?rt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,je,0,0,0,pt.width,pt.height,Je.depth,tt,xt,pt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,je,_t,pt.width,pt.height,Je.depth,0,tt,xt,pt.data)}else{ce&&yt&&n.texStorage2D(t.TEXTURE_2D,gt,_t,Zt[0].width,Zt[0].height);for(let je=0,J=Zt.length;je<J;je++)pt=Zt[je],H.format!==ba?tt!==null?ce?rt&&n.compressedTexSubImage2D(t.TEXTURE_2D,je,0,0,pt.width,pt.height,tt,pt.data):n.compressedTexImage2D(t.TEXTURE_2D,je,_t,pt.width,pt.height,0,pt.data):Ut("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ce?rt&&n.texSubImage2D(t.TEXTURE_2D,je,0,0,pt.width,pt.height,tt,xt,pt.data):n.texImage2D(t.TEXTURE_2D,je,_t,pt.width,pt.height,0,tt,xt,pt.data)}else if(H.isDataArrayTexture)if(ce){if(yt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,gt,_t,Je.width,Je.height,Je.depth),rt)if(H.layerUpdates.size>0){const je=OI(Je.width,Je.height,H.format,H.type);for(const J of H.layerUpdates){const le=Je.data.subarray(J*je/Je.data.BYTES_PER_ELEMENT,(J+1)*je/Je.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,J,Je.width,Je.height,1,tt,xt,le)}H.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Je.width,Je.height,Je.depth,tt,xt,Je.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,_t,Je.width,Je.height,Je.depth,0,tt,xt,Je.data);else if(H.isData3DTexture)ce?(yt&&n.texStorage3D(t.TEXTURE_3D,gt,_t,Je.width,Je.height,Je.depth),rt&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Je.width,Je.height,Je.depth,tt,xt,Je.data)):n.texImage3D(t.TEXTURE_3D,0,_t,Je.width,Je.height,Je.depth,0,tt,xt,Je.data);else if(H.isFramebufferTexture){if(yt)if(ce)n.texStorage2D(t.TEXTURE_2D,gt,_t,Je.width,Je.height);else{let je=Je.width,J=Je.height;for(let le=0;le<gt;le++)n.texImage2D(t.TEXTURE_2D,le,_t,je,J,0,tt,xt,null),je>>=1,J>>=1}}else if(Zt.length>0){if(ce&&yt){const je=Be(Zt[0]);n.texStorage2D(t.TEXTURE_2D,gt,_t,je.width,je.height)}for(let je=0,J=Zt.length;je<J;je++)pt=Zt[je],ce?rt&&n.texSubImage2D(t.TEXTURE_2D,je,0,0,tt,xt,pt):n.texImage2D(t.TEXTURE_2D,je,_t,tt,xt,pt);H.generateMipmaps=!1}else if(ce){if(yt){const je=Be(Je);n.texStorage2D(t.TEXTURE_2D,gt,_t,je.width,je.height)}rt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,tt,xt,Je)}else n.texImage2D(t.TEXTURE_2D,0,_t,tt,xt,Je);E(H)&&w(we),St.__version=Ie.version,H.onUpdate&&H.onUpdate(H)}Q.__version=H.version}function fe(Q,H,pe){if(H.image.length!==6)return;const we=ge(Q,H),Re=H.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+pe);const Ie=i.get(Re);if(Re.version!==Ie.__version||we===!0){n.activeTexture(t.TEXTURE0+pe);const St=fi.getPrimaries(fi.workingColorSpace),lt=H.colorSpace===Cf?null:fi.getPrimaries(H.colorSpace),kt=H.colorSpace===Cf||St===lt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,H.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,H.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,kt);const Nt=H.isCompressedTexture||H.image[0].isCompressedTexture,Je=H.image[0]&&H.image[0].isDataTexture,tt=[];for(let J=0;J<6;J++)!Nt&&!Je?tt[J]=S(H.image[J],!0,r.maxCubemapSize):tt[J]=Je?H.image[J].image:H.image[J],tt[J]=dt(H,tt[J]);const xt=tt[0],_t=s.convert(H.format,H.colorSpace),pt=s.convert(H.type),Zt=A(H.internalFormat,_t,pt,H.colorSpace),ce=H.isVideoTexture!==!0,yt=Ie.__version===void 0||we===!0,rt=Re.dataReady;let gt=N(H,xt);ue(t.TEXTURE_CUBE_MAP,H);let je;if(Nt){ce&&yt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,gt,Zt,xt.width,xt.height);for(let J=0;J<6;J++){je=tt[J].mipmaps;for(let le=0;le<je.length;le++){const xe=je[le];H.format!==ba?_t!==null?ce?rt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,le,0,0,xe.width,xe.height,_t,xe.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,le,Zt,xe.width,xe.height,0,xe.data):Ut("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ce?rt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,le,0,0,xe.width,xe.height,_t,pt,xe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,le,Zt,xe.width,xe.height,0,_t,pt,xe.data)}}}else{if(je=H.mipmaps,ce&&yt){je.length>0&&gt++;const J=Be(tt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,gt,Zt,J.width,J.height)}for(let J=0;J<6;J++)if(Je){ce?rt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,0,0,0,tt[J].width,tt[J].height,_t,pt,tt[J].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,0,Zt,tt[J].width,tt[J].height,0,_t,pt,tt[J].data);for(let le=0;le<je.length;le++){const et=je[le].image[J].image;ce?rt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,le+1,0,0,et.width,et.height,_t,pt,et.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,le+1,Zt,et.width,et.height,0,_t,pt,et.data)}}else{ce?rt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,0,0,0,_t,pt,tt[J]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,0,Zt,_t,pt,tt[J]);for(let le=0;le<je.length;le++){const xe=je[le];ce?rt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,le+1,0,0,_t,pt,xe.image[J]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+J,le+1,Zt,_t,pt,xe.image[J])}}}E(H)&&w(t.TEXTURE_CUBE_MAP),Ie.__version=Re.version,H.onUpdate&&H.onUpdate(H)}Q.__version=H.version}function He(Q,H,pe,we,Re,Ie){const St=s.convert(pe.format,pe.colorSpace),lt=s.convert(pe.type),kt=A(pe.internalFormat,St,lt,pe.colorSpace),Nt=i.get(H),Je=i.get(pe);if(Je.__renderTarget=H,!Nt.__hasExternalTextures){const tt=Math.max(1,H.width>>Ie),xt=Math.max(1,H.height>>Ie);Re===t.TEXTURE_3D||Re===t.TEXTURE_2D_ARRAY?n.texImage3D(Re,Ie,kt,tt,xt,H.depth,0,St,lt,null):n.texImage2D(Re,Ie,kt,tt,xt,0,St,lt,null)}n.bindFramebuffer(t.FRAMEBUFFER,Q),It(H)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,we,Re,Je.__webglTexture,0,ie(H)):(Re===t.TEXTURE_2D||Re>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Re<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,we,Re,Je.__webglTexture,Ie),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Xe(Q,H,pe){if(t.bindRenderbuffer(t.RENDERBUFFER,Q),H.depthBuffer){const we=H.depthTexture,Re=we&&we.isDepthTexture?we.type:null,Ie=R(H.stencilBuffer,Re),St=H.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;It(H)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ie(H),Ie,H.width,H.height):pe?t.renderbufferStorageMultisample(t.RENDERBUFFER,ie(H),Ie,H.width,H.height):t.renderbufferStorage(t.RENDERBUFFER,Ie,H.width,H.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,St,t.RENDERBUFFER,Q)}else{const we=H.textures;for(let Re=0;Re<we.length;Re++){const Ie=we[Re],St=s.convert(Ie.format,Ie.colorSpace),lt=s.convert(Ie.type),kt=A(Ie.internalFormat,St,lt,Ie.colorSpace);It(H)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ie(H),kt,H.width,H.height):pe?t.renderbufferStorageMultisample(t.RENDERBUFFER,ie(H),kt,H.width,H.height):t.renderbufferStorage(t.RENDERBUFFER,kt,H.width,H.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ye(Q,H,pe){const we=H.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,Q),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Re=i.get(H.depthTexture);if(Re.__renderTarget=H,(!Re.__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),we){if(Re.__webglInit===void 0&&(Re.__webglInit=!0,H.depthTexture.addEventListener("dispose",O)),Re.__webglTexture===void 0){Re.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Re.__webglTexture),ue(t.TEXTURE_CUBE_MAP,H.depthTexture);const Nt=s.convert(H.depthTexture.format),Je=s.convert(H.depthTexture.type);let tt;H.depthTexture.format===Oc?tt=t.DEPTH_COMPONENT24:H.depthTexture.format===oh&&(tt=t.DEPTH24_STENCIL8);for(let xt=0;xt<6;xt++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+xt,0,tt,H.width,H.height,0,Nt,Je,null)}}else re(H.depthTexture,0);const Ie=Re.__webglTexture,St=ie(H),lt=we?t.TEXTURE_CUBE_MAP_POSITIVE_X+pe:t.TEXTURE_2D,kt=H.depthTexture.format===oh?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(H.depthTexture.format===Oc)It(H)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,kt,lt,Ie,0,St):t.framebufferTexture2D(t.FRAMEBUFFER,kt,lt,Ie,0);else if(H.depthTexture.format===oh)It(H)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,kt,lt,Ie,0,St):t.framebufferTexture2D(t.FRAMEBUFFER,kt,lt,Ie,0);else throw new Error("Unknown depthTexture format")}function bt(Q){const H=i.get(Q),pe=Q.isWebGLCubeRenderTarget===!0;if(H.__boundDepthTexture!==Q.depthTexture){const we=Q.depthTexture;if(H.__depthDisposeCallback&&H.__depthDisposeCallback(),we){const Re=()=>{delete H.__boundDepthTexture,delete H.__depthDisposeCallback,we.removeEventListener("dispose",Re)};we.addEventListener("dispose",Re),H.__depthDisposeCallback=Re}H.__boundDepthTexture=we}if(Q.depthTexture&&!H.__autoAllocateDepthBuffer)if(pe)for(let we=0;we<6;we++)Ye(H.__webglFramebuffer[we],Q,we);else{const we=Q.texture.mipmaps;we&&we.length>0?Ye(H.__webglFramebuffer[0],Q,0):Ye(H.__webglFramebuffer,Q,0)}else if(pe){H.__webglDepthbuffer=[];for(let we=0;we<6;we++)if(n.bindFramebuffer(t.FRAMEBUFFER,H.__webglFramebuffer[we]),H.__webglDepthbuffer[we]===void 0)H.__webglDepthbuffer[we]=t.createRenderbuffer(),Xe(H.__webglDepthbuffer[we],Q,!1);else{const Re=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ie=H.__webglDepthbuffer[we];t.bindRenderbuffer(t.RENDERBUFFER,Ie),t.framebufferRenderbuffer(t.FRAMEBUFFER,Re,t.RENDERBUFFER,Ie)}}else{const we=Q.texture.mipmaps;if(we&&we.length>0?n.bindFramebuffer(t.FRAMEBUFFER,H.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer===void 0)H.__webglDepthbuffer=t.createRenderbuffer(),Xe(H.__webglDepthbuffer,Q,!1);else{const Re=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ie=H.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Ie),t.framebufferRenderbuffer(t.FRAMEBUFFER,Re,t.RENDERBUFFER,Ie)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ct(Q,H,pe){const we=i.get(Q);H!==void 0&&He(we.__webglFramebuffer,Q,Q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),pe!==void 0&&bt(Q)}function at(Q){const H=Q.texture,pe=i.get(Q),we=i.get(H);Q.addEventListener("dispose",P);const Re=Q.textures,Ie=Q.isWebGLCubeRenderTarget===!0,St=Re.length>1;if(St||(we.__webglTexture===void 0&&(we.__webglTexture=t.createTexture()),we.__version=H.version,a.memory.textures++),Ie){pe.__webglFramebuffer=[];for(let lt=0;lt<6;lt++)if(H.mipmaps&&H.mipmaps.length>0){pe.__webglFramebuffer[lt]=[];for(let kt=0;kt<H.mipmaps.length;kt++)pe.__webglFramebuffer[lt][kt]=t.createFramebuffer()}else pe.__webglFramebuffer[lt]=t.createFramebuffer()}else{if(H.mipmaps&&H.mipmaps.length>0){pe.__webglFramebuffer=[];for(let lt=0;lt<H.mipmaps.length;lt++)pe.__webglFramebuffer[lt]=t.createFramebuffer()}else pe.__webglFramebuffer=t.createFramebuffer();if(St)for(let lt=0,kt=Re.length;lt<kt;lt++){const Nt=i.get(Re[lt]);Nt.__webglTexture===void 0&&(Nt.__webglTexture=t.createTexture(),a.memory.textures++)}if(Q.samples>0&&It(Q)===!1){pe.__webglMultisampledFramebuffer=t.createFramebuffer(),pe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,pe.__webglMultisampledFramebuffer);for(let lt=0;lt<Re.length;lt++){const kt=Re[lt];pe.__webglColorRenderbuffer[lt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,pe.__webglColorRenderbuffer[lt]);const Nt=s.convert(kt.format,kt.colorSpace),Je=s.convert(kt.type),tt=A(kt.internalFormat,Nt,Je,kt.colorSpace,Q.isXRRenderTarget===!0),xt=ie(Q);t.renderbufferStorageMultisample(t.RENDERBUFFER,xt,tt,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+lt,t.RENDERBUFFER,pe.__webglColorRenderbuffer[lt])}t.bindRenderbuffer(t.RENDERBUFFER,null),Q.depthBuffer&&(pe.__webglDepthRenderbuffer=t.createRenderbuffer(),Xe(pe.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ie){n.bindTexture(t.TEXTURE_CUBE_MAP,we.__webglTexture),ue(t.TEXTURE_CUBE_MAP,H);for(let lt=0;lt<6;lt++)if(H.mipmaps&&H.mipmaps.length>0)for(let kt=0;kt<H.mipmaps.length;kt++)He(pe.__webglFramebuffer[lt][kt],Q,H,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,kt);else He(pe.__webglFramebuffer[lt],Q,H,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0);E(H)&&w(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(St){for(let lt=0,kt=Re.length;lt<kt;lt++){const Nt=Re[lt],Je=i.get(Nt);let tt=t.TEXTURE_2D;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(tt=Q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(tt,Je.__webglTexture),ue(tt,Nt),He(pe.__webglFramebuffer,Q,Nt,t.COLOR_ATTACHMENT0+lt,tt,0),E(Nt)&&w(tt)}n.unbindTexture()}else{let lt=t.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(lt=Q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(lt,we.__webglTexture),ue(lt,H),H.mipmaps&&H.mipmaps.length>0)for(let kt=0;kt<H.mipmaps.length;kt++)He(pe.__webglFramebuffer[kt],Q,H,t.COLOR_ATTACHMENT0,lt,kt);else He(pe.__webglFramebuffer,Q,H,t.COLOR_ATTACHMENT0,lt,0);E(H)&&w(lt),n.unbindTexture()}Q.depthBuffer&&bt(Q)}function Ae(Q){const H=Q.textures;for(let pe=0,we=H.length;pe<we;pe++){const Re=H[pe];if(E(Re)){const Ie=C(Q),St=i.get(Re).__webglTexture;n.bindTexture(Ie,St),w(Ie),n.unbindTexture()}}}const Ve=[],Ue=[];function de(Q){if(Q.samples>0){if(It(Q)===!1){const H=Q.textures,pe=Q.width,we=Q.height;let Re=t.COLOR_BUFFER_BIT;const Ie=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,St=i.get(Q),lt=H.length>1;if(lt)for(let Nt=0;Nt<H.length;Nt++)n.bindFramebuffer(t.FRAMEBUFFER,St.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Nt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,St.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Nt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,St.__webglMultisampledFramebuffer);const kt=Q.texture.mipmaps;kt&&kt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,St.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,St.__webglFramebuffer);for(let Nt=0;Nt<H.length;Nt++){if(Q.resolveDepthBuffer&&(Q.depthBuffer&&(Re|=t.DEPTH_BUFFER_BIT),Q.stencilBuffer&&Q.resolveStencilBuffer&&(Re|=t.STENCIL_BUFFER_BIT)),lt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,St.__webglColorRenderbuffer[Nt]);const Je=i.get(H[Nt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Je,0)}t.blitFramebuffer(0,0,pe,we,0,0,pe,we,Re,t.NEAREST),l===!0&&(Ve.length=0,Ue.length=0,Ve.push(t.COLOR_ATTACHMENT0+Nt),Q.depthBuffer&&Q.resolveDepthBuffer===!1&&(Ve.push(Ie),Ue.push(Ie),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ue)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ve))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),lt)for(let Nt=0;Nt<H.length;Nt++){n.bindFramebuffer(t.FRAMEBUFFER,St.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Nt,t.RENDERBUFFER,St.__webglColorRenderbuffer[Nt]);const Je=i.get(H[Nt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,St.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Nt,t.TEXTURE_2D,Je,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,St.__webglMultisampledFramebuffer)}else if(Q.depthBuffer&&Q.resolveDepthBuffer===!1&&l){const H=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[H])}}}function ie(Q){return Math.min(r.maxSamples,Q.samples)}function It(Q){const H=i.get(Q);return Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function $e(Q){const H=a.render.frame;p.get(Q)!==H&&(p.set(Q,H),Q.update())}function dt(Q,H){const pe=Q.colorSpace,we=Q.format,Re=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||pe!==Oh&&pe!==Cf&&(fi.getTransfer(pe)===Li?(we!==ba||Re!==qa)&&Ut("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):en("WebGLTextures: Unsupported texture color space:",pe)),H}function Be(Q){return typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement?(f.width=Q.naturalWidth||Q.width,f.height=Q.naturalHeight||Q.height):typeof VideoFrame<"u"&&Q instanceof VideoFrame?(f.width=Q.displayWidth,f.height=Q.displayHeight):(f.width=Q.width,f.height=Q.height),f}this.allocateTextureUnit=ee,this.resetTextureUnits=$,this.setTexture2D=re,this.setTexture2DArray=W,this.setTexture3D=q,this.setTextureCube=te,this.rebindTextures=Ct,this.setupRenderTarget=at,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=de,this.setupDepthRenderbuffer=bt,this.setupFrameBufferTexture=He,this.useMultisampledRTT=It,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function KH(t,e){function n(i,r=Cf){let s;const a=fi.getTransfer(r);if(i===qa)return t.UNSIGNED_BYTE;if(i===IC)return t.UNSIGNED_SHORT_4_4_4_4;if(i===NC)return t.UNSIGNED_SHORT_5_5_5_1;if(i===JO)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===e6)return t.UNSIGNED_INT_10F_11F_11F_REV;if(i===KO)return t.BYTE;if(i===QO)return t.SHORT;if(i===E_)return t.UNSIGNED_SHORT;if(i===RC)return t.INT;if(i===el)return t.UNSIGNED_INT;if(i===Za)return t.FLOAT;if(i===Nc)return t.HALF_FLOAT;if(i===t6)return t.ALPHA;if(i===n6)return t.RGB;if(i===ba)return t.RGBA;if(i===Oc)return t.DEPTH_COMPONENT;if(i===oh)return t.DEPTH_STENCIL;if(i===OC)return t.RED;if(i===a1)return t.RED_INTEGER;if(i===Om)return t.RG;if(i===kC)return t.RG_INTEGER;if(i===PC)return t.RGBA_INTEGER;if(i===Sb||i===Eb||i===wb||i===Tb)if(a===Li)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Sb)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Eb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===wb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Tb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Sb)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Eb)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===wb)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Tb)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===$T||i===XT||i===YT||i===ZT)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===$T)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===XT)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===YT)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===ZT)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===KT||i===QT||i===JT||i===eM||i===tM||i===nM||i===iM)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===KT||i===QT)return a===Li?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===JT)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC;if(i===eM)return s.COMPRESSED_R11_EAC;if(i===tM)return s.COMPRESSED_SIGNED_R11_EAC;if(i===nM)return s.COMPRESSED_RG11_EAC;if(i===iM)return s.COMPRESSED_SIGNED_RG11_EAC}else return null;if(i===rM||i===sM||i===aM||i===oM||i===uM||i===lM||i===cM||i===fM||i===dM||i===hM||i===pM||i===mM||i===gM||i===_M)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===rM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===sM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===aM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===oM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===uM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===lM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===cM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===fM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===dM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===hM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===pM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===mM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===gM)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===_M)return a===Li?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===yM||i===vM||i===bM)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===yM)return a===Li?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===vM)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===bM)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===xM||i===SM||i===EM||i===wM)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===xM)return s.COMPRESSED_RED_RGTC1_EXT;if(i===SM)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===EM)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===wM)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===w_?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const vve=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,bve=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class xve{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const i=new h6(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new tl({vertexShader:vve,fragmentShader:bve,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new ds(new ry(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Sve extends Bc{constructor(e,n){super();const i=this;let r=null,s=1,a=null,o="local-floor",l=1,f=null,p=null,g=null,y=null,_=null,x=null;const S=typeof XRWebGLBinding<"u",E=new xve,w={},C=n.getContextAttributes();let A=null,R=null;const N=[],O=[],P=new ft;let z=null;const k=new Os;k.viewport=new Zi;const F=new Os;F.viewport=new Zi;const G=[k,F],$=new zH;let ee=null,ne=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ve){let fe=N[ve];return fe===void 0&&(fe=new $w,N[ve]=fe),fe.getTargetRaySpace()},this.getControllerGrip=function(ve){let fe=N[ve];return fe===void 0&&(fe=new $w,N[ve]=fe),fe.getGripSpace()},this.getHand=function(ve){let fe=N[ve];return fe===void 0&&(fe=new $w,N[ve]=fe),fe.getHandSpace()};function re(ve){const fe=O.indexOf(ve.inputSource);if(fe===-1)return;const He=N[fe];He!==void 0&&(He.update(ve.inputSource,ve.frame,f||a),He.dispatchEvent({type:ve.type,data:ve.inputSource}))}function W(){r.removeEventListener("select",re),r.removeEventListener("selectstart",re),r.removeEventListener("selectend",re),r.removeEventListener("squeeze",re),r.removeEventListener("squeezestart",re),r.removeEventListener("squeezeend",re),r.removeEventListener("end",W),r.removeEventListener("inputsourceschange",q);for(let ve=0;ve<N.length;ve++){const fe=O[ve];fe!==null&&(O[ve]=null,N[ve].disconnect(fe))}ee=null,ne=null,E.reset();for(const ve in w)delete w[ve];e.setRenderTarget(A),_=null,y=null,g=null,r=null,R=null,Fe.stop(),i.isPresenting=!1,e.setPixelRatio(z),e.setSize(P.width,P.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ve){s=ve,i.isPresenting===!0&&Ut("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ve){o=ve,i.isPresenting===!0&&Ut("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||a},this.setReferenceSpace=function(ve){f=ve},this.getBaseLayer=function(){return y!==null?y:_},this.getBinding=function(){return g===null&&S&&(g=new XRWebGLBinding(r,n)),g},this.getFrame=function(){return x},this.getSession=function(){return r},this.setSession=async function(ve){if(r=ve,r!==null){if(A=e.getRenderTarget(),r.addEventListener("select",re),r.addEventListener("selectstart",re),r.addEventListener("selectend",re),r.addEventListener("squeeze",re),r.addEventListener("squeezestart",re),r.addEventListener("squeezeend",re),r.addEventListener("end",W),r.addEventListener("inputsourceschange",q),C.xrCompatible!==!0&&await n.makeXRCompatible(),z=e.getPixelRatio(),e.getSize(P),S&&"createProjectionLayer"in XRWebGLBinding.prototype){let He=null,Xe=null,Ye=null;C.depth&&(Ye=C.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,He=C.stencil?oh:Oc,Xe=C.stencil?w_:el);const bt={colorFormat:n.RGBA8,depthFormat:Ye,scaleFactor:s};g=this.getBinding(),y=g.createProjectionLayer(bt),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),R=new uu(y.textureWidth,y.textureHeight,{format:ba,type:qa,depthTexture:new I_(y.textureWidth,y.textureHeight,Xe,void 0,void 0,void 0,void 0,void 0,void 0,He),stencilBuffer:C.stencil,colorSpace:e.outputColorSpace,samples:C.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const He={antialias:C.antialias,alpha:!0,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:s};_=new XRWebGLLayer(r,n,He),r.updateRenderState({baseLayer:_}),e.setPixelRatio(1),e.setSize(_.framebufferWidth,_.framebufferHeight,!1),R=new uu(_.framebufferWidth,_.framebufferHeight,{format:ba,type:qa,colorSpace:e.outputColorSpace,stencilBuffer:C.stencil,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}R.isXRRenderTarget=!0,this.setFoveation(l),f=null,a=await r.requestReferenceSpace(o),Fe.setContext(r),Fe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return E.getDepthTexture()};function q(ve){for(let fe=0;fe<ve.removed.length;fe++){const He=ve.removed[fe],Xe=O.indexOf(He);Xe>=0&&(O[Xe]=null,N[Xe].disconnect(He))}for(let fe=0;fe<ve.added.length;fe++){const He=ve.added[fe];let Xe=O.indexOf(He);if(Xe===-1){for(let bt=0;bt<N.length;bt++)if(bt>=O.length){O.push(He),Xe=bt;break}else if(O[bt]===null){O[bt]=He,Xe=bt;break}if(Xe===-1)break}const Ye=N[Xe];Ye&&Ye.connect(He)}}const te=new oe,se=new oe;function Z(ve,fe,He){te.setFromMatrixPosition(fe.matrixWorld),se.setFromMatrixPosition(He.matrixWorld);const Xe=te.distanceTo(se),Ye=fe.projectionMatrix.elements,bt=He.projectionMatrix.elements,Ct=Ye[14]/(Ye[10]-1),at=Ye[14]/(Ye[10]+1),Ae=(Ye[9]+1)/Ye[5],Ve=(Ye[9]-1)/Ye[5],Ue=(Ye[8]-1)/Ye[0],de=(bt[8]+1)/bt[0],ie=Ct*Ue,It=Ct*de,$e=Xe/(-Ue+de),dt=$e*-Ue;if(fe.matrixWorld.decompose(ve.position,ve.quaternion,ve.scale),ve.translateX(dt),ve.translateZ($e),ve.matrixWorld.compose(ve.position,ve.quaternion,ve.scale),ve.matrixWorldInverse.copy(ve.matrixWorld).invert(),Ye[10]===-1)ve.projectionMatrix.copy(fe.projectionMatrix),ve.projectionMatrixInverse.copy(fe.projectionMatrixInverse);else{const Be=Ct+$e,Q=at+$e,H=ie-dt,pe=It+(Xe-dt),we=Ae*at/Q*Be,Re=Ve*at/Q*Be;ve.projectionMatrix.makePerspective(H,pe,we,Re,Be,Q),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert()}}function j(ve,fe){fe===null?ve.matrixWorld.copy(ve.matrix):ve.matrixWorld.multiplyMatrices(fe.matrixWorld,ve.matrix),ve.matrixWorldInverse.copy(ve.matrixWorld).invert()}this.updateCamera=function(ve){if(r===null)return;let fe=ve.near,He=ve.far;E.texture!==null&&(E.depthNear>0&&(fe=E.depthNear),E.depthFar>0&&(He=E.depthFar)),$.near=F.near=k.near=fe,$.far=F.far=k.far=He,(ee!==$.near||ne!==$.far)&&(r.updateRenderState({depthNear:$.near,depthFar:$.far}),ee=$.near,ne=$.far),$.layers.mask=ve.layers.mask|6,k.layers.mask=$.layers.mask&3,F.layers.mask=$.layers.mask&5;const Xe=ve.parent,Ye=$.cameras;j($,Xe);for(let bt=0;bt<Ye.length;bt++)j(Ye[bt],Xe);Ye.length===2?Z($,k,F):$.projectionMatrix.copy(k.projectionMatrix),ue(ve,$,Xe)};function ue(ve,fe,He){He===null?ve.matrix.copy(fe.matrixWorld):(ve.matrix.copy(He.matrixWorld),ve.matrix.invert(),ve.matrix.multiply(fe.matrixWorld)),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.updateMatrixWorld(!0),ve.projectionMatrix.copy(fe.projectionMatrix),ve.projectionMatrixInverse.copy(fe.projectionMatrixInverse),ve.isPerspectiveCamera&&(ve.fov=C_*2*Math.atan(1/ve.projectionMatrix.elements[5]),ve.zoom=1)}this.getCamera=function(){return $},this.getFoveation=function(){if(!(y===null&&_===null))return l},this.setFoveation=function(ve){l=ve,y!==null&&(y.fixedFoveation=ve),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=ve)},this.hasDepthSensing=function(){return E.texture!==null},this.getDepthSensingMesh=function(){return E.getMesh($)},this.getCameraTexture=function(ve){return w[ve]};let ge=null;function Se(ve,fe){if(p=fe.getViewerPose(f||a),x=fe,p!==null){const He=p.views;_!==null&&(e.setRenderTargetFramebuffer(R,_.framebuffer),e.setRenderTarget(R));let Xe=!1;He.length!==$.cameras.length&&($.cameras.length=0,Xe=!0);for(let at=0;at<He.length;at++){const Ae=He[at];let Ve=null;if(_!==null)Ve=_.getViewport(Ae);else{const de=g.getViewSubImage(y,Ae);Ve=de.viewport,at===0&&(e.setRenderTargetTextures(R,de.colorTexture,de.depthStencilTexture),e.setRenderTarget(R))}let Ue=G[at];Ue===void 0&&(Ue=new Os,Ue.layers.enable(at),Ue.viewport=new Zi,G[at]=Ue),Ue.matrix.fromArray(Ae.transform.matrix),Ue.matrix.decompose(Ue.position,Ue.quaternion,Ue.scale),Ue.projectionMatrix.fromArray(Ae.projectionMatrix),Ue.projectionMatrixInverse.copy(Ue.projectionMatrix).invert(),Ue.viewport.set(Ve.x,Ve.y,Ve.width,Ve.height),at===0&&($.matrix.copy(Ue.matrix),$.matrix.decompose($.position,$.quaternion,$.scale)),Xe===!0&&$.cameras.push(Ue)}const Ye=r.enabledFeatures;if(Ye&&Ye.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&S){g=i.getBinding();const at=g.getDepthInformation(He[0]);at&&at.isValid&&at.texture&&E.init(at,r.renderState)}if(Ye&&Ye.includes("camera-access")&&S){e.state.unbindTexture(),g=i.getBinding();for(let at=0;at<He.length;at++){const Ae=He[at].camera;if(Ae){let Ve=w[Ae];Ve||(Ve=new h6,w[Ae]=Ve);const Ue=g.getCameraImage(Ae);Ve.sourceTexture=Ue}}}}for(let He=0;He<N.length;He++){const Xe=O[He],Ye=N[He];Xe!==null&&Ye!==void 0&&Ye.update(Xe,fe,f||a)}ge&&ge(ve,fe),fe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:fe}),x=null}const Fe=new qH;Fe.setAnimationLoop(Se),this.setAnimationLoop=function(ve){ge=ve},this.dispose=function(){}}}const Xp=new du,Eve=new _n;function wve(t,e){function n(E,w){E.matrixAutoUpdate===!0&&E.updateMatrix(),w.value.copy(E.matrix)}function i(E,w){w.color.getRGB(E.fogColor.value,X7(t)),w.isFog?(E.fogNear.value=w.near,E.fogFar.value=w.far):w.isFogExp2&&(E.fogDensity.value=w.density)}function r(E,w,C,A,R){w.isMeshBasicMaterial||w.isMeshLambertMaterial?s(E,w):w.isMeshToonMaterial?(s(E,w),g(E,w)):w.isMeshPhongMaterial?(s(E,w),p(E,w)):w.isMeshStandardMaterial?(s(E,w),y(E,w),w.isMeshPhysicalMaterial&&_(E,w,R)):w.isMeshMatcapMaterial?(s(E,w),x(E,w)):w.isMeshDepthMaterial?s(E,w):w.isMeshDistanceMaterial?(s(E,w),S(E,w)):w.isMeshNormalMaterial?s(E,w):w.isLineBasicMaterial?(a(E,w),w.isLineDashedMaterial&&o(E,w)):w.isPointsMaterial?l(E,w,C,A):w.isSpriteMaterial?f(E,w):w.isShadowMaterial?(E.color.value.copy(w.color),E.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function s(E,w){E.opacity.value=w.opacity,w.color&&E.diffuse.value.copy(w.color),w.emissive&&E.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(E.map.value=w.map,n(w.map,E.mapTransform)),w.alphaMap&&(E.alphaMap.value=w.alphaMap,n(w.alphaMap,E.alphaMapTransform)),w.bumpMap&&(E.bumpMap.value=w.bumpMap,n(w.bumpMap,E.bumpMapTransform),E.bumpScale.value=w.bumpScale,w.side===Ka&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,n(w.normalMap,E.normalMapTransform),E.normalScale.value.copy(w.normalScale),w.side===Ka&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,n(w.displacementMap,E.displacementMapTransform),E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias),w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap,n(w.emissiveMap,E.emissiveMapTransform)),w.specularMap&&(E.specularMap.value=w.specularMap,n(w.specularMap,E.specularMapTransform)),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest);const C=e.get(w),A=C.envMap,R=C.envMapRotation;A&&(E.envMap.value=A,Xp.copy(R),Xp.x*=-1,Xp.y*=-1,Xp.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(Xp.y*=-1,Xp.z*=-1),E.envMapRotation.value.setFromMatrix4(Eve.makeRotationFromEuler(Xp)),E.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=w.reflectivity,E.ior.value=w.ior,E.refractionRatio.value=w.refractionRatio),w.lightMap&&(E.lightMap.value=w.lightMap,E.lightMapIntensity.value=w.lightMapIntensity,n(w.lightMap,E.lightMapTransform)),w.aoMap&&(E.aoMap.value=w.aoMap,E.aoMapIntensity.value=w.aoMapIntensity,n(w.aoMap,E.aoMapTransform))}function a(E,w){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,w.map&&(E.map.value=w.map,n(w.map,E.mapTransform))}function o(E,w){E.dashSize.value=w.dashSize,E.totalSize.value=w.dashSize+w.gapSize,E.scale.value=w.scale}function l(E,w,C,A){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,E.size.value=w.size*C,E.scale.value=A*.5,w.map&&(E.map.value=w.map,n(w.map,E.uvTransform)),w.alphaMap&&(E.alphaMap.value=w.alphaMap,n(w.alphaMap,E.alphaMapTransform)),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest)}function f(E,w){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,E.rotation.value=w.rotation,w.map&&(E.map.value=w.map,n(w.map,E.mapTransform)),w.alphaMap&&(E.alphaMap.value=w.alphaMap,n(w.alphaMap,E.alphaMapTransform)),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest)}function p(E,w){E.specular.value.copy(w.specular),E.shininess.value=Math.max(w.shininess,1e-4)}function g(E,w){w.gradientMap&&(E.gradientMap.value=w.gradientMap)}function y(E,w){E.metalness.value=w.metalness,w.metalnessMap&&(E.metalnessMap.value=w.metalnessMap,n(w.metalnessMap,E.metalnessMapTransform)),E.roughness.value=w.roughness,w.roughnessMap&&(E.roughnessMap.value=w.roughnessMap,n(w.roughnessMap,E.roughnessMapTransform)),w.envMap&&(E.envMapIntensity.value=w.envMapIntensity)}function _(E,w,C){E.ior.value=w.ior,w.sheen>0&&(E.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),E.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(E.sheenColorMap.value=w.sheenColorMap,n(w.sheenColorMap,E.sheenColorMapTransform)),w.sheenRoughnessMap&&(E.sheenRoughnessMap.value=w.sheenRoughnessMap,n(w.sheenRoughnessMap,E.sheenRoughnessMapTransform))),w.clearcoat>0&&(E.clearcoat.value=w.clearcoat,E.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(E.clearcoatMap.value=w.clearcoatMap,n(w.clearcoatMap,E.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,n(w.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(E.clearcoatNormalMap.value=w.clearcoatNormalMap,n(w.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===Ka&&E.clearcoatNormalScale.value.negate())),w.dispersion>0&&(E.dispersion.value=w.dispersion),w.iridescence>0&&(E.iridescence.value=w.iridescence,E.iridescenceIOR.value=w.iridescenceIOR,E.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(E.iridescenceMap.value=w.iridescenceMap,n(w.iridescenceMap,E.iridescenceMapTransform)),w.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=w.iridescenceThicknessMap,n(w.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),w.transmission>0&&(E.transmission.value=w.transmission,E.transmissionSamplerMap.value=C.texture,E.transmissionSamplerSize.value.set(C.width,C.height),w.transmissionMap&&(E.transmissionMap.value=w.transmissionMap,n(w.transmissionMap,E.transmissionMapTransform)),E.thickness.value=w.thickness,w.thicknessMap&&(E.thicknessMap.value=w.thicknessMap,n(w.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=w.attenuationDistance,E.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(E.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(E.anisotropyMap.value=w.anisotropyMap,n(w.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=w.specularIntensity,E.specularColor.value.copy(w.specularColor),w.specularColorMap&&(E.specularColorMap.value=w.specularColorMap,n(w.specularColorMap,E.specularColorMapTransform)),w.specularIntensityMap&&(E.specularIntensityMap.value=w.specularIntensityMap,n(w.specularIntensityMap,E.specularIntensityMapTransform))}function x(E,w){w.matcap&&(E.matcap.value=w.matcap)}function S(E,w){const C=e.get(w).light;E.referencePosition.value.setFromMatrixPosition(C.matrixWorld),E.nearDistance.value=C.shadow.camera.near,E.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Tve(t,e,n,i){let r={},s={},a=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(C,A){const R=A.program;i.uniformBlockBinding(C,R)}function f(C,A){let R=r[C.id];R===void 0&&(x(C),R=p(C),r[C.id]=R,C.addEventListener("dispose",E));const N=A.program;i.updateUBOMapping(C,N);const O=e.render.frame;s[C.id]!==O&&(y(C),s[C.id]=O)}function p(C){const A=g();C.__bindingPointIndex=A;const R=t.createBuffer(),N=C.__size,O=C.usage;return t.bindBuffer(t.UNIFORM_BUFFER,R),t.bufferData(t.UNIFORM_BUFFER,N,O),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,A,R),R}function g(){for(let C=0;C<o;C++)if(a.indexOf(C)===-1)return a.push(C),C;return en("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(C){const A=r[C.id],R=C.uniforms,N=C.__cache;t.bindBuffer(t.UNIFORM_BUFFER,A);for(let O=0,P=R.length;O<P;O++){const z=Array.isArray(R[O])?R[O]:[R[O]];for(let k=0,F=z.length;k<F;k++){const G=z[k];if(_(G,O,k,N)===!0){const $=G.__offset,ee=Array.isArray(G.value)?G.value:[G.value];let ne=0;for(let re=0;re<ee.length;re++){const W=ee[re],q=S(W);typeof W=="number"||typeof W=="boolean"?(G.__data[0]=W,t.bufferSubData(t.UNIFORM_BUFFER,$+ne,G.__data)):W.isMatrix3?(G.__data[0]=W.elements[0],G.__data[1]=W.elements[1],G.__data[2]=W.elements[2],G.__data[3]=0,G.__data[4]=W.elements[3],G.__data[5]=W.elements[4],G.__data[6]=W.elements[5],G.__data[7]=0,G.__data[8]=W.elements[6],G.__data[9]=W.elements[7],G.__data[10]=W.elements[8],G.__data[11]=0):(W.toArray(G.__data,ne),ne+=q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,$,G.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function _(C,A,R,N){const O=C.value,P=A+"_"+R;if(N[P]===void 0)return typeof O=="number"||typeof O=="boolean"?N[P]=O:N[P]=O.clone(),!0;{const z=N[P];if(typeof O=="number"||typeof O=="boolean"){if(z!==O)return N[P]=O,!0}else if(z.equals(O)===!1)return z.copy(O),!0}return!1}function x(C){const A=C.uniforms;let R=0;const N=16;for(let P=0,z=A.length;P<z;P++){const k=Array.isArray(A[P])?A[P]:[A[P]];for(let F=0,G=k.length;F<G;F++){const $=k[F],ee=Array.isArray($.value)?$.value:[$.value];for(let ne=0,re=ee.length;ne<re;ne++){const W=ee[ne],q=S(W),te=R%N,se=te%q.boundary,Z=te+se;R+=se,Z!==0&&N-Z<q.storage&&(R+=N-Z),$.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),$.__offset=R,R+=q.storage}}}const O=R%N;return O>0&&(R+=N-O),C.__size=R,C.__cache={},this}function S(C){const A={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(A.boundary=4,A.storage=4):C.isVector2?(A.boundary=8,A.storage=8):C.isVector3||C.isColor?(A.boundary=16,A.storage=12):C.isVector4?(A.boundary=16,A.storage=16):C.isMatrix3?(A.boundary=48,A.storage=48):C.isMatrix4?(A.boundary=64,A.storage=64):C.isTexture?Ut("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Ut("WebGLRenderer: Unsupported uniform value type.",C),A}function E(C){const A=C.target;A.removeEventListener("dispose",E);const R=a.indexOf(A.__bindingPointIndex);a.splice(R,1),t.deleteBuffer(r[A.id]),delete r[A.id],delete s[A.id]}function w(){for(const C in r)t.deleteBuffer(r[C]);a=[],r={},s={}}return{bind:l,update:f,dispose:w}}const Mve=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let pc=null;function Cve(){return pc===null&&(pc=new Ol(Mve,16,16,Om,Nc),pc.name="DFG_LUT",pc.minFilter=gr,pc.magFilter=gr,pc.wrapS=Io,pc.wrapT=Io,pc.generateMipmaps=!1,pc.needsUpdate=!0),pc}class QH{constructor(e={}){const{canvas:n=j7(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:f=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:y=!1,outputBufferType:_=qa}=e;this.isWebGLRenderer=!0;let x;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");x=i.getContextAttributes().alpha}else x=a;const S=_,E=new Set([PC,kC,a1]),w=new Set([qa,el,E_,w_,IC,NC]),C=new Uint32Array(4),A=new Int32Array(4);let R=null,N=null;const O=[],P=[];let z=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Xu,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const k=this;let F=!1;this._outputColorSpace=_a;let G=0,$=0,ee=null,ne=-1,re=null;const W=new Zi,q=new Zi;let te=null;const se=new Vt(0);let Z=0,j=n.width,ue=n.height,ge=1,Se=null,Fe=null;const ve=new Zi(0,0,j,ue),fe=new Zi(0,0,j,ue);let He=!1;const Xe=new iy;let Ye=!1,bt=!1;const Ct=new _n,at=new oe,Ae=new Zi,Ve={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ue=!1;function de(){return ee===null?ge:1}let ie=i;function It(X,ye){return n.getContext(X,ye)}try{const X={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:f,powerPreference:p,failIfMajorPerformanceCaveat:g};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${CC}`),n.addEventListener("webglcontextlost",xe,!1),n.addEventListener("webglcontextrestored",et,!1),n.addEventListener("webglcontextcreationerror",ot,!1),ie===null){const ye="webgl2";if(ie=It(ye,X),ie===null)throw It(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(X){throw en("WebGLRenderer: "+X.message),X}let $e,dt,Be,Q,H,pe,we,Re,Ie,St,lt,kt,Nt,Je,tt,xt,_t,pt,Zt,ce,yt,rt,gt,je;function J(){$e=new A_e(ie),$e.init(),rt=new KH(ie,$e),dt=new v_e(ie,$e,e,rt),Be=new _ve(ie,$e),dt.reversedDepthBuffer&&y&&Be.buffers.depth.setReversed(!0),Q=new I_e(ie),H=new nve,pe=new yve(ie,$e,Be,H,dt,rt,Q),we=new x_e(k),Re=new C_e(k),Ie=new Pme(ie),gt=new __e(ie,Ie),St=new D_e(ie,Ie,Q,gt),lt=new O_e(ie,St,Ie,Q),Zt=new N_e(ie,dt,pe),xt=new b_e(H),kt=new tve(k,we,Re,$e,dt,gt,xt),Nt=new wve(k,H),Je=new rve,tt=new cve($e),pt=new g_e(k,we,Re,Be,lt,x,l),_t=new mve(k,lt,dt),je=new Tve(ie,Q,dt,Be),ce=new y_e(ie,$e,Q),yt=new R_e(ie,$e,Q),Q.programs=kt.programs,k.capabilities=dt,k.extensions=$e,k.properties=H,k.renderLists=Je,k.shadowMap=_t,k.state=Be,k.info=Q}J(),S!==qa&&(z=new P_e(S,n.width,n.height,r,s));const le=new Sve(k,ie);this.xr=le,this.getContext=function(){return ie},this.getContextAttributes=function(){return ie.getContextAttributes()},this.forceContextLoss=function(){const X=$e.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=$e.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return ge},this.setPixelRatio=function(X){X!==void 0&&(ge=X,this.setSize(j,ue,!1))},this.getSize=function(X){return X.set(j,ue)},this.setSize=function(X,ye,De=!0){if(le.isPresenting){Ut("WebGLRenderer: Can't change size while VR device is presenting.");return}j=X,ue=ye,n.width=Math.floor(X*ge),n.height=Math.floor(ye*ge),De===!0&&(n.style.width=X+"px",n.style.height=ye+"px"),z!==null&&z.setSize(n.width,n.height),this.setViewport(0,0,X,ye)},this.getDrawingBufferSize=function(X){return X.set(j*ge,ue*ge).floor()},this.setDrawingBufferSize=function(X,ye,De){j=X,ue=ye,ge=De,n.width=Math.floor(X*De),n.height=Math.floor(ye*De),this.setViewport(0,0,X,ye)},this.setEffects=function(X){if(S===qa){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(X){for(let ye=0;ye<X.length;ye++)if(X[ye].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}z.setEffects(X||[])},this.getCurrentViewport=function(X){return X.copy(W)},this.getViewport=function(X){return X.copy(ve)},this.setViewport=function(X,ye,De,Ce){X.isVector4?ve.set(X.x,X.y,X.z,X.w):ve.set(X,ye,De,Ce),Be.viewport(W.copy(ve).multiplyScalar(ge).round())},this.getScissor=function(X){return X.copy(fe)},this.setScissor=function(X,ye,De,Ce){X.isVector4?fe.set(X.x,X.y,X.z,X.w):fe.set(X,ye,De,Ce),Be.scissor(q.copy(fe).multiplyScalar(ge).round())},this.getScissorTest=function(){return He},this.setScissorTest=function(X){Be.setScissorTest(He=X)},this.setOpaqueSort=function(X){Se=X},this.setTransparentSort=function(X){Fe=X},this.getClearColor=function(X){return X.copy(pt.getClearColor())},this.setClearColor=function(){pt.setClearColor(...arguments)},this.getClearAlpha=function(){return pt.getClearAlpha()},this.setClearAlpha=function(){pt.setClearAlpha(...arguments)},this.clear=function(X=!0,ye=!0,De=!0){let Ce=0;if(X){let ae=!1;if(ee!==null){const Te=ee.texture.format;ae=E.has(Te)}if(ae){const Te=ee.texture.type,nt=w.has(Te),qe=pt.getClearColor(),vt=pt.getClearAlpha(),Ft=qe.r,qt=qe.g,Ht=qe.b;nt?(C[0]=Ft,C[1]=qt,C[2]=Ht,C[3]=vt,ie.clearBufferuiv(ie.COLOR,0,C)):(A[0]=Ft,A[1]=qt,A[2]=Ht,A[3]=vt,ie.clearBufferiv(ie.COLOR,0,A))}else Ce|=ie.COLOR_BUFFER_BIT}ye&&(Ce|=ie.DEPTH_BUFFER_BIT),De&&(Ce|=ie.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ie.clear(Ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",xe,!1),n.removeEventListener("webglcontextrestored",et,!1),n.removeEventListener("webglcontextcreationerror",ot,!1),pt.dispose(),Je.dispose(),tt.dispose(),H.dispose(),we.dispose(),Re.dispose(),lt.dispose(),gt.dispose(),je.dispose(),kt.dispose(),le.dispose(),le.removeEventListener("sessionstart",Mn),le.removeEventListener("sessionend",un),yn.stop()};function xe(X){X.preventDefault(),gx("WebGLRenderer: Context Lost."),F=!0}function et(){gx("WebGLRenderer: Context Restored."),F=!1;const X=Q.autoReset,ye=_t.enabled,De=_t.autoUpdate,Ce=_t.needsUpdate,ae=_t.type;J(),Q.autoReset=X,_t.enabled=ye,_t.autoUpdate=De,_t.needsUpdate=Ce,_t.type=ae}function ot(X){en("WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function ht(X){const ye=X.target;ye.removeEventListener("dispose",ht),Qe(ye)}function Qe(X){Ne(X),H.remove(X)}function Ne(X){const ye=H.get(X).programs;ye!==void 0&&(ye.forEach(function(De){kt.releaseProgram(De)}),X.isShaderMaterial&&kt.releaseShaderCache(X))}this.renderBufferDirect=function(X,ye,De,Ce,ae,Te){ye===null&&(ye=Ve);const nt=ae.isMesh&&ae.matrixWorld.determinant()<0,qe=Tt(X,ye,De,Ce,ae);Be.setMaterial(Ce,nt);let vt=De.index,Ft=1;if(Ce.wireframe===!0){if(vt=St.getWireframeAttribute(De),vt===void 0)return;Ft=2}const qt=De.drawRange,Ht=De.attributes.position;let Gt=qt.start*Ft,xn=(qt.start+qt.count)*Ft;Te!==null&&(Gt=Math.max(Gt,Te.start*Ft),xn=Math.min(xn,(Te.start+Te.count)*Ft)),vt!==null?(Gt=Math.max(Gt,0),xn=Math.min(xn,vt.count)):Ht!=null&&(Gt=Math.max(Gt,0),xn=Math.min(xn,Ht.count));const Di=xn-Gt;if(Di<0||Di===1/0)return;gt.setup(ae,Ce,qe,De,vt);let yi,dn=ce;if(vt!==null&&(yi=Ie.get(vt),dn=yt,dn.setIndex(yi)),ae.isMesh)Ce.wireframe===!0?(Be.setLineWidth(Ce.wireframeLinewidth*de()),dn.setMode(ie.LINES)):dn.setMode(ie.TRIANGLES);else if(ae.isLine){let Pt=Ce.linewidth;Pt===void 0&&(Pt=1),Be.setLineWidth(Pt*de()),ae.isLineSegments?dn.setMode(ie.LINES):ae.isLineLoop?dn.setMode(ie.LINE_LOOP):dn.setMode(ie.LINE_STRIP)}else ae.isPoints?dn.setMode(ie.POINTS):ae.isSprite&&dn.setMode(ie.TRIANGLES);if(ae.isBatchedMesh)if(ae._multiDrawInstances!==null)M_("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),dn.renderMultiDrawInstances(ae._multiDrawStarts,ae._multiDrawCounts,ae._multiDrawCount,ae._multiDrawInstances);else if($e.get("WEBGL_multi_draw"))dn.renderMultiDraw(ae._multiDrawStarts,ae._multiDrawCounts,ae._multiDrawCount);else{const Pt=ae._multiDrawStarts,Jn=ae._multiDrawCounts,on=ae._multiDrawCount,yr=vt?Ie.get(vt).bytesPerElement:1,ws=H.get(Ce).currentProgram.getUniforms();for(let Oi=0;Oi<on;Oi++)ws.setValue(ie,"_gl_DrawID",Oi),dn.render(Pt[Oi]/yr,Jn[Oi])}else if(ae.isInstancedMesh)dn.renderInstances(Gt,Di,ae.count);else if(De.isInstancedBufferGeometry){const Pt=De._maxInstanceCount!==void 0?De._maxInstanceCount:1/0,Jn=Math.min(De.instanceCount,Pt);dn.renderInstances(Gt,Di,Jn)}else dn.render(Gt,Di)};function st(X,ye,De){X.transparent===!0&&X.side===yc&&X.forceSinglePass===!1?(X.side=Ka,X.needsUpdate=!0,En(X,ye,De),X.side=qf,X.needsUpdate=!0,En(X,ye,De),X.side=yc):En(X,ye,De)}this.compile=function(X,ye,De=null){De===null&&(De=X),N=tt.get(De),N.init(ye),P.push(N),De.traverseVisible(function(ae){ae.isLight&&ae.layers.test(ye.layers)&&(N.pushLight(ae),ae.castShadow&&N.pushShadow(ae))}),X!==De&&X.traverseVisible(function(ae){ae.isLight&&ae.layers.test(ye.layers)&&(N.pushLight(ae),ae.castShadow&&N.pushShadow(ae))}),N.setupLights();const Ce=new Set;return X.traverse(function(ae){if(!(ae.isMesh||ae.isPoints||ae.isLine||ae.isSprite))return;const Te=ae.material;if(Te)if(Array.isArray(Te))for(let nt=0;nt<Te.length;nt++){const qe=Te[nt];st(qe,De,ae),Ce.add(qe)}else st(Te,De,ae),Ce.add(Te)}),N=P.pop(),Ce},this.compileAsync=function(X,ye,De=null){const Ce=this.compile(X,ye,De);return new Promise(ae=>{function Te(){if(Ce.forEach(function(nt){H.get(nt).currentProgram.isReady()&&Ce.delete(nt)}),Ce.size===0){ae(X);return}setTimeout(Te,10)}$e.get("KHR_parallel_shader_compile")!==null?Te():setTimeout(Te,10)})};let Et=null;function At(X){Et&&Et(X)}function Mn(){yn.stop()}function un(){yn.start()}const yn=new qH;yn.setAnimationLoop(At),typeof self<"u"&&yn.setContext(self),this.setAnimationLoop=function(X){Et=X,le.setAnimationLoop(X),X===null?yn.stop():yn.start()},le.addEventListener("sessionstart",Mn),le.addEventListener("sessionend",un),this.render=function(X,ye){if(ye!==void 0&&ye.isCamera!==!0){en("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(F===!0)return;const De=le.enabled===!0&&le.isPresenting===!0,Ce=z!==null&&(ee===null||De)&&z.begin(k,ee);if(X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),le.enabled===!0&&le.isPresenting===!0&&(z===null||z.isCompositing()===!1)&&(le.cameraAutoUpdate===!0&&le.updateCamera(ye),ye=le.getCamera()),X.isScene===!0&&X.onBeforeRender(k,X,ye,ee),N=tt.get(X,P.length),N.init(ye),P.push(N),Ct.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),Xe.setFromProjectionMatrix(Ct,nu,ye.reversedDepth),bt=this.localClippingEnabled,Ye=xt.init(this.clippingPlanes,bt),R=Je.get(X,O.length),R.init(),O.push(R),le.enabled===!0&&le.isPresenting===!0){const nt=k.xr.getDepthSensingMesh();nt!==null&&Qn(nt,ye,-1/0,k.sortObjects)}Qn(X,ye,0,k.sortObjects),R.finish(),k.sortObjects===!0&&R.sort(Se,Fe),Ue=le.enabled===!1||le.isPresenting===!1||le.hasDepthSensing()===!1,Ue&&pt.addToRenderList(R,X),this.info.render.frame++,Ye===!0&&xt.beginShadows();const ae=N.state.shadowsArray;if(_t.render(ae,X,ye),Ye===!0&&xt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Ce&&z.hasRenderPass())===!1){const nt=R.opaque,qe=R.transmissive;if(N.setupLights(),ye.isArrayCamera){const vt=ye.cameras;if(qe.length>0)for(let Ft=0,qt=vt.length;Ft<qt;Ft++){const Ht=vt[Ft];Jt(nt,qe,X,Ht)}Ue&&pt.render(X);for(let Ft=0,qt=vt.length;Ft<qt;Ft++){const Ht=vt[Ft];tn(R,X,Ht,Ht.viewport)}}else qe.length>0&&Jt(nt,qe,X,ye),Ue&&pt.render(X),tn(R,X,ye)}ee!==null&&$===0&&(pe.updateMultisampleRenderTarget(ee),pe.updateRenderTargetMipmap(ee)),Ce&&z.end(k),X.isScene===!0&&X.onAfterRender(k,X,ye),gt.resetDefaultState(),ne=-1,re=null,P.pop(),P.length>0?(N=P[P.length-1],Ye===!0&&xt.setGlobalState(k.clippingPlanes,N.state.camera)):N=null,O.pop(),O.length>0?R=O[O.length-1]:R=null};function Qn(X,ye,De,Ce){if(X.visible===!1)return;if(X.layers.test(ye.layers)){if(X.isGroup)De=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(ye);else if(X.isLight)N.pushLight(X),X.castShadow&&N.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||Xe.intersectsSprite(X)){Ce&&Ae.setFromMatrixPosition(X.matrixWorld).applyMatrix4(Ct);const nt=lt.update(X),qe=X.material;qe.visible&&R.push(X,nt,qe,De,Ae.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||Xe.intersectsObject(X))){const nt=lt.update(X),qe=X.material;if(Ce&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),Ae.copy(X.boundingSphere.center)):(nt.boundingSphere===null&&nt.computeBoundingSphere(),Ae.copy(nt.boundingSphere.center)),Ae.applyMatrix4(X.matrixWorld).applyMatrix4(Ct)),Array.isArray(qe)){const vt=nt.groups;for(let Ft=0,qt=vt.length;Ft<qt;Ft++){const Ht=vt[Ft],Gt=qe[Ht.materialIndex];Gt&&Gt.visible&&R.push(X,nt,Gt,De,Ae.z,Ht)}}else qe.visible&&R.push(X,nt,qe,De,Ae.z,null)}}const Te=X.children;for(let nt=0,qe=Te.length;nt<qe;nt++)Qn(Te[nt],ye,De,Ce)}function tn(X,ye,De,Ce){const{opaque:ae,transmissive:Te,transparent:nt}=X;N.setupLightsView(De),Ye===!0&&xt.setGlobalState(k.clippingPlanes,De),Ce&&Be.viewport(W.copy(Ce)),ae.length>0&&pn(ae,ye,De),Te.length>0&&pn(Te,ye,De),nt.length>0&&pn(nt,ye,De),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1)}function Jt(X,ye,De,Ce){if((De.isScene===!0?De.overrideMaterial:null)!==null)return;if(N.state.transmissionRenderTarget[Ce.id]===void 0){const Gt=$e.has("EXT_color_buffer_half_float")||$e.has("EXT_color_buffer_float");N.state.transmissionRenderTarget[Ce.id]=new uu(1,1,{generateMipmaps:!0,type:Gt?Nc:qa,minFilter:wc,samples:dt.samples,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:fi.workingColorSpace})}const Te=N.state.transmissionRenderTarget[Ce.id],nt=Ce.viewport||W;Te.setSize(nt.z*k.transmissionResolutionScale,nt.w*k.transmissionResolutionScale);const qe=k.getRenderTarget(),vt=k.getActiveCubeFace(),Ft=k.getActiveMipmapLevel();k.setRenderTarget(Te),k.getClearColor(se),Z=k.getClearAlpha(),Z<1&&k.setClearColor(16777215,.5),k.clear(),Ue&&pt.render(De);const qt=k.toneMapping;k.toneMapping=Xu;const Ht=Ce.viewport;if(Ce.viewport!==void 0&&(Ce.viewport=void 0),N.setupLightsView(Ce),Ye===!0&&xt.setGlobalState(k.clippingPlanes,Ce),pn(X,De,Ce),pe.updateMultisampleRenderTarget(Te),pe.updateRenderTargetMipmap(Te),$e.has("WEBGL_multisampled_render_to_texture")===!1){let Gt=!1;for(let xn=0,Di=ye.length;xn<Di;xn++){const yi=ye[xn],{object:dn,geometry:Pt,material:Jn,group:on}=yi;if(Jn.side===yc&&dn.layers.test(Ce.layers)){const yr=Jn.side;Jn.side=Ka,Jn.needsUpdate=!0,Ei(dn,De,Ce,Pt,Jn,on),Jn.side=yr,Jn.needsUpdate=!0,Gt=!0}}Gt===!0&&(pe.updateMultisampleRenderTarget(Te),pe.updateRenderTargetMipmap(Te))}k.setRenderTarget(qe,vt,Ft),k.setClearColor(se,Z),Ht!==void 0&&(Ce.viewport=Ht),k.toneMapping=qt}function pn(X,ye,De){const Ce=ye.isScene===!0?ye.overrideMaterial:null;for(let ae=0,Te=X.length;ae<Te;ae++){const nt=X[ae],{object:qe,geometry:vt,group:Ft}=nt;let qt=nt.material;qt.allowOverride===!0&&Ce!==null&&(qt=Ce),qe.layers.test(De.layers)&&Ei(qe,ye,De,vt,qt,Ft)}}function Ei(X,ye,De,Ce,ae,Te){X.onBeforeRender(k,ye,De,Ce,ae,Te),X.modelViewMatrix.multiplyMatrices(De.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),ae.onBeforeRender(k,ye,De,Ce,X,Te),ae.transparent===!0&&ae.side===yc&&ae.forceSinglePass===!1?(ae.side=Ka,ae.needsUpdate=!0,k.renderBufferDirect(De,ye,Ce,ae,X,Te),ae.side=qf,ae.needsUpdate=!0,k.renderBufferDirect(De,ye,Ce,ae,X,Te),ae.side=yc):k.renderBufferDirect(De,ye,Ce,ae,X,Te),X.onAfterRender(k,ye,De,Ce,ae,Te)}function En(X,ye,De){ye.isScene!==!0&&(ye=Ve);const Ce=H.get(X),ae=N.state.lights,Te=N.state.shadowsArray,nt=ae.state.version,qe=kt.getParameters(X,ae.state,Te,ye,De),vt=kt.getProgramCacheKey(qe);let Ft=Ce.programs;Ce.environment=X.isMeshStandardMaterial?ye.environment:null,Ce.fog=ye.fog,Ce.envMap=(X.isMeshStandardMaterial?Re:we).get(X.envMap||Ce.environment),Ce.envMapRotation=Ce.environment!==null&&X.envMap===null?ye.environmentRotation:X.envMapRotation,Ft===void 0&&(X.addEventListener("dispose",ht),Ft=new Map,Ce.programs=Ft);let qt=Ft.get(vt);if(qt!==void 0){if(Ce.currentProgram===qt&&Ce.lightsStateVersion===nt)return _r(X,qe),qt}else qe.uniforms=kt.getUniforms(X),X.onBeforeCompile(qe,k),qt=kt.acquireProgram(qe,vt),Ft.set(vt,qt),Ce.uniforms=qe.uniforms;const Ht=Ce.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(Ht.clippingPlanes=xt.uniform),_r(X,qe),Ce.needsLights=Ze(X),Ce.lightsStateVersion=nt,Ce.needsLights&&(Ht.ambientLightColor.value=ae.state.ambient,Ht.lightProbe.value=ae.state.probe,Ht.directionalLights.value=ae.state.directional,Ht.directionalLightShadows.value=ae.state.directionalShadow,Ht.spotLights.value=ae.state.spot,Ht.spotLightShadows.value=ae.state.spotShadow,Ht.rectAreaLights.value=ae.state.rectArea,Ht.ltc_1.value=ae.state.rectAreaLTC1,Ht.ltc_2.value=ae.state.rectAreaLTC2,Ht.pointLights.value=ae.state.point,Ht.pointLightShadows.value=ae.state.pointShadow,Ht.hemisphereLights.value=ae.state.hemi,Ht.directionalShadowMap.value=ae.state.directionalShadowMap,Ht.directionalShadowMatrix.value=ae.state.directionalShadowMatrix,Ht.spotShadowMap.value=ae.state.spotShadowMap,Ht.spotLightMatrix.value=ae.state.spotLightMatrix,Ht.spotLightMap.value=ae.state.spotLightMap,Ht.pointShadowMap.value=ae.state.pointShadowMap,Ht.pointShadowMatrix.value=ae.state.pointShadowMatrix),Ce.currentProgram=qt,Ce.uniformsList=null,qt}function wi(X){if(X.uniformsList===null){const ye=X.currentProgram.getUniforms();X.uniformsList=Xw.seqWithValue(ye.seq,X.uniforms)}return X.uniformsList}function _r(X,ye){const De=H.get(X);De.outputColorSpace=ye.outputColorSpace,De.batching=ye.batching,De.batchingColor=ye.batchingColor,De.instancing=ye.instancing,De.instancingColor=ye.instancingColor,De.instancingMorph=ye.instancingMorph,De.skinning=ye.skinning,De.morphTargets=ye.morphTargets,De.morphNormals=ye.morphNormals,De.morphColors=ye.morphColors,De.morphTargetsCount=ye.morphTargetsCount,De.numClippingPlanes=ye.numClippingPlanes,De.numIntersection=ye.numClipIntersection,De.vertexAlphas=ye.vertexAlphas,De.vertexTangents=ye.vertexTangents,De.toneMapping=ye.toneMapping}function Tt(X,ye,De,Ce,ae){ye.isScene!==!0&&(ye=Ve),pe.resetTextureUnits();const Te=ye.fog,nt=Ce.isMeshStandardMaterial?ye.environment:null,qe=ee===null?k.outputColorSpace:ee.isXRRenderTarget===!0?ee.texture.colorSpace:Oh,vt=(Ce.isMeshStandardMaterial?Re:we).get(Ce.envMap||nt),Ft=Ce.vertexColors===!0&&!!De.attributes.color&&De.attributes.color.itemSize===4,qt=!!De.attributes.tangent&&(!!Ce.normalMap||Ce.anisotropy>0),Ht=!!De.morphAttributes.position,Gt=!!De.morphAttributes.normal,xn=!!De.morphAttributes.color;let Di=Xu;Ce.toneMapped&&(ee===null||ee.isXRRenderTarget===!0)&&(Di=k.toneMapping);const yi=De.morphAttributes.position||De.morphAttributes.normal||De.morphAttributes.color,dn=yi!==void 0?yi.length:0,Pt=H.get(Ce),Jn=N.state.lights;if(Ye===!0&&(bt===!0||X!==re)){const wr=X===re&&Ce.id===ne;xt.setState(Ce,X,wr)}let on=!1;Ce.version===Pt.__version?(Pt.needsLights&&Pt.lightsStateVersion!==Jn.state.version||Pt.outputColorSpace!==qe||ae.isBatchedMesh&&Pt.batching===!1||!ae.isBatchedMesh&&Pt.batching===!0||ae.isBatchedMesh&&Pt.batchingColor===!0&&ae.colorTexture===null||ae.isBatchedMesh&&Pt.batchingColor===!1&&ae.colorTexture!==null||ae.isInstancedMesh&&Pt.instancing===!1||!ae.isInstancedMesh&&Pt.instancing===!0||ae.isSkinnedMesh&&Pt.skinning===!1||!ae.isSkinnedMesh&&Pt.skinning===!0||ae.isInstancedMesh&&Pt.instancingColor===!0&&ae.instanceColor===null||ae.isInstancedMesh&&Pt.instancingColor===!1&&ae.instanceColor!==null||ae.isInstancedMesh&&Pt.instancingMorph===!0&&ae.morphTexture===null||ae.isInstancedMesh&&Pt.instancingMorph===!1&&ae.morphTexture!==null||Pt.envMap!==vt||Ce.fog===!0&&Pt.fog!==Te||Pt.numClippingPlanes!==void 0&&(Pt.numClippingPlanes!==xt.numPlanes||Pt.numIntersection!==xt.numIntersection)||Pt.vertexAlphas!==Ft||Pt.vertexTangents!==qt||Pt.morphTargets!==Ht||Pt.morphNormals!==Gt||Pt.morphColors!==xn||Pt.toneMapping!==Di||Pt.morphTargetsCount!==dn)&&(on=!0):(on=!0,Pt.__version=Ce.version);let yr=Pt.currentProgram;on===!0&&(yr=En(Ce,ye,ae));let ws=!1,Oi=!1,Bi=!1;const di=yr.getUniforms(),ar=Pt.uniforms;if(Be.useProgram(yr.program)&&(ws=!0,Oi=!0,Bi=!0),Ce.id!==ne&&(ne=Ce.id,Oi=!0),ws||re!==X){Be.buffers.depth.getReversed()&&X.reversedDepth!==!0&&(X._reversedDepth=!0,X.updateProjectionMatrix()),di.setValue(ie,"projectionMatrix",X.projectionMatrix),di.setValue(ie,"viewMatrix",X.matrixWorldInverse);const ei=di.map.cameraPosition;ei!==void 0&&ei.setValue(ie,at.setFromMatrixPosition(X.matrixWorld)),dt.logarithmicDepthBuffer&&di.setValue(ie,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshLambertMaterial||Ce.isMeshBasicMaterial||Ce.isMeshStandardMaterial||Ce.isShaderMaterial)&&di.setValue(ie,"isOrthographic",X.isOrthographicCamera===!0),re!==X&&(re=X,Oi=!0,Bi=!0)}if(Pt.needsLights&&(Jn.state.directionalShadowMap.length>0&&di.setValue(ie,"directionalShadowMap",Jn.state.directionalShadowMap,pe),Jn.state.spotShadowMap.length>0&&di.setValue(ie,"spotShadowMap",Jn.state.spotShadowMap,pe),Jn.state.pointShadowMap.length>0&&di.setValue(ie,"pointShadowMap",Jn.state.pointShadowMap,pe)),ae.isSkinnedMesh){di.setOptional(ie,ae,"bindMatrix"),di.setOptional(ie,ae,"bindMatrixInverse");const wr=ae.skeleton;wr&&(wr.boneTexture===null&&wr.computeBoneTexture(),di.setValue(ie,"boneTexture",wr.boneTexture,pe))}ae.isBatchedMesh&&(di.setOptional(ie,ae,"batchingTexture"),di.setValue(ie,"batchingTexture",ae._matricesTexture,pe),di.setOptional(ie,ae,"batchingIdTexture"),di.setValue(ie,"batchingIdTexture",ae._indirectTexture,pe),di.setOptional(ie,ae,"batchingColorTexture"),ae._colorsTexture!==null&&di.setValue(ie,"batchingColorTexture",ae._colorsTexture,pe));const Wt=De.morphAttributes;if((Wt.position!==void 0||Wt.normal!==void 0||Wt.color!==void 0)&&Zt.update(ae,De,yr),(Oi||Pt.receiveShadow!==ae.receiveShadow)&&(Pt.receiveShadow=ae.receiveShadow,di.setValue(ie,"receiveShadow",ae.receiveShadow)),Ce.isMeshGouraudMaterial&&Ce.envMap!==null&&(ar.envMap.value=vt,ar.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1),Ce.isMeshStandardMaterial&&Ce.envMap===null&&ye.environment!==null&&(ar.envMapIntensity.value=ye.environmentIntensity),ar.dfgLUT!==void 0&&(ar.dfgLUT.value=Cve()),Oi&&(di.setValue(ie,"toneMappingExposure",k.toneMappingExposure),Pt.needsLights&&he(ar,Bi),Te&&Ce.fog===!0&&Nt.refreshFogUniforms(ar,Te),Nt.refreshMaterialUniforms(ar,Ce,ge,ue,N.state.transmissionRenderTarget[X.id]),Xw.upload(ie,wi(Pt),ar,pe)),Ce.isShaderMaterial&&Ce.uniformsNeedUpdate===!0&&(Xw.upload(ie,wi(Pt),ar,pe),Ce.uniformsNeedUpdate=!1),Ce.isSpriteMaterial&&di.setValue(ie,"center",ae.center),di.setValue(ie,"modelViewMatrix",ae.modelViewMatrix),di.setValue(ie,"normalMatrix",ae.normalMatrix),di.setValue(ie,"modelMatrix",ae.matrixWorld),Ce.isShaderMaterial||Ce.isRawShaderMaterial){const wr=Ce.uniformsGroups;for(let ei=0,ui=wr.length;ei<ui;ei++){const hs=wr[ei];je.update(hs,yr),je.bind(hs,yr)}}return yr}function he(X,ye){X.ambientLightColor.needsUpdate=ye,X.lightProbe.needsUpdate=ye,X.directionalLights.needsUpdate=ye,X.directionalLightShadows.needsUpdate=ye,X.pointLights.needsUpdate=ye,X.pointLightShadows.needsUpdate=ye,X.spotLights.needsUpdate=ye,X.spotLightShadows.needsUpdate=ye,X.rectAreaLights.needsUpdate=ye,X.hemisphereLights.needsUpdate=ye}function Ze(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return G},this.getActiveMipmapLevel=function(){return $},this.getRenderTarget=function(){return ee},this.setRenderTargetTextures=function(X,ye,De){const Ce=H.get(X);Ce.__autoAllocateDepthBuffer=X.resolveDepthBuffer===!1,Ce.__autoAllocateDepthBuffer===!1&&(Ce.__useRenderToTexture=!1),H.get(X.texture).__webglTexture=ye,H.get(X.depthTexture).__webglTexture=Ce.__autoAllocateDepthBuffer?void 0:De,Ce.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(X,ye){const De=H.get(X);De.__webglFramebuffer=ye,De.__useDefaultFramebuffer=ye===void 0};const Ot=ie.createFramebuffer();this.setRenderTarget=function(X,ye=0,De=0){ee=X,G=ye,$=De;let Ce=null,ae=!1,Te=!1;if(X){const qe=H.get(X);if(qe.__useDefaultFramebuffer!==void 0){Be.bindFramebuffer(ie.FRAMEBUFFER,qe.__webglFramebuffer),W.copy(X.viewport),q.copy(X.scissor),te=X.scissorTest,Be.viewport(W),Be.scissor(q),Be.setScissorTest(te),ne=-1;return}else if(qe.__webglFramebuffer===void 0)pe.setupRenderTarget(X);else if(qe.__hasExternalTextures)pe.rebindTextures(X,H.get(X.texture).__webglTexture,H.get(X.depthTexture).__webglTexture);else if(X.depthBuffer){const qt=X.depthTexture;if(qe.__boundDepthTexture!==qt){if(qt!==null&&H.has(qt)&&(X.width!==qt.image.width||X.height!==qt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");pe.setupDepthRenderbuffer(X)}}const vt=X.texture;(vt.isData3DTexture||vt.isDataArrayTexture||vt.isCompressedArrayTexture)&&(Te=!0);const Ft=H.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray(Ft[ye])?Ce=Ft[ye][De]:Ce=Ft[ye],ae=!0):X.samples>0&&pe.useMultisampledRTT(X)===!1?Ce=H.get(X).__webglMultisampledFramebuffer:Array.isArray(Ft)?Ce=Ft[De]:Ce=Ft,W.copy(X.viewport),q.copy(X.scissor),te=X.scissorTest}else W.copy(ve).multiplyScalar(ge).floor(),q.copy(fe).multiplyScalar(ge).floor(),te=He;if(De!==0&&(Ce=Ot),Be.bindFramebuffer(ie.FRAMEBUFFER,Ce)&&Be.drawBuffers(X,Ce),Be.viewport(W),Be.scissor(q),Be.setScissorTest(te),ae){const qe=H.get(X.texture);ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_CUBE_MAP_POSITIVE_X+ye,qe.__webglTexture,De)}else if(Te){const qe=ye;for(let vt=0;vt<X.textures.length;vt++){const Ft=H.get(X.textures[vt]);ie.framebufferTextureLayer(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0+vt,Ft.__webglTexture,De,qe)}}else if(X!==null&&De!==0){const qe=H.get(X.texture);ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,qe.__webglTexture,De)}ne=-1},this.readRenderTargetPixels=function(X,ye,De,Ce,ae,Te,nt,qe=0){if(!(X&&X.isWebGLRenderTarget)){en("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let vt=H.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&nt!==void 0&&(vt=vt[nt]),vt){Be.bindFramebuffer(ie.FRAMEBUFFER,vt);try{const Ft=X.textures[qe],qt=Ft.format,Ht=Ft.type;if(!dt.textureFormatReadable(qt)){en("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!dt.textureTypeReadable(Ht)){en("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=X.width-Ce&&De>=0&&De<=X.height-ae&&(X.textures.length>1&&ie.readBuffer(ie.COLOR_ATTACHMENT0+qe),ie.readPixels(ye,De,Ce,ae,rt.convert(qt),rt.convert(Ht),Te))}finally{const Ft=ee!==null?H.get(ee).__webglFramebuffer:null;Be.bindFramebuffer(ie.FRAMEBUFFER,Ft)}}},this.readRenderTargetPixelsAsync=async function(X,ye,De,Ce,ae,Te,nt,qe=0){if(!(X&&X.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let vt=H.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&nt!==void 0&&(vt=vt[nt]),vt)if(ye>=0&&ye<=X.width-Ce&&De>=0&&De<=X.height-ae){Be.bindFramebuffer(ie.FRAMEBUFFER,vt);const Ft=X.textures[qe],qt=Ft.format,Ht=Ft.type;if(!dt.textureFormatReadable(qt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!dt.textureTypeReadable(Ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Gt=ie.createBuffer();ie.bindBuffer(ie.PIXEL_PACK_BUFFER,Gt),ie.bufferData(ie.PIXEL_PACK_BUFFER,Te.byteLength,ie.STREAM_READ),X.textures.length>1&&ie.readBuffer(ie.COLOR_ATTACHMENT0+qe),ie.readPixels(ye,De,Ce,ae,rt.convert(qt),rt.convert(Ht),0);const xn=ee!==null?H.get(ee).__webglFramebuffer:null;Be.bindFramebuffer(ie.FRAMEBUFFER,xn);const Di=ie.fenceSync(ie.SYNC_GPU_COMMANDS_COMPLETE,0);return ie.flush(),await Pde(ie,Di,4),ie.bindBuffer(ie.PIXEL_PACK_BUFFER,Gt),ie.getBufferSubData(ie.PIXEL_PACK_BUFFER,0,Te),ie.deleteBuffer(Gt),ie.deleteSync(Di),Te}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(X,ye=null,De=0){const Ce=Math.pow(2,-De),ae=Math.floor(X.image.width*Ce),Te=Math.floor(X.image.height*Ce),nt=ye!==null?ye.x:0,qe=ye!==null?ye.y:0;pe.setTexture2D(X,0),ie.copyTexSubImage2D(ie.TEXTURE_2D,De,0,0,nt,qe,ae,Te),Be.unbindTexture()};const In=ie.createFramebuffer(),mn=ie.createFramebuffer();this.copyTextureToTexture=function(X,ye,De=null,Ce=null,ae=0,Te=null){Te===null&&(ae!==0?(M_("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Te=ae,ae=0):Te=0);let nt,qe,vt,Ft,qt,Ht,Gt,xn,Di;const yi=X.isCompressedTexture?X.mipmaps[Te]:X.image;if(De!==null)nt=De.max.x-De.min.x,qe=De.max.y-De.min.y,vt=De.isBox3?De.max.z-De.min.z:1,Ft=De.min.x,qt=De.min.y,Ht=De.isBox3?De.min.z:0;else{const Wt=Math.pow(2,-ae);nt=Math.floor(yi.width*Wt),qe=Math.floor(yi.height*Wt),X.isDataArrayTexture?vt=yi.depth:X.isData3DTexture?vt=Math.floor(yi.depth*Wt):vt=1,Ft=0,qt=0,Ht=0}Ce!==null?(Gt=Ce.x,xn=Ce.y,Di=Ce.z):(Gt=0,xn=0,Di=0);const dn=rt.convert(ye.format),Pt=rt.convert(ye.type);let Jn;ye.isData3DTexture?(pe.setTexture3D(ye,0),Jn=ie.TEXTURE_3D):ye.isDataArrayTexture||ye.isCompressedArrayTexture?(pe.setTexture2DArray(ye,0),Jn=ie.TEXTURE_2D_ARRAY):(pe.setTexture2D(ye,0),Jn=ie.TEXTURE_2D),ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,ye.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ye.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,ye.unpackAlignment);const on=ie.getParameter(ie.UNPACK_ROW_LENGTH),yr=ie.getParameter(ie.UNPACK_IMAGE_HEIGHT),ws=ie.getParameter(ie.UNPACK_SKIP_PIXELS),Oi=ie.getParameter(ie.UNPACK_SKIP_ROWS),Bi=ie.getParameter(ie.UNPACK_SKIP_IMAGES);ie.pixelStorei(ie.UNPACK_ROW_LENGTH,yi.width),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,yi.height),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,Ft),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,qt),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,Ht);const di=X.isDataArrayTexture||X.isData3DTexture,ar=ye.isDataArrayTexture||ye.isData3DTexture;if(X.isDepthTexture){const Wt=H.get(X),wr=H.get(ye),ei=H.get(Wt.__renderTarget),ui=H.get(wr.__renderTarget);Be.bindFramebuffer(ie.READ_FRAMEBUFFER,ei.__webglFramebuffer),Be.bindFramebuffer(ie.DRAW_FRAMEBUFFER,ui.__webglFramebuffer);for(let hs=0;hs<vt;hs++)di&&(ie.framebufferTextureLayer(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,H.get(X).__webglTexture,ae,Ht+hs),ie.framebufferTextureLayer(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,H.get(ye).__webglTexture,Te,Di+hs)),ie.blitFramebuffer(Ft,qt,nt,qe,Gt,xn,nt,qe,ie.DEPTH_BUFFER_BIT,ie.NEAREST);Be.bindFramebuffer(ie.READ_FRAMEBUFFER,null),Be.bindFramebuffer(ie.DRAW_FRAMEBUFFER,null)}else if(ae!==0||X.isRenderTargetTexture||H.has(X)){const Wt=H.get(X),wr=H.get(ye);Be.bindFramebuffer(ie.READ_FRAMEBUFFER,In),Be.bindFramebuffer(ie.DRAW_FRAMEBUFFER,mn);for(let ei=0;ei<vt;ei++)di?ie.framebufferTextureLayer(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,Wt.__webglTexture,ae,Ht+ei):ie.framebufferTexture2D(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,Wt.__webglTexture,ae),ar?ie.framebufferTextureLayer(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,wr.__webglTexture,Te,Di+ei):ie.framebufferTexture2D(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,wr.__webglTexture,Te),ae!==0?ie.blitFramebuffer(Ft,qt,nt,qe,Gt,xn,nt,qe,ie.COLOR_BUFFER_BIT,ie.NEAREST):ar?ie.copyTexSubImage3D(Jn,Te,Gt,xn,Di+ei,Ft,qt,nt,qe):ie.copyTexSubImage2D(Jn,Te,Gt,xn,Ft,qt,nt,qe);Be.bindFramebuffer(ie.READ_FRAMEBUFFER,null),Be.bindFramebuffer(ie.DRAW_FRAMEBUFFER,null)}else ar?X.isDataTexture||X.isData3DTexture?ie.texSubImage3D(Jn,Te,Gt,xn,Di,nt,qe,vt,dn,Pt,yi.data):ye.isCompressedArrayTexture?ie.compressedTexSubImage3D(Jn,Te,Gt,xn,Di,nt,qe,vt,dn,yi.data):ie.texSubImage3D(Jn,Te,Gt,xn,Di,nt,qe,vt,dn,Pt,yi):X.isDataTexture?ie.texSubImage2D(ie.TEXTURE_2D,Te,Gt,xn,nt,qe,dn,Pt,yi.data):X.isCompressedTexture?ie.compressedTexSubImage2D(ie.TEXTURE_2D,Te,Gt,xn,yi.width,yi.height,dn,yi.data):ie.texSubImage2D(ie.TEXTURE_2D,Te,Gt,xn,nt,qe,dn,Pt,yi);ie.pixelStorei(ie.UNPACK_ROW_LENGTH,on),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,yr),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,ws),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,Oi),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,Bi),Te===0&&ye.generateMipmaps&&ie.generateMipmap(Jn),Be.unbindTexture()},this.initRenderTarget=function(X){H.get(X).__webglFramebuffer===void 0&&pe.setupRenderTarget(X)},this.initTexture=function(X){X.isCubeTexture?pe.setTextureCube(X,0):X.isData3DTexture?pe.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?pe.setTexture2DArray(X,0):pe.setTexture2D(X,0),Be.unbindTexture()},this.resetState=function(){G=0,$=0,ee=null,Be.reset(),gt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return nu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=fi._getDrawingBufferColorSpace(e),n.unpackColorSpace=fi._getUnpackColorSpace()}}const Ave=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:AC,AddEquation:nh,AddOperation:R7,AdditiveAnimationBlendMode:i6,AdditiveBlending:xI,AgXToneMapping:XO,AlphaFormat:t6,AlwaysCompare:V7,AlwaysDepth:HT,AlwaysStencilFunc:TI,AmbientLight:PH,AnimationAction:GH,AnimationClip:Sx,AnimationLoader:Tpe,AnimationMixer:eme,AnimationObjectGroup:Qpe,AnimationUtils:xpe,ArcCurve:uH,ArrayCamera:zH,ArrowHelper:Mme,AttachedBindMode:wI,Audio:HH,AudioAnalyser:Vpe,AudioContext:R6,AudioListener:Bpe,AudioLoader:Lpe,AxesHelper:Cme,BackSide:Ka,BasicDepthPacking:P7,BasicShadowMap:c7,BatchedMesh:nH,Bone:f6,BooleanKeyframeTrack:Km,Box2:cme,Box3:Sa,Box3Helper:wme,BoxGeometry:Zm,BoxHelper:Eme,BufferAttribute:ji,BufferGeometry:Rn,BufferGeometryLoader:BH,ByteType:KO,Cache:Tc,Camera:HC,CameraHelper:Sme,CanvasTexture:Whe,CapsuleGeometry:XC,CatmullRomCurve3:lH,CineonToneMapping:qO,CircleGeometry:YC,ClampToEdgeWrapping:Io,Clock:I6,Color:Vt,ColorKeyframeTrack:M6,ColorManagement:fi,CompressedArrayTexture:Vhe,CompressedCubeTexture:Ghe,CompressedTexture:$C,CompressedTextureLoader:Mpe,ConeGeometry:l1,ConstantAlphaFactor:C7,ConstantColorFactor:T7,Controls:Dme,CubeCamera:Z7,CubeDepthTexture:aH,CubeReflectionMapping:Ic,CubeRefractionMapping:Nh,CubeTexture:o1,CubeTextureLoader:Cpe,CubeUVReflectionMapping:ty,CubicBezierCurve:m6,CubicBezierCurve3:cH,CubicInterpolant:CH,CullFaceBack:bI,CullFaceFront:l7,CullFaceFrontBack:jfe,CullFaceNone:u7,Curve:Fl,CurvePath:dH,CustomBlending:f7,CustomToneMapping:$O,CylinderGeometry:u1,Cylindrical:lme,Data3DTexture:zC,DataArrayTexture:BC,DataTexture:Ol,DataTextureLoader:Ape,DataUtils:hhe,DecrementStencilOp:lde,DecrementWrapStencilOp:fde,DefaultLoadingManager:RH,DepthFormat:Oc,DepthStencilFormat:oh,DepthTexture:I_,DetachedBindMode:I7,DirectionalLight:kH,DirectionalLightHelper:xme,DiscreteInterpolant:AH,DodecahedronGeometry:ZC,DoubleSide:yc,DstAlphaFactor:b7,DstColorFactor:S7,DynamicCopyUsage:Mde,DynamicDrawUsage:bde,DynamicReadUsage:Ede,EdgesGeometry:oH,EllipseCurve:KC,EqualCompare:B7,EqualDepth:GT,EqualStencilFunc:mde,EquirectangularReflectionMapping:ox,EquirectangularRefractionMapping:ux,Euler:du,EventDispatcher:Bc,ExternalTexture:h6,ExtrudeGeometry:QC,FileLoader:$f,Float16BufferAttribute:bhe,Float32BufferAttribute:jt,FloatType:Za,Fog:GC,FogExp2:VC,FramebufferTexture:Hhe,FrontSide:qf,Frustum:iy,FrustumArray:qC,GLBufferAttribute:sme,GLSL1:Ade,GLSL3:MI,GreaterCompare:z7,GreaterDepth:jT,GreaterEqualCompare:UC,GreaterEqualDepth:WT,GreaterEqualStencilFunc:vde,GreaterStencilFunc:_de,GridHelper:vme,Group:$g,HalfFloatType:Nc,HemisphereLight:IH,HemisphereLightHelper:yme,IcosahedronGeometry:JC,ImageBitmapLoader:Ppe,ImageLoader:Ex,ImageUtils:q7,IncrementStencilOp:ude,IncrementWrapStencilOp:cde,InstancedBufferAttribute:R_,InstancedBufferGeometry:UH,InstancedInterleavedBuffer:rme,InstancedMesh:tH,Int16BufferAttribute:yhe,Int32BufferAttribute:vhe,Int8BufferAttribute:mhe,IntType:RC,InterleavedBuffer:WC,InterleavedBufferAttribute:km,Interpolant:d1,InterpolateDiscrete:fx,InterpolateLinear:TM,InterpolateSmooth:qw,InterpolationSamplingMode:Ide,InterpolationSamplingType:Rde,InvertStencilOp:dde,KeepStencilOp:Qp,KeyframeTrack:nl,LOD:J7,LatheGeometry:eA,Layers:A_,LessCompare:U7,LessDepth:VT,LessEqualCompare:FC,LessEqualDepth:Nm,LessEqualStencilFunc:gde,LessStencilFunc:pde,Light:qh,LightProbe:FH,Line:Ph,Line3:hme,LineBasicMaterial:no,LineCurve:g6,LineCurve3:fH,LineDashedMaterial:TH,LineLoop:iH,LineSegments:zc,LinearFilter:gr,LinearInterpolant:T6,LinearMipMapLinearFilter:Yfe,LinearMipMapNearestFilter:Xfe,LinearMipmapLinearFilter:wc,LinearMipmapNearestFilter:xb,LinearSRGBColorSpace:Oh,LinearToneMapping:WO,LinearTransfer:hx,Loader:zo,LoaderUtils:II,LoadingManager:C6,LoopOnce:N7,LoopPingPong:k7,LoopRepeat:O7,MOUSE:Gfe,Material:wa,MaterialLoader:oA,MathUtils:Qde,Matrix2:P6,Matrix3:On,Matrix4:_n,MaxEquation:m7,Mesh:ds,MeshBasicMaterial:Wh,MeshDepthMaterial:S6,MeshDistanceMaterial:E6,MeshLambertMaterial:EH,MeshMatcapMaterial:wH,MeshNormalMaterial:SH,MeshPhongMaterial:bH,MeshPhysicalMaterial:vH,MeshStandardMaterial:x6,MeshToonMaterial:xH,MinEquation:p7,MirroredRepeatWrapping:cx,MixOperation:D7,MultiplyBlending:EI,MultiplyOperation:s1,NearestFilter:Qr,NearestMipMapLinearFilter:$fe,NearestMipMapNearestFilter:qfe,NearestMipmapLinearFilter:jg,NearestMipmapNearestFilter:ZO,NeutralToneMapping:YO,NeverCompare:F7,NeverDepth:zT,NeverStencilFunc:hde,NoBlending:Ac,NoColorSpace:Cf,NoNormalPacking:ide,NoToneMapping:Xu,NormalAnimationBlendMode:LC,NormalBlending:_m,NormalGAPacking:sde,NormalRGPacking:rde,NotEqualCompare:H7,NotEqualDepth:qT,NotEqualStencilFunc:yde,NumberKeyframeTrack:bx,Object3D:xi,ObjectLoader:Ope,ObjectSpaceNormalMap:L7,OctahedronGeometry:c1,OneFactor:_7,OneMinusConstantAlphaFactor:A7,OneMinusConstantColorFactor:M7,OneMinusDstAlphaFactor:x7,OneMinusDstColorFactor:E7,OneMinusSrcAlphaFactor:BT,OneMinusSrcColorFactor:v7,OrthographicCamera:sy,PCFShadowMap:e_,PCFSoftShadowMap:bb,PMREMGenerator:kI,Path:DM,PerspectiveCamera:Os,Plane:eh,PlaneGeometry:ry,PlaneHelper:Tme,PointLight:OH,PointLightHelper:gme,Points:rH,PointsMaterial:d6,PolarGridHelper:bme,PolyhedronGeometry:jh,PositionalAudio:Hpe,PropertyBinding:vi,PropertyMixer:VH,QuadraticBezierCurve:_6,QuadraticBezierCurve3:y6,Quaternion:No,QuaternionKeyframeTrack:h1,QuaternionLinearInterpolant:DH,R11_EAC_Format:eM,RED_GREEN_RGTC2_Format:EM,RED_RGTC1_Format:xM,REVISION:CC,RG11_EAC_Format:nM,RGBADepthPacking:ede,RGBAFormat:ba,RGBAIntegerFormat:PC,RGBA_ASTC_10x10_Format:mM,RGBA_ASTC_10x5_Format:dM,RGBA_ASTC_10x6_Format:hM,RGBA_ASTC_10x8_Format:pM,RGBA_ASTC_12x10_Format:gM,RGBA_ASTC_12x12_Format:_M,RGBA_ASTC_4x4_Format:rM,RGBA_ASTC_5x4_Format:sM,RGBA_ASTC_5x5_Format:aM,RGBA_ASTC_6x5_Format:oM,RGBA_ASTC_6x6_Format:uM,RGBA_ASTC_8x5_Format:lM,RGBA_ASTC_8x6_Format:cM,RGBA_ASTC_8x8_Format:fM,RGBA_BPTC_Format:yM,RGBA_ETC2_EAC_Format:JT,RGBA_PVRTC_2BPPV1_Format:ZT,RGBA_PVRTC_4BPPV1_Format:YT,RGBA_S3TC_DXT1_Format:Eb,RGBA_S3TC_DXT3_Format:wb,RGBA_S3TC_DXT5_Format:Tb,RGBDepthPacking:tde,RGBFormat:n6,RGBIntegerFormat:Zfe,RGB_BPTC_SIGNED_Format:vM,RGB_BPTC_UNSIGNED_Format:bM,RGB_ETC1_Format:KT,RGB_ETC2_Format:QT,RGB_PVRTC_2BPPV1_Format:XT,RGB_PVRTC_4BPPV1_Format:$T,RGB_S3TC_DXT1_Format:Sb,RGDepthPacking:nde,RGFormat:Om,RGIntegerFormat:kC,RawShaderMaterial:b6,Ray:ny,Raycaster:WH,RectAreaLight:LH,RedFormat:OC,RedIntegerFormat:a1,ReinhardToneMapping:jO,RenderTarget:s6,RenderTarget3D:tme,RepeatWrapping:lx,ReplaceStencilOp:ode,ReverseSubtractEquation:h7,RingGeometry:tA,SIGNED_R11_EAC_Format:tM,SIGNED_RED_GREEN_RGTC2_Format:wM,SIGNED_RED_RGTC1_Format:SM,SIGNED_RG11_EAC_Format:iM,SRGBColorSpace:_a,SRGBTransfer:Li,Scene:l6,ShaderChunk:Vn,ShaderLib:Rl,ShaderMaterial:tl,ShadowMaterial:yH,Shape:vm,ShapeGeometry:nA,ShapePath:Ame,ShapeUtils:Nl,ShortType:QO,Skeleton:jC,SkeletonHelper:mme,SkinnedMesh:eH,Source:uh,Sphere:Ks,SphereGeometry:f1,Spherical:ume,SphericalHarmonics3:D6,SplineCurve:v6,SpotLight:NH,SpotLightHelper:pme,Sprite:Q7,SpriteMaterial:c6,SrcAlphaFactor:UT,SrcAlphaSaturateFactor:w7,SrcColorFactor:y7,StaticCopyUsage:Tde,StaticDrawUsage:px,StaticReadUsage:Sde,StereoCamera:Fpe,StreamCopyUsage:Cde,StreamDrawUsage:xde,StreamReadUsage:wde,StringKeyframeTrack:Qm,SubtractEquation:d7,SubtractiveBlending:SI,TOUCH:Wfe,TangentSpaceNormalMap:Gh,TetrahedronGeometry:iA,Texture:Gr,TextureLoader:Dpe,TextureUtils:kme,Timer:ame,TimestampQuery:Dde,TorusGeometry:rA,TorusKnotGeometry:sA,Triangle:Do,TriangleFanDrawMode:Jfe,TriangleStripDrawMode:Qfe,TrianglesDrawMode:Kfe,TubeGeometry:aA,UVMapping:DC,Uint16BufferAttribute:a6,Uint32BufferAttribute:o6,Uint8BufferAttribute:ghe,Uint8ClampedBufferAttribute:_he,Uniform:k6,UniformsGroup:ime,UniformsLib:Bt,UniformsUtils:Y7,UnsignedByteType:qa,UnsignedInt101111Type:e6,UnsignedInt248Type:w_,UnsignedInt5999Type:JO,UnsignedIntType:el,UnsignedShort4444Type:IC,UnsignedShort5551Type:NC,UnsignedShortType:E_,VSMShadowMap:om,Vector2:ft,Vector3:oe,Vector4:Zi,VectorKeyframeTrack:xx,VideoFrameTexture:zhe,VideoTexture:sH,WebGL3DRenderTarget:ihe,WebGLArrayRenderTarget:nhe,WebGLCoordinateSystem:nu,WebGLCubeRenderTarget:u6,WebGLRenderTarget:uu,WebGLRenderer:QH,WebGLUtils:KH,WebGPUCoordinateSystem:T_,WebXRController:$w,WireframeGeometry:_H,WrapAroundEnding:dx,ZeroCurvatureEnding:um,ZeroFactor:g7,ZeroSlopeEnding:lm,ZeroStencilOp:ade,createCanvasElement:j7,error:en,getConsoleFunction:kde,log:gx,setConsoleFunction:Ode,warn:Ut,warnOnce:M_},Symbol.toStringTag,{value:"Module"}));var LD={exports:{}},FD={},UD={exports:{}},BD={};var kF;function Dve(){if(kF)return BD;kF=1;var t=Px();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(g,y){var _=y(),x=i({inst:{value:_,getSnapshot:y}}),S=x[0].inst,E=x[1];return s(function(){S.value=_,S.getSnapshot=y,l(S)&&E({inst:S})},[g,_,y]),r(function(){return l(S)&&E({inst:S}),g(function(){l(S)&&E({inst:S})})},[g]),a(_),_}function l(g){var y=g.getSnapshot;g=g.value;try{var _=y();return!n(g,_)}catch{return!0}}function f(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return BD.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,BD}var PF;function Rve(){return PF||(PF=1,UD.exports=Dve()),UD.exports}var LF;function Ive(){if(LF)return FD;LF=1;var t=Px(),e=Rve();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return FD.useSyncExternalStoreWithSelector=function(f,p,g,y,_){var x=s(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=o(function(){function w(O){if(!C){if(C=!0,A=O,O=y(O),_!==void 0&&S.hasValue){var P=S.value;if(_(P,O))return R=P}return R=O}if(P=R,i(A,O))return P;var z=y(O);return _!==void 0&&_(P,z)?(A=O,P):(A=O,R=z)}var C=!1,A,R,N=g===void 0?null:g;return[function(){return w(p())},N===null?void 0:function(){return w(N())}]},[p,g,y,_]);var E=r(f,x[0],x[1]);return a(function(){S.hasValue=!0,S.value=E},[E]),l(E),E},FD}var FF;function Nve(){return FF||(FF=1,LD.exports=Ive()),LD.exports}var Ove=Nve();const kve=kx(Ove),UF=t=>{let e;const n=new Set,i=(f,p)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const y=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(_=>_(e,y))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>l,subscribe:f=>(n.add(f),()=>n.delete(f))},l=e=t(i,r,o);return o},Pve=(t=>t?UF(t):UF),{useSyncExternalStoreWithSelector:Lve}=kve,Fve=t=>t;function Uve(t,e=Fve,n){const i=Lve(t.subscribe,t.getState,t.getInitialState,e,n);return Dt.useDebugValue(i),i}const BF=(t,e)=>{const n=Pve(t),i=(r,s=e)=>Uve(n,r,s);return Object.assign(i,n),i},Bve=((t,e)=>t?BF(t,e):BF);var FI=X5();const zve=kx(FI);function L6(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=L6(i,e,n);if(r)return r;i=e?null:i.sibling}}function JH(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const F6=JH(U.createContext(null));class eV extends U.Component{render(){return U.createElement(F6.Provider,{value:this._reactInternals},this.props.children)}}function tV(){const t=U.useContext(F6);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=U.useId();return U.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const i=L6(n,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[t,e])}const Hve=Symbol.for("react.context"),Vve=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Hve;function Gve(){const t=tV(),[e]=U.useState(()=>new Map);e.clear();let n=t;for(;n;){const i=n.type;Vve(i)&&i!==F6&&!e.has(i)&&e.set(i,U.use(JH(i))),n=n.return}return e}function Wve(){const t=Gve();return U.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>U.createElement(e,null,U.createElement(n.Provider,{...i,value:t.get(n)})),e=>U.createElement(eV,{...e})),[t])}function nV(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const iV=t=>t&&t.isOrthographicCamera,jve=t=>t&&t.hasOwnProperty("current"),qve=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),p1=((t,e)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?U.useLayoutEffect:U.useEffect;function rV(t){const e=U.useRef(t);return p1(()=>{e.current=t},[t]),e}function $ve(){const t=tV(),e=Wve();return U.useMemo(()=>({children:n})=>{const r=!!L6(t,!0,s=>s.type===U.StrictMode)?U.StrictMode:U.Fragment;return V.jsx(r,{children:V.jsx(e,{children:n})})},[t,e])}function Xve({set:t}){return p1(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const Yve=(t=>(t=class extends U.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function sV(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}function Mg(t){var e;return(e=t.__r3f)==null?void 0:e.root.getState()}const Ir={obj:t=>t===Object(t)&&!Ir.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Ir.str(t)||Ir.num(t)||Ir.boo(t))return t===e;const s=Ir.obj(t);if(s&&i==="reference")return t===e;const a=Ir.arr(t);if(a&&n==="reference")return t===e;if((a||s)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(s&&n==="shallow"&&i==="shallow"){for(o in r?e:t)if(!Ir.equ(t[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:t)if(t[o]!==e[o])return!1;if(Ir.und(o)){if(a&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Zve(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const e in t){const n=t[e];n?.type!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const aV=["children","key","ref"];function Kve(t){const e={};for(const n in t)aV.includes(n)||(e[n]=t[n]);return e}function RM(t,e,n,i){const r=t;let s=r?.__r3f;return s||(s={root:e,type:n,parent:null,children:[],props:Kve(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function wx(t,e){if(!e.includes("-"))return{root:t,key:e,target:t[e]};if(e in t)return{root:t,key:e,target:t[e]};let n=t;const i=e.split("-");for(const r of i){if(typeof n!="object"||n===null){if(n!==void 0){const s=i.slice(i.indexOf(r)).join("-");return{root:n,key:s,target:void 0}}return{root:t,key:e,target:void 0}}e=r,t=n,n=n[e]}return{root:t,key:e,target:n}}const zF=/-\d+$/;function IM(t,e){if(Ir.str(e.props.attach)){if(zF.test(e.props.attach)){const r=e.props.attach.replace(zF,""),{root:s,key:a}=wx(t.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:n,key:i}=wx(t.object,e.props.attach);e.previousAttach=n[i],n[i]=e.object}else Ir.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function NM(t,e){if(Ir.str(e.props.attach)){const{root:n,key:i}=wx(t.object,e.props.attach),r=e.previousAttach;r===void 0?delete n[i]:n[i]=r}else e.previousAttach==null||e.previousAttach(t.object,e.object);delete e.previousAttach}const UI=[...aV,"args","dispose","attach","object","onUpdate","dispose"],HF=new Map;function Qve(t){let e=HF.get(t.constructor);try{e||(e=new t.constructor,HF.set(t.constructor,e))}catch{}return e}function Jve(t,e){const n={};for(const i in e)if(!UI.includes(i)&&!Ir.equ(e[i],t.props[i])){n[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(n[r]=e[r])}for(const i in t.props){if(UI.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=wx(t.object,i);if(r.constructor&&r.constructor.length===0){const a=Qve(r);Ir.und(a)||(n[s]=a[s])}else n[s]=0}return n}const ebe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],tbe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function ih(t,e){var n;const i=t.__r3f,r=i&&nV(i).getState(),s=i?.eventCount;for(const o in e){let l=e[o];if(UI.includes(o))continue;if(i&&tbe.test(o)){typeof l=="function"?i.handlers[o]=l:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(l===void 0)continue;let{root:f,key:p,target:g}=wx(t,o);if(g===void 0&&(typeof f!="object"||f===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${p}".`);if(g instanceof A_&&l instanceof A_)g.mask=l.mask;else if(g instanceof Vt&&qve(l))g.set(l);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&l!=null&&l.constructor&&g.constructor===l.constructor)g.copy(l);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(l))typeof g.fromArray=="function"?g.fromArray(l):g.set(...l);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof l=="number")typeof g.setScalar=="function"?g.setScalar(l):g.set(l);else{var a;f[p]=l,r&&!r.linear&&ebe.includes(p)&&(a=f[p])!=null&&a.isTexture&&f[p].format===ba&&f[p].type===qa&&(f[p].colorSpace=_a)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(n=i.object)!=null&&n.isObject3D&&s!==i.eventCount){const o=i.object,l=r.internal.interaction.indexOf(o);l>-1&&r.internal.interaction.splice(l,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&oy(i),t}function oy(t){var e;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const n=(e=t.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function nbe(t,e){t.manual||(iV(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix())}const Ao=t=>t?.isObject3D;function hw(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function oV(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function ibe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{oV(n.capturedMap,e,i,r)})}function rbe(t){function e(l){const{internal:f}=t.getState(),p=l.offsetX-f.initialClick[0],g=l.offsetY-f.initialClick[1];return Math.round(Math.sqrt(p*p+g*g))}function n(l){return l.filter(f=>["Move","Over","Enter","Out","Leave"].some(p=>{var g;return(g=f.__r3f)==null?void 0:g.handlers["onPointer"+p]}))}function i(l,f){const p=t.getState(),g=new Set,y=[],_=f?f(p.internal.interaction):p.internal.interaction;for(let w=0;w<_.length;w++){const C=Mg(_[w]);C&&(C.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(l,p);function x(w){const C=Mg(w);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var A;C.events.compute==null||C.events.compute(l,C,(A=C.previousRoot)==null?void 0:A.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(w,!0):[]}let S=_.flatMap(x).sort((w,C)=>{const A=Mg(w.object),R=Mg(C.object);return!A||!R?w.distance-C.distance:R.events.priority-A.events.priority||w.distance-C.distance}).filter(w=>{const C=hw(w);return g.has(C)?!1:(g.add(C),!0)});p.events.filter&&(S=p.events.filter(S,p));for(const w of S){let C=w.object;for(;C;){var E;(E=C.__r3f)!=null&&E.eventCount&&y.push({...w,eventObject:C}),C=C.parent}}if("pointerId"in l&&p.internal.capturedMap.has(l.pointerId))for(let w of p.internal.capturedMap.get(l.pointerId).values())g.has(hw(w.intersection))||y.push(w.intersection);return y}function r(l,f,p,g){if(l.length){const y={stopped:!1};for(const _ of l){let x=Mg(_.object);if(x||_.object.traverseAncestors(S=>{const E=Mg(S);if(E)return x=E,!1}),x){const{raycaster:S,pointer:E,camera:w,internal:C}=x,A=new oe(E.x,E.y,0).unproject(w),R=k=>{var F,G;return(F=(G=C.capturedMap.get(k))==null?void 0:G.has(_.eventObject))!=null?F:!1},N=k=>{const F={intersection:_,target:f.target};C.capturedMap.has(k)?C.capturedMap.get(k).set(_.eventObject,F):C.capturedMap.set(k,new Map([[_.eventObject,F]])),f.target.setPointerCapture(k)},O=k=>{const F=C.capturedMap.get(k);F&&oV(C.capturedMap,_.eventObject,F,k)};let P={};for(let k in f){let F=f[k];typeof F!="function"&&(P[k]=F)}let z={..._,...P,pointer:E,intersections:l,stopped:y.stopped,delta:p,unprojectedPoint:A,ray:S.ray,camera:w,stopPropagation(){const k="pointerId"in f&&C.capturedMap.get(f.pointerId);if((!k||k.has(_.eventObject))&&(z.stopped=y.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(F=>F.eventObject===_.eventObject))){const F=l.slice(0,l.indexOf(_));s([...F,_])}},target:{hasPointerCapture:R,setPointerCapture:N,releasePointerCapture:O},currentTarget:{hasPointerCapture:R,setPointerCapture:N,releasePointerCapture:O},nativeEvent:f};if(g(z),y.stopped===!0)break}}}return l}function s(l){const{internal:f}=t.getState();for(const p of f.hovered.values())if(!l.length||!l.find(g=>g.object===p.object&&g.index===p.index&&g.instanceId===p.instanceId)){const y=p.eventObject.__r3f;if(f.hovered.delete(hw(p)),y!=null&&y.eventCount){const _=y.handlers,x={...p,intersections:l};_.onPointerOut==null||_.onPointerOut(x),_.onPointerLeave==null||_.onPointerLeave(x)}}}function a(l,f){for(let p=0;p<f.length;p++){const g=f[p].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return f=>{const{internal:p}=t.getState();"pointerId"in f&&p.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(f.pointerId)&&(p.capturedMap.delete(f.pointerId),s([]))})}}return function(p){const{onPointerMissed:g,internal:y}=t.getState();y.lastEvent.current=p;const _=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",E=i(p,_?n:void 0),w=x?e(p):0;l==="onPointerDown"&&(y.initialClick=[p.offsetX,p.offsetY],y.initialHits=E.map(A=>A.eventObject)),x&&!E.length&&w<=2&&(a(p,y.interaction),g&&g(p)),_&&s(E);function C(A){const R=A.eventObject,N=R.__r3f;if(!(N!=null&&N.eventCount))return;const O=N.handlers;if(_){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const P=hw(A),z=y.hovered.get(P);z?z.stopped&&A.stopPropagation():(y.hovered.set(P,A),O.onPointerOver==null||O.onPointerOver(A),O.onPointerEnter==null||O.onPointerEnter(A))}O.onPointerMove==null||O.onPointerMove(A)}else{const P=O[l];P?(!x||y.initialHits.includes(R))&&(a(p,y.interaction.filter(z=>!y.initialHits.includes(z))),P(A)):x&&y.initialHits.includes(R)&&a(p,y.interaction.filter(z=>!y.initialHits.includes(z)))}}r(E,p,w,C)}}return{handlePointer:o}}const VF=t=>!!(t!=null&&t.render),uV=U.createContext(null),sbe=(t,e)=>{const n=Bve((o,l)=>{const f=new oe,p=new oe,g=new oe;function y(w=l().camera,C=p,A=l().size){const{width:R,height:N,top:O,left:P}=A,z=R/N;C.isVector3?g.copy(C):g.set(...C);const k=w.getWorldPosition(f).distanceTo(g);if(iV(w))return{width:R/w.zoom,height:N/w.zoom,top:O,left:P,factor:1,distance:k,aspect:z};{const F=w.fov*Math.PI/180,G=2*Math.tan(F/2)*k,$=G*(R/N);return{width:$,height:G,top:O,left:P,factor:R/$,distance:k,aspect:z}}}let _;const x=w=>o(C=>({performance:{...C.performance,current:w}})),S=new ft;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(w=1)=>t(l(),w),advance:(w,C)=>e(w,C,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new I6,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=l();_&&clearTimeout(_),w.performance.current!==w.performance.min&&x(w.performance.min),_=setTimeout(()=>x(l().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:w=>o(C=>({...C,events:{...C.events,...w}})),setSize:(w,C,A=0,R=0)=>{const N=l().camera,O={width:w,height:C,top:A,left:R};o(P=>({size:O,viewport:{...P.viewport,...y(N,p,O)}}))},setDpr:w=>o(C=>{const A=sV(w);return{viewport:{...C.viewport,dpr:A,initialDpr:C.viewport.initialDpr||A}}}),setFrameloop:(w="always")=>{const C=l().clock;C.stop(),C.elapsedTime=0,w!=="never"&&(C.start(),C.elapsedTime=0),o(()=>({frameloop:w}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:U.createRef(),active:!1,frames:0,priority:0,subscribe:(w,C,A)=>{const R=l().internal;return R.priority=R.priority+(C>0?1:0),R.subscribers.push({ref:w,priority:C,store:A}),R.subscribers=R.subscribers.sort((N,O)=>N.priority-O.priority),()=>{const N=l().internal;N!=null&&N.subscribers&&(N.priority=N.priority-(C>0?1:0),N.subscribers=N.subscribers.filter(O=>O.ref!==w))}}}}}),i=n.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:f,gl:p,set:g}=n.getState();if(l.width!==r.width||l.height!==r.height||f.dpr!==s){r=l,s=f.dpr,nbe(o,l),f.dpr>0&&p.setPixelRatio(f.dpr);const y=typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(l.width,l.height,y)}o!==a&&(a=o,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};function lV(){const t=U.useContext(uV);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function cV(t=n=>n,e){return lV()(t,e)}function fV(t,e=0){const n=lV(),i=n.getState().internal.subscribe,r=rV(t);return p1(()=>i(r,e,n),[e,i,n]),null}const abe=1,obe=8,ube=32,lbe=2;var cbe={version:"9.5.0"};function fbe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GF={exports:{}},WF={exports:{}},jF;function dbe(){return jF||(jF=1,(function(t){t.exports=function(e){function n(d,h,b,T){return new Ry(d,h,b,T)}function i(){}function r(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)h+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(d){var h=d,b=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(b=h.return),d=h.return;while(d)}return h.tag===3?b:null}function a(d){if(s(d)!==d)throw Error(r(188))}function o(d){var h=d.alternate;if(!h){if(h=s(d),h===null)throw Error(r(188));return h!==d?null:d}for(var b=d,T=h;;){var I=b.return;if(I===null)break;var L=I.alternate;if(L===null){if(T=I.return,T!==null){b=T;continue}break}if(I.child===L.child){for(L=I.child;L;){if(L===b)return a(I),d;if(L===T)return a(I),h;L=L.sibling}throw Error(r(188))}if(b.return!==T.return)b=I,T=L;else{for(var Y=!1,_e=I.child;_e;){if(_e===b){Y=!0,b=I,T=L;break}if(_e===T){Y=!0,T=I,b=L;break}_e=_e.sibling}if(!Y){for(_e=L.child;_e;){if(_e===b){Y=!0,b=L,T=I;break}if(_e===T){Y=!0,T=L,b=I;break}_e=_e.sibling}if(!Y)throw Error(r(189))}}if(b.alternate!==T)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?d:h}function l(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d;for(d=d.child;d!==null;){if(h=l(d),h!==null)return h;d=d.sibling}return null}function f(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d;for(d=d.child;d!==null;){if(d.tag!==4&&(h=f(d),h!==null))return h;d=d.sibling}return null}function p(d){return d===null||typeof d!="object"?null:(d=fl&&d[fl]||d["@@iterator"],typeof d=="function"?d:null)}function g(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===Yl?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case Qc:return"Fragment";case ef:return"Profiler";case Jc:return"StrictMode";case T0:return"Suspense";case cl:return"SuspenseList";case gp:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case Kc:return"Portal";case lo:return d.displayName||"Context";case mp:return(d._context.displayName||"Context")+".Consumer";case _d:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case M0:return h=d.displayName||null,h!==null?h:g(d.type)||"Memo";case zs:h=d._payload,d=d._init;try{return g(d(h))}catch{}}return null}function y(d){return{current:d}}function _(d){0>af||(d.current=B0[af],B0[af]=null,af--)}function x(d,h){af++,B0[af]=d.current,d.current=h}function S(d){return d>>>=0,d===0?32:31-(z0(d)/NS|0)|0}function E(d){var h=d&42;if(h!==0)return h;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function w(d,h,b){var T=d.pendingLanes;if(T===0)return 0;var I=0,L=d.suspendedLanes,Y=d.pingedLanes;d=d.warmLanes;var _e=T&134217727;return _e!==0?(T=_e&~L,T!==0?I=E(T):(Y&=_e,Y!==0?I=E(Y):b||(b=_e&~d,b!==0&&(I=E(b))))):(_e=T&~L,_e!==0?I=E(_e):Y!==0?I=E(Y):b||(b=T&~d,b!==0&&(I=E(b)))),I===0?0:h!==0&&h!==I&&(h&L)===0&&(L=I&-I,b=h&-h,L>=b||L===32&&(b&4194048)!==0)?h:I}function C(d,h){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&h)===0}function A(d,h){switch(d){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R(){var d=wd;return wd<<=1,(wd&62914560)===0&&(wd=4194304),d}function N(d){for(var h=[],b=0;31>b;b++)h.push(d);return h}function O(d,h){d.pendingLanes|=h,h!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function P(d,h,b,T,I,L){var Y=d.pendingLanes;d.pendingLanes=b,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=b,d.entangledLanes&=b,d.errorRecoveryDisabledLanes&=b,d.shellSuspendCounter=0;var _e=d.entanglements,Ge=d.expirationTimes,ct=d.hiddenUpdates;for(b=Y&~b;0<b;){var Mt=31-sa(b),mt=1<<Mt;_e[Mt]=0,Ge[Mt]=-1;var zt=ct[Mt];if(zt!==null)for(ct[Mt]=null,Mt=0;Mt<zt.length;Mt++){var wn=zt[Mt];wn!==null&&(wn.lane&=-536870913)}b&=~mt}T!==0&&z(d,T,0),L!==0&&I===0&&d.tag!==0&&(d.suspendedLanes|=L&~(Y&~h))}function z(d,h,b){d.pendingLanes|=h,d.suspendedLanes&=~h;var T=31-sa(h);d.entangledLanes|=h,d.entanglements[T]=d.entanglements[T]|1073741824|b&261930}function k(d,h){var b=d.entangledLanes|=h;for(d=d.entanglements;b;){var T=31-sa(b),I=1<<T;I&h|d[T]&h&&(d[T]|=h),b&=~I}}function F(d,h){var b=h&-h;return b=(b&42)!==0?1:G(b),(b&(d.suspendedLanes|h))!==0?0:b}function G(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function $(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function ee(d){if(typeof mv=="function"&&PS(d),aa&&typeof aa.setStrictMode=="function")try{aa.setStrictMode(uf,d)}catch{}}function ne(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}function re(d){if(q0===void 0)try{throw Error()}catch(b){var h=b.stack.trim().match(/\n( *(at )?)/);q0=h&&h[1]||"",Ru=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q0+d+Ru}function W(d,h){if(!d||Tp)return"";Tp=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(h){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(wn){var zt=wn}Reflect.construct(d,[],mt)}else{try{mt.call()}catch(wn){zt=wn}d.call(mt.prototype)}}else{try{throw Error()}catch(wn){zt=wn}(mt=d())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(wn){if(wn&&zt&&typeof wn.stack=="string")return[wn.stack,zt.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=T.DetermineComponentFrameRoot(),Y=L[0],_e=L[1];if(Y&&_e){var Ge=Y.split(`
`),ct=_e.split(`
`);for(I=T=0;T<Ge.length&&!Ge[T].includes("DetermineComponentFrameRoot");)T++;for(;I<ct.length&&!ct[I].includes("DetermineComponentFrameRoot");)I++;if(T===Ge.length||I===ct.length)for(T=Ge.length-1,I=ct.length-1;1<=T&&0<=I&&Ge[T]!==ct[I];)I--;for(;1<=T&&0<=I;T--,I--)if(Ge[T]!==ct[I]){if(T!==1||I!==1)do if(T--,I--,0>I||Ge[T]!==ct[I]){var Mt=`
`+Ge[T].replace(" at new "," at ");return d.displayName&&Mt.includes("<anonymous>")&&(Mt=Mt.replace("<anonymous>",d.displayName)),Mt}while(1<=T&&0<=I);break}}}finally{Tp=!1,Error.prepareStackTrace=b}return(b=d?d.displayName||d.name:"")?re(b):""}function q(d,h){switch(d.tag){case 26:case 27:case 5:return re(d.type);case 16:return re("Lazy");case 13:return d.child!==h&&h!==null?re("Suspense Fallback"):re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return W(d.type,!1);case 11:return W(d.type.render,!1);case 1:return W(d.type,!0);case 31:return re("Activity");default:return""}}function te(d){try{var h="",b=null;do h+=q(d,b),b=d,d=d.return;while(d);return h}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function se(d,h){if(typeof d=="object"&&d!==null){var b=gv.get(d);return b!==void 0?b:(h={value:d,source:h,stack:te(h)},gv.set(d,h),h)}return{value:d,source:h,stack:te(h)}}function Z(d,h){pl[Iu++]=Mp,pl[Iu++]=Pi,Pi=d,Mp=h}function j(d,h,b){ho[Ia++]=ms,ho[Ia++]=Vo,ho[Ia++]=po,po=d;var T=ms;d=Vo;var I=32-sa(T)-1;T&=~(1<<I),b+=1;var L=32-sa(h)+I;if(30<L){var Y=I-I%5;L=(T&(1<<Y)-1).toString(32),T>>=Y,I-=Y,ms=1<<32-sa(h)+I|b<<I|T,Vo=L+d}else ms=1<<L|b<<I|T,Vo=d}function ue(d){d.return!==null&&(Z(d,1),j(d,1,0))}function ge(d){for(;d===Pi;)Pi=pl[--Iu],pl[Iu]=null,Mp=pl[--Iu],pl[Iu]=null;for(;d===po;)po=ho[--Ia],ho[Ia]=null,Vo=ho[--Ia],ho[Ia]=null,ms=ho[--Ia],ho[Ia]=null}function Se(d,h){ho[Ia++]=ms,ho[Ia++]=Vo,ho[Ia++]=po,ms=h.id,Vo=h.overflow,po=d}function Fe(d,h){x(gs,h),x(ml,d),x(is,null),d=X1(h),_(is),x(is,d)}function ve(){_(is),_(ml),_(gs)}function fe(d){d.memoizedState!==null&&x(Cp,d);var h=is.current,b=bd(h,d.type);h!==b&&(x(ml,d),x(is,b))}function He(d){ml.current===d&&(_(is),_(ml)),Cp.current===d&&(_(Cp),Tr?rf._currentValue=nf:rf._currentValue2=nf)}function Xe(d){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ve(se(h,d)),$0}function Ye(d,h){if(!Qi)throw Error(r(175));bS(d.stateNode,d.type,d.memoizedProps,h,d)||Xe(d,!0)}function bt(d){for($r=d.return;$r;)switch($r.tag){case 5:case 31:case 13:Vs=!1;return;case 27:case 3:Vs=!0;return;default:$r=$r.return}}function Ct(d){if(!Qi||d!==$r)return!1;if(!$n)return bt(d),$n=!0,!1;var h=d.tag;if(qr?h!==3&&h!==27&&(h!==5||Ed(d.type)&&!Hs(d.type,d.memoizedProps))&&Ji&&Xe(d):h!==3&&(h!==5||Ed(d.type)&&!Hs(d.type,d.memoizedProps))&&Ji&&Xe(d),bt(d),h===13){if(!Qi)throw Error(r(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));Ji=rv(d)}else if(h===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));Ji=SS(d)}else Ji=qr&&h===27?dS(d.type,Ji):$r?fS(d.stateNode):null;return!0}function at(){Qi&&(Ji=$r=null,$n=!1)}function Ae(){var d=Nu;return d!==null&&(la===null?la=d:la.push.apply(la,d),Nu=null),d}function Ve(d){Nu===null?Nu=[d]:Nu.push(d)}function Ue(d,h,b){Tr?(x(mo,h._currentValue),h._currentValue=b):(x(mo,h._currentValue2),h._currentValue2=b)}function de(d){var h=mo.current;Tr?d._currentValue=h:d._currentValue2=h,_(mo)}function ie(d,h,b){for(;d!==null;){var T=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,T!==null&&(T.childLanes|=h)):T!==null&&(T.childLanes&h)!==h&&(T.childLanes|=h),d===b)break;d=d.return}}function It(d,h,b,T){var I=d.child;for(I!==null&&(I.return=d);I!==null;){var L=I.dependencies;if(L!==null){var Y=I.child;L=L.firstContext;e:for(;L!==null;){var _e=L;L=I;for(var Ge=0;Ge<h.length;Ge++)if(_e.context===h[Ge]){L.lanes|=b,_e=L.alternate,_e!==null&&(_e.lanes|=b),ie(L.return,b,d),T||(Y=null);break e}L=_e.next}}else if(I.tag===18){if(Y=I.return,Y===null)throw Error(r(341));Y.lanes|=b,L=Y.alternate,L!==null&&(L.lanes|=b),ie(Y,b,d),Y=null}else Y=I.child;if(Y!==null)Y.return=I;else for(Y=I;Y!==null;){if(Y===d){Y=null;break}if(I=Y.sibling,I!==null){I.return=Y.return,Y=I;break}Y=Y.return}I=Y}}function $e(d,h,b,T){d=null;for(var I=h,L=!1;I!==null;){if(!L){if((I.flags&524288)!==0)L=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var Y=I.alternate;if(Y===null)throw Error(r(387));if(Y=Y.memoizedProps,Y!==null){var _e=I.type;Cr(I.pendingProps.value,Y.value)||(d!==null?d.push(_e):d=[_e])}}else if(I===Cp.current){if(Y=I.alternate,Y===null)throw Error(r(387));Y.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(d!==null?d.push(rf):d=[rf])}I=I.return}d!==null&&It(h,d,b,T),h.flags|=262144}function dt(d){for(d=d.firstContext;d!==null;){var h=d.context;if(!Cr(Tr?h._currentValue:h._currentValue2,d.memoizedValue))return!0;d=d.next}return!1}function Be(d){Vi=d,Go=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Q(d){return pe(Vi,d)}function H(d,h){return Vi===null&&Be(d),pe(d,h)}function pe(d,h){var b=Tr?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:b,next:null},Go===null){if(d===null)throw Error(r(308));Go=h,d.dependencies={lanes:0,firstContext:h},d.flags|=524288}else Go=Go.next=h;return b}function we(){return{controller:new LS,data:new Map,refCount:0}}function Re(d){d.refCount--,d.refCount===0&&rs(IA,function(){d.controller.abort()})}function Ie(){}function St(d){d!==Ri&&d.next===null&&(Ri===null?Ap=Ri=d:Ri=Ri.next=d),go=!0,Cs||(Cs=!0,_t())}function lt(d,h){if(!X0&&go){X0=!0;do for(var b=!1,T=Ap;T!==null;){if(d!==0){var I=T.pendingLanes;if(I===0)var L=0;else{var Y=T.suspendedLanes,_e=T.pingedLanes;L=(1<<31-sa(42|d)+1)-1,L&=I&~(Y&~_e),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(b=!0,xt(T,L))}else L=Xn,L=w(T,T===Ln?L:0,T.cancelPendingCommit!==null||T.timeoutHandle!==ra),(L&3)===0||C(T,L)||(b=!0,xt(T,L));T=T.next}while(b);X0=!1}}function kt(){Nt()}function Nt(){go=Cs=!1;var d=0;ec!==0&&tf()&&(d=ec);for(var h=Ms(),b=null,T=Ap;T!==null;){var I=T.next,L=Je(T,h);L===0?(T.next=null,b===null?Ap=I:b.next=I,I===null&&(Ri=b)):(b=T,(d!==0||(L&3)!==0)&&(go=!0)),T=I}Br!==0&&Br!==5||lt(d),ec!==0&&(ec=0)}function Je(d,h){for(var b=d.suspendedLanes,T=d.pingedLanes,I=d.expirationTimes,L=d.pendingLanes&-62914561;0<L;){var Y=31-sa(L),_e=1<<Y,Ge=I[Y];Ge===-1?((_e&b)===0||(_e&T)!==0)&&(I[Y]=A(_e,h)):Ge<=h&&(d.expiredLanes|=_e),L&=~_e}if(h=Ln,b=Xn,b=w(d,d===h?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==ra),T=d.callbackNode,b===0||d===h&&(Ni===2||Ni===9)||d.cancelPendingCommit!==null)return T!==null&&T!==null&&V0(T),d.callbackNode=null,d.callbackPriority=0;if((b&3)===0||C(d,b)){if(h=b&-b,h===d.callbackPriority)return h;switch(T!==null&&V0(T),$(b)){case 2:case 8:b=kS;break;case 32:b=wp;break;case 268435456:b=W0;break;default:b=wp}return T=tt.bind(null,d),b=Ep(b,T),d.callbackPriority=h,d.callbackNode=b,h}return T!==null&&T!==null&&V0(T),d.callbackPriority=2,d.callbackNode=null,2}function tt(d,h){if(Br!==0&&Br!==5)return d.callbackNode=null,d.callbackPriority=0,null;var b=d.callbackNode;if(Cu()&&d.callbackNode!==b)return null;var T=Xn;return T=w(d,d===Ln?T:0,d.cancelPendingCommit!==null||d.timeoutHandle!==ra),T===0?null:(Ho(d,T,h),Je(d,Ms()),d.callbackNode!=null&&d.callbackNode===b?tt.bind(null,d):null)}function xt(d,h){if(Cu())return null;Ho(d,h,!0)}function _t(){Vy?Gy(function(){(Gn&6)!==0?Ep(G0,kt):Nt()}):Ep(G0,kt)}function pt(){if(ec===0){var d=gl;d===0&&(d=H0,H0<<=1,(H0&261888)===0&&(H0=256)),ec=d}return ec}function Zt(d,h){if(Td===null){var b=Td=[];_v=0,gl=pt(),Xr={status:"pending",value:void 0,then:function(T){b.push(T)}}}return _v++,h.then(ce,ce),h}function ce(){if(--_v===0&&Td!==null){Xr!==null&&(Xr.status="fulfilled");var d=Td;Td=null,gl=0,Xr=null;for(var h=0;h<d.length;h++)(0,d[h])()}}function yt(d,h){var b=[],T={status:"pending",value:null,reason:null,then:function(I){b.push(I)}};return d.then(function(){T.status="fulfilled",T.value=h;for(var I=0;I<b.length;I++)(0,b[I])(h)},function(I){for(T.status="rejected",T.reason=I,I=0;I<b.length;I++)(0,b[I])(void 0)}),T}function rt(){var d=tc.current;return d!==null?d:Ln.pooledCache}function gt(d,h){h===null?x(tc,tc.current):x(tc,h.pool)}function je(){var d=rt();return d===null?null:{parent:Tr?er._currentValue:er._currentValue2,pool:d}}function J(d,h){if(Cr(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var b=Object.keys(d),T=Object.keys(h);if(b.length!==T.length)return!1;for(T=0;T<b.length;T++){var I=b[T];if(!RA.call(h,I)||!Cr(d[I],h[I]))return!1}return!0}function le(d){return d=d.status,d==="fulfilled"||d==="rejected"}function xe(d,h,b){switch(b=d[b],b===void 0?d.push(h):b!==h&&(h.then(Ie,Ie),h=b),h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,ht(d),d;default:if(typeof h.status=="string")h.then(Ie,Ie);else{if(d=Ln,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=h,d.status="pending",d.then(function(T){if(h.status==="pending"){var I=h;I.status="fulfilled",I.value=T}},function(T){if(h.status==="pending"){var I=h;I.status="rejected",I.reason=T}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,ht(d),d}throw Gs=h,Yr}}function et(d){try{var h=d._init;return h(d._payload)}catch(b){throw b!==null&&typeof b=="object"&&typeof b.then=="function"?(Gs=b,Yr):b}}function ot(){if(Gs===null)throw Error(r(459));var d=Gs;return Gs=null,d}function ht(d){if(d===Yr||d===yo)throw Error(r(483))}function Qe(d){var h=lf;return lf+=1,nc===null&&(nc=[]),xe(nc,d,h)}function Ne(d,h){h=h.props.ref,d.ref=h!==void 0?h:null}function st(d,h){throw h.$$typeof===Zc?Error(r(525)):(d=Object.prototype.toString.call(h),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d)))}function Et(d){function h(Pe,Me){if(d){var ze=Pe.deletions;ze===null?(Pe.deletions=[Me],Pe.flags|=16):ze.push(Me)}}function b(Pe,Me){if(!d)return null;for(;Me!==null;)h(Pe,Me),Me=Me.sibling;return null}function T(Pe){for(var Me=new Map;Pe!==null;)Pe.key!==null?Me.set(Pe.key,Pe):Me.set(Pe.index,Pe),Pe=Pe.sibling;return Me}function I(Pe,Me){return Pe=Da(Pe,Me),Pe.index=0,Pe.sibling=null,Pe}function L(Pe,Me,ze){return Pe.index=ze,d?(ze=Pe.alternate,ze!==null?(ze=ze.index,ze<Me?(Pe.flags|=67108866,Me):ze):(Pe.flags|=67108866,Me)):(Pe.flags|=1048576,Me)}function Y(Pe){return d&&Pe.alternate===null&&(Pe.flags|=67108866),Pe}function _e(Pe,Me,ze,wt){return Me===null||Me.tag!==6?(Me=Iy(ze,Pe.mode,wt),Me.return=Pe,Me):(Me=I(Me,ze),Me.return=Pe,Me)}function Ge(Pe,Me,ze,wt){var an=ze.type;return an===Qc?Mt(Pe,Me,ze.props.children,wt,ze.key):Me!==null&&(Me.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===zs&&et(an)===Me.type)?(Me=I(Me,ze.props),Ne(Me,ze),Me.return=Pe,Me):(Me=ll(ze.type,ze.key,ze.props,null,Pe.mode,wt),Ne(Me,ze),Me.return=Pe,Me)}function ct(Pe,Me,ze,wt){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==ze.containerInfo||Me.stateNode.implementation!==ze.implementation?(Me=Oy(ze,Pe.mode,wt),Me.return=Pe,Me):(Me=I(Me,ze.children||[]),Me.return=Pe,Me)}function Mt(Pe,Me,ze,wt,an){return Me===null||Me.tag!==7?(Me=uo(ze,Pe.mode,wt,an),Me.return=Pe,Me):(Me=I(Me,ze),Me.return=Pe,Me)}function mt(Pe,Me,ze){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Me=Iy(""+Me,Pe.mode,ze),Me.return=Pe,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case Au:return ze=ll(Me.type,Me.key,Me.props,null,Pe.mode,ze),Ne(ze,Me),ze.return=Pe,ze;case Kc:return Me=Oy(Me,Pe.mode,ze),Me.return=Pe,Me;case zs:return Me=et(Me),mt(Pe,Me,ze)}if(Zl(Me)||p(Me))return Me=uo(Me,Pe.mode,ze,null),Me.return=Pe,Me;if(typeof Me.then=="function")return mt(Pe,Qe(Me),ze);if(Me.$$typeof===lo)return mt(Pe,H(Pe,Me),ze);st(Pe,Me)}return null}function zt(Pe,Me,ze,wt){var an=Me!==null?Me.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return an!==null?null:_e(Pe,Me,""+ze,wt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case Au:return ze.key===an?Ge(Pe,Me,ze,wt):null;case Kc:return ze.key===an?ct(Pe,Me,ze,wt):null;case zs:return ze=et(ze),zt(Pe,Me,ze,wt)}if(Zl(ze)||p(ze))return an!==null?null:Mt(Pe,Me,ze,wt,null);if(typeof ze.then=="function")return zt(Pe,Me,Qe(ze),wt);if(ze.$$typeof===lo)return zt(Pe,Me,H(Pe,ze),wt);st(Pe,ze)}return null}function wn(Pe,Me,ze,wt,an){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return Pe=Pe.get(ze)||null,_e(Me,Pe,""+wt,an);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case Au:return Pe=Pe.get(wt.key===null?ze:wt.key)||null,Ge(Me,Pe,wt,an);case Kc:return Pe=Pe.get(wt.key===null?ze:wt.key)||null,ct(Me,Pe,wt,an);case zs:return wt=et(wt),wn(Pe,Me,ze,wt,an)}if(Zl(wt)||p(wt))return Pe=Pe.get(ze)||null,Mt(Me,Pe,wt,an,null);if(typeof wt.then=="function")return wn(Pe,Me,ze,Qe(wt),an);if(wt.$$typeof===lo)return wn(Pe,Me,ze,H(Me,wt),an);st(Me,wt)}return null}function Rr(Pe,Me,ze,wt){for(var an=null,hr=null,ln=Me,li=Me=0,ss=null;ln!==null&&li<ze.length;li++){ln.index>li?(ss=ln,ln=null):ss=ln.sibling;var gi=zt(Pe,ln,ze[li],wt);if(gi===null){ln===null&&(ln=ss);break}d&&ln&&gi.alternate===null&&h(Pe,ln),Me=L(gi,Me,li),hr===null?an=gi:hr.sibling=gi,hr=gi,ln=ss}if(li===ze.length)return b(Pe,ln),$n&&Z(Pe,li),an;if(ln===null){for(;li<ze.length;li++)ln=mt(Pe,ze[li],wt),ln!==null&&(Me=L(ln,Me,li),hr===null?an=ln:hr.sibling=ln,hr=ln);return $n&&Z(Pe,li),an}for(ln=T(ln);li<ze.length;li++)ss=wn(ln,Pe,li,ze[li],wt),ss!==null&&(d&&ss.alternate!==null&&ln.delete(ss.key===null?li:ss.key),Me=L(ss,Me,li),hr===null?an=ss:hr.sibling=ss,hr=ss);return d&&ln.forEach(function(xo){return h(Pe,xo)}),$n&&Z(Pe,li),an}function Od(Pe,Me,ze,wt){if(ze==null)throw Error(r(151));for(var an=null,hr=null,ln=Me,li=Me=0,ss=null,gi=ze.next();ln!==null&&!gi.done;li++,gi=ze.next()){ln.index>li?(ss=ln,ln=null):ss=ln.sibling;var xo=zt(Pe,ln,gi.value,wt);if(xo===null){ln===null&&(ln=ss);break}d&&ln&&xo.alternate===null&&h(Pe,ln),Me=L(xo,Me,li),hr===null?an=xo:hr.sibling=xo,hr=xo,ln=ss}if(gi.done)return b(Pe,ln),$n&&Z(Pe,li),an;if(ln===null){for(;!gi.done;li++,gi=ze.next())gi=mt(Pe,gi.value,wt),gi!==null&&(Me=L(gi,Me,li),hr===null?an=gi:hr.sibling=gi,hr=gi);return $n&&Z(Pe,li),an}for(ln=T(ln);!gi.done;li++,gi=ze.next())gi=wn(ln,Pe,li,gi.value,wt),gi!==null&&(d&&gi.alternate!==null&&ln.delete(gi.key===null?li:gi.key),Me=L(gi,Me,li),hr===null?an=gi:hr.sibling=gi,hr=gi);return d&&ln.forEach(function(NA){return h(Pe,NA)}),$n&&Z(Pe,li),an}function cc(Pe,Me,ze,wt){if(typeof ze=="object"&&ze!==null&&ze.type===Qc&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case Au:e:{for(var an=ze.key;Me!==null;){if(Me.key===an){if(an=ze.type,an===Qc){if(Me.tag===7){b(Pe,Me.sibling),wt=I(Me,ze.props.children),wt.return=Pe,Pe=wt;break e}}else if(Me.elementType===an||typeof an=="object"&&an!==null&&an.$$typeof===zs&&et(an)===Me.type){b(Pe,Me.sibling),wt=I(Me,ze.props),Ne(wt,ze),wt.return=Pe,Pe=wt;break e}b(Pe,Me);break}else h(Pe,Me);Me=Me.sibling}ze.type===Qc?(wt=uo(ze.props.children,Pe.mode,wt,ze.key),wt.return=Pe,Pe=wt):(wt=ll(ze.type,ze.key,ze.props,null,Pe.mode,wt),Ne(wt,ze),wt.return=Pe,Pe=wt)}return Y(Pe);case Kc:e:{for(an=ze.key;Me!==null;){if(Me.key===an)if(Me.tag===4&&Me.stateNode.containerInfo===ze.containerInfo&&Me.stateNode.implementation===ze.implementation){b(Pe,Me.sibling),wt=I(Me,ze.children||[]),wt.return=Pe,Pe=wt;break e}else{b(Pe,Me);break}else h(Pe,Me);Me=Me.sibling}wt=Oy(ze,Pe.mode,wt),wt.return=Pe,Pe=wt}return Y(Pe);case zs:return ze=et(ze),cc(Pe,Me,ze,wt)}if(Zl(ze))return Rr(Pe,Me,ze,wt);if(p(ze)){if(an=p(ze),typeof an!="function")throw Error(r(150));return ze=an.call(ze),Od(Pe,Me,ze,wt)}if(typeof ze.then=="function")return cc(Pe,Me,Qe(ze),wt);if(ze.$$typeof===lo)return cc(Pe,Me,H(Pe,ze),wt);st(Pe,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint"?(ze=""+ze,Me!==null&&Me.tag===6?(b(Pe,Me.sibling),wt=I(Me,ze),wt.return=Pe,Pe=wt):(b(Pe,Me),wt=Iy(ze,Pe.mode,wt),wt.return=Pe,Pe=wt),Y(Pe)):b(Pe,Me)}return function(Pe,Me,ze,wt){try{lf=0;var an=cc(Pe,Me,ze,wt);return nc=null,an}catch(ln){if(ln===Yr||ln===yo)throw ln;var hr=n(29,ln,null,Pe.mode);return hr.lanes=wt,hr.return=Pe,hr}}}function At(){for(var d=ku,h=cf=ku=0;h<d;){var b=ys[h];ys[h++]=null;var T=ys[h];ys[h++]=null;var I=ys[h];ys[h++]=null;var L=ys[h];if(ys[h++]=null,T!==null&&I!==null){var Y=T.pending;Y===null?I.next=I:(I.next=Y.next,Y.next=I),T.pending=I}L!==0&&Qn(b,I,L)}}function Mn(d,h,b,T){ys[ku++]=d,ys[ku++]=h,ys[ku++]=b,ys[ku++]=T,cf|=T,d.lanes|=T,d=d.alternate,d!==null&&(d.lanes|=T)}function un(d,h,b,T){return Mn(d,h,b,T),tn(d)}function yn(d,h){return Mn(d,null,null,h),tn(d)}function Qn(d,h,b){d.lanes|=b;var T=d.alternate;T!==null&&(T.lanes|=b);for(var I=!1,L=d.return;L!==null;)L.childLanes|=b,T=L.alternate,T!==null&&(T.childLanes|=b),L.tag===22&&(d=L.stateNode,d===null||d._visibility&1||(I=!0)),d=L,L=L.return;return d.tag===3?(L=d.stateNode,I&&h!==null&&(I=31-sa(b),d=L.hiddenUpdates,T=d[I],T===null?d[I]=[h]:T.push(h),h.lane=b|536870912),L):null}function tn(d){if(50<hi)throw hi=0,kp=null,Error(r(185));for(var h=d.return;h!==null;)d=h,h=d.return;return d.tag===3?d.stateNode:null}function Jt(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pn(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Ei(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function En(d,h,b){var T=d.updateQueue;if(T===null)return null;if(T=T.shared,(Gn&2)!==0){var I=T.pending;return I===null?h.next=h:(h.next=I.next,I.next=h),T.pending=h,h=tn(d),Qn(d,null,b),h}return Mn(d,T,h,b),tn(d)}function wi(d,h,b){if(h=h.updateQueue,h!==null&&(h=h.shared,(b&4194048)!==0)){var T=h.lanes;T&=d.pendingLanes,b|=T,h.lanes=b,k(d,b)}}function _r(d,h){var b=d.updateQueue,T=d.alternate;if(T!==null&&(T=T.updateQueue,b===T)){var I=null,L=null;if(b=b.firstBaseUpdate,b!==null){do{var Y={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};L===null?I=L=Y:L=L.next=Y,b=b.next}while(b!==null);L===null?I=L=h:L=L.next=h}else I=L=h;b={baseState:T.baseState,firstBaseUpdate:I,lastBaseUpdate:L,shared:T.shared,callbacks:T.callbacks},d.updateQueue=b;return}d=b.lastBaseUpdate,d===null?b.firstBaseUpdate=h:d.next=h,b.lastBaseUpdate=h}function Tt(){if(Z0){var d=Xr;if(d!==null)throw d}}function he(d,h,b,T){Z0=!1;var I=d.updateQueue;Na=!1;var L=I.firstBaseUpdate,Y=I.lastBaseUpdate,_e=I.shared.pending;if(_e!==null){I.shared.pending=null;var Ge=_e,ct=Ge.next;Ge.next=null,Y===null?L=ct:Y.next=ct,Y=Ge;var Mt=d.alternate;Mt!==null&&(Mt=Mt.updateQueue,_e=Mt.lastBaseUpdate,_e!==Y&&(_e===null?Mt.firstBaseUpdate=ct:_e.next=ct,Mt.lastBaseUpdate=Ge))}if(L!==null){var mt=I.baseState;Y=0,Mt=ct=Ge=null,_e=L;do{var zt=_e.lane&-536870913,wn=zt!==_e.lane;if(wn?(Xn&zt)===zt:(T&zt)===zt){zt!==0&&zt===gl&&(Z0=!0),Mt!==null&&(Mt=Mt.next={lane:0,tag:_e.tag,payload:_e.payload,callback:null,next:null});e:{var Rr=d,Od=_e;zt=h;var cc=b;switch(Od.tag){case 1:if(Rr=Od.payload,typeof Rr=="function"){mt=Rr.call(cc,mt,zt);break e}mt=Rr;break e;case 3:Rr.flags=Rr.flags&-65537|128;case 0:if(Rr=Od.payload,zt=typeof Rr=="function"?Rr.call(cc,mt,zt):Rr,zt==null)break e;mt=w0({},mt,zt);break e;case 2:Na=!0}}zt=_e.callback,zt!==null&&(d.flags|=64,wn&&(d.flags|=8192),wn=I.callbacks,wn===null?I.callbacks=[zt]:wn.push(zt))}else wn={lane:zt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},Mt===null?(ct=Mt=wn,Ge=mt):Mt=Mt.next=wn,Y|=zt;if(_e=_e.next,_e===null){if(_e=I.shared.pending,_e===null)break;wn=_e,_e=wn.next,wn.next=null,I.lastBaseUpdate=wn,I.shared.pending=null}}while(!0);Mt===null&&(Ge=mt),I.baseState=Ge,I.firstBaseUpdate=ct,I.lastBaseUpdate=Mt,L===null&&(I.shared.lanes=0),yl|=Y,d.lanes=Y,d.memoizedState=mt}}function Ze(d,h){if(typeof d!="function")throw Error(r(191,d));d.call(h)}function Ot(d,h){var b=d.callbacks;if(b!==null)for(d.callbacks=null,d=0;d<b.length;d++)Ze(b[d],h)}function In(d,h){d=Lu,x(ic,d),x(ff,h),Lu=d|h.baseLanes}function mn(){x(ic,Lu),x(ff,ff.current)}function X(){Lu=ic.current,_(ff),_(ic)}function ye(d){var h=d.alternate;x(br,br.current&1),x(oa,d),ua===null&&(h===null||ff.current!==null||h.memoizedState!==null)&&(ua=d)}function De(d){x(br,br.current),x(oa,d),ua===null&&(ua=d)}function Ce(d){d.tag===22?(x(br,br.current),x(oa,d),ua===null&&(ua=d)):ae()}function ae(){x(br,br.current),x(oa,oa.current)}function Te(d){_(oa),ua===d&&(ua=null),_(br)}function nt(d){for(var h=d;h!==null;){if(h.tag===13){var b=h.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Ql(b)||N0(b)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function qe(){throw Error(r(321))}function vt(d,h){if(h===null)return!1;for(var b=0;b<h.length&&b<d.length;b++)if(!Cr(d[b],h[b]))return!1;return!0}function Ft(d,h,b,T,I,L){return _l=L,An=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,nn.H=d===null||d.memoizedState===null?cr:Pu,ai=!1,L=b(T,I),ai=!1,Nn&&(L=Ht(h,b,T,I)),qt(d),L}function qt(d){nn.H=Oa;var h=Qt!==null&&Qt.next!==null;if(_l=0,gn=Qt=An=null,Pn=!1,vo=0,Wo=null,h)throw Error(r(300));d===null||$i||(d=d.dependencies,d!==null&&dt(d)&&($i=!0))}function Ht(d,h,b,T){An=d;var I=0;do{if(Nn&&(Wo=null),vo=0,Nn=!1,25<=I)throw Error(r(301));if(I+=1,gn=Qt=null,d.updateQueue!=null){var L=d.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}nn.H=rc,L=h(b,T)}while(Nn);return L}function Gt(){var d=nn.H,h=d.useState()[0];return h=typeof h.then=="function"?on(h):h,d=d.useState()[0],(Qt!==null?Qt.memoizedState:null)!==d&&(An.flags|=1024),h}function xn(){var d=As!==0;return As=0,d}function Di(d,h,b){h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~b}function yi(d){if(Pn){for(d=d.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}Pn=!1}_l=0,gn=Qt=An=null,Nn=!1,vo=As=0,Wo=null}function dn(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?An.memoizedState=gn=d:gn=gn.next=d,gn}function Pt(){if(Qt===null){var d=An.alternate;d=d!==null?d.memoizedState:null}else d=Qt.next;var h=gn===null?An.memoizedState:gn.next;if(h!==null)gn=h,Qt=d;else{if(d===null)throw An.alternate===null?Error(r(467)):Error(r(310));Qt=d,d={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},gn===null?An.memoizedState=gn=d:gn=gn.next=d}return gn}function Jn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function on(d){var h=vo;return vo+=1,Wo===null&&(Wo=[]),d=xe(Wo,d,h),h=An,(gn===null?h.memoizedState:gn.next)===null&&(h=h.alternate,nn.H=h===null||h.memoizedState===null?cr:Pu),d}function yr(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return on(d);if(d.$$typeof===lo)return Q(d)}throw Error(r(438,String(d)))}function ws(d){var h=null,b=An.updateQueue;if(b!==null&&(h=b.memoCache),h==null){var T=An.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(h={data:T.data.map(function(I){return I.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),b===null&&(b=Jn(),An.updateQueue=b),b.memoCache=h,b=h.data[h.index],b===void 0)for(b=h.data[h.index]=Array(d),T=0;T<d;T++)b[T]=Py;return h.index++,b}function Oi(d,h){return typeof h=="function"?h(d):h}function Bi(d){var h=Pt();return di(h,Qt,d)}function di(d,h,b){var T=d.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=b;var I=d.baseQueue,L=T.pending;if(L!==null){if(I!==null){var Y=I.next;I.next=L.next,L.next=Y}h.baseQueue=I=L,T.pending=null}if(L=d.baseState,I===null)d.memoizedState=L;else{h=I.next;var _e=Y=null,Ge=null,ct=h,Mt=!1;do{var mt=ct.lane&-536870913;if(mt!==ct.lane?(Xn&mt)===mt:(_l&mt)===mt){var zt=ct.revertLane;if(zt===0)Ge!==null&&(Ge=Ge.next={lane:0,revertLane:0,gesture:null,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),mt===gl&&(Mt=!0);else if((_l&zt)===zt){ct=ct.next,zt===gl&&(Mt=!0);continue}else mt={lane:0,revertLane:ct.revertLane,gesture:null,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Ge===null?(_e=Ge=mt,Y=L):Ge=Ge.next=mt,An.lanes|=zt,yl|=zt;mt=ct.action,ai&&b(L,mt),L=ct.hasEagerState?ct.eagerState:b(L,mt)}else zt={lane:mt,revertLane:ct.revertLane,gesture:ct.gesture,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},Ge===null?(_e=Ge=zt,Y=L):Ge=Ge.next=zt,An.lanes|=mt,yl|=mt;ct=ct.next}while(ct!==null&&ct!==h);if(Ge===null?Y=L:Ge.next=_e,!Cr(L,d.memoizedState)&&($i=!0,Mt&&(b=Xr,b!==null)))throw b;d.memoizedState=L,d.baseState=Y,d.baseQueue=Ge,T.lastRenderedState=L}return I===null&&(T.lanes=0),[d.memoizedState,T.dispatch]}function ar(d){var h=Pt(),b=h.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=d;var T=b.dispatch,I=b.pending,L=h.memoizedState;if(I!==null){b.pending=null;var Y=I=I.next;do L=d(L,Y.action),Y=Y.next;while(Y!==I);Cr(L,h.memoizedState)||($i=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),b.lastRenderedState=L}return[L,T]}function Wt(d,h,b){var T=An,I=Pt(),L=$n;if(L){if(b===void 0)throw Error(r(407));b=b()}else b=h();var Y=!Cr((Qt||I).memoizedState,b);if(Y&&(I.memoizedState=b,$i=!0),I=I.queue,Jf(ui.bind(null,T,I,d),[d]),I.getSnapshot!==h||Y||gn!==null&&gn.memoizedState.tag&1){if(T.flags|=2048,Ma(9,{destroy:void 0},ei.bind(null,T,I,b,h),null),Ln===null)throw Error(r(349));L||(_l&127)!==0||wr(T,h,b)}return b}function wr(d,h,b){d.flags|=16384,d={getSnapshot:h,value:b},h=An.updateQueue,h===null?(h=Jn(),An.updateQueue=h,h.stores=[d]):(b=h.stores,b===null?h.stores=[d]:b.push(d))}function ei(d,h,b,T){h.value=b,h.getSnapshot=T,hs(h)&&mu(d)}function ui(d,h,b){return b(function(){hs(h)&&mu(d)})}function hs(d){var h=d.getSnapshot;d=d.value;try{var b=h();return!Cr(d,b)}catch{return!0}}function mu(d){var h=yn(d,2);h!==null&&ur(h,d,2)}function Hc(d){var h=dn();if(typeof d=="function"){var b=d;if(d=b(),ai){ee(!0);try{b()}finally{ee(!1)}}}return h.memoizedState=h.baseState=d,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:d},h}function il(d,h,b,T){return d.baseState=b,di(d,Qt,typeof T=="function"?T:Oi)}function Rt(d,h,b,T,I){if(r0(d))throw Error(r(485));if(d=h.action,d!==null){var L={payload:I,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){L.listeners.push(Y)}};nn.T!==null?b(!0):L.isTransition=!1,T(L),b=h.pending,b===null?(L.next=h.pending=L,Yt(h,L)):(L.next=b.next,h.pending=b.next=L)}}function Yt(d,h){var b=h.action,T=h.payload,I=d.state;if(h.isTransition){var L=nn.T,Y={};nn.T=Y;try{var _e=b(I,T),Ge=nn.S;Ge!==null&&Ge(Y,_e),Sn(d,h,_e)}catch(ct){qi(d,h,ct)}finally{L!==null&&Y.types!==null&&(L.types=Y.types),nn.T=L}}else try{L=b(I,T),Sn(d,h,L)}catch(ct){qi(d,h,ct)}}function Sn(d,h,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(T){jn(d,h,T)},function(T){return qi(d,h,T)}):jn(d,h,b)}function jn(d,h,b){h.status="fulfilled",h.value=b,Ta(h),d.state=b,h=d.pending,h!==null&&(b=h.next,b===h?d.pending=null:(b=b.next,h.next=b,Yt(d,b)))}function qi(d,h,b){var T=d.pending;if(d.pending=null,T!==null){T=T.next;do h.status="rejected",h.reason=b,Ta(h),h=h.next;while(h!==T)}d.action=null}function Ta(d){d=d.listeners;for(var h=0;h<d.length;h++)(0,d[h])()}function Zf(d,h){return h}function Zh(d,h){if($n){var b=Ln.formState;if(b!==null){e:{var T=An;if($n){if(Ji){var I=cS(Ji,Vs);if(I){Ji=fS(I),T=ev(I);break e}}Xe(T)}T=!1}T&&(h=b[0])}}b=dn(),b.memoizedState=b.baseState=h,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:h},b.queue=T,b=S1.bind(null,An,T),T.dispatch=b,T=Hc(!1);var L=i0.bind(null,An,!1,T.queue);return T=dn(),I={state:h,dispatch:null,action:d,pending:null},T.queue=I,b=Rt.bind(null,An,I,L,b),I.dispatch=b,T.memoizedState=d,[h,b,!1]}function Kf(d){var h=Pt();return gu(h,Qt,d)}function gu(d,h,b){if(h=di(d,h,Zf)[0],d=Bi(Oi)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var T=on(h)}catch(Y){throw Y===Yr?yo:Y}else T=h;h=Pt();var I=h.queue,L=I.dispatch;return b!==h.memoizedState&&(An.flags|=2048,Ma(9,{destroy:void 0},ly.bind(null,I,b),null)),[T,L,d]}function ly(d,h){d.action=h}function Qf(d){var h=Pt(),b=Qt;if(b!==null)return gu(h,b,d);Pt(),h=h.memoizedState,b=Pt();var T=b.queue.dispatch;return b.memoizedState=d,[h,T,!1]}function Ma(d,h,b,T){return d={tag:d,create:b,deps:T,inst:h,next:null},h=An.updateQueue,h===null&&(h=Jn(),An.updateQueue=h),b=h.lastEffect,b===null?h.lastEffect=d.next=d:(T=b.next,b.next=d,d.next=T,h.lastEffect=d),d}function e0(){return Pt().memoizedState}function Vc(d,h,b,T){var I=dn();An.flags|=d,I.memoizedState=Ma(1|h,{destroy:void 0},b,T===void 0?null:T)}function Kh(d,h,b,T){var I=Pt();T=T===void 0?null:T;var L=I.memoizedState.inst;Qt!==null&&T!==null&&vt(T,Qt.memoizedState.deps)?I.memoizedState=Ma(h,L,b,T):(An.flags|=d,I.memoizedState=Ma(1|h,L,b,T))}function Qh(d,h){Vc(8390656,8,d,h)}function Jf(d,h){Kh(2048,8,d,h)}function _1(d){An.flags|=4;var h=An.updateQueue;if(h===null)h=Jn(),An.updateQueue=h,h.events=[d];else{var b=h.events;b===null?h.events=[d]:b.push(d)}}function Fs(d){var h=Pt().memoizedState;return _1({ref:h,nextImpl:d}),function(){if((Gn&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function Ul(d,h){return Kh(4,2,d,h)}function Jh(d,h){return Kh(4,4,d,h)}function ed(d,h){if(typeof h=="function"){d=d();var b=h(d);return function(){typeof b=="function"?b():h(null)}}if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function y1(d,h,b){b=b!=null?b.concat([d]):null,Kh(4,4,ed.bind(null,h,d),b)}function ep(){}function t0(d,h){var b=Pt();h=h===void 0?null:h;var T=b.memoizedState;return h!==null&&vt(h,T[1])?T[0]:(b.memoizedState=[d,h],d)}function td(d,h){var b=Pt();h=h===void 0?null:h;var T=b.memoizedState;if(h!==null&&vt(h,T[1]))return T[0];if(T=d(),ai){ee(!0);try{d()}finally{ee(!1)}}return b.memoizedState=[T,h],T}function nd(d,h,b){return b===void 0||(_l&1073741824)!==0&&(Xn&261930)===0?d.memoizedState=h:(d.memoizedState=b,d=al(),An.lanes|=d,yl|=d,b)}function cy(d,h,b,T){return Cr(b,h)?b:ff.current!==null?(d=nd(d,b,T),Cr(d,h)||($i=!0),d):(_l&42)===0||(_l&1073741824)!==0&&(Xn&261930)===0?($i=!0,d.memoizedState=b):(d=al(),An.lanes|=d,yl|=d,h)}function v1(d,h,b,T,I){var L=co();qn(L!==0&&8>L?L:8);var Y=nn.T,_e={};nn.T=_e,i0(d,!1,h,b);try{var Ge=I(),ct=nn.S;if(ct!==null&&ct(_e,Ge),Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"){var Mt=yt(Ge,T);tp(d,h,Mt,Ki(d))}else tp(d,h,T,Ki(d))}catch(mt){tp(d,h,{then:function(){},status:"rejected",reason:mt},Ki())}finally{qn(L),Y!==null&&_e.types!==null&&(Y.types=_e.types),nn.T=Y}}function b1(d){var h=d.memoizedState;if(h!==null)return h;h={memoizedState:nf,baseState:nf,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:nf},next:null};var b={};return h.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:b},next:null},d.memoizedState=h,d=d.alternate,d!==null&&(d.memoizedState=h),h}function fy(){return Q(rf)}function n0(){return Pt().memoizedState}function x1(){return Pt().memoizedState}function bA(d){for(var h=d.return;h!==null;){switch(h.tag){case 24:case 3:var b=Ki();d=Ei(b);var T=En(h,d,b);T!==null&&(ur(T,h,b),wi(T,h,b)),h={cache:we()},d.payload=h;return}h=h.return}}function xA(d,h,b){var T=Ki();b={lane:T,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},r0(d)?E1(h,b):(b=un(d,h,b,T),b!==null&&(ur(b,d,T),w1(b,h,T)))}function S1(d,h,b){var T=Ki();tp(d,h,b,T)}function tp(d,h,b,T){var I={lane:T,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null};if(r0(d))E1(h,I);else{var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var Y=h.lastRenderedState,_e=L(Y,b);if(I.hasEagerState=!0,I.eagerState=_e,Cr(_e,Y))return Mn(d,h,I,0),Ln===null&&At(),!1}catch{}if(b=un(d,h,I,T),b!==null)return ur(b,d,T),w1(b,h,T),!0}return!1}function i0(d,h,b,T){if(T={lane:2,revertLane:pt(),gesture:null,action:T,hasEagerState:!1,eagerState:null,next:null},r0(d)){if(h)throw Error(r(479))}else h=un(d,b,T,2),h!==null&&ur(h,d,2)}function r0(d){var h=d.alternate;return d===An||h!==null&&h===An}function E1(d,h){Nn=Pn=!0;var b=d.pending;b===null?h.next=h:(h.next=b.next,b.next=h),d.pending=h}function w1(d,h,b){if((b&4194048)!==0){var T=h.lanes;T&=d.pendingLanes,b|=T,h.lanes=b,k(d,b)}}function dy(d,h,b,T){h=d.memoizedState,b=b(T,h),b=b==null?h:w0({},h,b),d.memoizedState=b,d.lanes===0&&(d.updateQueue.baseState=b)}function s0(d,h,b,T,I,L,Y){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(T,L,Y):h.prototype&&h.prototype.isPureReactComponent?!J(b,T)||!J(I,L):!0}function T1(d,h,b,T){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(b,T),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(b,T),h.state!==d&&Dp.enqueueReplaceState(h,h.state,null)}function Gc(d,h){var b=h;if("ref"in h){b={};for(var T in h)T!=="ref"&&(b[T]=h[T])}if(d=d.defaultProps){b===h&&(b=w0({},b));for(var I in d)b[I]===void 0&&(b[I]=d[I])}return b}function a0(d,h){try{var b=d.onUncaughtError;b(h.value,{componentStack:h.stack})}catch(T){setTimeout(function(){throw T})}}function hy(d,h,b){try{var T=d.onCaughtError;T(b.value,{componentStack:b.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function py(d,h,b){return b=Ei(b),b.tag=3,b.payload={element:null},b.callback=function(){a0(d,h)},b}function M1(d){return d=Ei(d),d.tag=3,d}function C1(d,h,b,T){var I=b.type.getDerivedStateFromError;if(typeof I=="function"){var L=T.value;d.payload=function(){return I(L)},d.callback=function(){hy(h,b,T)}}var Y=b.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(d.callback=function(){hy(h,b,T),typeof I!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var _e=T.stack;this.componentDidCatch(T.value,{componentStack:_e!==null?_e:""})})}function SA(d,h,b,T,I){if(b.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(h=b.alternate,h!==null&&$e(h,b,I,!0),b=oa.current,b!==null){switch(b.tag){case 31:case 13:return ua===null?hd():b.alternate===null&&dr===0&&(dr=3),b.flags&=-257,b.flags|=65536,b.lanes=I,T===Ou?b.flags|=16384:(h=b.updateQueue,h===null?b.updateQueue=new Set([T]):h.add(T),gd(d,T,I)),!1;case 22:return b.flags|=65536,T===Ou?b.flags|=16384:(h=b.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([T])},b.updateQueue=h):(b=h.retryQueue,b===null?h.retryQueue=new Set([T]):b.add(T)),gd(d,T,I)),!1}throw Error(r(435,b.tag))}return gd(d,T,I),hd(),!1}if($n)return h=oa.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=I,T!==$0&&(d=Error(r(422),{cause:T}),Ve(se(d,b)))):(T!==$0&&(h=Error(r(423),{cause:T}),Ve(se(h,b))),d=d.current.alternate,d.flags|=65536,I&=-I,d.lanes|=I,T=se(T,b),I=py(d.stateNode,T,I),_r(d,I),dr!==4&&(dr=2)),!1;var L=Error(r(520),{cause:T});if(L=se(L,b),Ip===null?Ip=[L]:Ip.push(L),dr!==4&&(dr=2),h===null)return!0;T=se(T,b),b=h;do{switch(b.tag){case 3:return b.flags|=65536,d=I&-I,b.lanes|=d,d=py(b.stateNode,T,d),_r(b,d),!1;case 1:if(h=b.type,L=b.stateNode,(b.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(vl===null||!vl.has(L))))return b.flags|=65536,I&=-I,b.lanes|=I,I=M1(I),C1(I,d,b,T),_r(b,I),!1}b=b.return}while(b!==null);return!1}function ps(d,h,b,T){h.child=d===null?yv(h,null,b,T):_s(h,d.child,b,T)}function A1(d,h,b,T,I){b=b.render;var L=h.ref;if("ref"in T){var Y={};for(var _e in T)_e!=="ref"&&(Y[_e]=T[_e])}else Y=T;return Be(h),T=Ft(d,h,b,Y,L,I),_e=xn(),d!==null&&!$i?(Di(d,h,I),_u(d,h,I)):($n&&_e&&ue(h),h.flags|=1,ps(d,h,T,I),h.child)}function D1(d,h,b,T,I){if(d===null){var L=b.type;return typeof L=="function"&&!Xc(L)&&L.defaultProps===void 0&&b.compare===null?(h.tag=15,h.type=L,R1(d,h,L,T,I)):(d=ll(b.type,null,T,h,h.mode,I),d.ref=h.ref,d.return=h,h.child=d)}if(L=d.child,!ip(d,I)){var Y=L.memoizedProps;if(b=b.compare,b=b!==null?b:J,b(Y,T)&&d.ref===h.ref)return _u(d,h,I)}return h.flags|=1,d=Da(L,T),d.ref=h.ref,d.return=h,h.child=d}function R1(d,h,b,T,I){if(d!==null){var L=d.memoizedProps;if(J(L,T)&&d.ref===h.ref)if($i=!1,h.pendingProps=T=L,ip(d,I))(d.flags&131072)!==0&&($i=!0);else return h.lanes=d.lanes,_u(d,h,I)}return u0(d,h,b,T,I)}function I1(d,h,b,T){var I=T.children,L=d!==null?d.memoizedState:null;if(d===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),T.mode==="hidden"){if((h.flags&128)!==0){if(L=L!==null?L.baseLanes|b:b,d!==null){for(T=h.child=d.child,I=0;T!==null;)I=I|T.lanes|T.childLanes,T=T.sibling;T=I&~L}else T=0,h.child=null;return id(d,h,L,b,T)}if((b&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},d!==null&&gt(h,L!==null?L.cachePool:null),L!==null?In(h,L):mn(),Ce(h);else return T=h.lanes=536870912,id(d,h,L!==null?L.baseLanes|b:b,b,T)}else L!==null?(gt(h,L.cachePool),In(h,L),ae(),h.memoizedState=null):(d!==null&&gt(h,null),mn(),ae());return ps(d,h,I,b),h.child}function Wc(d,h){return d!==null&&d.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function id(d,h,b,T,I){var L=rt();return L=L===null?null:{parent:Tr?er._currentValue:er._currentValue2,pool:L},h.memoizedState={baseLanes:b,cachePool:L},d!==null&&gt(h,null),mn(),Ce(h),d!==null&&$e(d,h,T,!0),h.childLanes=I,null}function o0(d,h){return h=Bl({mode:h.mode,children:h.children},d.mode),h.ref=d.ref,d.child=h,h.return=d,h}function my(d,h,b){return _s(h,d.child,null,b),d=o0(h,h.pendingProps),d.flags|=2,Te(h),h.memoizedState=null,d}function N1(d,h,b){var T=h.pendingProps,I=(h.flags&128)!==0;if(h.flags&=-129,d===null){if($n){if(T.mode==="hidden")return d=o0(h,T),h.lanes=536870912,Wc(null,d);if(De(h),(d=Ji)?(d=nv(d,Vs),d!==null&&(h.memoizedState={dehydrated:d,treeContext:po!==null?{id:ms,overflow:Vo}:null,retryLane:536870912,hydrationErrors:null},b=Ny(d),b.return=h,h.child=b,$r=h,Ji=null)):d=null,d===null)throw Xe(h);return h.lanes=536870912,null}return o0(h,T)}var L=d.memoizedState;if(L!==null){var Y=L.dehydrated;if(De(h),I)if(h.flags&256)h.flags&=-257,h=my(d,h,b);else if(h.memoizedState!==null)h.child=d.child,h.flags|=128,h=null;else throw Error(r(558));else if($i||$e(d,h,b,!1),I=(b&d.childLanes)!==0,$i||I){if(T=Ln,T!==null&&(Y=F(T,b),Y!==0&&Y!==L.retryLane))throw L.retryLane=Y,yn(d,Y),ur(T,d,Y),Ws;hd(),h=my(d,h,b)}else d=L.treeContext,Qi&&(Ji=mS(Y),$r=h,$n=!0,Nu=null,Vs=!1,d!==null&&Se(h,d)),h=o0(h,T),h.flags|=4096;return h}return d=Da(d.child,{mode:T.mode,children:T.children}),d.ref=h.ref,h.child=d,d.return=h,d}function np(d,h){var b=h.ref;if(b===null)d!==null&&d.ref!==null&&(h.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(r(284));(d===null||d.ref!==b)&&(h.flags|=4194816)}}function u0(d,h,b,T,I){return Be(h),b=Ft(d,h,b,T,void 0,I),T=xn(),d!==null&&!$i?(Di(d,h,I),_u(d,h,I)):($n&&T&&ue(h),h.flags|=1,ps(d,h,b,I),h.child)}function gy(d,h,b,T,I,L){return Be(h),h.updateQueue=null,b=Ht(h,T,b,I),qt(d),T=xn(),d!==null&&!$i?(Di(d,h,L),_u(d,h,L)):($n&&T&&ue(h),h.flags|=1,ps(d,h,b,L),h.child)}function jc(d,h,b,T,I){if(Be(h),h.stateNode===null){var L=Du,Y=b.contextType;typeof Y=="object"&&Y!==null&&(L=Q(Y)),L=new b(T,L),h.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Dp,h.stateNode=L,L._reactInternals=h,L=h.stateNode,L.props=T,L.state=h.memoizedState,L.refs={},Jt(h),Y=b.contextType,L.context=typeof Y=="object"&&Y!==null?Q(Y):Du,L.state=h.memoizedState,Y=b.getDerivedStateFromProps,typeof Y=="function"&&(dy(h,b,Y,T),L.state=h.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(Y=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),Y!==L.state&&Dp.enqueueReplaceState(L,L.state,null),he(h,T,L,I),Tt(),L.state=h.memoizedState),typeof L.componentDidMount=="function"&&(h.flags|=4194308),T=!0}else if(d===null){L=h.stateNode;var _e=h.memoizedProps,Ge=Gc(b,_e);L.props=Ge;var ct=L.context,Mt=b.contextType;Y=Du,typeof Mt=="object"&&Mt!==null&&(Y=Q(Mt));var mt=b.getDerivedStateFromProps;Mt=typeof mt=="function"||typeof L.getSnapshotBeforeUpdate=="function",_e=h.pendingProps!==_e,Mt||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(_e||ct!==Y)&&T1(h,L,T,Y),Na=!1;var zt=h.memoizedState;L.state=zt,he(h,T,L,I),Tt(),ct=h.memoizedState,_e||zt!==ct||Na?(typeof mt=="function"&&(dy(h,b,mt,T),ct=h.memoizedState),(Ge=Na||s0(h,b,Ge,T,zt,ct,Y))?(Mt||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(h.flags|=4194308)):(typeof L.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=T,h.memoizedState=ct),L.props=T,L.state=ct,L.context=Y,T=Ge):(typeof L.componentDidMount=="function"&&(h.flags|=4194308),T=!1)}else{L=h.stateNode,pn(d,h),Y=h.memoizedProps,Mt=Gc(b,Y),L.props=Mt,mt=h.pendingProps,zt=L.context,ct=b.contextType,Ge=Du,typeof ct=="object"&&ct!==null&&(Ge=Q(ct)),_e=b.getDerivedStateFromProps,(ct=typeof _e=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Y!==mt||zt!==Ge)&&T1(h,L,T,Ge),Na=!1,zt=h.memoizedState,L.state=zt,he(h,T,L,I),Tt();var wn=h.memoizedState;Y!==mt||zt!==wn||Na||d!==null&&d.dependencies!==null&&dt(d.dependencies)?(typeof _e=="function"&&(dy(h,b,_e,T),wn=h.memoizedState),(Mt=Na||s0(h,b,Mt,T,zt,wn,Ge)||d!==null&&d.dependencies!==null&&dt(d.dependencies))?(ct||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(T,wn,Ge),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(T,wn,Ge)),typeof L.componentDidUpdate=="function"&&(h.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof L.componentDidUpdate!="function"||Y===d.memoizedProps&&zt===d.memoizedState||(h.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Y===d.memoizedProps&&zt===d.memoizedState||(h.flags|=1024),h.memoizedProps=T,h.memoizedState=wn),L.props=T,L.state=wn,L.context=Ge,T=Mt):(typeof L.componentDidUpdate!="function"||Y===d.memoizedProps&&zt===d.memoizedState||(h.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Y===d.memoizedProps&&zt===d.memoizedState||(h.flags|=1024),T=!1)}return L=T,np(d,h),T=(h.flags&128)!==0,L||T?(L=h.stateNode,b=T&&typeof b.getDerivedStateFromError!="function"?null:L.render(),h.flags|=1,d!==null&&T?(h.child=_s(h,d.child,null,I),h.child=_s(h,null,b,I)):ps(d,h,b,I),h.memoizedState=L.state,d=h.child):d=_u(d,h,I),d}function O1(d,h,b,T){return at(),h.flags|=256,ps(d,h,b,T),h.child}function _y(d){return{baseLanes:d,cachePool:je()}}function yy(d,h,b){return d=d!==null?d.childLanes&~b:0,h&&(d|=js),d}function vy(d,h,b){var T=h.pendingProps,I=!1,L=(h.flags&128)!==0,Y;if((Y=L)||(Y=d!==null&&d.memoizedState===null?!1:(br.current&2)!==0),Y&&(I=!0,h.flags&=-129),Y=(h.flags&32)!==0,h.flags&=-33,d===null){if($n){if(I?ye(h):ae(),(d=Ji)?(d=vS(d,Vs),d!==null&&(h.memoizedState={dehydrated:d,treeContext:po!==null?{id:ms,overflow:Vo}:null,retryLane:536870912,hydrationErrors:null},b=Ny(d),b.return=h,h.child=b,$r=h,Ji=null)):d=null,d===null)throw Xe(h);return N0(d)?h.lanes=32:h.lanes=536870912,null}var _e=T.children;return T=T.fallback,I?(ae(),I=h.mode,_e=Bl({mode:"hidden",children:_e},I),T=uo(T,I,b,null),_e.return=h,T.return=h,_e.sibling=T,h.child=_e,T=h.child,T.memoizedState=_y(b),T.childLanes=yy(d,Y,b),h.memoizedState=df,Wc(null,T)):(ye(h),l0(h,_e))}var Ge=d.memoizedState;if(Ge!==null&&(_e=Ge.dehydrated,_e!==null)){if(L)h.flags&256?(ye(h),h.flags&=-257,h=qc(d,h,b)):h.memoizedState!==null?(ae(),h.child=d.child,h.flags|=128,h=null):(ae(),_e=T.fallback,I=h.mode,T=Bl({mode:"visible",children:T.children},I),_e=uo(_e,I,b,null),_e.flags|=2,T.return=h,_e.return=h,T.sibling=_e,h.child=T,_s(h,d.child,null,b),T=h.child,T.memoizedState=_y(b),T.childLanes=yy(d,Y,b),h.memoizedState=df,h=Wc(null,T));else if(ye(h),N0(_e))Y=O0(_e).digest,T=Error(r(419)),T.stack="",T.digest=Y,Ve({value:T,source:null,stack:null}),h=qc(d,h,b);else if($i||$e(d,h,b,!1),Y=(b&d.childLanes)!==0,$i||Y){if(Y=Ln,Y!==null&&(T=F(Y,b),T!==0&&T!==Ge.retryLane))throw Ge.retryLane=T,yn(d,T),ur(Y,d,T),Ws;Ql(_e)||hd(),h=qc(d,h,b)}else Ql(_e)?(h.flags|=192,h.child=d.child,h=null):(d=Ge.treeContext,Qi&&(Ji=gS(_e),$r=h,$n=!0,Nu=null,Vs=!1,d!==null&&Se(h,d)),h=l0(h,T.children),h.flags|=4096);return h}return I?(ae(),_e=T.fallback,I=h.mode,Ge=d.child,L=Ge.sibling,T=Da(Ge,{mode:"hidden",children:T.children}),T.subtreeFlags=Ge.subtreeFlags&65011712,L!==null?_e=Da(L,_e):(_e=uo(_e,I,b,null),_e.flags|=2),_e.return=h,T.return=h,T.sibling=_e,h.child=T,Wc(null,T),T=h.child,_e=d.child.memoizedState,_e===null?_e=_y(b):(I=_e.cachePool,I!==null?(Ge=Tr?er._currentValue:er._currentValue2,I=I.parent!==Ge?{parent:Ge,pool:Ge}:I):I=je(),_e={baseLanes:_e.baseLanes|b,cachePool:I}),T.memoizedState=_e,T.childLanes=yy(d,Y,b),h.memoizedState=df,Wc(d.child,T)):(ye(h),b=d.child,d=b.sibling,b=Da(b,{mode:"visible",children:T.children}),b.return=h,b.sibling=null,d!==null&&(Y=h.deletions,Y===null?(h.deletions=[d],h.flags|=16):Y.push(d)),h.child=b,h.memoizedState=null,b)}function l0(d,h){return h=Bl({mode:"visible",children:h},d.mode),h.return=d,d.child=h}function Bl(d,h){return d=n(22,d,null,h),d.lanes=0,d}function qc(d,h,b){return _s(h,d.child,null,b),d=l0(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function k1(d,h,b){d.lanes|=h;var T=d.alternate;T!==null&&(T.lanes|=h),ie(d.return,h,b)}function rd(d,h,b,T,I,L){var Y=d.memoizedState;Y===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:T,tail:b,tailMode:I,treeForkCount:L}:(Y.isBackwards=h,Y.rendering=null,Y.renderingStartTime=0,Y.last=T,Y.tail=b,Y.tailMode=I,Y.treeForkCount=L)}function by(d,h,b){var T=h.pendingProps,I=T.revealOrder,L=T.tail;T=T.children;var Y=br.current,_e=(Y&2)!==0;if(_e?(Y=Y&1|2,h.flags|=128):Y&=1,x(br,Y),ps(d,h,T,b),T=$n?Mp:0,!_e&&d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&k1(d,b,h);else if(d.tag===19)k1(d,b,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(I){case"forwards":for(b=h.child,I=null;b!==null;)d=b.alternate,d!==null&&nt(d)===null&&(I=b),b=b.sibling;b=I,b===null?(I=h.child,h.child=null):(I=b.sibling,b.sibling=null),rd(h,!1,I,b,L,T);break;case"backwards":case"unstable_legacy-backwards":for(b=null,I=h.child,h.child=null;I!==null;){if(d=I.alternate,d!==null&&nt(d)===null){h.child=I;break}d=I.sibling,I.sibling=b,b=I,I=d}rd(h,!0,b,null,L,T);break;case"together":rd(h,!1,null,null,void 0,T);break;default:h.memoizedState=null}return h.child}function _u(d,h,b){if(d!==null&&(h.dependencies=d.dependencies),yl|=h.lanes,(b&h.childLanes)===0)if(d!==null){if($e(d,h,b,!1),(b&h.childLanes)===0)return null}else return null;if(d!==null&&h.child!==d.child)throw Error(r(153));if(h.child!==null){for(d=h.child,b=Da(d,d.pendingProps),h.child=b,b.return=h;d.sibling!==null;)d=d.sibling,b=b.sibling=Da(d,d.pendingProps),b.return=h;b.sibling=null}return h.child}function ip(d,h){return(d.lanes&h)!==0?!0:(d=d.dependencies,!!(d!==null&&dt(d)))}function xy(d,h,b){switch(h.tag){case 3:Fe(h,h.stateNode.containerInfo),Ue(h,er,d.memoizedState.cache),at();break;case 27:case 5:fe(h);break;case 4:Fe(h,h.stateNode.containerInfo);break;case 10:Ue(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,De(h),null;break;case 13:var T=h.memoizedState;if(T!==null)return T.dehydrated!==null?(ye(h),h.flags|=128,null):(b&h.child.childLanes)!==0?vy(d,h,b):(ye(h),d=_u(d,h,b),d!==null?d.sibling:null);ye(h);break;case 19:var I=(d.flags&128)!==0;if(T=(b&h.childLanes)!==0,T||($e(d,h,b,!1),T=(b&h.childLanes)!==0),I){if(T)return by(d,h,b);h.flags|=128}if(I=h.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),x(br,br.current),T)break;return null;case 22:return h.lanes=0,I1(d,h,b,h.pendingProps);case 24:Ue(h,er,d.memoizedState.cache)}return _u(d,h,b)}function Sy(d,h,b){if(d!==null)if(d.memoizedProps!==h.pendingProps)$i=!0;else{if(!ip(d,b)&&(h.flags&128)===0)return $i=!1,xy(d,h,b);$i=(d.flags&131072)!==0}else $i=!1,$n&&(h.flags&1048576)!==0&&j(h,Mp,h.index);switch(h.lanes=0,h.tag){case 16:e:{var T=h.pendingProps;if(d=et(h.elementType),h.type=d,typeof d=="function")Xc(d)?(T=Gc(d,T),h.tag=1,h=jc(null,h,d,T,b)):(h.tag=0,h=u0(null,h,d,T,b));else{if(d!=null){var I=d.$$typeof;if(I===_d){h.tag=11,h=A1(null,h,d,T,b);break e}else if(I===M0){h.tag=14,h=D1(null,h,d,T,b);break e}}throw h=g(d)||d,Error(r(306,h,""))}}return h;case 0:return u0(d,h,h.type,h.pendingProps,b);case 1:return T=h.type,I=Gc(T,h.pendingProps),jc(d,h,T,I,b);case 3:e:{if(Fe(h,h.stateNode.containerInfo),d===null)throw Error(r(387));var L=h.pendingProps;I=h.memoizedState,T=I.element,pn(d,h),he(h,L,null,b);var Y=h.memoizedState;if(L=Y.cache,Ue(h,er,L),L!==I.cache&&It(h,[er],b,!0),Tt(),L=Y.element,Qi&&I.isDehydrated)if(I={element:L,isDehydrated:!1,cache:Y.cache},h.updateQueue.baseState=I,h.memoizedState=I,h.flags&256){h=O1(d,h,L,b);break e}else if(L!==T){T=se(Error(r(424)),h),Ve(T),h=O1(d,h,L,b);break e}else for(Qi&&(Ji=pS(h.stateNode.containerInfo),$r=h,$n=!0,Nu=null,Vs=!0),b=yv(h,null,L,b),h.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(at(),L===T){h=_u(d,h,b);break e}ps(d,h,L,b)}h=h.child}return h;case 26:if(fo)return np(d,h),d===null?(b=ov(h.type,null,h.pendingProps,null))?h.memoizedState=b:$n||(h.stateNode=F0(h.type,h.pendingProps,gs.current,h)):h.memoizedState=ov(h.type,d.memoizedProps,h.pendingProps,d.memoizedState),null;case 27:if(qr)return fe(h),d===null&&qr&&$n&&(T=h.stateNode=U0(h.type,h.pendingProps,gs.current,is.current,!1),$r=h,Vs=!0,Ji=tv(h.type,T,Ji)),ps(d,h,h.pendingProps.children,b),np(d,h),d===null&&(h.flags|=4194304),h.child;case 5:return d===null&&$n&&(AS(h.type,h.pendingProps,is.current),(I=T=Ji)&&(T=_S(T,h.type,h.pendingProps,Vs),T!==null?(h.stateNode=T,$r=h,Ji=hS(T),Vs=!1,I=!0):I=!1),I||Xe(h)),fe(h),I=h.type,L=h.pendingProps,Y=d!==null?d.memoizedProps:null,T=L.children,Hs(I,L)?T=null:Y!==null&&Hs(I,Y)&&(h.flags|=32),h.memoizedState!==null&&(I=Ft(d,h,Gt,null,null,b),Tr?rf._currentValue=I:rf._currentValue2=I),np(d,h),ps(d,h,T,b),h.child;case 6:return d===null&&$n&&(av(h.pendingProps,is.current),(d=b=Ji)&&(b=yS(b,h.pendingProps,Vs),b!==null?(h.stateNode=b,$r=h,Ji=null,d=!0):d=!1),d||Xe(h)),null;case 13:return vy(d,h,b);case 4:return Fe(h,h.stateNode.containerInfo),T=h.pendingProps,d===null?h.child=_s(h,null,T,b):ps(d,h,T,b),h.child;case 11:return A1(d,h,h.type,h.pendingProps,b);case 7:return ps(d,h,h.pendingProps,b),h.child;case 8:return ps(d,h,h.pendingProps.children,b),h.child;case 12:return ps(d,h,h.pendingProps.children,b),h.child;case 10:return T=h.pendingProps,Ue(h,h.type,T.value),ps(d,h,T.children,b),h.child;case 9:return I=h.type._context,T=h.pendingProps.children,Be(h),I=Q(I),T=T(I),h.flags|=1,ps(d,h,T,b),h.child;case 14:return D1(d,h,h.type,h.pendingProps,b);case 15:return R1(d,h,h.type,h.pendingProps,b);case 19:return by(d,h,b);case 31:return N1(d,h,b);case 22:return I1(d,h,b,h.pendingProps);case 24:return Be(h),T=Q(er),d===null?(I=rt(),I===null&&(I=Ln,L=we(),I.pooledCache=L,L.refCount++,L!==null&&(I.pooledCacheLanes|=b),I=L),h.memoizedState={parent:T,cache:I},Jt(h),Ue(h,er,I)):((d.lanes&b)!==0&&(pn(d,h),he(h,null,null,b),Tt()),I=d.memoizedState,L=h.memoizedState,I.parent!==T?(I={parent:T,cache:T},h.memoizedState=I,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=I),Ue(h,er,T)):(T=L.cache,Ue(h,er,T),T!==I.cache&&It(h,[er],b,!0))),ps(d,h,h.pendingProps.children,b),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function io(d){d.flags|=4}function rp(d){Ra&&(d.flags|=8)}function P1(d,h){if(d!==null&&d.child===h.child)return!1;if((h.flags&16)!==0)return!0;for(d=h.child;d!==null;){if((d.flags&8218)!==0||(d.subtreeFlags&8218)!==0)return!0;d=d.sibling}return!1}function Ey(d,h,b,T){if(ni)for(b=h.child;b!==null;){if(b.tag===5||b.tag===6)yp(d,b.stateNode);else if(!(b.tag===4||qr&&b.tag===27)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else if(Ra)for(var I=h.child;I!==null;){if(I.tag===5){var L=I.stateNode;b&&T&&(L=lS(L,I.type,I.memoizedProps)),yp(d,L)}else if(I.tag===6)L=I.stateNode,b&&T&&(L=Jy(L,I.memoizedProps)),yp(d,L);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)L=I.child,L!==null&&(L.return=I),Ey(d,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===h)break;for(;I.sibling===null;){if(I.return===null||I.return===h)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function L1(d,h,b,T){var I=!1;if(Ra)for(var L=h.child;L!==null;){if(L.tag===5){var Y=L.stateNode;b&&T&&(Y=lS(Y,L.type,L.memoizedProps)),Ky(d,Y)}else if(L.tag===6)Y=L.stateNode,b&&T&&(Y=Jy(Y,L.memoizedProps)),Ky(d,Y);else if(L.tag!==4){if(L.tag===22&&L.memoizedState!==null)I=L.child,I!==null&&(I.return=L),L1(d,L,!0,!0),I=!0;else if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===h)break;for(;L.sibling===null;){if(L.return===null||L.return===h)return I;L=L.return}L.sibling.return=L.return,L=L.sibling}return I}function F1(d,h){if(Ra&&P1(d,h)){d=h.stateNode;var b=d.containerInfo,T=Zy();L1(T,h,!1,!1),d.pendingChildren=T,io(h),uS(b,T)}}function wy(d,h,b,T){if(ni)d.memoizedProps!==T&&io(h);else if(Ra){var I=d.stateNode,L=d.memoizedProps;if((d=P1(d,h))||L!==T){var Y=is.current;L=oS(I,b,L,T,!d,null),L===I?h.stateNode=I:(rp(h),ia(L,b,T,Y)&&io(h),h.stateNode=L,d&&Ey(L,h,!1,!1))}else h.stateNode=I}}function Us(d,h,b,T,I){if((d.mode&32)!==0&&(b===null?vp(h,T):Sd(h,b,T))){if(d.flags|=16777216,(I&335544128)===I||By(h,T))if(lr(d.stateNode,h,T))d.flags|=8192;else if(ti())d.flags|=8192;else throw Gs=Ou,Y0}else d.flags&=-16777217}function sd(d,h){if(fv(h)){if(d.flags|=16777216,!dv(h))if(ti())d.flags|=8192;else throw Gs=Ou,Y0}else d.flags&=-16777217}function sp(d,h){h!==null&&(d.flags|=4),d.flags&16384&&(h=d.tag!==22?R():536870912,d.lanes|=h,Id|=h)}function ad(d,h){if(!$n)switch(d.tailMode){case"hidden":h=d.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var T=null;b!==null;)b.alternate!==null&&(T=b),b=b.sibling;T===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:T.sibling=null}}function zi(d){var h=d.alternate!==null&&d.alternate.child===d.child,b=0,T=0;if(h)for(var I=d.child;I!==null;)b|=I.lanes|I.childLanes,T|=I.subtreeFlags&65011712,T|=I.flags&65011712,I.return=d,I=I.sibling;else for(I=d.child;I!==null;)b|=I.lanes|I.childLanes,T|=I.subtreeFlags,T|=I.flags,I.return=d,I=I.sibling;return d.subtreeFlags|=T,d.childLanes=b,h}function U1(d,h,b){var T=h.pendingProps;switch(ge(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zi(h),null;case 1:return zi(h),null;case 3:return b=h.stateNode,T=null,d!==null&&(T=d.memoizedState.cache),h.memoizedState.cache!==T&&(h.flags|=2048),de(er),ve(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(d===null||d.child===null)&&(Ct(h)?io(h):d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Ae())),F1(d,h),zi(h),null;case 26:if(fo){var I=h.type,L=h.memoizedState;return d===null?(io(h),L!==null?(zi(h),sd(h,L)):(zi(h),Us(h,I,null,T,b))):L?L!==d.memoizedState?(io(h),zi(h),sd(h,L)):(zi(h),h.flags&=-16777217):(L=d.memoizedProps,ni?L!==T&&io(h):wy(d,h,I,T),zi(h),Us(h,I,L,T,b)),null}case 27:if(qr){if(He(h),b=gs.current,I=h.type,d!==null&&h.stateNode!=null)ni?d.memoizedProps!==T&&io(h):wy(d,h,I,T);else{if(!T){if(h.stateNode===null)throw Error(r(166));return zi(h),null}d=is.current,Ct(h)?Ye(h,d):(d=U0(I,T,b,d,!0),h.stateNode=d,io(h))}return zi(h),null}case 5:if(He(h),I=h.type,d!==null&&h.stateNode!=null)wy(d,h,I,T);else{if(!T){if(h.stateNode===null)throw Error(r(166));return zi(h),null}if(L=is.current,Ct(h))Ye(h,L),TS(h.stateNode,I,T,L)&&(h.flags|=64);else{var Y=Fy(I,T,gs.current,L,h);rp(h),Ey(Y,h,!1,!1),h.stateNode=Y,ia(Y,I,T,L)&&io(h)}}return zi(h),Us(h,h.type,d===null?null:d.memoizedProps,h.pendingProps,b),null;case 6:if(d&&h.stateNode!=null)b=d.memoizedProps,ni?b!==T&&io(h):Ra&&(b!==T?(d=gs.current,b=is.current,rp(h),h.stateNode=dl(T,d,b,h)):h.stateNode=d.stateNode);else{if(typeof T!="string"&&h.stateNode===null)throw Error(r(166));if(d=gs.current,b=is.current,Ct(h)){if(!Qi)throw Error(r(176));if(d=h.stateNode,b=h.memoizedProps,T=null,I=$r,I!==null)switch(I.tag){case 27:case 5:T=I.memoizedProps}CA(d,b,h,T)||Xe(h,!0)}else rp(h),h.stateNode=dl(T,d,b,h)}return zi(h),null;case 31:if(b=h.memoizedState,d===null||d.memoizedState!==null){if(T=Ct(h),b!==null){if(d===null){if(!T)throw Error(r(318));if(!Qi)throw Error(r(556));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(557));iv(d,h)}else at(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;zi(h),d=!1}else b=Ae(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=b),d=!0;if(!d)return h.flags&256?(Te(h),h):(Te(h),null);if((h.flags&128)!==0)throw Error(r(558))}return zi(h),null;case 13:if(T=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(I=Ct(h),T!==null&&T.dehydrated!==null){if(d===null){if(!I)throw Error(r(318));if(!Qi)throw Error(r(344));if(I=h.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));xS(I,h)}else at(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;zi(h),I=!1}else I=Ae(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=I),I=!0;if(!I)return h.flags&256?(Te(h),h):(Te(h),null)}return Te(h),(h.flags&128)!==0?(h.lanes=b,h):(b=T!==null,d=d!==null&&d.memoizedState!==null,b&&(T=h.child,I=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(I=T.alternate.memoizedState.cachePool.pool),L=null,T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(L=T.memoizedState.cachePool.pool),L!==I&&(T.flags|=2048)),b!==d&&b&&(h.child.flags|=8192),sp(h,h.updateQueue),zi(h),null);case 4:return ve(),F1(d,h),d===null&&ki(h.stateNode.containerInfo),zi(h),null;case 10:return de(h.type),zi(h),null;case 19:if(_(br),T=h.memoizedState,T===null)return zi(h),null;if(I=(h.flags&128)!==0,L=T.rendering,L===null)if(I)ad(T,!1);else{if(dr!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(L=nt(d),L!==null){for(h.flags|=128,ad(T,!1),d=L.updateQueue,h.updateQueue=d,sp(h,d),h.subtreeFlags=0,d=b,b=h.child;b!==null;)x0(b,d),b=b.sibling;return x(br,br.current&1|2),$n&&Z(h,T.treeForkCount),h.child}d=d.sibling}T.tail!==null&&Ms()>lc&&(h.flags|=128,I=!0,ad(T,!1),h.lanes=4194304)}else{if(!I)if(d=nt(L),d!==null){if(h.flags|=128,I=!0,d=d.updateQueue,h.updateQueue=d,sp(h,d),ad(T,!0),T.tail===null&&T.tailMode==="hidden"&&!L.alternate&&!$n)return zi(h),null}else 2*Ms()-T.renderingStartTime>lc&&b!==536870912&&(h.flags|=128,I=!0,ad(T,!1),h.lanes=4194304);T.isBackwards?(L.sibling=h.child,h.child=L):(d=T.last,d!==null?d.sibling=L:h.child=L,T.last=L)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=Ms(),d.sibling=null,b=br.current,x(br,I?b&1|2:b&1),$n&&Z(h,T.treeForkCount),d):(zi(h),null);case 22:case 23:return Te(h),X(),T=h.memoizedState!==null,d!==null?d.memoizedState!==null!==T&&(h.flags|=8192):T&&(h.flags|=8192),T?(b&536870912)!==0&&(h.flags&128)===0&&(zi(h),h.subtreeFlags&6&&(h.flags|=8192)):zi(h),b=h.updateQueue,b!==null&&sp(h,b.retryQueue),b=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),T=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(T=h.memoizedState.cachePool.pool),T!==b&&(h.flags|=2048),d!==null&&_(tc),null;case 24:return b=null,d!==null&&(b=d.memoizedState.cache),h.memoizedState.cache!==b&&(h.flags|=2048),de(er),zi(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function Ty(d,h){switch(ge(h),h.tag){case 1:return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return de(er),ve(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 26:case 27:case 5:return He(h),null;case 31:if(h.memoizedState!==null){if(Te(h),h.alternate===null)throw Error(r(340));at()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 13:if(Te(h),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(r(340));at()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return _(br),null;case 4:return ve(),null;case 10:return de(h.type),null;case 22:case 23:return Te(h),X(),d!==null&&_(tc),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 24:return de(er),null;case 25:return null;default:return null}}function B1(d,h){switch(ge(h),h.tag){case 3:de(er),ve();break;case 26:case 27:case 5:He(h);break;case 4:ve();break;case 31:h.memoizedState!==null&&Te(h);break;case 13:Te(h);break;case 19:_(br);break;case 10:de(h.type);break;case 22:case 23:Te(h),X(),d!==null&&_(tc);break;case 24:de(er)}}function yu(d,h){try{var b=h.updateQueue,T=b!==null?b.lastEffect:null;if(T!==null){var I=T.next;b=I;do{if((b.tag&d)===d){T=void 0;var L=b.create,Y=b.inst;T=L(),Y.destroy=T}b=b.next}while(b!==I)}}catch(_e){fn(h,h.return,_e)}}function vu(d,h,b){try{var T=h.updateQueue,I=T!==null?T.lastEffect:null;if(I!==null){var L=I.next;T=L;do{if((T.tag&d)===d){var Y=T.inst,_e=Y.destroy;if(_e!==void 0){Y.destroy=void 0,I=h;var Ge=b,ct=_e;try{ct()}catch(Mt){fn(I,Ge,Mt)}}}T=T.next}while(T!==L)}}catch(Mt){fn(h,h.return,Mt)}}function od(d){var h=d.updateQueue;if(h!==null){var b=d.stateNode;try{Ot(h,b)}catch(T){fn(d,d.return,T)}}}function c0(d,h,b){b.props=Gc(d.type,d.memoizedProps),b.state=d.memoizedState;try{b.componentWillUnmount()}catch(T){fn(d,h,T)}}function ud(d,h){try{var b=d.ref;if(b!==null){switch(d.tag){case 26:case 27:case 5:var T=vd(d.stateNode);break;case 30:T=d.stateNode;break;default:T=d.stateNode}typeof b=="function"?d.refCleanup=b(T):b.current=T}}catch(I){fn(d,h,I)}}function Ts(d,h){var b=d.ref,T=d.refCleanup;if(b!==null)if(typeof T=="function")try{T()}catch(I){fn(d,h,I)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(I){fn(d,h,I)}else b.current=null}function $c(d){var h=d.type,b=d.memoizedProps,T=d.stateNode;try{J1(T,h,b,d)}catch(I){fn(d,d.return,I)}}function ap(d,h,b){try{eS(d.stateNode,d.type,b,h,d)}catch(T){fn(d,d.return,T)}}function My(d){return d.tag===5||d.tag===3||(fo?d.tag===26:!1)||(qr?d.tag===27&&sf(d.type):!1)||d.tag===4}function rl(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||My(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(qr&&d.tag===27&&sf(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function f0(d,h,b){var T=d.tag;if(T===5||T===6)d=d.stateNode,h?nS(b,d,h):qy(b,d);else if(T!==4&&(qr&&T===27&&sf(d.type)&&(b=d.stateNode,h=null),d=d.child,d!==null))for(f0(d,h,b),d=d.sibling;d!==null;)f0(d,h,b),d=d.sibling}function op(d,h,b){var T=d.tag;if(T===5||T===6)d=d.stateNode,h?tS(b,d,h):jy(b,d);else if(T!==4&&(qr&&T===27&&sf(d.type)&&(b=d.stateNode),d=d.child,d!==null))for(op(d,h,b),d=d.sibling;d!==null;)op(d,h,b),d=d.sibling}function Cy(d,h,b){d=d.containerInfo;try{Qy(d,b)}catch(T){fn(h,h.return,T)}}function z1(d){var h=d.stateNode,b=d.memoizedProps;try{Fr(d.type,b,h,d)}catch(T){fn(d,d.return,T)}}function EA(d,h){for(C0(d.containerInfo),Ar=h;Ar!==null;)if(d=Ar,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Ar=h;else for(;Ar!==null;){d=Ar;var b=d.alternate;switch(h=d.flags,d.tag){case 0:if((h&4)!==0&&(h=d.updateQueue,h=h!==null?h.events:null,h!==null))for(var T=0;T<h.length;T++){var I=h[T];I.ref.impl=I.nextImpl}break;case 11:case 15:break;case 1:if((h&1024)!==0&&b!==null){h=void 0,T=d,I=b.memoizedProps,b=b.memoizedState;var L=T.stateNode;try{var Y=Gc(T.type,I);h=L.getSnapshotBeforeUpdate(Y,b),L.__reactInternalSnapshotBeforeUpdate=h}catch(_e){fn(T,T.return,_e)}}break;case 3:(h&1024)!==0&&ni&&Yy(d.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(r(163))}if(h=d.sibling,h!==null){h.return=d.return,Ar=h;break}Ar=d.return}}function H1(d,h,b){var T=b.flags;switch(b.tag){case 0:case 11:case 15:Bs(d,b),T&4&&yu(5,b);break;case 1:if(Bs(d,b),T&4)if(d=b.stateNode,h===null)try{d.componentDidMount()}catch(Y){fn(b,b.return,Y)}else{var I=Gc(b.type,h.memoizedProps);h=h.memoizedState;try{d.componentDidUpdate(I,h,d.__reactInternalSnapshotBeforeUpdate)}catch(Y){fn(b,b.return,Y)}}T&64&&od(b),T&512&&ud(b,b.return);break;case 3:if(Bs(d,b),T&64&&(T=b.updateQueue,T!==null)){if(d=null,b.child!==null)switch(b.child.tag){case 27:case 5:d=vd(b.child.stateNode);break;case 1:d=b.child.stateNode}try{Ot(T,d)}catch(Y){fn(b,b.return,Y)}}break;case 27:qr&&h===null&&T&4&&z1(b);case 26:case 5:if(Bs(d,b),h===null){if(T&4)$c(b);else if(T&64){d=b.type,h=b.memoizedProps,I=b.stateNode;try{ES(I,d,h,b)}catch(Y){fn(b,b.return,Y)}}}T&512&&ud(b,b.return);break;case 12:Bs(d,b);break;case 31:Bs(d,b),T&4&&so(d,b);break;case 13:Bs(d,b),T&4&&lp(d,b),T&64&&(T=b.memoizedState,T!==null&&(T=T.dehydrated,T!==null&&(b=wA.bind(null,b),k0(T,b))));break;case 22:if(T=b.memoizedState!==null||xr,!T){h=h!==null&&h.memoizedState!==null||Sr,I=xr;var L=Sr;xr=T,(Sr=h)&&!L?oo(d,b,(b.subtreeFlags&8772)!==0):Bs(d,b),xr=I,Sr=L}break;case 30:break;default:Bs(d,b)}}function Ay(d){var h=d.alternate;h!==null&&(d.alternate=null,Ay(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&A0(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function ro(d,h,b){for(b=b.child;b!==null;)up(d,h,b),b=b.sibling}function up(d,h,b){if(aa&&typeof aa.onCommitFiberUnmount=="function")try{aa.onCommitFiberUnmount(uf,b)}catch{}switch(b.tag){case 26:if(fo){Sr||Ts(b,h),ro(d,h,b),b.memoizedState?Jl(b.memoizedState):b.stateNode&&cv(b.stateNode);break}case 27:if(qr){Sr||Ts(b,h);var T=fr,I=Dr;sf(b.type)&&(fr=b.stateNode,Dr=!1),ro(d,h,b),ns(b.stateNode),fr=T,Dr=I;break}case 5:Sr||Ts(b,h);case 6:if(ni){if(T=fr,I=Dr,fr=null,ro(d,h,b),fr=T,Dr=I,fr!==null)if(Dr)try{$y(fr,b.stateNode)}catch(L){fn(b,h,L)}else try{iS(fr,b.stateNode)}catch(L){fn(b,h,L)}}else ro(d,h,b);break;case 18:ni&&fr!==null&&(Dr?P0(fr,b.stateNode):sv(fr,b.stateNode));break;case 4:ni?(T=fr,I=Dr,fr=b.stateNode.containerInfo,Dr=!0,ro(d,h,b),fr=T,Dr=I):(Ra&&Cy(b.stateNode,b,Zy()),ro(d,h,b));break;case 0:case 11:case 14:case 15:vu(2,b,h),Sr||vu(4,b,h),ro(d,h,b);break;case 1:Sr||(Ts(b,h),T=b.stateNode,typeof T.componentWillUnmount=="function"&&c0(b,h,T)),ro(d,h,b);break;case 21:ro(d,h,b);break;case 22:Sr=(T=Sr)||b.memoizedState!==null,ro(d,h,b),Sr=T;break;default:ro(d,h,b)}}function so(d,h){if(Qi&&h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{AA(d)}catch(b){fn(h,h.return,b)}}}function lp(d,h){if(Qi&&h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{DA(d)}catch(b){fn(h,h.return,b)}}function ao(d){switch(d.tag){case 31:case 13:case 19:var h=d.stateNode;return h===null&&(h=d.stateNode=new bv),h;case 22:return d=d.stateNode,h=d._retryCache,h===null&&(h=d._retryCache=new bv),h;default:throw Error(r(435,d.tag))}}function sl(d,h){var b=ao(d);h.forEach(function(T){if(!b.has(T)){b.add(T);var I=TA.bind(null,d,T);T.then(I,I)}})}function es(d,h){var b=h.deletions;if(b!==null)for(var T=0;T<b.length;T++){var I=b[T],L=d,Y=h;if(ni){var _e=Y;e:for(;_e!==null;){switch(_e.tag){case 27:if(qr){if(sf(_e.type)){fr=_e.stateNode,Dr=!1;break e}break}case 5:fr=_e.stateNode,Dr=!1;break e;case 3:case 4:fr=_e.stateNode.containerInfo,Dr=!0;break e}_e=_e.return}if(fr===null)throw Error(r(160));up(L,Y,I),fr=null,Dr=!1}else up(L,Y,I);L=I.alternate,L!==null&&(L.return=null),I.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)cp(h,d),h=h.sibling}function cp(d,h){var b=d.alternate,T=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:es(h,d),ts(d),T&4&&(vu(3,d,d.return),yu(3,d),vu(5,d,d.return));break;case 1:es(h,d),ts(d),T&512&&(Sr||b===null||Ts(b,b.return)),T&64&&xr&&(d=d.updateQueue,d!==null&&(T=d.callbacks,T!==null&&(b=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=b===null?T:b.concat(T))));break;case 26:if(fo){var I=Ii;if(es(h,d),ts(d),T&512&&(Sr||b===null||Ts(b,b.return)),T&4){T=b!==null?b.memoizedState:null;var L=d.memoizedState;b===null?L===null?d.stateNode===null?d.stateNode=DS(I,d.type,d.memoizedProps,d):lv(I,d.type,d.stateNode):d.stateNode=uv(I,L,d.memoizedProps):T!==L?(T===null?b.stateNode!==null&&cv(b.stateNode):Jl(T),L===null?lv(I,d.type,d.stateNode):uv(I,L,d.memoizedProps)):L===null&&d.stateNode!==null&&ap(d,d.memoizedProps,b.memoizedProps)}break}case 27:if(qr){es(h,d),ts(d),T&512&&(Sr||b===null||Ts(b,b.return)),b!==null&&T&4&&ap(d,d.memoizedProps,b.memoizedProps);break}case 5:if(es(h,d),ts(d),T&512&&(Sr||b===null||Ts(b,b.return)),ni){if(d.flags&32){I=d.stateNode;try{Xy(I)}catch(mt){fn(d,d.return,mt)}}T&4&&d.stateNode!=null&&(I=d.memoizedProps,ap(d,I,b!==null?b.memoizedProps:I)),T&1024&&(Md=!0)}else Ra&&d.alternate!==null&&(d.alternate.stateNode=d.stateNode);break;case 6:if(es(h,d),ts(d),T&4&&ni){if(d.stateNode===null)throw Error(r(162));T=d.memoizedProps,b=b!==null?b.memoizedProps:T,I=d.stateNode;try{Q1(I,b,T)}catch(mt){fn(d,d.return,mt)}}break;case 3:if(fo?(RS(),I=Ii,Ii=Sp(h.containerInfo),es(h,d),Ii=I):es(h,d),ts(d),T&4){if(ni&&Qi&&b!==null&&b.memoizedState.isDehydrated)try{wS(h.containerInfo)}catch(mt){fn(d,d.return,mt)}if(Ra){T=h.containerInfo,b=h.pendingChildren;try{Qy(T,b)}catch(mt){fn(d,d.return,mt)}}}Md&&(Md=!1,d0(d));break;case 4:fo?(b=Ii,Ii=Sp(d.stateNode.containerInfo),es(h,d),ts(d),Ii=b):(es(h,d),ts(d)),T&4&&Ra&&Cy(d.stateNode,d,d.stateNode.pendingChildren);break;case 12:es(h,d),ts(d);break;case 31:es(h,d),ts(d),T&4&&(T=d.updateQueue,T!==null&&(d.updateQueue=null,sl(d,T)));break;case 13:es(h,d),ts(d),d.child.flags&8192&&d.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(Np=Ms()),T&4&&(T=d.updateQueue,T!==null&&(d.updateQueue=null,sl(d,T)));break;case 22:I=d.memoizedState!==null;var Y=b!==null&&b.memoizedState!==null,_e=xr,Ge=Sr;if(xr=_e||I,Sr=Ge||Y,es(h,d),Sr=Ge,xr=_e,ts(d),T&8192&&(h=d.stateNode,h._visibility=I?h._visibility&-2:h._visibility|1,I&&(b===null||Y||xr||Sr||zl(d)),ni)){e:if(b=null,ni)for(h=d;;){if(h.tag===5||fo&&h.tag===26){if(b===null){Y=b=h;try{L=Y.stateNode,I?MA(L):sS(Y.stateNode,Y.memoizedProps)}catch(mt){fn(Y,Y.return,mt)}}}else if(h.tag===6){if(b===null){Y=h;try{var ct=Y.stateNode;I?rS(ct):aS(ct,Y.memoizedProps)}catch(mt){fn(Y,Y.return,mt)}}}else if(h.tag===18){if(b===null){Y=h;try{var Mt=Y.stateNode;I?MS(Mt):CS(Y.stateNode)}catch(mt){fn(Y,Y.return,mt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===d)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;b===h&&(b=null),h=h.return}b===h&&(b=null),h.sibling.return=h.return,h=h.sibling}}T&4&&(T=d.updateQueue,T!==null&&(b=T.retryQueue,b!==null&&(T.retryQueue=null,sl(d,b))));break;case 19:es(h,d),ts(d),T&4&&(T=d.updateQueue,T!==null&&(d.updateQueue=null,sl(d,T)));break;case 30:break;case 21:break;default:es(h,d),ts(d)}}function ts(d){var h=d.flags;if(h&2){try{for(var b,T=d.return;T!==null;){if(My(T)){b=T;break}T=T.return}if(ni){if(b==null)throw Error(r(160));switch(b.tag){case 27:if(qr){var I=b.stateNode,L=rl(d);op(d,L,I);break}case 5:var Y=b.stateNode;b.flags&32&&(Xy(Y),b.flags&=-33);var _e=rl(d);op(d,_e,Y);break;case 3:case 4:var Ge=b.stateNode.containerInfo,ct=rl(d);f0(d,ct,Ge);break;default:throw Error(r(161))}}}catch(Mt){fn(d,d.return,Mt)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function d0(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var h=d;d0(h),h.tag===5&&h.flags&1024&&Hy(h.stateNode),d=d.sibling}}function Bs(d,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)H1(d,h.alternate,h),h=h.sibling}function zl(d){for(d=d.child;d!==null;){var h=d;switch(h.tag){case 0:case 11:case 14:case 15:vu(4,h,h.return),zl(h);break;case 1:Ts(h,h.return);var b=h.stateNode;typeof b.componentWillUnmount=="function"&&c0(h,h.return,b),zl(h);break;case 27:qr&&ns(h.stateNode);case 26:case 5:Ts(h,h.return),zl(h);break;case 22:h.memoizedState===null&&zl(h);break;case 30:zl(h);break;default:zl(h)}d=d.sibling}}function oo(d,h,b){for(b=b&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var T=h.alternate,I=d,L=h,Y=L.flags;switch(L.tag){case 0:case 11:case 15:oo(I,L,b),yu(4,L);break;case 1:if(oo(I,L,b),T=L,I=T.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(ct){fn(T,T.return,ct)}if(T=L,I=T.updateQueue,I!==null){var _e=T.stateNode;try{var Ge=I.shared.hiddenCallbacks;if(Ge!==null)for(I.shared.hiddenCallbacks=null,I=0;I<Ge.length;I++)Ze(Ge[I],_e)}catch(ct){fn(T,T.return,ct)}}b&&Y&64&&od(L),ud(L,L.return);break;case 27:qr&&z1(L);case 26:case 5:oo(I,L,b),b&&T===null&&Y&4&&$c(L),ud(L,L.return);break;case 12:oo(I,L,b);break;case 31:oo(I,L,b),b&&Y&4&&so(I,L);break;case 13:oo(I,L,b),b&&Y&4&&lp(I,L);break;case 22:L.memoizedState===null&&oo(I,L,b),ud(L,L.return);break;case 30:break;default:oo(I,L,b)}h=h.sibling}}function Hl(d,h){var b=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),d=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(d=h.memoizedState.cachePool.pool),d!==b&&(d!=null&&d.refCount++,b!=null&&Re(b))}function Dy(d,h){d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&Re(d))}function or(d,h,b,T){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)h0(d,h,b,T),h=h.sibling}function h0(d,h,b,T){var I=h.flags;switch(h.tag){case 0:case 11:case 15:or(d,h,b,T),I&2048&&yu(9,h);break;case 1:or(d,h,b,T);break;case 3:or(d,h,b,T),I&2048&&(d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&Re(d)));break;case 12:if(I&2048){or(d,h,b,T),d=h.stateNode;try{var L=h.memoizedProps,Y=L.id,_e=L.onPostCommit;typeof _e=="function"&&_e(Y,h.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Ge){fn(h,h.return,Ge)}}else or(d,h,b,T);break;case 31:or(d,h,b,T);break;case 13:or(d,h,b,T);break;case 23:break;case 22:L=h.stateNode,Y=h.alternate,h.memoizedState!==null?L._visibility&2?or(d,h,b,T):ld(d,h):L._visibility&2?or(d,h,b,T):(L._visibility|=2,ea(d,h,b,T,(h.subtreeFlags&10256)!==0||!1)),I&2048&&Hl(Y,h);break;case 24:or(d,h,b,T),I&2048&&Dy(h.alternate,h);break;default:or(d,h,b,T)}}function ea(d,h,b,T,I){for(I=I&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var L=d,Y=h,_e=b,Ge=T,ct=Y.flags;switch(Y.tag){case 0:case 11:case 15:ea(L,Y,_e,Ge,I),yu(8,Y);break;case 23:break;case 22:var Mt=Y.stateNode;Y.memoizedState!==null?Mt._visibility&2?ea(L,Y,_e,Ge,I):ld(L,Y):(Mt._visibility|=2,ea(L,Y,_e,Ge,I)),I&&ct&2048&&Hl(Y.alternate,Y);break;case 24:ea(L,Y,_e,Ge,I),I&&ct&2048&&Dy(Y.alternate,Y);break;default:ea(L,Y,_e,Ge,I)}h=h.sibling}}function ld(d,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var b=d,T=h,I=T.flags;switch(T.tag){case 22:ld(b,T),I&2048&&Hl(T.alternate,T);break;case 24:ld(b,T),I&2048&&Dy(T.alternate,T);break;default:ld(b,T)}h=h.sibling}}function bu(d,h,b){if(d.subtreeFlags&ka)for(d=d.child;d!==null;)Vl(d,h,b),d=d.sibling}function Vl(d,h,b){switch(d.tag){case 26:if(bu(d,h,b),d.flags&ka)if(d.memoizedState!==null)IS(b,Ii,d.memoizedState,d.memoizedProps);else{var T=d.stateNode,I=d.type;d=d.memoizedProps,((h&335544128)===h||By(I,d))&&D0(b,T,I,d)}break;case 5:bu(d,h,b),d.flags&ka&&(T=d.stateNode,I=d.type,d=d.memoizedProps,((h&335544128)===h||By(I,d))&&D0(b,T,I,d));break;case 3:case 4:fo?(T=Ii,Ii=Sp(d.stateNode.containerInfo),bu(d,h,b),Ii=T):bu(d,h,b);break;case 22:d.memoizedState===null&&(T=d.alternate,T!==null&&T.memoizedState!==null?(T=ka,ka=16777216,bu(d,h,b),ka=T):bu(d,h,b));break;default:bu(d,h,b)}}function p0(d){var h=d.alternate;if(h!==null&&(d=h.child,d!==null)){h.child=null;do h=d.sibling,d.sibling=null,d=h;while(d!==null)}}function cd(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var b=0;b<h.length;b++){var T=h[b];Ar=T,Ca(T,d)}p0(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)m0(d),d=d.sibling}function m0(d){switch(d.tag){case 0:case 11:case 15:cd(d),d.flags&2048&&vu(9,d,d.return);break;case 3:cd(d);break;case 12:cd(d);break;case 22:var h=d.stateNode;d.memoizedState!==null&&h._visibility&2&&(d.return===null||d.return.tag!==13)?(h._visibility&=-3,fp(d)):cd(d);break;default:cd(d)}}function fp(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var b=0;b<h.length;b++){var T=h[b];Ar=T,Ca(T,d)}p0(d)}for(d=d.child;d!==null;){switch(h=d,h.tag){case 0:case 11:case 15:vu(8,h,h.return),fp(h);break;case 22:b=h.stateNode,b._visibility&2&&(b._visibility&=-3,fp(h));break;default:fp(h)}d=d.sibling}}function Ca(d,h){for(;Ar!==null;){var b=Ar;switch(b.tag){case 0:case 11:case 15:vu(8,b,h);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var T=b.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:Re(b.memoizedState.cache)}if(T=b.child,T!==null)T.return=b,Ar=T;else e:for(b=d;Ar!==null;){T=Ar;var I=T.sibling,L=T.return;if(Ay(T),T===b){Ar=null;break e}if(I!==null){I.return=L,Ar=I;break e}Ar=L}}}function Gl(d){var h=Cn(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(r(364));return h}if(d=Mr(d),d===null)throw Error(r(362));return d.stateNode.current}function Wl(d,h){var b=d.tag;switch(h.$$typeof){case bo:if(d.type===h.value)return!0;break;case Ad:e:{for(h=h.value,d=[d,0],b=0;b<d.length;){var T=d[b++],I=T.tag,L=d[b++],Y=h[L];if(I!==5&&I!==26&&I!==27||!Kl(T)){for(;Y!=null&&Wl(T,Y);)L++,Y=h[L];if(L===h.length){h=!0;break e}else for(T=T.child;T!==null;)d.push(T,L),T=T.sibling}}h=!1}return h;case Dd:if((b===5||b===26||b===27)&&Wy(d.stateNode,h.value))return!0;break;case sc:if((b===5||b===6||b===26||b===27)&&(d=bp(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case Rp:if((b===5||b===26||b===27)&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function fd(d){switch(d.$$typeof){case bo:return"<"+(g(d.value)||"Unknown")+">";case Ad:return":has("+(fd(d)||"")+")";case Dd:return'[role="'+d.value+'"]';case sc:return'"'+d.value+'"';case Rp:return'[data-testname="'+d.value+'"]';default:throw Error(r(365))}}function dd(d,h){var b=[];d=[d,0];for(var T=0;T<d.length;){var I=d[T++],L=I.tag,Y=d[T++],_e=h[Y];if(L!==5&&L!==26&&L!==27||!Kl(I)){for(;_e!=null&&Wl(I,_e);)Y++,_e=h[Y];if(Y===h.length)b.push(I);else for(I=I.child;I!==null;)d.push(I,Y),I=I.sibling}}return b}function ta(d,h){if(!jr)throw Error(r(363));d=Gl(d),d=dd(d,h),h=[],d=Array.from(d);for(var b=0;b<d.length;){var T=d[b++],I=T.tag;if(I===5||I===26||I===27)Kl(T)||h.push(T.stateNode);else for(T=T.child;T!==null;)d.push(T),T=T.sibling}return h}function Ki(){return(Gn&2)!==0&&Xn!==0?Xn&-Xn:nn.T!==null?pt():xd()}function al(){if(js===0)if((Xn&536870912)===0||$n){var d=of;of<<=1,(of&3932160)===0&&(of=262144),js=d}else js=536870912;return d=oa.current,d!==null&&(d.flags|=32),js}function ur(d,h,b){(d===Ln&&(Ni===2||Ni===9)||d.cancelPendingCommit!==null)&&(vr(d,0),Su(d,Xn,js,!1)),O(d,b),((Gn&2)===0||d!==Ln)&&(d===Ln&&((Gn&2)===0&&(uc|=b),dr===4&&Su(d,Xn,js,!1)),St(d))}function Ho(d,h,b){if((Gn&6)!==0)throw Error(r(327));var T=!b&&(h&127)===0&&(h&d.expiredLanes)===0||C(d,h),I=T?W1(d,h):Eu(d,h,!0),L=T;do{if(I===0){ac&&!T&&Su(d,h,0,!1);break}else{if(b=d.current.alternate,L&&!V1(b)){I=Eu(d,h,!1),L=!1;continue}if(I===2){if(L=h,d.errorRecoveryDisabledLanes&L)var Y=0;else Y=d.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){h=Y;e:{var _e=d;I=Ip;var Ge=Qi&&_e.current.memoizedState.isDehydrated;if(Ge&&(vr(_e,Y).flags|=256),Y=Eu(_e,Y,!1),Y!==2){if(oc&&!Ge){_e.errorRecoveryDisabledLanes|=L,uc|=L,I=4;break e}L=la,la=I,L!==null&&(la===null?la=L:la.push.apply(la,L))}I=Y}if(L=!1,I!==2)continue}}if(I===1){vr(d,0),Su(d,h,0,!0);break}e:{switch(T=d,L=I,L){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:Su(T,h,js,!jo);break e;case 2:la=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(I=Np+300-Ms(),10<I)){if(Su(T,h,js,!jo),w(T,0,!0)!==0)break e;Fu=h,T.timeoutHandle=Uy(xu.bind(null,T,b,la,Op,K0,h,js,uc,Id,jo,L,"Throttled",-0,0),I);break e}xu(T,b,la,Op,K0,h,js,uc,Id,jo,L,null,-0,0)}}break}while(!0);St(d)}function xu(d,h,b,T,I,L,Y,_e,Ge,ct,Mt,mt,zt,wn){if(d.timeoutHandle=ra,mt=h.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt=zy(),Vl(h,L,mt);var Rr=(L&62914560)===L?Np-Ms():(L&4194048)===L?pf-Ms():0;if(Rr=K1(mt,Rr),Rr!==null){Fu=L,d.cancelPendingCommit=Rr(Tu.bind(null,d,h,L,b,T,I,Y,_e,Ge,Mt,mt,null,zt,wn)),Su(d,L,Y,!ct);return}}Tu(d,h,L,b,T,I,Y,_e,Ge)}function V1(d){for(var h=d;;){var b=h.tag;if((b===0||b===11||b===15)&&h.flags&16384&&(b=h.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var T=0;T<b.length;T++){var I=b[T],L=I.getSnapshot;I=I.value;try{if(!Cr(L(),I))return!1}catch{return!1}}if(b=h.child,h.subtreeFlags&16384&&b!==null)b.return=h,h=b;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Su(d,h,b,T){h&=~Rd,h&=~uc,d.suspendedLanes|=h,d.pingedLanes&=~h,T&&(d.warmLanes|=h),T=d.expirationTimes;for(var I=h;0<I;){var L=31-sa(I),Y=1<<L;T[L]=-1,I&=~Y}b!==0&&z(d,b,h)}function g0(){return(Gn&6)===0?(lt(0),!1):!0}function _0(){if(Wn!==null){if(Ni===0)var d=Wn.return;else d=Wn,Go=Vi=null,yi(d),nc=null,lf=0,d=Wn;for(;d!==null;)B1(d.alternate,d),d=d.return;Wn=null}}function vr(d,h){var b=d.timeoutHandle;b!==ra&&(d.timeoutHandle=ra,Z1(b)),b=d.cancelPendingCommit,b!==null&&(d.cancelPendingCommit=null,b()),Fu=0,_0(),Ln=d,Wn=b=Da(d.current,null),Xn=h,Ni=0,Ur=null,jo=!1,ac=C(d,h),oc=!1,Id=js=Rd=uc=yl=dr=0,la=Ip=null,K0=!1,(h&8)!==0&&(h|=h&32);var T=d.entangledLanes;if(T!==0)for(d=d.entanglements,T&=h;0<T;){var I=31-sa(T),L=1<<I;h|=d[I],T&=~L}return Lu=h,At(),b}function Hi(d,h){An=null,nn.H=Oa,h===Yr||h===yo?(h=ot(),Ni=3):h===Y0?(h=ot(),Ni=4):Ni=h===Ws?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Ur=h,Wn===null&&(dr=1,a0(d,se(h,d.current)))}function ti(){var d=oa.current;return d===null?!0:(Xn&4194048)===Xn?ua===null:(Xn&62914560)===Xn||(Xn&536870912)!==0?d===ua:!1}function ol(){var d=nn.H;return nn.H=Oa,d===null?Oa:d}function Aa(){var d=nn.A;return nn.A=Cd,d}function hd(){dr=4,jo||(Xn&4194048)!==Xn&&oa.current!==null||(ac=!0),(yl&134217727)===0&&(uc&134217727)===0||Ln===null||Su(Ln,Xn,js,!1)}function Eu(d,h,b){var T=Gn;Gn|=2;var I=ol(),L=Aa();(Ln!==d||Xn!==h)&&(Op=null,vr(d,h)),h=!1;var Y=dr;e:do try{if(Ni!==0&&Wn!==null){var _e=Wn,Ge=Ur;switch(Ni){case 8:_0(),Y=6;break e;case 3:case 2:case 9:case 6:oa.current===null&&(h=!0);var ct=Ni;if(Ni=0,Ur=null,wu(d,_e,Ge,ct),b&&ac){Y=0;break e}break;default:ct=Ni,Ni=0,Ur=null,wu(d,_e,Ge,ct)}}G1(),Y=dr;break}catch(Mt){Hi(d,Mt)}while(!0);return h&&d.shellSuspendCounter++,Go=Vi=null,Gn=T,nn.H=I,nn.A=L,Wn===null&&(Ln=null,Xn=0,At()),Y}function G1(){for(;Wn!==null;)jl(Wn)}function W1(d,h){var b=Gn;Gn|=2;var T=ol(),I=Aa();Ln!==d||Xn!==h?(Op=null,lc=Ms()+500,vr(d,h)):ac=C(d,h);e:do try{if(Ni!==0&&Wn!==null){h=Wn;var L=Ur;t:switch(Ni){case 1:Ni=0,Ur=null,wu(d,h,L,1);break;case 2:case 9:if(le(L)){Ni=0,Ur=null,y0(h);break}h=function(){Ni!==2&&Ni!==9||Ln!==d||(Ni=7),St(d)},L.then(h,h);break e;case 3:Ni=7;break e;case 4:Ni=5;break e;case 7:le(L)?(Ni=0,Ur=null,y0(h)):(Ni=0,Ur=null,wu(d,h,L,7));break;case 5:var Y=null;switch(Wn.tag){case 26:Y=Wn.memoizedState;case 5:case 27:var _e=Wn,Ge=_e.type,ct=_e.pendingProps;if(Y?dv(Y):lr(_e.stateNode,Ge,ct)){Ni=0,Ur=null;var Mt=_e.sibling;if(Mt!==null)Wn=Mt;else{var mt=_e.return;mt!==null?(Wn=mt,md(mt)):Wn=null}break t}}Ni=0,Ur=null,wu(d,h,L,5);break;case 6:Ni=0,Ur=null,wu(d,h,L,6);break;case 8:_0(),dr=6;break e;default:throw Error(r(462))}}pd();break}catch(zt){Hi(d,zt)}while(!0);return Go=Vi=null,nn.H=T,nn.A=I,Gn=b,Wn!==null?0:(Ln=null,Xn=0,At(),dr)}function pd(){for(;Wn!==null&&!OS();)jl(Wn)}function jl(d){var h=Sy(d.alternate,d,Lu);d.memoizedProps=d.pendingProps,h===null?md(d):Wn=h}function y0(d){var h=d,b=h.alternate;switch(h.tag){case 15:case 0:h=gy(b,h,h.pendingProps,h.type,void 0,Xn);break;case 11:h=gy(b,h,h.pendingProps,h.type.render,h.ref,Xn);break;case 5:yi(h);default:B1(b,h),h=Wn=x0(h,Lu),h=Sy(b,h,Lu)}d.memoizedProps=d.pendingProps,h===null?md(d):Wn=h}function wu(d,h,b,T){Go=Vi=null,yi(h),nc=null,lf=0;var I=h.return;try{if(SA(d,I,h,b,Xn)){dr=1,a0(d,se(b,d.current)),Wn=null;return}}catch(L){if(I!==null)throw Wn=I,L;dr=1,a0(d,se(b,d.current)),Wn=null;return}h.flags&32768?($n||T===1?d=!0:ac||(Xn&536870912)!==0?d=!1:(jo=d=!0,(T===2||T===9||T===3||T===6)&&(T=oa.current,T!==null&&T.tag===13&&(T.flags|=16384))),ql(h,d)):md(h)}function md(d){var h=d;do{if((h.flags&32768)!==0){ql(h,jo);return}d=h.return;var b=U1(h.alternate,h,Lu);if(b!==null){Wn=b;return}if(h=h.sibling,h!==null){Wn=h;return}Wn=h=d}while(h!==null);dr===0&&(dr=5)}function ql(d,h){do{var b=Ty(d.alternate,d);if(b!==null){b.flags&=32767,Wn=b;return}if(b=d.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!h&&(d=d.sibling,d!==null)){Wn=d;return}Wn=d=b}while(d!==null);dr=6,Wn=null}function Tu(d,h,b,T,I,L,Y,_e,Ge){d.cancelPendingCommit=null;do Cu();while(Br!==0);if((Gn&6)!==0)throw Error(r(327));if(h!==null){if(h===d.current)throw Error(r(177));if(L=h.lanes|h.childLanes,L|=cf,P(d,b,L,Y,_e,Ge),d===Ln&&(Wn=Ln=null,Xn=0),mf=h,bl=d,Fu=b,Nd=L,Q0=I,xv=T,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Lr(wp,function(){return dp(),null})):(d.callbackNode=null,d.callbackPriority=0),T=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||T){T=nn.T,nn.T=null,I=co(),qn(2),Y=Gn,Gn|=4;try{EA(d,h,b)}finally{Gn=Y,qn(I),nn.T=T}}Br=1,ul(),Mu(),v0()}}function ul(){if(Br===1){Br=0;var d=bl,h=mf,b=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||b){b=nn.T,nn.T=null;var T=co();qn(2);var I=Gn;Gn|=4;try{cp(h,d),Y1(d.containerInfo)}finally{Gn=I,qn(T),nn.T=b}}d.current=h,Br=2}}function Mu(){if(Br===2){Br=0;var d=bl,h=mf,b=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||b){b=nn.T,nn.T=null;var T=co();qn(2);var I=Gn;Gn|=4;try{H1(d,h.alternate,h)}finally{Gn=I,qn(T),nn.T=b}}Br=3}}function v0(){if(Br===4||Br===3){Br=0,pv();var d=bl,h=mf,b=Fu,T=xv;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Br=5:(Br=0,mf=bl=null,b0(d,d.pendingLanes));var I=d.pendingLanes;if(I===0&&(vl=null),$(b),h=h.stateNode,aa&&typeof aa.onCommitFiberRoot=="function")try{aa.onCommitFiberRoot(uf,h,void 0,(h.current.flags&128)===128)}catch{}if(T!==null){h=nn.T,I=co(),qn(2),nn.T=null;try{for(var L=d.onRecoverableError,Y=0;Y<T.length;Y++){var _e=T[Y];L(_e.value,{componentStack:_e.stack})}}finally{nn.T=h,qn(I)}}(Fu&3)!==0&&Cu(),St(d),I=d.pendingLanes,(b&261930)!==0&&(I&42)!==0?d===kp?hi++:(hi=0,kp=d):hi=0,Qi&&xp(),lt(0)}}function b0(d,h){(d.pooledCacheLanes&=h)===0&&(h=d.pooledCache,h!=null&&(d.pooledCache=null,Re(h)))}function Cu(){return ul(),Mu(),v0(),dp()}function dp(){if(Br!==5)return!1;var d=bl,h=Nd;Nd=0;var b=$(Fu),T=32>b?32:b;b=nn.T;var I=co();try{qn(T),nn.T=null,T=Q0,Q0=null;var L=bl,Y=Fu;if(Br=0,mf=bl=null,Fu=0,(Gn&6)!==0)throw Error(r(331));var _e=Gn;if(Gn|=4,m0(L.current),h0(L,L.current,Y,T),Gn=_e,lt(0,!1),aa&&typeof aa.onPostCommitFiberRoot=="function")try{aa.onPostCommitFiberRoot(uf,L)}catch{}return!0}finally{qn(I),nn.T=b,b0(d,h)}}function $l(d,h,b){h=se(b,h),h=py(d.stateNode,h,2),d=En(d,h,2),d!==null&&(O(d,2),St(d))}function fn(d,h,b){if(d.tag===3)$l(d,d,b);else for(;h!==null;){if(h.tag===3){$l(h,d,b);break}else if(h.tag===1){var T=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(vl===null||!vl.has(T))){d=se(b,d),b=M1(2),T=En(h,b,2),T!==null&&(C1(b,T,h,d),O(T,2),St(T));break}}h=h.return}}function gd(d,h,b){var T=d.pingCache;if(T===null){T=d.pingCache=new Pa;var I=new Set;T.set(h,I)}else I=T.get(h),I===void 0&&(I=new Set,T.set(h,I));I.has(b)||(oc=!0,I.add(b),d=j1.bind(null,d,h,b),h.then(d,d))}function j1(d,h,b){var T=d.pingCache;T!==null&&T.delete(h),d.pingedLanes|=d.suspendedLanes&b,d.warmLanes&=~b,Ln===d&&(Xn&b)===b&&(dr===4||dr===3&&(Xn&62914560)===Xn&&300>Ms()-Np?(Gn&2)===0&&vr(d,0):Rd|=b,Id===Xn&&(Id=0)),St(d)}function q1(d,h){h===0&&(h=R()),d=yn(d,h),d!==null&&(O(d,h),St(d))}function wA(d){var h=d.memoizedState,b=0;h!==null&&(b=h.retryLane),q1(d,b)}function TA(d,h){var b=0;switch(d.tag){case 31:case 13:var T=d.stateNode,I=d.memoizedState;I!==null&&(b=I.retryLane);break;case 19:T=d.stateNode;break;case 22:T=d.stateNode._retryCache;break;default:throw Error(r(314))}T!==null&&T.delete(h),q1(d,b)}function Lr(d,h){return Ep(d,h)}function Ry(d,h,b,T){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xc(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Da(d,h){var b=d.alternate;return b===null?(b=n(d.tag,h,d.key,d.mode),b.elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=h,b.type=d.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=d.flags&65011712,b.childLanes=d.childLanes,b.lanes=d.lanes,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,h=d.dependencies,b.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b.refCleanup=d.refCleanup,b}function x0(d,h){d.flags&=65011714;var b=d.alternate;return b===null?(d.childLanes=0,d.lanes=h,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=b.childLanes,d.lanes=b.lanes,d.child=b.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=b.memoizedProps,d.memoizedState=b.memoizedState,d.updateQueue=b.updateQueue,d.type=b.type,h=b.dependencies,d.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),d}function ll(d,h,b,T,I,L){var Y=0;if(T=d,typeof d=="function")Xc(d)&&(Y=1);else if(typeof d=="string")Y=fo&&qr?L0(d,b,is.current)?26:hv(d)?27:5:fo?L0(d,b,is.current)?26:5:qr&&hv(d)?27:5;else e:switch(d){case gp:return d=n(31,b,h,I),d.elementType=gp,d.lanes=L,d;case Qc:return uo(b.children,I,L,h);case Jc:Y=8,I|=24;break;case ef:return d=n(12,b,h,I|2),d.elementType=ef,d.lanes=L,d;case T0:return d=n(13,b,h,I),d.elementType=T0,d.lanes=L,d;case cl:return d=n(19,b,h,I),d.elementType=cl,d.lanes=L,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case lo:Y=10;break e;case mp:Y=9;break e;case _d:Y=11;break e;case M0:Y=14;break e;case zs:Y=16,T=null;break e}Y=29,b=Error(r(130,d===null?"null":typeof d,"")),T=null}return h=n(Y,b,h,I),h.elementType=d,h.type=T,h.lanes=L,h}function uo(d,h,b,T){return d=n(7,d,T,h),d.lanes=b,d}function Iy(d,h,b){return d=n(6,d,null,h),d.lanes=b,d}function Ny(d){var h=n(18,null,null,0);return h.stateNode=d,h}function Oy(d,h,b){return h=n(4,d.children!==null?d.children:[],d.key,h),h.lanes=b,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function $1(d,h,b,T,I,L,Y,_e,Ge){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ra,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=N(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N(0),this.hiddenUpdates=N(null),this.identifierPrefix=T,this.onUncaughtError=I,this.onCaughtError=L,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ge,this.incompleteTransitions=new Map}function Xl(d,h,b,T,I,L,Y,_e,Ge,ct,Mt,mt){return d=new $1(d,h,b,Y,Ge,ct,Mt,mt,_e),h=1,L===!0&&(h|=24),L=n(3,null,null,h),d.current=L,L.stateNode=d,h=we(),h.refCount++,d.pooledCache=h,h.refCount++,L.memoizedState={element:T,isDehydrated:b,cache:h},Jt(L),d}function S0(d){return d?(d=Du,d):Du}function hp(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=o(h),d=d!==null?l(d):null,d===null?null:vd(d.stateNode)}function ky(d,h,b,T,I,L){I=S0(I),T.context===null?T.context=I:T.pendingContext=I,T=Ei(h),T.payload={element:b},L=L===void 0?null:L,L!==null&&(T.callback=L),b=En(d,T,h),b!==null&&(ur(b,d,h),wi(b,d,h))}function Yc(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var b=d.retryLane;d.retryLane=b!==0&&b<h?b:h}}function pp(d,h){Yc(d,h),(d=d.alternate)&&Yc(d,h)}var kn={},E0=Dt,na=zve,w0=Object.assign,Zc=Symbol.for("react.element"),Au=Symbol.for("react.transitional.element"),Kc=Symbol.for("react.portal"),Qc=Symbol.for("react.fragment"),Jc=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),mp=Symbol.for("react.consumer"),lo=Symbol.for("react.context"),_d=Symbol.for("react.forward_ref"),T0=Symbol.for("react.suspense"),cl=Symbol.for("react.suspense_list"),M0=Symbol.for("react.memo"),zs=Symbol.for("react.lazy"),gp=Symbol.for("react.activity"),Py=Symbol.for("react.memo_cache_sentinel"),fl=Symbol.iterator,Yl=Symbol.for("react.client.reference"),Zl=Array.isArray,nn=E0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ly=e.rendererVersion,_p=e.rendererPackageName,yd=e.extraDevToolsConfig,vd=e.getPublicInstance,X1=e.getRootHostContext,bd=e.getChildHostContext,C0=e.prepareForCommit,Y1=e.resetAfterCommit,Fy=e.createInstance;e.cloneMutableInstance;var yp=e.appendInitialChild,ia=e.finalizeInitialChildren,Hs=e.shouldSetTextContent,dl=e.createTextInstance;e.cloneMutableTextInstance;var Uy=e.scheduleTimeout,Z1=e.cancelTimeout,ra=e.noTimeout,Tr=e.isPrimaryRenderer;e.warnsIfNotActing;var ni=e.supportsMutation,Ra=e.supportsPersistence,Qi=e.supportsHydration,Cn=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var ki=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var qn=e.setCurrentUpdatePriority,co=e.getCurrentUpdatePriority,xd=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var tf=e.shouldAttemptEagerTransition,A0=e.detachDeletedInstance;e.requestPostPaintCallback;var vp=e.maySuspendCommit,Sd=e.maySuspendCommitOnUpdate,By=e.maySuspendCommitInSyncRender,lr=e.preloadInstance,zy=e.startSuspendingCommit,D0=e.suspendInstance;e.suspendOnActiveViewTransition;var K1=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var nf=e.NotPendingTransition,rf=e.HostTransitionContext,Hy=e.resetFormInstance;e.bindToConsole;var Vy=e.supportsMicrotasks,Gy=e.scheduleMicrotask,jr=e.supportsTestSelectors,Mr=e.findFiberRoot,R0=e.getBoundingRect,bp=e.getTextContent,Kl=e.isHiddenSubtree,Wy=e.matchAccessibilityRole,hl=e.setFocusIfFocusable,I0=e.setupIntersectionObserver,jy=e.appendChild,qy=e.appendChildToContainer,Q1=e.commitTextUpdate,J1=e.commitMount,eS=e.commitUpdate,tS=e.insertBefore,nS=e.insertInContainerBefore,iS=e.removeChild,$y=e.removeChildFromContainer,Xy=e.resetTextContent,MA=e.hideInstance,rS=e.hideTextInstance,sS=e.unhideInstance,aS=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Yy=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var oS=e.cloneInstance,Zy=e.createContainerChildSet,Ky=e.appendChildToContainerChildSet,uS=e.finalizeContainerChildren,Qy=e.replaceContainerChildren,lS=e.cloneHiddenInstance,Jy=e.cloneHiddenTextInstance,Ql=e.isSuspenseInstancePending,N0=e.isSuspenseInstanceFallback,O0=e.getSuspenseInstanceFallbackErrorDetails,k0=e.registerSuspenseInstanceRetry,cS=e.canHydrateFormStateMarker,ev=e.isFormStateMarkerMatching,fS=e.getNextHydratableSibling,dS=e.getNextHydratableSiblingAfterSingleton,hS=e.getFirstHydratableChild,pS=e.getFirstHydratableChildWithinContainer,mS=e.getFirstHydratableChildWithinActivityInstance,gS=e.getFirstHydratableChildWithinSuspenseInstance,tv=e.getFirstHydratableChildWithinSingleton,_S=e.canHydrateInstance,yS=e.canHydrateTextInstance,nv=e.canHydrateActivityInstance,vS=e.canHydrateSuspenseInstance,bS=e.hydrateInstance,CA=e.hydrateTextInstance,iv=e.hydrateActivityInstance,xS=e.hydrateSuspenseInstance,SS=e.getNextHydratableInstanceAfterActivityInstance,rv=e.getNextHydratableInstanceAfterSuspenseInstance,ES=e.commitHydratedInstance,wS=e.commitHydratedContainer,AA=e.commitHydratedActivityInstance,DA=e.commitHydratedSuspenseInstance,TS=e.finalizeHydratedChildren,xp=e.flushHydrationEvents;e.clearActivityBoundary;var sv=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var P0=e.clearSuspenseBoundaryFromContainer,MS=e.hideDehydratedBoundary,CS=e.unhideDehydratedBoundary,Ed=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var AS=e.validateHydratableInstance,av=e.validateHydratableTextInstance,fo=e.supportsResources,L0=e.isHostHoistableType,Sp=e.getHoistableRoot,ov=e.getResource,uv=e.acquireResource,Jl=e.releaseResource,DS=e.hydrateHoistable,lv=e.mountHoistable,cv=e.unmountHoistable,F0=e.createHoistableInstance,RS=e.prepareToCommitHoistables,fv=e.mayResourceSuspendCommit,dv=e.preloadResource,IS=e.suspendResource,qr=e.supportsSingletons,U0=e.resolveSingletonInstance,Fr=e.acquireSingletonInstance,ns=e.releaseSingletonInstance,hv=e.isHostSingletonType,sf=e.isSingletonScope,B0=[],af=-1,Du={},sa=Math.clz32?Math.clz32:S,z0=Math.log,NS=Math.LN2,H0=256,of=262144,wd=4194304,Ep=na.unstable_scheduleCallback,V0=na.unstable_cancelCallback,OS=na.unstable_shouldYield,pv=na.unstable_requestPaint,Ms=na.unstable_now,G0=na.unstable_ImmediatePriority,kS=na.unstable_UserBlockingPriority,wp=na.unstable_NormalPriority,W0=na.unstable_IdlePriority,mv=na.log,PS=na.unstable_setDisableYieldValue,uf=null,aa=null,Cr=typeof Object.is=="function"?Object.is:ne,j0=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},RA=Object.prototype.hasOwnProperty,q0,Ru,Tp=!1,gv=new WeakMap,pl=[],Iu=0,Pi=null,Mp=0,ho=[],Ia=0,po=null,ms=1,Vo="",is=y(null),ml=y(null),gs=y(null),Cp=y(null),$r=null,Ji=null,$n=!1,Nu=null,Vs=!1,$0=Error(r(519)),mo=y(null),Vi=null,Go=null,LS=typeof AbortController<"u"?AbortController:function(){var d=[],h=this.signal={aborted:!1,addEventListener:function(b,T){d.push(T)}};this.abort=function(){h.aborted=!0,d.forEach(function(b){return b()})}},rs=na.unstable_scheduleCallback,IA=na.unstable_NormalPriority,er={$$typeof:lo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Ap=null,Ri=null,Cs=!1,go=!1,X0=!1,ec=0,Td=null,_v=0,gl=0,Xr=null,_o=nn.S;nn.S=function(d,h){pf=Ms(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&Zt(d,h),_o!==null&&_o(d,h)};var tc=y(null),Yr=Error(r(460)),Y0=Error(r(474)),yo=Error(r(542)),Ou={then:function(){}},Gs=null,nc=null,lf=0,_s=Et(!0),yv=Et(!1),ys=[],ku=0,cf=0,Na=!1,Z0=!1,ff=y(null),ic=y(0),oa=y(null),ua=null,br=y(0),_l=0,An=null,Qt=null,gn=null,Pn=!1,Nn=!1,ai=!1,As=0,vo=0,Wo=null,vv=0,Oa={readContext:Q,use:yr,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};Oa.useEffectEvent=qe;var cr={readContext:Q,use:yr,useCallback:function(d,h){return dn().memoizedState=[d,h===void 0?null:h],d},useContext:Q,useEffect:Qh,useImperativeHandle:function(d,h,b){b=b!=null?b.concat([d]):null,Vc(4194308,4,ed.bind(null,h,d),b)},useLayoutEffect:function(d,h){return Vc(4194308,4,d,h)},useInsertionEffect:function(d,h){Vc(4,2,d,h)},useMemo:function(d,h){var b=dn();h=h===void 0?null:h;var T=d();if(ai){ee(!0);try{d()}finally{ee(!1)}}return b.memoizedState=[T,h],T},useReducer:function(d,h,b){var T=dn();if(b!==void 0){var I=b(h);if(ai){ee(!0);try{b(h)}finally{ee(!1)}}}else I=h;return T.memoizedState=T.baseState=I,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:I},T.queue=d,d=d.dispatch=xA.bind(null,An,d),[T.memoizedState,d]},useRef:function(d){var h=dn();return d={current:d},h.memoizedState=d},useState:function(d){d=Hc(d);var h=d.queue,b=S1.bind(null,An,h);return h.dispatch=b,[d.memoizedState,b]},useDebugValue:ep,useDeferredValue:function(d,h){var b=dn();return nd(b,d,h)},useTransition:function(){var d=Hc(!1);return d=v1.bind(null,An,d.queue,!0,!1),dn().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,h,b){var T=An,I=dn();if($n){if(b===void 0)throw Error(r(407));b=b()}else{if(b=h(),Ln===null)throw Error(r(349));(Xn&127)!==0||wr(T,h,b)}I.memoizedState=b;var L={value:b,getSnapshot:h};return I.queue=L,Qh(ui.bind(null,T,L,d),[d]),T.flags|=2048,Ma(9,{destroy:void 0},ei.bind(null,T,L,b,h),null),b},useId:function(){var d=dn(),h=Ln.identifierPrefix;if($n){var b=Vo,T=ms;b=(T&~(1<<32-sa(T)-1)).toString(32)+b,h="_"+h+"R_"+b,b=As++,0<b&&(h+="H"+b.toString(32)),h+="_"}else b=vv++,h="_"+h+"r_"+b.toString(32)+"_";return d.memoizedState=h},useHostTransitionStatus:fy,useFormState:Zh,useActionState:Zh,useOptimistic:function(d){var h=dn();h.memoizedState=h.baseState=d;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=b,h=i0.bind(null,An,!0,b),b.dispatch=h,[d,h]},useMemoCache:ws,useCacheRefresh:function(){return dn().memoizedState=bA.bind(null,An)},useEffectEvent:function(d){var h=dn(),b={impl:d};return h.memoizedState=b,function(){if((Gn&2)!==0)throw Error(r(440));return b.impl.apply(void 0,arguments)}}},Pu={readContext:Q,use:yr,useCallback:t0,useContext:Q,useEffect:Jf,useImperativeHandle:y1,useInsertionEffect:Ul,useLayoutEffect:Jh,useMemo:td,useReducer:Bi,useRef:e0,useState:function(){return Bi(Oi)},useDebugValue:ep,useDeferredValue:function(d,h){var b=Pt();return cy(b,Qt.memoizedState,d,h)},useTransition:function(){var d=Bi(Oi)[0],h=Pt().memoizedState;return[typeof d=="boolean"?d:on(d),h]},useSyncExternalStore:Wt,useId:n0,useHostTransitionStatus:fy,useFormState:Kf,useActionState:Kf,useOptimistic:function(d,h){var b=Pt();return il(b,Qt,d,h)},useMemoCache:ws,useCacheRefresh:x1};Pu.useEffectEvent=Fs;var rc={readContext:Q,use:yr,useCallback:t0,useContext:Q,useEffect:Jf,useImperativeHandle:y1,useInsertionEffect:Ul,useLayoutEffect:Jh,useMemo:td,useReducer:ar,useRef:e0,useState:function(){return ar(Oi)},useDebugValue:ep,useDeferredValue:function(d,h){var b=Pt();return Qt===null?nd(b,d,h):cy(b,Qt.memoizedState,d,h)},useTransition:function(){var d=ar(Oi)[0],h=Pt().memoizedState;return[typeof d=="boolean"?d:on(d),h]},useSyncExternalStore:Wt,useId:n0,useHostTransitionStatus:fy,useFormState:Qf,useActionState:Qf,useOptimistic:function(d,h){var b=Pt();return Qt!==null?il(b,Qt,d,h):(b.baseState=d,[d,b.queue.dispatch])},useMemoCache:ws,useCacheRefresh:x1};rc.useEffectEvent=Fs;var Dp={enqueueSetState:function(d,h,b){d=d._reactInternals;var T=Ki(),I=Ei(T);I.payload=h,b!=null&&(I.callback=b),h=En(d,I,T),h!==null&&(ur(h,d,T),wi(h,d,T))},enqueueReplaceState:function(d,h,b){d=d._reactInternals;var T=Ki(),I=Ei(T);I.tag=1,I.payload=h,b!=null&&(I.callback=b),h=En(d,I,T),h!==null&&(ur(h,d,T),wi(h,d,T))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var b=Ki(),T=Ei(b);T.tag=2,h!=null&&(T.callback=h),h=En(d,T,b),h!==null&&(ur(h,d,b),wi(h,d,b))}},Ws=Error(r(461)),$i=!1,df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},xr=!1,Sr=!1,Md=!1,bv=typeof WeakSet=="function"?WeakSet:Set,Ar=null,fr=null,Dr=!1,Ii=null,ka=8192,Cd={getCacheForType:function(d){var h=Q(er),b=h.data.get(d);return b===void 0&&(b=d(),h.data.set(d,b)),b},cacheSignal:function(){return Q(er).controller.signal}},bo=0,Ad=1,Dd=2,Rp=3,sc=4;if(typeof Symbol=="function"&&Symbol.for){var hf=Symbol.for;bo=hf("selector.component"),Ad=hf("selector.has_pseudo_class"),Dd=hf("selector.role"),Rp=hf("selector.test_id"),sc=hf("selector.text")}var Pa=typeof WeakMap=="function"?WeakMap:Map,Gn=0,Ln=null,Wn=null,Xn=0,Ni=0,Ur=null,jo=!1,ac=!1,oc=!1,Lu=0,dr=0,yl=0,uc=0,Rd=0,js=0,Id=0,Ip=null,la=null,K0=!1,Np=0,pf=0,lc=1/0,Op=null,vl=null,Br=0,bl=null,mf=null,Fu=0,Nd=0,Q0=null,xv=null,hi=0,kp=null;return kn.attemptContinuousHydration=function(d){if(d.tag===13||d.tag===31){var h=yn(d,67108864);h!==null&&ur(h,d,67108864),pp(d,67108864)}},kn.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13||d.tag===31){var h=Ki();h=G(h);var b=yn(d,h);b!==null&&ur(b,d,h),pp(d,h)}},kn.attemptSynchronousHydration=function(d){switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var h=E(d.pendingLanes);if(h!==0){for(d.pendingLanes|=2,d.entangledLanes|=2;h;){var b=1<<31-sa(h);d.entanglements[1]|=b,h&=~b}St(d),(Gn&6)===0&&(lc=Ms()+500,lt(0))}}break;case 31:case 13:h=yn(d,2),h!==null&&ur(h,d,2),g0(),pp(d,2)}},kn.batchedUpdates=function(d,h){return d(h)},kn.createComponentSelector=function(d){return{$$typeof:bo,value:d}},kn.createContainer=function(d,h,b,T,I,L,Y,_e,Ge,ct){return Xl(d,h,!1,null,b,T,L,null,Y,_e,Ge,ct)},kn.createHasPseudoClassSelector=function(d){return{$$typeof:Ad,value:d}},kn.createHydrationContainer=function(d,h,b,T,I,L,Y,_e,Ge,ct,Mt,mt,zt,wn){var Rr;return d=Xl(b,T,!0,d,I,L,_e,wn,Ge,ct,Mt,mt),d.context=S0(null),b=d.current,T=Ki(),T=G(T),I=Ei(T),I.callback=(Rr=h)!=null?Rr:null,En(b,I,T),h=T,d.current.lanes=h,O(d,h),St(d),d},kn.createPortal=function(d,h,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kc,key:T==null?null:""+T,children:d,containerInfo:h,implementation:b}},kn.createRoleSelector=function(d){return{$$typeof:Dd,value:d}},kn.createTestNameSelector=function(d){return{$$typeof:Rp,value:d}},kn.createTextSelector=function(d){return{$$typeof:sc,value:d}},kn.defaultOnCaughtError=function(d){console.error(d)},kn.defaultOnRecoverableError=function(d){j0(d)},kn.defaultOnUncaughtError=function(d){j0(d)},kn.deferredUpdates=function(d){var h=nn.T,b=co();try{return qn(32),nn.T=null,d()}finally{qn(b),nn.T=h}},kn.discreteUpdates=function(d,h,b,T,I){var L=nn.T,Y=co();try{return qn(2),nn.T=null,d(h,b,T,I)}finally{qn(Y),nn.T=L,Gn===0&&(lc=Ms()+500)}},kn.findAllNodes=ta,kn.findBoundingRects=function(d,h){if(!jr)throw Error(r(363));h=ta(d,h),d=[];for(var b=0;b<h.length;b++)d.push(R0(h[b]));for(h=d.length-1;0<h;h--){b=d[h];for(var T=b.x,I=T+b.width,L=b.y,Y=L+b.height,_e=h-1;0<=_e;_e--)if(h!==_e){var Ge=d[_e],ct=Ge.x,Mt=ct+Ge.width,mt=Ge.y,zt=mt+Ge.height;if(T>=ct&&L>=mt&&I<=Mt&&Y<=zt){d.splice(h,1);break}else if(T!==ct||b.width!==Ge.width||zt<L||mt>Y){if(!(L!==mt||b.height!==Ge.height||Mt<T||ct>I)){ct>T&&(Ge.width+=ct-T,Ge.x=T),Mt<I&&(Ge.width=I-ct),d.splice(h,1);break}}else{mt>L&&(Ge.height+=mt-L,Ge.y=L),zt<Y&&(Ge.height=Y-mt),d.splice(h,1);break}}}return d},kn.findHostInstance=hp,kn.findHostInstanceWithNoPortals=function(d){return d=o(d),d=d!==null?f(d):null,d===null?null:vd(d.stateNode)},kn.findHostInstanceWithWarning=function(d){return hp(d)},kn.flushPassiveEffects=Cu,kn.flushSyncFromReconciler=function(d){var h=Gn;Gn|=1;var b=nn.T,T=co();try{if(qn(2),nn.T=null,d)return d()}finally{qn(T),nn.T=b,Gn=h,(Gn&6)===0&&lt(0)}},kn.flushSyncWork=g0,kn.focusWithin=function(d,h){if(!jr)throw Error(r(363));for(d=Gl(d),h=dd(d,h),h=Array.from(h),d=0;d<h.length;){var b=h[d++],T=b.tag;if(!Kl(b)){if((T===5||T===26||T===27)&&hl(b.stateNode))return!0;for(b=b.child;b!==null;)h.push(b),b=b.sibling}}return!1},kn.getFindAllNodesFailureDescription=function(d,h){if(!jr)throw Error(r(363));var b=0,T=[];d=[Gl(d),0];for(var I=0;I<d.length;){var L=d[I++],Y=L.tag,_e=d[I++],Ge=h[_e];if((Y!==5&&Y!==26&&Y!==27||!Kl(L))&&(Wl(L,Ge)&&(T.push(fd(Ge)),_e++,_e>b&&(b=_e)),_e<h.length))for(L=L.child;L!==null;)d.push(L,_e),L=L.sibling}if(b<h.length){for(d=[];b<h.length;b++)d.push(fd(h[b]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},kn.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 27:case 5:return vd(d.child.stateNode);default:return d.child.stateNode}},kn.injectIntoDevTools=function(){var d={bundleType:0,version:Ly,rendererPackageName:_p,currentDispatcherRef:nn,reconcilerVersion:"19.2.0"};if(yd!==null&&(d.rendererConfig=yd),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{uf=h.inject(d),aa=h}catch{}d=!!h.checkDCE}}return d},kn.isAlreadyRendering=function(){return(Gn&6)!==0},kn.observeVisibleRects=function(d,h,b,T){if(!jr)throw Error(r(363));d=ta(d,h);var I=I0(d,b,T).disconnect;return{disconnect:function(){I()}}},kn.shouldError=function(){return null},kn.shouldSuspend=function(){return!1},kn.startHostTransition=function(d,h,b,T){if(d.tag!==5)throw Error(r(476));var I=b1(d).queue;v1(d,I,h,nf,b===null?i:function(){var L=b1(d);return L.next===null&&(L=d.alternate.memoizedState),tp(d,L.next.queue,{},Ki()),b(T)})},kn.updateContainer=function(d,h,b,T){var I=h.current,L=Ki();return ky(I,L,d,h,b,T),L},kn.updateContainerSync=function(d,h,b,T){return ky(h.current,2,d,h,b,T),2},kn},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(WF)),WF.exports}var qF;function hbe(){return qF||(qF=1,GF.exports=dbe()),GF.exports}var pbe=hbe();const mbe=fbe(pbe);function gbe(t){const e=mbe(t);return e.injectIntoDevTools(),e}const dV=0,O_={},_be=/^three(?=[A-Z])/,cA=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let ybe=0;const vbe=t=>typeof t=="function";function bbe(t){if(vbe(t)){const e=`${ybe++}`;return O_[e]=t,e}else Object.assign(O_,t)}function hV(t,e){const n=cA(t),i=O_[n];if(t!=="primitive"&&!i)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function xbe(t,e,n){var i;return t=cA(t)in O_?t:t.replace(_be,""),hV(t,e),t==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,RM(e.object,n,t,e)}function Sbe(t){if(!t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?NM(t.parent,t):Ao(t.object)&&(t.object.visible=!1),t.isHidden=!0,oy(t)}}function pV(t){if(t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?IM(t.parent,t):Ao(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,oy(t)}}function U6(t,e,n){const i=e.root.getState();if(!(!t.parent&&t.object!==i.scene)){if(!e.object){var r,s;const a=O_[cA(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(ih(e.object,e.props),e.props.attach)IM(t,e);else if(Ao(e.object)&&Ao(t.object)){const a=t.object.children.indexOf(n?.object);if(n&&a!==-1){const o=t.object.children.indexOf(e.object);if(o!==-1){t.object.children.splice(o,1);const l=o<a?a-1:a;t.object.children.splice(l,0,e.object)}else e.object.parent=t.object,t.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object})}else t.object.add(e.object)}for(const a of e.children)U6(e,a);oy(e)}}function zD(t,e){e&&(e.parent=t,t.children.push(e),U6(t,e))}function $F(t,e,n){if(!e||!n)return;e.parent=t;const i=t.children.indexOf(n);i!==-1?t.children.splice(i,0,e):t.children.push(e),U6(t,e,n)}function mV(t){if(typeof t.dispose=="function"){const e=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():FI.unstable_scheduleCallback(FI.unstable_IdlePriority,e)}}function BI(t,e,n){if(!e)return;e.parent=null;const i=t.children.indexOf(e);i!==-1&&t.children.splice(i,1),e.props.attach?NM(t,e):Ao(e.object)&&Ao(t.object)&&(t.object.remove(e.object),ibe(nV(e),e.object));const r=e.props.dispose!==null&&n!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];BI(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&mV(e.object),n===void 0&&oy(e)}function Ebe(t,e){for(const n of[t,t.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const i=n.ref(e);typeof i=="function"&&(n.refCleanup=i)}else n.ref&&(n.ref.current=e)}const Yw=[];function wbe(){for(const[n]of Yw){const i=n.parent;if(i){n.props.attach?NM(i,n):Ao(n.object)&&Ao(i.object)&&i.object.remove(n.object);for(const r of n.children)r.props.attach?NM(n,r):Ao(r.object)&&Ao(n.object)&&n.object.remove(r.object)}n.isHidden&&pV(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&mV(n.object)}for(const[n,i,r]of Yw){n.props=i;const s=n.parent;if(s){var t,e;const a=O_[cA(n.type)];n.object=(t=n.props.object)!=null?t:new a(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,Ebe(r,n.object),ih(n.object,n.props),n.props.attach?IM(s,n):Ao(n.object)&&Ao(s.object)&&s.object.add(n.object);for(const o of n.children)o.props.attach?IM(n,o):Ao(o.object)&&Ao(n.object)&&n.object.add(o.object);oy(n)}}Yw.length=0}const HD=()=>{},XF={};let pw=dV;const Tbe=0,Mbe=4,zI=gbe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:xbe,removeChild:BI,appendChild:zD,appendInitialChild:zD,insertBefore:$F,appendChildToContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||zD(n,e)},removeChildFromContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||BI(n,e)},insertInContainerBefore(t,e,n){const i=t.getState().scene.__r3f;!e||!n||!i||$F(i,e,n)},getRootHostContext:()=>XF,getChildHostContext:()=>XF,commitUpdate(t,e,n,i,r){var s,a,o;hV(e,i);let l=!1;if((t.type==="primitive"&&n.object!==i.object||((s=i.args)==null?void 0:s.length)!==((a=n.args)==null?void 0:a.length)||(o=i.args)!=null&&o.some((p,g)=>{var y;return p!==((y=n.args)==null?void 0:y[g])}))&&(l=!0),l)Yw.push([t,{...i},r]);else{const p=Jve(t,i);Object.keys(p).length&&(Object.assign(t.props,p),ih(t.object,p))}(r.sibling===null||(r.flags&Mbe)===Tbe)&&wbe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t?.object,prepareForCommit:()=>null,preparePortalMount:t=>RM(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Sbe,unhideInstance:pV,createTextInstance:HD,hideTextInstance:HD,unhideTextInstance:HD,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:U.createContext(null),setCurrentUpdatePriority(t){pw=t},getCurrentUpdatePriority(){return pw},resolveUpdatePriority(){var t;if(pw!==dV)return pw;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return lbe;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return obe;default:return ube}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:cbe.version,applyViewTransitionName(t,e,n){},restoreViewTransitionName(t,e){},cancelViewTransitionName(t,e,n){},cancelRootViewTransitionName(t){},restoreRootViewTransitionName(t){},InstanceMeasurement:null,measureInstance:t=>null,wasInstanceInViewport:t=>!0,hasInstanceChanged:(t,e)=>!1,hasInstanceAffectedParent:(t,e)=>!1,suspendOnActiveViewTransition(t,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(t){},createViewTransitionInstance:t=>null,getCurrentGestureOffset(t){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(t,e){return t},cloneMutableTextInstance(t){return t},cloneRootViewTransitionContainer(t){throw new Error("Not implemented.")},removeRootViewTransitionClone(t,e){throw new Error("Not implemented.")},createFragmentInstance:t=>null,updateFragmentInstanceFiber(t,e){},commitNewChildToFragmentInstance(t,e){},deleteChildFromFragmentInstance(t,e){},measureClonedInstance:t=>null,maySuspendCommitOnUpdate:(t,e,n)=>!1,maySuspendCommitInSyncRender:(t,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(t,e)=>null}),Lm=new Map,Cg={objects:"shallow",strict:!1};function Cbe(t,e){if(!e&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:i,top:r,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Abe(t){const e=Lm.get(t),n=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||sbe(GI,ZF),a=n||zI.createContainer(s,abe,null,!1,null,"",r,r,r,null);e||Lm.set(t,{fiber:a,store:s});let o,l,f=!1,p=null;return{async configure(g={}){let y;p=new Promise(j=>y=j);let{gl:_,size:x,scene:S,events:E,onCreated:w,shadows:C=!1,linear:A=!1,flat:R=!1,legacy:N=!1,orthographic:O=!1,frameloop:P="always",dpr:z=[1,2],performance:k,raycaster:F,camera:G,onPointerMissed:$}=g,ee=s.getState(),ne=ee.gl;if(!ee.gl){const j={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},ue=typeof _=="function"?await _(j):_;VF(ue)?ne=ue:ne=new QH({...j,..._}),ee.set({gl:ne})}let re=ee.raycaster;re||ee.set({raycaster:re=new WH});const{params:W,...q}=F||{};if(Ir.equ(q,re,Cg)||ih(re,{...q}),Ir.equ(W,re.params,Cg)||ih(re,{params:{...re.params,...W}}),!ee.camera||ee.camera===l&&!Ir.equ(l,G,Cg)){l=G;const j=G?.isCamera,ue=j?G:O?new sy(0,0,0,0,.1,1e3):new Os(75,0,.1,1e3);j||(ue.position.z=5,G&&(ih(ue,G),ue.manual||("aspect"in G||"left"in G||"right"in G||"bottom"in G||"top"in G)&&(ue.manual=!0,ue.updateProjectionMatrix())),!ee.camera&&!(G!=null&&G.rotation)&&ue.lookAt(0,0,0)),ee.set({camera:ue}),re.camera=ue}if(!ee.scene){let j;S!=null&&S.isScene?(j=S,RM(j,s,"",{})):(j=new l6,RM(j,s,"",{}),S&&ih(j,S)),ee.set({scene:j})}E&&!ee.events.handlers&&ee.set({events:E(s)});const te=Cbe(t,x);if(Ir.equ(te,ee.size,Cg)||ee.setSize(te.width,te.height,te.top,te.left),z&&ee.viewport.dpr!==sV(z)&&ee.setDpr(z),ee.frameloop!==P&&ee.setFrameloop(P),ee.onPointerMissed||ee.set({onPointerMissed:$}),k&&!Ir.equ(k,ee.performance,Cg)&&ee.set(j=>({performance:{...j.performance,...k}})),!ee.xr){var se;const j=(Se,Fe)=>{const ve=s.getState();ve.frameloop!=="never"&&ZF(Se,!0,ve,Fe)},ue=()=>{const Se=s.getState();Se.gl.xr.enabled=Se.gl.xr.isPresenting,Se.gl.xr.setAnimationLoop(Se.gl.xr.isPresenting?j:null),Se.gl.xr.isPresenting||GI(Se)},ge={connect(){const Se=s.getState().gl;Se.xr.addEventListener("sessionstart",ue),Se.xr.addEventListener("sessionend",ue)},disconnect(){const Se=s.getState().gl;Se.xr.removeEventListener("sessionstart",ue),Se.xr.removeEventListener("sessionend",ue)}};typeof((se=ne.xr)==null?void 0:se.addEventListener)=="function"&&ge.connect(),ee.set({xr:ge})}if(ne.shadowMap){const j=ne.shadowMap.enabled,ue=ne.shadowMap.type;if(ne.shadowMap.enabled=!!C,Ir.boo(C))ne.shadowMap.type=bb;else if(Ir.str(C)){var Z;const ge={basic:c7,percentage:e_,soft:bb,variance:om};ne.shadowMap.type=(Z=ge[C])!=null?Z:bb}else Ir.obj(C)&&Object.assign(ne.shadowMap,C);(j!==ne.shadowMap.enabled||ue!==ne.shadowMap.type)&&(ne.shadowMap.needsUpdate=!0)}return fi.enabled=!N,f||(ne.outputColorSpace=A?Oh:_a,ne.toneMapping=R?Xu:AC),ee.legacy!==N&&ee.set(()=>({legacy:N})),ee.linear!==A&&ee.set(()=>({linear:A})),ee.flat!==R&&ee.set(()=>({flat:R})),_&&!Ir.fun(_)&&!VF(_)&&!Ir.equ(_,ne,Cg)&&ih(ne,_),o=w,f=!0,y(),this},render(g){return!f&&!p&&this.configure(),p.then(()=>{zI.updateContainer(V.jsx(Dbe,{store:s,children:g,onCreated:o,rootElement:t}),a,null,()=>{})}),s},unmount(){gV(t)}}}function Dbe({store:t,children:e,onCreated:n,rootElement:i}){return p1(()=>{const r=t.getState();r.set(s=>({internal:{...s.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),V.jsx(uV.Provider,{value:t,children:e})}function gV(t,e){const n=Lm.get(t),i=n?.fiber;if(i){const r=n?.store.getState();r&&(r.internal.active=!1),zI.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,o,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Zve(r.scene),Lm.delete(t)}catch{}},500)})}}const Rbe=new Set,Ibe=new Set,Nbe=new Set;function VD(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Db(t,e){switch(t){case"before":return VD(Rbe,e);case"after":return VD(Ibe,e);case"tail":return VD(Nbe,e)}}let GD,WD;function HI(t,e,n){let i=e.clock.getDelta();e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),GD=e.internal.subscribers;for(let r=0;r<GD.length;r++)WD=GD[r],WD.ref.current(WD.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let OM=!1,VI=!1,jD,YF,Ag;function _V(t){YF=requestAnimationFrame(_V),OM=!0,jD=0,Db("before",t),VI=!0;for(const n of Lm.values()){var e;Ag=n.store.getState(),Ag.internal.active&&(Ag.frameloop==="always"||Ag.internal.frames>0)&&!((e=Ag.gl.xr)!=null&&e.isPresenting)&&(jD+=HI(t,Ag))}if(VI=!1,Db("after",t),jD===0)return Db("tail",t),OM=!1,cancelAnimationFrame(YF)}function GI(t,e=1){var n;if(!t)return Lm.forEach(i=>GI(i.store.getState(),e));(n=t.gl.xr)!=null&&n.isPresenting||!t.internal.active||t.frameloop==="never"||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):VI?t.internal.frames=2:t.internal.frames=1,OM||(OM=!0,requestAnimationFrame(_V)))}function ZF(t,e=!0,n,i){if(e&&Db("before",t),n)HI(t,n,i);else for(const r of Lm.values())HI(t,r.store.getState());e&&Db("after",t)}const qD={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Obe(t){const{handlePointer:e}=rbe(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(qD).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{const{set:i,events:r}=t.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:n}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o,l]=qD[s];n.addEventListener(o,a,{passive:l})}},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[a]=qD[r];i.connected.removeEventListener(a,s)}n(r=>({events:{...r.events,connected:void 0}}))}}}}function KF(t,e){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...i),e)}}function kbe({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,f=t?typeof t=="number"?t:t.resize:null,p=U.useRef(!1);U.useEffect(()=>(p.current=!0,()=>{p.current=!1}));const[g,y,_]=U.useMemo(()=>{const w=()=>{if(!o.current.element)return;const{left:C,top:A,width:R,height:N,bottom:O,right:P,x:z,y:k}=o.current.element.getBoundingClientRect(),F={left:C,top:A,width:R,height:N,bottom:O,right:P,x:z,y:k};o.current.element instanceof HTMLElement&&i&&(F.height=o.current.element.offsetHeight,F.width=o.current.element.offsetWidth),Object.freeze(F),p.current&&!Ube(o.current.lastBounds,F)&&a(o.current.lastBounds=F)};return[w,f?KF(w,f):w,l?KF(w,l):w]},[a,i,l,f]);function x(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",_,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function S(){o.current.element&&(o.current.resizeObserver=new r(_),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(w=>w.addEventListener("scroll",_,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const E=w=>{!w||w===o.current.element||(x(),o.current.element=w,o.current.scrollContainers=yV(w),S())};return Lbe(_,!!e),Pbe(y),U.useEffect(()=>{x(),S()},[e,_,y]),U.useEffect(()=>x,[]),[E,s,g]}function Pbe(t){U.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t])}function Lbe(t,e){U.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",n,!0)}}},[t,e])}function yV(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...yV(t.parentElement)]}const Fbe=["x","y","top","bottom","left","right","width","height"],Ube=(t,e)=>Fbe.every(n=>t[n]===e[n]);function Bbe({ref:t,children:e,fallback:n,resize:i,style:r,gl:s,events:a=Obe,eventSource:o,eventPrefix:l,shadows:f,linear:p,flat:g,legacy:y,orthographic:_,frameloop:x,dpr:S,performance:E,raycaster:w,camera:C,scene:A,onPointerMissed:R,onCreated:N,...O}){U.useMemo(()=>bbe(Ave),[]);const P=$ve(),[z,k]=kbe({scroll:!0,debounce:{scroll:50,resize:0},...i}),F=U.useRef(null),G=U.useRef(null);U.useImperativeHandle(t,()=>F.current);const $=rV(R),[ee,ne]=U.useState(!1),[re,W]=U.useState(!1);if(ee)throw ee;if(re)throw re;const q=U.useRef(null);p1(()=>{const se=F.current;if(k.width>0&&k.height>0&&se){q.current||(q.current=Abe(se));async function Z(){await q.current.configure({gl:s,scene:A,events:a,shadows:f,linear:p,flat:g,legacy:y,orthographic:_,frameloop:x,dpr:S,performance:E,raycaster:w,camera:C,size:k,onPointerMissed:(...j)=>$.current==null?void 0:$.current(...j),onCreated:j=>{j.events.connect==null||j.events.connect(o?jve(o)?o.current:o:G.current),l&&j.setEvents({compute:(ue,ge)=>{const Se=ue[l+"X"],Fe=ue[l+"Y"];ge.pointer.set(Se/ge.size.width*2-1,-(Fe/ge.size.height)*2+1),ge.raycaster.setFromCamera(ge.pointer,ge.camera)}}),N?.(j)}}),q.current.render(V.jsx(P,{children:V.jsx(Yve,{set:W,children:V.jsx(U.Suspense,{fallback:V.jsx(Xve,{set:ne}),children:e??null})})}))}Z()}}),U.useEffect(()=>{const se=F.current;if(se)return()=>gV(se)},[]);const te=o?"none":"auto";return V.jsx("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:te,...r},...O,children:V.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:V.jsx("canvas",{ref:F,style:{display:"block"},children:n})})})}function zbe(t){return V.jsx(eV,{children:V.jsx(Bbe,{...t})})}function Hbe(){const t={supported:!1,isHardwareAccelerated:!0,webglVersion:null,renderer:null,vendor:null,isMobile:!1,isLowEnd:!1};if(typeof window>"u"||typeof document>"u")return t;t.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);const e=document.createElement("canvas");let n=null;try{n=e.getContext("webgl2"),n&&(t.webglVersion=2)}catch{}if(!n)try{n=e.getContext("webgl")||e.getContext("experimental-webgl"),n&&(t.webglVersion=1)}catch{}if(!n)return t;t.supported=!0;try{const r=n.getExtension("WEBGL_debug_renderer_info");if(r){t.renderer=n.getParameter(r.UNMASKED_RENDERER_WEBGL),t.vendor=n.getParameter(r.UNMASKED_VENDOR_WEBGL);const s=["SwiftShader","LLVMpipe","Software","Microsoft Basic Render Driver","VMware","VirtualBox","SVGA3D"];t.isHardwareAccelerated=!s.some(o=>t.renderer?.toLowerCase().includes(o.toLowerCase()));const a=["Intel HD Graphics","Intel UHD Graphics 6","Mali-4","Mali-T6","Adreno 3","Adreno 4","PowerVR SGX"];t.isLowEnd=a.some(o=>t.renderer?.includes(o))}}catch{}t.isMobile&&!t.renderer&&(t.isLowEnd=!0);const i=n.getExtension("WEBGL_lose_context");return i&&i.loseContext(),t}function Vbe(){const[t,e]=U.useState({supported:!1,isHardwareAccelerated:!0,webglVersion:null,renderer:null,vendor:null,isMobile:!1,isLowEnd:!1}),[n,i]=U.useState(!0);return U.useEffect(()=>{const r=()=>{const s=Hbe();e(s),i(!1)};"requestIdleCallback"in window?window.requestIdleCallback(r):setTimeout(r,0)},[]),{...t,isLoading:n}}const vV=50,rh=50,bV=4,kM=10,PM=.08;function Gbe(){const t=U.useRef(null),e=U.useRef({x:0,y:0}),{viewport:n}=cV(),[i,r]=U.useMemo(()=>{const s=[],a=[],o=vV/rh;for(let l=0;l<=rh;l++)for(let f=0;f<=rh;f++){const p=-25+l*o,g=-25+f*o,y=0;s.push(p,g,y),a.push(p,g,y)}return[new Float32Array(s),new Float32Array(a)]},[]);return fV(({mouse:s})=>{if(!t.current)return;e.current.x=s.x*n.width/2,e.current.y=s.y*n.height/2;const a=t.current.geometry.attributes.position,o=a.array;for(let l=0;l<o.length;l+=3){const f=r[l],p=r[l+1],g=e.current.x-f,y=e.current.y-p,_=Math.sqrt(g*g+y*y);if(_<kM&&_>.1){const x=(1-_/kM)*bV,S=Math.atan2(y,g),E=f+Math.cos(S)*x,w=p+Math.sin(S)*x;o[l]+=(E-o[l])*.15,o[l+1]+=(w-o[l+1])*.15,o[l+2]+=(x*.3-o[l+2])*.1}else o[l]+=(f-o[l])*PM,o[l+1]+=(p-o[l+1])*PM,o[l+2]*=.92}a.needsUpdate=!0}),V.jsxs("points",{ref:t,children:[V.jsx("bufferGeometry",{children:V.jsx("bufferAttribute",{attach:"attributes-position",count:i.length/3,array:i,itemSize:3})}),V.jsx("pointsMaterial",{color:"#ff3333",size:.12,sizeAttenuation:!0,transparent:!0,opacity:.7})]})}function Wbe(){const t=U.useRef(null),e=U.useRef({x:0,y:0}),{viewport:n}=cV(),[i,r,s]=U.useMemo(()=>{const a=[],o=[],l=[],f=vV/rh;let p=0;for(let g=0;g<=rh;g++){const y=-25+g*f;for(let _=0;_<rh;_++){const x=-25+_*f,S=-25+(_+1)*f;a.push(y,x,0),a.push(y,S,0),o.push(y,x,0),o.push(y,S,0),l.push(p,p+1),p+=2}}for(let g=0;g<=rh;g++){const y=-25+g*f;for(let _=0;_<rh;_++){const x=-25+_*f,S=-25+(_+1)*f;a.push(x,y,0),a.push(S,y,0),o.push(x,y,0),o.push(S,y,0),l.push(p,p+1),p+=2}}return[new Float32Array(a),new Float32Array(o),new Uint32Array(l)]},[]);return fV(({mouse:a})=>{if(!t.current)return;e.current.x=a.x*n.width/2,e.current.y=a.y*n.height/2;const o=t.current.geometry.attributes.position,l=o.array;for(let f=0;f<l.length;f+=3){const p=r[f],g=r[f+1],y=e.current.x-p,_=e.current.y-g,x=Math.sqrt(y*y+_*_);if(x<kM&&x>.1){const S=(1-x/kM)*(bV*.7),E=Math.atan2(_,y),w=p+Math.cos(E)*S,C=g+Math.sin(E)*S;l[f]+=(w-l[f])*.12,l[f+1]+=(C-l[f+1])*.12,l[f+2]+=(S*.2-l[f+2])*.08}else l[f]+=(p-l[f])*PM,l[f+1]+=(g-l[f+1])*PM,l[f+2]*=.94}o.needsUpdate=!0}),V.jsxs("lineSegments",{ref:t,children:[V.jsxs("bufferGeometry",{children:[V.jsx("bufferAttribute",{attach:"attributes-position",count:i.length/3,array:i,itemSize:3}),V.jsx("bufferAttribute",{attach:"index",count:s.length,array:s,itemSize:1})]}),V.jsx("lineBasicMaterial",{color:"#222222",transparent:!0,opacity:.5})]})}function xV(){return V.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",style:{background:`
          linear-gradient(to right, rgba(34, 34, 34, 0.3) 1px, transparent 1px),
          linear-gradient(to bottom, rgba(34, 34, 34, 0.3) 1px, transparent 1px)
        `,backgroundSize:"40px 40px"},children:[V.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(ellipse at center, transparent 0%, rgba(10, 10, 10, 0.8) 70%)"}}),V.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 opacity-20",style:{background:"radial-gradient(circle, rgba(255, 51, 51, 0.3) 0%, transparent 70%)",filter:"blur(40px)"}})]})}function jbe(){return V.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none",children:V.jsxs(zbe,{camera:{position:[0,0,30],fov:50},style:{background:"transparent"},gl:{alpha:!0,antialias:!0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},fallback:V.jsx(xV,{}),children:[V.jsx(Wbe,{}),V.jsx(Gbe,{})]})})}function fA(){const{supported:t,isHardwareAccelerated:e,isLoading:n,isLowEnd:i,isMobile:r}=Vbe();return n?null:!t||!e||r&&i?V.jsx(xV,{}):V.jsx(jbe,{})}function Tf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var lu={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},k_={duration:.5,overwrite:!1,delay:0},B6,Qs,Er,ju=1e8,Yi=1/ju,WI=Math.PI*2,qbe=WI/4,$be=0,EV=Math.sqrt,Xbe=Math.cos,Ybe=Math.sin,Ls=function(e){return typeof e=="string"},Vr=function(e){return typeof e=="function"},Xf=function(e){return typeof e=="number"},z6=function(e){return typeof e>"u"},kc=function(e){return typeof e=="object"},Oo=function(e){return e!==!1},H6=function(){return typeof window<"u"},mw=function(e){return Vr(e)||Ls(e)},wV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ea=Array.isArray,Zbe=/random\([^)]+\)/g,Kbe=/,\s*/g,QF=/(?:-?\.?\d|\.)+/gi,TV=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Xg=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,$D=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,MV=/[+-]=-?[.\d]+/,Qbe=/[^,'"\[\]\s]+/gi,Jbe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Or,gc,jI,V6,hu={},LM={},CV,AV=function(e){return(LM=P_(e,hu))&&Uo},G6=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Tx=function(e,n){return!n&&console.warn(e)},DV=function(e,n){return e&&(hu[e]=n)&&LM&&(LM[e]=n)||hu},Mx=function(){return 0},exe={suppressEvents:!0,isStart:!0,kill:!1},Zw={suppressEvents:!0,kill:!1},txe={suppressEvents:!0},W6={},yh=[],qI={},RV,Ko={},XD={},JF=30,Kw=[],j6="",q6=function(e){var n=e[0],i,r;if(kc(n)||Vr(n)||(e=[e]),!(i=(n._gsap||{}).harness)){for(r=Kw.length;r--&&!Kw[r].targetTest(n););i=Kw[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new eG(e[r],i)))||e.splice(r,1);return e},bm=function(e){return e._gsap||q6(qu(e))[0]._gsap},IV=function(e,n,i){return(i=e[n])&&Vr(i)?e[n]():z6(i)&&e.getAttribute&&e.getAttribute(n)||i},ko=function(e,n){return(e=e.split(",")).forEach(n)||e},Kr=function(e){return Math.round(e*1e5)/1e5||0},Nr=function(e){return Math.round(e*1e7)/1e7||0},n_=function(e,n){var i=n.charAt(0),r=parseFloat(n.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},nxe=function(e,n){for(var i=n.length,r=0;e.indexOf(n[r])<0&&++r<i;);return r<i},FM=function(){var e=yh.length,n=yh.slice(0),i,r;for(qI={},yh.length=0,i=0;i<e;i++)r=n[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},$6=function(e){return!!(e._initted||e._startAt||e.add)},NV=function(e,n,i,r){yh.length&&!Qs&&FM(),e.render(n,i,!!(Qs&&n<0&&$6(e))),yh.length&&!Qs&&FM()},OV=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(Qbe).length<2?n:Ls(e)?e.trim():e},kV=function(e){return e},pu=function(e,n){for(var i in n)i in e||(e[i]=n[i]);return e},ixe=function(e){return function(n,i){for(var r in i)r in n||r==="duration"&&e||r==="ease"||(n[r]=i[r])}},P_=function(e,n){for(var i in n)e[i]=n[i];return e},e5=function t(e,n){for(var i in n)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=kc(n[i])?t(e[i]||(e[i]={}),n[i]):n[i]);return e},UM=function(e,n){var i={},r;for(r in e)r in n||(i[r]=e[r]);return i},Rb=function(e){var n=e.parent||Or,i=e.keyframes?ixe(Ea(e.keyframes)):pu;if(Oo(e.inherit))for(;n;)i(e,n.vars.defaults),n=n.parent||n._dp;return e},rxe=function(e,n){for(var i=e.length,r=i===n.length;r&&i--&&e[i]===n[i];);return i<0},PV=function(e,n,i,r,s){var a=e[r],o;if(s)for(o=n[s];a&&a[s]>o;)a=a._prev;return a?(n._next=a._next,a._next=n):(n._next=e[i],e[i]=n),n._next?n._next._prev=n:e[r]=n,n._prev=a,n.parent=n._dp=e,n},dA=function(e,n,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=n._prev,a=n._next;s?s._next=a:e[i]===n&&(e[i]=a),a?a._prev=s:e[r]===n&&(e[r]=s),n._next=n._prev=n.parent=null},Lh=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},xm=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},sxe=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},$I=function(e,n,i,r){return e._startAt&&(Qs?e._startAt.revert(Zw):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,r))},axe=function t(e){return!e||e._ts&&t(e.parent)},t5=function(e){return e._repeat?L_(e._tTime,e=e.duration()+e._rDelay)*e:0},L_=function(e,n){var i=Math.floor(e=Nr(e/n));return e&&i===e?i-1:i},BM=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},hA=function(e){return e._end=Nr(e._start+(e._tDur/Math.abs(e._ts||e._rts||Yi)||0))},pA=function(e,n){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Nr(i._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),hA(e),i._dirty||xm(i,e)),e},LV=function(e,n){var i;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(i=BM(e.rawTime(),n),(!n._dur||m1(0,n.totalDuration(),i)-n._tTime>Yi)&&n.render(i,!0)),xm(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Yi}},vc=function(e,n,i,r){return n.parent&&Lh(n),n._start=Nr((Xf(i)?i:i||e!==Or?Hu(e,i,n):e._time)+n._delay),n._end=Nr(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),PV(e,n,"_first","_last",e._sort?"_start":0),XI(n)||(e._recent=n),r||LV(e,n),e._ts<0&&pA(e,e._tTime),e},FV=function(e,n){return(hu.ScrollTrigger||G6("scrollTrigger",n))&&hu.ScrollTrigger.create(n,e)},UV=function(e,n,i,r,s){if(Y6(e,n,s),!e._initted)return 1;if(!i&&e._pt&&!Qs&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&RV!==eu.frame)return yh.push(e),e._lazy=[s,r],1},oxe=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},XI=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},uxe=function(e,n,i,r){var s=e.ratio,a=n<0||!n&&(!e._start&&oxe(e)&&!(!e._initted&&XI(e))||(e._ts<0||e._dp._ts<0)&&!XI(e))?0:1,o=e._rDelay,l=0,f,p,g;if(o&&e._repeat&&(l=m1(0,e._tDur,n),p=L_(l,o),e._yoyo&&p&1&&(a=1-a),p!==L_(e._tTime,o)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||Qs||r||e._zTime===Yi||!n&&e._zTime){if(!e._initted&&UV(e,n,r,i,l))return;for(g=e._zTime,e._zTime=n||(i?Yi:0),i||(i=n&&!g),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,f=e._pt;f;)f.r(a,f.d),f=f._next;n<0&&$I(e,n,i,!0),e._onUpdate&&!i&&iu(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&iu(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===a&&(a&&Lh(e,1),!i&&!Qs&&(iu(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},lxe=function(e,n,i){var r;if(i>n)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>n)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<n)return r;r=r._prev}},F_=function(e,n,i,r){var s=e._repeat,a=Nr(n)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:Nr(a*(s+1)+e._rDelay*s):a,o>0&&!r&&pA(e,e._tTime=e._tDur*o),e.parent&&hA(e),i||xm(e.parent,e),e},n5=function(e){return e instanceof Xa?xm(e):F_(e,e._dur)},cxe={_start:0,endTime:Mx,totalDuration:Mx},Hu=function t(e,n,i){var r=e.labels,s=e._recent||cxe,a=e.duration()>=ju?s.endTime(!1):e._dur,o,l,f;return Ls(n)&&(isNaN(n)||n in r)?(l=n.charAt(0),f=n.substr(-1)==="%",o=n.indexOf("="),l==="<"||l===">"?(o>=0&&(n=n.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(f?(o<0?s:i).totalDuration()/100:1)):o<0?(n in r||(r[n]=a),r[n]):(l=parseFloat(n.charAt(o-1)+n.substr(o+1)),f&&i&&(l=l/100*(Ea(i)?i[0]:i).totalDuration()),o>1?t(e,n.substr(0,o-1),i)+l:a+l)):n==null?a:+n},Ib=function(e,n,i){var r=Xf(n[1]),s=(r?2:1)+(e<2?0:1),a=n[s],o,l;if(r&&(a.duration=n[1]),a.parent=i,e){for(o=a,l=i;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=Oo(l.vars.inherit)&&l.parent;a.immediateRender=Oo(o.immediateRender),e<2?a.runBackwards=1:a.startAt=n[s-1]}return new ls(n[0],a,n[s+1])},$h=function(e,n){return e||e===0?n(e):n},m1=function(e,n,i){return i<e?e:i>n?n:i},ya=function(e,n){return!Ls(e)||!(n=Jbe.exec(e))?"":n[1]},fxe=function(e,n,i){return $h(i,function(r){return m1(e,n,r)})},YI=[].slice,BV=function(e,n){return e&&kc(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&kc(e[0]))&&!e.nodeType&&e!==gc},dxe=function(e,n,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return Ls(r)&&!n||BV(r,1)?(s=i).push.apply(s,qu(r)):i.push(r)})||i},qu=function(e,n,i){return Er&&!n&&Er.selector?Er.selector(e):Ls(e)&&!i&&(jI||!U_())?YI.call((n||V6).querySelectorAll(e),0):Ea(e)?dxe(e,i):BV(e)?YI.call(e,0):e?[e]:[]},ZI=function(e){return e=qu(e)[0]||Tx("Invalid scope")||{},function(n){var i=e.current||e.nativeElement||e;return qu(n,i.querySelectorAll?i:i===e?Tx("Invalid scope")||V6.createElement("div"):e)}},zV=function(e){return e.sort(function(){return .5-Math.random()})},HV=function(e){if(Vr(e))return e;var n=kc(e)?e:{each:e},i=Sm(n.ease),r=n.from||0,s=parseFloat(n.base)||0,a={},o=r>0&&r<1,l=isNaN(r)||o,f=n.axis,p=r,g=r;return Ls(r)?p=g={center:.5,edges:.5,end:1}[r]||0:!o&&l&&(p=r[0],g=r[1]),function(y,_,x){var S=(x||n).length,E=a[S],w,C,A,R,N,O,P,z,k;if(!E){if(k=n.grid==="auto"?0:(n.grid||[1,ju])[1],!k){for(P=-ju;P<(P=x[k++].getBoundingClientRect().left)&&k<S;);k<S&&k--}for(E=a[S]=[],w=l?Math.min(k,S)*p-.5:r%k,C=k===ju?0:l?S*g/k-.5:r/k|0,P=0,z=ju,O=0;O<S;O++)A=O%k-w,R=C-(O/k|0),E[O]=N=f?Math.abs(f==="y"?R:A):EV(A*A+R*R),N>P&&(P=N),N<z&&(z=N);r==="random"&&zV(E),E.max=P-z,E.min=z,E.v=S=(parseFloat(n.amount)||parseFloat(n.each)*(k>S?S-1:f?f==="y"?S/k:k:Math.max(k,S/k))||0)*(r==="edges"?-1:1),E.b=S<0?s-S:s,E.u=ya(n.amount||n.each)||0,i=i&&S<0?KV(i):i}return S=(E[y]-E.min)/E.max||0,Nr(E.b+(i?i(S):S)*E.v)+E.u}},KI=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Nr(Math.round(parseFloat(i)/e)*e*n);return(r-r%1)/n+(Xf(i)?0:ya(i))}},VV=function(e,n){var i=Ea(e),r,s;return!i&&kc(e)&&(r=i=e.radius||ju,e.values?(e=qu(e.values),(s=!Xf(e[0]))&&(r*=r)):e=KI(e.increment)),$h(n,i?Vr(e)?function(a){return s=e(a),Math.abs(s-a)<=r?s:a}:function(a){for(var o=parseFloat(s?a.x:a),l=parseFloat(s?a.y:0),f=ju,p=0,g=e.length,y,_;g--;)s?(y=e[g].x-o,_=e[g].y-l,y=y*y+_*_):y=Math.abs(e[g]-o),y<f&&(f=y,p=g);return p=!r||f<=r?e[p]:a,s||p===a||Xf(a)?p:p+ya(a)}:KI(e))},GV=function(e,n,i,r){return $h(Ea(e)?!n:i===!0?!!(i=0):!r,function(){return Ea(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(n-e+i*.99))/i)*i*r)/r})},hxe=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(r){return n.reduce(function(s,a){return a(s)},r)}},pxe=function(e,n){return function(i){return e(parseFloat(i))+(n||ya(i))}},mxe=function(e,n,i){return jV(e,n,0,1,i)},WV=function(e,n,i){return $h(i,function(r){return e[~~n(r)]})},gxe=function t(e,n,i){var r=n-e;return Ea(e)?WV(e,t(0,e.length),n):$h(i,function(s){return(r+(s-e)%r)%r+e})},_xe=function t(e,n,i){var r=n-e,s=r*2;return Ea(e)?WV(e,t(0,e.length-1),n):$h(i,function(a){return a=(s+(a-e)%s)%s||0,e+(a>r?s-a:a)})},Cx=function(e){return e.replace(Zbe,function(n){var i=n.indexOf("[")+1,r=n.substring(i||7,i?n.indexOf("]"):n.length-1).split(Kbe);return GV(i?r:+r[0],i?0:+r[1],+r[2]||1e-5)})},jV=function(e,n,i,r,s){var a=n-e,o=r-i;return $h(s,function(l){return i+((l-e)/a*o||0)})},yxe=function t(e,n,i,r){var s=isNaN(e+n)?0:function(_){return(1-_)*e+_*n};if(!s){var a=Ls(e),o={},l,f,p,g,y;if(i===!0&&(r=1)&&(i=null),a)e={p:e},n={p:n};else if(Ea(e)&&!Ea(n)){for(p=[],g=e.length,y=g-2,f=1;f<g;f++)p.push(t(e[f-1],e[f]));g--,s=function(x){x*=g;var S=Math.min(y,~~x);return p[S](x-S)},i=n}else r||(e=P_(Ea(e)?[]:{},e));if(!p){for(l in n)X6.call(o,e,l,"get",n[l]);s=function(x){return Q6(x,o)||(a?e.p:e)}}}return $h(i,s)},i5=function(e,n,i){var r=e.labels,s=ju,a,o,l;for(a in r)o=r[a]-n,o<0==!!i&&o&&s>(o=Math.abs(o))&&(l=a,s=o);return l},iu=function(e,n,i){var r=e.vars,s=r[n],a=Er,o=e._ctx,l,f,p;if(s)return l=r[n+"Params"],f=r.callbackScope||e,i&&yh.length&&FM(),o&&(Er=o),p=l?s.apply(f,l):s.call(f),Er=a,p},sb=function(e){return Lh(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Qs),e.progress()<1&&iu(e,"onInterrupt"),e},Yg,qV=[],$V=function(e){if(e)if(e=!e.name&&e.default||e,H6()||e.headless){var n=e.name,i=Vr(e),r=n&&!i&&e.init?function(){this._props=[]}:e,s={init:Mx,render:Q6,add:X6,kill:kxe,modifier:Oxe,rawVars:0},a={targetTest:0,get:0,getSetter:K6,aliases:{},register:0};if(U_(),e!==r){if(Ko[n])return;pu(r,pu(UM(e,s),a)),P_(r.prototype,P_(s,UM(e,a))),Ko[r.prop=n]=r,e.targetTest&&(Kw.push(r),W6[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}DV(n,r),e.register&&e.register(Uo,r,Po)}else qV.push(e)},Xi=255,ab={aqua:[0,Xi,Xi],lime:[0,Xi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Xi],navy:[0,0,128],white:[Xi,Xi,Xi],olive:[128,128,0],yellow:[Xi,Xi,0],orange:[Xi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Xi,0,0],pink:[Xi,192,203],cyan:[0,Xi,Xi],transparent:[Xi,Xi,Xi,0]},YD=function(e,n,i){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(i-n)*e*6:e<.5?i:e*3<2?n+(i-n)*(2/3-e)*6:n)*Xi+.5|0},XV=function(e,n,i){var r=e?Xf(e)?[e>>16,e>>8&Xi,e&Xi]:0:ab.black,s,a,o,l,f,p,g,y,_,x;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),ab[e])r=ab[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+s+s+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Xi,r&Xi,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Xi,e&Xi]}else if(e.substr(0,3)==="hsl"){if(r=x=e.match(QF),!n)l=+r[0]%360/360,f=+r[1]/100,p=+r[2]/100,a=p<=.5?p*(f+1):p+f-p*f,s=p*2-a,r.length>3&&(r[3]*=1),r[0]=YD(l+1/3,s,a),r[1]=YD(l,s,a),r[2]=YD(l-1/3,s,a);else if(~e.indexOf("="))return r=e.match(TV),i&&r.length<4&&(r[3]=1),r}else r=e.match(QF)||ab.transparent;r=r.map(Number)}return n&&!x&&(s=r[0]/Xi,a=r[1]/Xi,o=r[2]/Xi,g=Math.max(s,a,o),y=Math.min(s,a,o),p=(g+y)/2,g===y?l=f=0:(_=g-y,f=p>.5?_/(2-g-y):_/(g+y),l=g===s?(a-o)/_+(a<o?6:0):g===a?(o-s)/_+2:(s-a)/_+4,l*=60),r[0]=~~(l+.5),r[1]=~~(f*100+.5),r[2]=~~(p*100+.5)),i&&r.length<4&&(r[3]=1),r},YV=function(e){var n=[],i=[],r=-1;return e.split(vh).forEach(function(s){var a=s.match(Xg)||[];n.push.apply(n,a),i.push(r+=a.length+1)}),n.c=i,n},r5=function(e,n,i){var r="",s=(e+r).match(vh),a=n?"hsla(":"rgba(",o=0,l,f,p,g;if(!s)return e;if(s=s.map(function(y){return(y=XV(y,n,1))&&a+(n?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),i&&(p=YV(e),l=i.c,l.join(r)!==p.c.join(r)))for(f=e.replace(vh,"1").split(Xg),g=f.length-1;o<g;o++)r+=f[o]+(~l.indexOf(o)?s.shift()||a+"0,0,0,0)":(p.length?p:s.length?s:i).shift());if(!f)for(f=e.split(vh),g=f.length-1;o<g;o++)r+=f[o]+s[o];return r+f[g]},vh=(function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in ab)t+="|"+e+"\\b";return new RegExp(t+")","gi")})(),vxe=/hsl[a]?\(/,ZV=function(e){var n=e.join(" "),i;if(vh.lastIndex=0,vh.test(n))return i=vxe.test(n),e[1]=r5(e[1],i),e[0]=r5(e[0],i,YV(e[1])),!0},Ax,eu=(function(){var t=Date.now,e=500,n=33,i=t(),r=i,s=1e3/240,a=s,o=[],l,f,p,g,y,_,x=function S(E){var w=t()-r,C=E===!0,A,R,N,O;if((w>e||w<0)&&(i+=w-n),r+=w,N=r-i,A=N-a,(A>0||C)&&(O=++g.frame,y=N-g.time*1e3,g.time=N=N/1e3,a+=A+(A>=s?4:s-A),R=1),C||(l=f(S)),R)for(_=0;_<o.length;_++)o[_](N,y,O,E)};return g={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(E){return y/(1e3/(E||60))},wake:function(){CV&&(!jI&&H6()&&(gc=jI=window,V6=gc.document||{},hu.gsap=Uo,(gc.gsapVersions||(gc.gsapVersions=[])).push(Uo.version),AV(LM||gc.GreenSockGlobals||!gc.gsap&&gc||{}),qV.forEach($V)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&g.sleep(),f=p||function(E){return setTimeout(E,a-g.time*1e3+1|0)},Ax=1,x(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(l),Ax=0,f=Mx},lagSmoothing:function(E,w){e=E||1/0,n=Math.min(w||33,e)},fps:function(E){s=1e3/(E||240),a=g.time*1e3+s},add:function(E,w,C){var A=w?function(R,N,O,P){E(R,N,O,P),g.remove(A)}:E;return g.remove(E),o[C?"unshift":"push"](A),U_(),A},remove:function(E,w){~(w=o.indexOf(E))&&o.splice(w,1)&&_>=w&&_--},_listeners:o},g})(),U_=function(){return!Ax&&eu.wake()},pi={},bxe=/^[\d.\-M][\d.\-,\s]/,xxe=/["']/g,Sxe=function(e){for(var n={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,a=i.length,o,l,f;s<a;s++)l=i[s],o=s!==a-1?l.lastIndexOf(","):l.length,f=l.substr(0,o),n[r]=isNaN(f)?f.replace(xxe,"").trim():+f,r=l.substr(o+1).trim();return n},Exe=function(e){var n=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",n);return e.substring(n,~r&&r<i?e.indexOf(")",i+1):i)},wxe=function(e){var n=(e+"").split("("),i=pi[n[0]];return i&&n.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[Sxe(n[1])]:Exe(e).split(",").map(OV)):pi._CE&&bxe.test(e)?pi._CE("",e):i},KV=function(e){return function(n){return 1-e(1-n)}},QV=function t(e,n){for(var i=e._first,r;i;)i instanceof Xa?t(i,n):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==n&&(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Sm=function(e,n){return e&&(Vr(e)?e:pi[e]||wxe(e))||n},Jm=function(e,n,i,r){i===void 0&&(i=function(l){return 1-n(1-l)}),r===void 0&&(r=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var s={easeIn:n,easeOut:i,easeInOut:r},a;return ko(e,function(o){pi[o]=hu[o]=s,pi[a=o.toLowerCase()]=i;for(var l in s)pi[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=pi[o+"."+l]=s[l]}),s},JV=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},ZD=function t(e,n,i){var r=n>=1?n:1,s=(i||(e?.3:.45))/(n<1?n:1),a=s/WI*(Math.asin(1/r)||0),o=function(p){return p===1?1:r*Math.pow(2,-10*p)*Ybe((p-a)*s)+1},l=e==="out"?o:e==="in"?function(f){return 1-o(1-f)}:JV(o);return s=WI/s,l.config=function(f,p){return t(e,f,p)},l},KD=function t(e,n){n===void 0&&(n=1.70158);var i=function(a){return a?--a*a*((n+1)*a+n)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:JV(i);return r.config=function(s){return t(e,s)},r};ko("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Jm(t+",Power"+(n-1),e?function(i){return Math.pow(i,n)}:function(i){return i},function(i){return 1-Math.pow(1-i,n)},function(i){return i<.5?Math.pow(i*2,n)/2:1-Math.pow((1-i)*2,n)/2})});pi.Linear.easeNone=pi.none=pi.Linear.easeIn;Jm("Elastic",ZD("in"),ZD("out"),ZD());(function(t,e){var n=1/e,i=2*n,r=2.5*n,s=function(o){return o<n?t*o*o:o<i?t*Math.pow(o-1.5/e,2)+.75:o<r?t*(o-=2.25/e)*o+.9375:t*Math.pow(o-2.625/e,2)+.984375};Jm("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);Jm("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Jm("Circ",function(t){return-(EV(1-t*t)-1)});Jm("Sine",function(t){return t===1?1:-Xbe(t*qbe)+1});Jm("Back",KD("in"),KD("out"),KD());pi.SteppedEase=pi.steps=hu.SteppedEase={config:function(e,n){e===void 0&&(e=1);var i=1/e,r=e+(n?0:1),s=n?1:0,a=1-Yi;return function(o){return((r*m1(0,a,o)|0)+s)*i}}};k_.ease=pi["quad.out"];ko("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return j6+=t+","+t+"Params,"});var eG=function(e,n){this.id=$be++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:IV,this.set=n?n.getSetter:K6},Dx=(function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,F_(this,+n.duration,1,1),this.data=n.data,Er&&(this._ctx=Er,Er.data.push(this)),Ax||eu.wake()}var e=t.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,F_(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(U_(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(pA(this,i),!s._dp||s.parent||LV(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&vc(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Yi||!this._initted&&this._dur&&i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),NV(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+t5(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+t5(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?L_(this._tTime,s)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-Yi?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?BM(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Yi?0:this._rts,this.totalTime(m1(-Math.abs(this._delay),this.totalDuration(),s),r!==!1),hA(this),sxe(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(U_(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Yi&&(this._tTime-=Yi)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=Nr(i);var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&vc(r,this,this._start-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Oo(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?BM(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=txe);var r=Qs;return Qs=i,$6(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Qs=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,n5(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,n5(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(Hu(this,i),Oo(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Oo(r)),this._dur||(this._zTime=-Yi),this},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Yi:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Yi,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-Yi)},e.eventCallback=function(i,r,s){var a=this.vars;return arguments.length>1?(r?(a[i]=r,s&&(a[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete a[i],this):a[i]},e.then=function(i){var r=this,s=r._prom;return new Promise(function(a){var o=Vr(i)?i:kV,l=function(){var p=r.then;r.then=null,s&&s(),Vr(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=p),a(o),r.then=p};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?l():r._prom=l})},e.kill=function(){sb(this)},t})();pu(Dx.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Yi,_prom:0,_ps:!1,_rts:1});var Xa=(function(t){SV(e,t);function e(i,r){var s;return i===void 0&&(i={}),s=t.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Oo(i.sortChildren),Or&&vc(i.parent||Or,Tf(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&FV(Tf(s),i.scrollTrigger),s}var n=e.prototype;return n.to=function(r,s,a){return Ib(0,arguments,this),this},n.from=function(r,s,a){return Ib(1,arguments,this),this},n.fromTo=function(r,s,a,o){return Ib(2,arguments,this),this},n.set=function(r,s,a){return s.duration=0,s.parent=this,Rb(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new ls(r,s,Hu(this,a),1),this},n.call=function(r,s,a){return vc(this,ls.delayedCall(0,r,s),a)},n.staggerTo=function(r,s,a,o,l,f,p){return a.duration=s,a.stagger=a.stagger||o,a.onComplete=f,a.onCompleteParams=p,a.parent=this,new ls(r,a,Hu(this,l)),this},n.staggerFrom=function(r,s,a,o,l,f,p){return a.runBackwards=1,Rb(a).immediateRender=Oo(a.immediateRender),this.staggerTo(r,s,a,o,l,f,p)},n.staggerFromTo=function(r,s,a,o,l,f,p,g){return o.startAt=a,Rb(o).immediateRender=Oo(o.immediateRender),this.staggerTo(r,s,o,l,f,p,g)},n.render=function(r,s,a){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,f=this._dur,p=r<=0?0:Nr(r),g=this._zTime<0!=r<0&&(this._initted||!f),y,_,x,S,E,w,C,A,R,N,O,P;if(this!==Or&&p>l&&r>=0&&(p=l),p!==this._tTime||a||g){if(o!==this._time&&f&&(p+=this._time-o,r+=this._time-o),y=p,R=this._start,A=this._ts,w=!A,g&&(f||(o=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(O=this._yoyo,E=f+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(E*100+r,s,a);if(y=Nr(p%E),p===l?(S=this._repeat,y=f):(N=Nr(p/E),S=~~N,S&&S===N&&(y=f,S--),y>f&&(y=f)),N=L_(this._tTime,E),!o&&this._tTime&&N!==S&&this._tTime-N*E-this._dur<=0&&(N=S),O&&S&1&&(y=f-y,P=1),S!==N&&!this._lock){var z=O&&N&1,k=z===(O&&S&1);if(S<N&&(z=!z),o=z?0:p%f?f:p,this._lock=1,this.render(o||(P?0:Nr(S*E)),s,!f)._lock=0,this._tTime=p,!s&&this.parent&&iu(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1,N=S),o&&o!==this._time||w!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,l=this._tDur,k&&(this._lock=2,o=z?f:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!w)return this;QV(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(C=lxe(this,Nr(o),Nr(y)),C&&(p-=y-(y=C._start))),this._tTime=p,this._time=y,this._act=!A,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&p&&f&&!s&&!N&&(iu(this,"onStart"),this._tTime!==p))return this;if(y>=o&&r>=0)for(_=this._first;_;){if(x=_._next,(_._act||y>=_._start)&&_._ts&&C!==_){if(_.parent!==this)return this.render(r,s,a);if(_.render(_._ts>0?(y-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(y-_._start)*_._ts,s,a),y!==this._time||!this._ts&&!w){C=0,x&&(p+=this._zTime=-Yi);break}}_=x}else{_=this._last;for(var F=r<0?r:y;_;){if(x=_._prev,(_._act||F<=_._end)&&_._ts&&C!==_){if(_.parent!==this)return this.render(r,s,a);if(_.render(_._ts>0?(F-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(F-_._start)*_._ts,s,a||Qs&&$6(_)),y!==this._time||!this._ts&&!w){C=0,x&&(p+=this._zTime=F?-Yi:Yi);break}}_=x}}if(C&&!s&&(this.pause(),C.render(y>=o?0:-Yi)._zTime=y>=o?1:-1,this._ts))return this._start=R,hA(this),this.render(r,s,a);this._onUpdate&&!s&&iu(this,"onUpdate",!0),(p===l&&this._tTime>=this.totalDuration()||!p&&o)&&(R===this._start||Math.abs(A)!==Math.abs(this._ts))&&(this._lock||((r||!f)&&(p===l&&this._ts>0||!p&&this._ts<0)&&Lh(this,1),!s&&!(r<0&&!o)&&(p||o||!l)&&(iu(this,p===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(r,s){var a=this;if(Xf(s)||(s=Hu(this,s,r)),!(r instanceof Dx)){if(Ea(r))return r.forEach(function(o){return a.add(o,s)}),this;if(Ls(r))return this.addLabel(r,s);if(Vr(r))r=ls.delayedCall(0,r);else return this}return this!==r?vc(this,r,s):this},n.getChildren=function(r,s,a,o){r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=-ju);for(var l=[],f=this._first;f;)f._start>=o&&(f instanceof ls?s&&l.push(f):(a&&l.push(f),r&&l.push.apply(l,f.getChildren(!0,s,a)))),f=f._next;return l},n.getById=function(r){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===r)return s[a]},n.remove=function(r){return Ls(r)?this.removeLabel(r):Vr(r)?this.killTweensOf(r):(r.parent===this&&dA(this,r),r===this._recent&&(this._recent=this._last),xm(this))},n.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Nr(eu.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),t.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},n.addLabel=function(r,s){return this.labels[r]=Hu(this,s),this},n.removeLabel=function(r){return delete this.labels[r],this},n.addPause=function(r,s,a){var o=ls.delayedCall(0,s||Mx,a);return o.data="isPause",this._hasPause=1,vc(this,o,Hu(this,r))},n.removePause=function(r){var s=this._first;for(r=Hu(this,r);s;)s._start===r&&s.data==="isPause"&&Lh(s),s=s._next},n.killTweensOf=function(r,s,a){for(var o=this.getTweensOf(r,a),l=o.length;l--;)ch!==o[l]&&o[l].kill(r,s);return this},n.getTweensOf=function(r,s){for(var a=[],o=qu(r),l=this._first,f=Xf(s),p;l;)l instanceof ls?nxe(l._targets,o)&&(f?(!ch||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&a.push(l):(p=l.getTweensOf(o,s)).length&&a.push.apply(a,p),l=l._next;return a},n.tweenTo=function(r,s){s=s||{};var a=this,o=Hu(a,r),l=s,f=l.startAt,p=l.onStart,g=l.onStartParams,y=l.immediateRender,_,x=ls.to(a,pu({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:s.duration||Math.abs((o-(f&&"time"in f?f.time:a._time))/a.timeScale())||Yi,onStart:function(){if(a.pause(),!_){var E=s.duration||Math.abs((o-(f&&"time"in f?f.time:a._time))/a.timeScale());x._dur!==E&&F_(x,E,0,1).render(x._time,!0,!0),_=1}p&&p.apply(x,g||[])}},s));return y?x.render(0):x},n.tweenFromTo=function(r,s,a){return this.tweenTo(s,pu({startAt:{time:Hu(this,r)}},a))},n.recent=function(){return this._recent},n.nextLabel=function(r){return r===void 0&&(r=this._time),i5(this,Hu(this,r))},n.previousLabel=function(r){return r===void 0&&(r=this._time),i5(this,Hu(this,r),1)},n.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Yi)},n.shiftChildren=function(r,s,a){a===void 0&&(a=0);var o=this._first,l=this.labels,f;for(r=Nr(r);o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(s)for(f in l)l[f]>=a&&(l[f]+=r);return xm(this)},n.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return t.prototype.invalidate.call(this,r)},n.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),xm(this)},n.totalDuration=function(r){var s=0,a=this,o=a._last,l=ju,f,p,g;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(g=a.parent;o;)f=o._prev,o._dirty&&o.totalDuration(),p=o._start,p>l&&a._sort&&o._ts&&!a._lock?(a._lock=1,vc(a,o,p-o._delay,1)._lock=0):l=p,p<0&&o._ts&&(s-=p,(!g&&!a._dp||g&&g.smoothChildTiming)&&(a._start+=Nr(p/a._ts),a._time-=p,a._tTime-=p),a.shiftChildren(-p,!1,-1/0),l=0),o._end>s&&o._ts&&(s=o._end),o=f;F_(a,a===Or&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(Or._ts&&(NV(Or,BM(r,Or)),RV=eu.frame),eu.frame>=JF){JF+=lu.autoSleep||120;var s=Or._first;if((!s||!s._ts)&&lu.autoSleep&&eu._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||eu.sleep()}}},e})(Dx);pu(Xa.prototype,{_lock:0,_hasPause:0,_forcing:0});var Txe=function(e,n,i,r,s,a,o){var l=new Po(this._pt,e,n,0,1,aG,null,s),f=0,p=0,g,y,_,x,S,E,w,C;for(l.b=i,l.e=r,i+="",r+="",(w=~r.indexOf("random("))&&(r=Cx(r)),a&&(C=[i,r],a(C,e,n),i=C[0],r=C[1]),y=i.match($D)||[];g=$D.exec(r);)x=g[0],S=r.substring(f,g.index),_?_=(_+1)%5:S.substr(-5)==="rgba("&&(_=1),x!==y[p++]&&(E=parseFloat(y[p-1])||0,l._pt={_next:l._pt,p:S||p===1?S:",",s:E,c:x.charAt(1)==="="?n_(E,x)-E:parseFloat(x)-E,m:_&&_<4?Math.round:0},f=$D.lastIndex);return l.c=f<r.length?r.substring(f,r.length):"",l.fp=o,(MV.test(r)||w)&&(l.e=0),this._pt=l,l},X6=function(e,n,i,r,s,a,o,l,f,p){Vr(r)&&(r=r(s||0,e,a));var g=e[n],y=i!=="get"?i:Vr(g)?f?e[n.indexOf("set")||!Vr(e["get"+n.substr(3)])?n:"get"+n.substr(3)](f):e[n]():g,_=Vr(g)?f?Rxe:rG:Z6,x;if(Ls(r)&&(~r.indexOf("random(")&&(r=Cx(r)),r.charAt(1)==="="&&(x=n_(y,r)+(ya(y)||0),(x||x===0)&&(r=x))),!p||y!==r||QI)return!isNaN(y*r)&&r!==""?(x=new Po(this._pt,e,n,+y||0,r-(y||0),typeof g=="boolean"?Nxe:sG,0,_),f&&(x.fp=f),o&&x.modifier(o,this,e),this._pt=x):(!g&&!(n in e)&&G6(n,r),Txe.call(this,e,n,y,r,_,l||lu.stringFilter,f))},Mxe=function(e,n,i,r,s){if(Vr(e)&&(e=Nb(e,s,n,i,r)),!kc(e)||e.style&&e.nodeType||Ea(e)||wV(e))return Ls(e)?Nb(e,s,n,i,r):e;var a={},o;for(o in e)a[o]=Nb(e[o],s,n,i,r);return a},tG=function(e,n,i,r,s,a){var o,l,f,p;if(Ko[e]&&(o=new Ko[e]).init(s,o.rawVars?n[e]:Mxe(n[e],r,s,a,i),i,r,a)!==!1&&(i._pt=l=new Po(i._pt,s,e,0,1,o.render,o,0,o.priority),i!==Yg))for(f=i._ptLookup[i._targets.indexOf(s)],p=o._props.length;p--;)f[o._props[p]]=l;return o},ch,QI,Y6=function t(e,n,i){var r=e.vars,s=r.ease,a=r.startAt,o=r.immediateRender,l=r.lazy,f=r.onUpdate,p=r.runBackwards,g=r.yoyoEase,y=r.keyframes,_=r.autoRevert,x=e._dur,S=e._startAt,E=e._targets,w=e.parent,C=w&&w.data==="nested"?w.vars.targets:E,A=e._overwrite==="auto"&&!B6,R=e.timeline,N,O,P,z,k,F,G,$,ee,ne,re,W,q;if(R&&(!y||!s)&&(s="none"),e._ease=Sm(s,k_.ease),e._yEase=g?KV(Sm(g===!0?s:g,k_.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!R&&!!r.runBackwards,!R||y&&!r.stagger){if($=E[0]?bm(E[0]).harness:0,W=$&&r[$.prop],N=UM(r,W6),S&&(S._zTime<0&&S.progress(1),n<0&&p&&o&&!_?S.render(-1,!0):S.revert(p&&x?Zw:exe),S._lazy=0),a){if(Lh(e._startAt=ls.set(E,pu({data:"isStart",overwrite:!1,parent:w,immediateRender:!0,lazy:!S&&Oo(l),startAt:null,delay:0,onUpdate:f&&function(){return iu(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Qs||!o&&!_)&&e._startAt.revert(Zw),o&&x&&n<=0&&i<=0){n&&(e._zTime=n);return}}else if(p&&x&&!S){if(n&&(o=!1),P=pu({overwrite:!1,data:"isFromStart",lazy:o&&!S&&Oo(l),immediateRender:o,stagger:0,parent:w},N),W&&(P[$.prop]=W),Lh(e._startAt=ls.set(E,P)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Qs?e._startAt.revert(Zw):e._startAt.render(-1,!0)),e._zTime=n,!o)t(e._startAt,Yi,Yi);else if(!n)return}for(e._pt=e._ptCache=0,l=x&&Oo(l)||l&&!x,O=0;O<E.length;O++){if(k=E[O],G=k._gsap||q6(E)[O]._gsap,e._ptLookup[O]=ne={},qI[G.id]&&yh.length&&FM(),re=C===E?O:C.indexOf(k),$&&(ee=new $).init(k,W||N,e,re,C)!==!1&&(e._pt=z=new Po(e._pt,k,ee.name,0,1,ee.render,ee,0,ee.priority),ee._props.forEach(function(te){ne[te]=z}),ee.priority&&(F=1)),!$||W)for(P in N)Ko[P]&&(ee=tG(P,N,e,re,k,C))?ee.priority&&(F=1):ne[P]=z=X6.call(e,k,P,"get",N[P],re,C,0,r.stringFilter);e._op&&e._op[O]&&e.kill(k,e._op[O]),A&&e._pt&&(ch=e,Or.killTweensOf(k,ne,e.globalTime(n)),q=!e.parent,ch=0),e._pt&&l&&(qI[G.id]=1)}F&&oG(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!q,y&&n<=0&&R.render(ju,!0,!0)},Cxe=function(e,n,i,r,s,a,o,l){var f=(e._pt&&e._ptCache||(e._ptCache={}))[n],p,g,y,_;if(!f)for(f=e._ptCache[n]=[],y=e._ptLookup,_=e._targets.length;_--;){if(p=y[_][n],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==n&&p.fp!==n;)p=p._next;if(!p)return QI=1,e.vars[n]="+=0",Y6(e,o),QI=0,l?Tx(n+" not eligible for reset"):1;f.push(p)}for(_=f.length;_--;)g=f[_],p=g._pt||g,p.s=(r||r===0)&&!s?r:p.s+(r||0)+a*p.c,p.c=i-p.s,g.e&&(g.e=Kr(i)+ya(g.e)),g.b&&(g.b=p.s+ya(g.b))},Axe=function(e,n){var i=e[0]?bm(e[0]).harness:0,r=i&&i.aliases,s,a,o,l;if(!r)return n;s=P_({},n);for(a in r)if(a in s)for(l=r[a].split(","),o=l.length;o--;)s[l[o]]=s[a];return s},Dxe=function(e,n,i,r){var s=n.ease||r||"power1.inOut",a,o;if(Ea(n))o=i[e]||(i[e]=[]),n.forEach(function(l,f){return o.push({t:f/(n.length-1)*100,v:l,e:s})});else for(a in n)o=i[a]||(i[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:n[a],e:s})},Nb=function(e,n,i,r,s){return Vr(e)?e.call(n,i,r,s):Ls(e)&&~e.indexOf("random(")?Cx(e):e},nG=j6+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",iG={};ko(nG+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return iG[t]=1});var ls=(function(t){SV(e,t);function e(i,r,s,a){var o;typeof r=="number"&&(s.duration=r,r=s,s=null),o=t.call(this,a?r:Rb(r))||this;var l=o.vars,f=l.duration,p=l.delay,g=l.immediateRender,y=l.stagger,_=l.overwrite,x=l.keyframes,S=l.defaults,E=l.scrollTrigger,w=l.yoyoEase,C=r.parent||Or,A=(Ea(i)||wV(i)?Xf(i[0]):"length"in r)?[i]:qu(i),R,N,O,P,z,k,F,G;if(o._targets=A.length?q6(A):Tx("GSAP target "+i+" not found. https://gsap.com",!lu.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=_,x||y||mw(f)||mw(p)){if(r=o.vars,R=o.timeline=new Xa({data:"nested",defaults:S||{},targets:C&&C.data==="nested"?C.vars.targets:A}),R.kill(),R.parent=R._dp=Tf(o),R._start=0,y||mw(f)||mw(p)){if(P=A.length,F=y&&HV(y),kc(y))for(z in y)~nG.indexOf(z)&&(G||(G={}),G[z]=y[z]);for(N=0;N<P;N++)O=UM(r,iG),O.stagger=0,w&&(O.yoyoEase=w),G&&P_(O,G),k=A[N],O.duration=+Nb(f,Tf(o),N,k,A),O.delay=(+Nb(p,Tf(o),N,k,A)||0)-o._delay,!y&&P===1&&O.delay&&(o._delay=p=O.delay,o._start+=p,O.delay=0),R.to(k,O,F?F(N,k,A):0),R._ease=pi.none;R.duration()?f=p=0:o.timeline=0}else if(x){Rb(pu(R.vars.defaults,{ease:"none"})),R._ease=Sm(x.ease||r.ease||"none");var $=0,ee,ne,re;if(Ea(x))x.forEach(function(W){return R.to(A,W,">")}),R.duration();else{O={};for(z in x)z==="ease"||z==="easeEach"||Dxe(z,x[z],O,x.easeEach);for(z in O)for(ee=O[z].sort(function(W,q){return W.t-q.t}),$=0,N=0;N<ee.length;N++)ne=ee[N],re={ease:ne.e,duration:(ne.t-(N?ee[N-1].t:0))/100*f},re[z]=ne.v,R.to(A,re,$),$+=re.duration;R.duration()<f&&R.to({},{duration:f-R.duration()})}}f||o.duration(f=R.duration())}else o.timeline=0;return _===!0&&!B6&&(ch=Tf(o),Or.killTweensOf(A),ch=0),vc(C,Tf(o),s),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(g||!f&&!x&&o._start===Nr(C._time)&&Oo(g)&&axe(Tf(o))&&C.data!=="nested")&&(o._tTime=-Yi,o.render(Math.max(0,-p)||0)),E&&FV(Tf(o),E),o}var n=e.prototype;return n.render=function(r,s,a){var o=this._time,l=this._tDur,f=this._dur,p=r<0,g=r>l-Yi&&!p?l:r<Yi?0:r,y,_,x,S,E,w,C,A,R;if(!f)uxe(this,r,s,a);else if(g!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(y=g,A=this.timeline,this._repeat){if(S=f+this._rDelay,this._repeat<-1&&p)return this.totalTime(S*100+r,s,a);if(y=Nr(g%S),g===l?(x=this._repeat,y=f):(E=Nr(g/S),x=~~E,x&&x===E?(y=f,x--):y>f&&(y=f)),w=this._yoyo&&x&1,w&&(R=this._yEase,y=f-y),E=L_(this._tTime,S),y===o&&!a&&this._initted&&x===E)return this._tTime=g,this;x!==E&&(A&&this._yEase&&QV(A,w),this.vars.repeatRefresh&&!w&&!this._lock&&y!==S&&this._initted&&(this._lock=a=1,this.render(Nr(S*x),!0).invalidate()._lock=0))}if(!this._initted){if(UV(this,p?r:y,a,s,g))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&x!==E))return this;if(f!==this._dur)return this.render(r,s,a)}if(this._tTime=g,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=C=(R||this._ease)(y/f),this._from&&(this.ratio=C=1-C),!o&&g&&!s&&!E&&(iu(this,"onStart"),this._tTime!==g))return this;for(_=this._pt;_;)_.r(C,_.d),_=_._next;A&&A.render(r<0?r:A._dur*A._ease(y/this._dur),s,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(p&&$I(this,r,s,a),iu(this,"onUpdate")),this._repeat&&x!==E&&this.vars.onRepeat&&!s&&this.parent&&iu(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(p&&!this._onUpdate&&$I(this,r,!0,!0),(r||!f)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Lh(this,1),!s&&!(p&&!o)&&(g||o||w)&&(iu(this,g===l?"onComplete":"onReverseComplete",!0),this._prom&&!(g<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),t.prototype.invalidate.call(this,r)},n.resetTo=function(r,s,a,o,l){Ax||eu.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||Y6(this,f),p=this._ease(f/this._dur),Cxe(this,r,s,a,o,p,f,l)?this.resetTo(r,s,a,o,1):(pA(this,0),this.parent||PV(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?sb(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Qs),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,ch&&ch.vars.overwrite!==!0)._first||sb(this),this.parent&&a!==this.timeline.totalDuration()&&F_(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,l=r?qu(r):o,f=this._ptLookup,p=this._pt,g,y,_,x,S,E,w;if((!s||s==="all")&&rxe(o,l))return s==="all"&&(this._pt=0),sb(this);for(g=this._op=this._op||[],s!=="all"&&(Ls(s)&&(S={},ko(s,function(C){return S[C]=1}),s=S),s=Axe(o,s)),w=o.length;w--;)if(~l.indexOf(o[w])){y=f[w],s==="all"?(g[w]=s,x=y,_={}):(_=g[w]=g[w]||{},x=s);for(S in x)E=y&&y[S],E&&((!("kill"in E.d)||E.d.kill(S)===!0)&&dA(this,E,"_pt"),delete y[S]),_!=="all"&&(_[S]=1)}return this._initted&&!this._pt&&p&&sb(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return Ib(1,arguments)},e.delayedCall=function(r,s,a,o){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(r,s,a){return Ib(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,a){return Or.killTweensOf(r,s,a)},e})(Dx);pu(ls.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ko("staggerTo,staggerFrom,staggerFromTo",function(t){ls[t]=function(){var e=new Xa,n=YI.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Z6=function(e,n,i){return e[n]=i},rG=function(e,n,i){return e[n](i)},Rxe=function(e,n,i,r){return e[n](r.fp,i)},Ixe=function(e,n,i){return e.setAttribute(n,i)},K6=function(e,n){return Vr(e[n])?rG:z6(e[n])&&e.setAttribute?Ixe:Z6},sG=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},Nxe=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},aG=function(e,n){var i=n._pt,r="";if(!e&&n.b)r=n.b;else if(e===1&&n.e)r=n.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=n.c}n.set(n.t,n.p,r,n)},Q6=function(e,n){for(var i=n._pt;i;)i.r(e,i.d),i=i._next},Oxe=function(e,n,i,r){for(var s=this._pt,a;s;)a=s._next,s.p===r&&s.modifier(e,n,i),s=a},kxe=function(e){for(var n=this._pt,i,r;n;)r=n._next,n.p===e&&!n.op||n.op===e?dA(this,n,"_pt"):n.dep||(i=1),n=r;return!i},Pxe=function(e,n,i,r){r.mSet(e,n,r.m.call(r.tween,i,r.mt),r)},oG=function(e){for(var n=e._pt,i,r,s,a;n;){for(i=n._next,r=s;r&&r.pr>n.pr;)r=r._next;(n._prev=r?r._prev:a)?n._prev._next=n:s=n,(n._next=r)?r._prev=n:a=n,n=i}e._pt=s},Po=(function(){function t(n,i,r,s,a,o,l,f,p){this.t=i,this.s=s,this.c=a,this.p=r,this.r=o||sG,this.d=l||this,this.set=f||Z6,this.pr=p||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=Pxe,this.m=i,this.mt=s,this.tween=r},t})();ko(j6+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return W6[t]=1});hu.TweenMax=hu.TweenLite=ls;hu.TimelineLite=hu.TimelineMax=Xa;Or=new Xa({sortChildren:!1,defaults:k_,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});lu.stringFilter=ZV;var Em=[],Qw={},Lxe=[],s5=0,Fxe=0,QD=function(e){return(Qw[e]||Lxe).map(function(n){return n()})},JI=function(){var e=Date.now(),n=[];e-s5>2&&(QD("matchMediaInit"),Em.forEach(function(i){var r=i.queries,s=i.conditions,a,o,l,f;for(o in r)a=gc.matchMedia(r[o]).matches,a&&(l=1),a!==s[o]&&(s[o]=a,f=1);f&&(i.revert(),l&&n.push(i))}),QD("matchMediaRevert"),n.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),s5=e,QD("matchMedia"))},uG=(function(){function t(n,i){this.selector=i&&ZI(i),this.data=[],this._r=[],this.isReverted=!1,this.id=Fxe++,n&&this.add(n)}var e=t.prototype;return e.add=function(i,r,s){Vr(i)&&(s=r,r=i,i=Vr);var a=this,o=function(){var f=Er,p=a.selector,g;return f&&f!==a&&f.data.push(a),s&&(a.selector=ZI(s)),Er=a,g=r.apply(a,arguments),Vr(g)&&a._r.push(g),Er=f,a.selector=p,a.isReverted=!1,g};return a.last=o,i===Vr?o(a,function(l){return a.add(null,l)}):i?a[i]=o:o},e.ignore=function(i){var r=Er;Er=null,i(this),Er=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof t?i.push.apply(i,r.getTweens()):r instanceof ls&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i?(function(){for(var o=s.getTweens(),l=s.data.length,f;l--;)f=s.data[l],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(p){return o.splice(o.indexOf(p),1)}));for(o.map(function(p){return{g:p._dur||p._delay||p._sat&&!p._sat.vars.immediateRender?p.globalTime(0):-1/0,t:p}}).sort(function(p,g){return g.g-p.g||-1/0}).forEach(function(p){return p.t.revert(i)}),l=s.data.length;l--;)f=s.data[l],f instanceof Xa?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof ls)&&f.revert&&f.revert(i);s._r.forEach(function(p){return p(i,s)}),s.isReverted=!0})():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var a=Em.length;a--;)Em[a].id===this.id&&Em.splice(a,1)},e.revert=function(i){this.kill(i||{})},t})(),Uxe=(function(){function t(n){this.contexts=[],this.scope=n,Er&&Er.data.push(this)}var e=t.prototype;return e.add=function(i,r,s){kc(i)||(i={matches:i});var a=new uG(0,s||this.scope),o=a.conditions={},l,f,p;Er&&!a.selector&&(a.selector=Er.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=i;for(f in i)f==="all"?p=1:(l=gc.matchMedia(i[f]),l&&(Em.indexOf(a)<0&&Em.push(a),(o[f]=l.matches)&&(p=1),l.addListener?l.addListener(JI):l.addEventListener("change",JI)));return p&&r(a,function(g){return a.add(null,g)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},t})(),zM={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(r){return $V(r)})},timeline:function(e){return new Xa(e)},getTweensOf:function(e,n){return Or.getTweensOf(e,n)},getProperty:function(e,n,i,r){Ls(e)&&(e=qu(e)[0]);var s=bm(e||{}).get,a=i?kV:OV;return i==="native"&&(i=""),e&&(n?a((Ko[n]&&Ko[n].get||s)(e,n,i,r)):function(o,l,f){return a((Ko[o]&&Ko[o].get||s)(e,o,l,f))})},quickSetter:function(e,n,i){if(e=qu(e),e.length>1){var r=e.map(function(p){return Uo.quickSetter(p,n,i)}),s=r.length;return function(p){for(var g=s;g--;)r[g](p)}}e=e[0]||{};var a=Ko[n],o=bm(e),l=o.harness&&(o.harness.aliases||{})[n]||n,f=a?function(p){var g=new a;Yg._pt=0,g.init(e,i?p+i:p,Yg,0,[e]),g.render(1,g),Yg._pt&&Q6(1,Yg)}:o.set(e,l);return a?f:function(p){return f(e,l,i?p+i:p,o,1)}},quickTo:function(e,n,i){var r,s=Uo.to(e,pu((r={},r[n]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),a=function(l,f,p){return s.resetTo(n,l,f,p)};return a.tween=s,a},isTweening:function(e){return Or.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Sm(e.ease,k_.ease)),e5(k_,e||{})},config:function(e){return e5(lu,e||{})},registerEffect:function(e){var n=e.name,i=e.effect,r=e.plugins,s=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!Ko[o]&&!hu[o]&&Tx(n+" effect requires "+o+" plugin.")}),XD[n]=function(o,l,f){return i(qu(o),pu(l||{},s),f)},a&&(Xa.prototype[n]=function(o,l,f){return this.add(XD[n](o,kc(l)?l:(f=l)&&{},this),f)})},registerEase:function(e,n){pi[e]=Sm(n)},parseEase:function(e,n){return arguments.length?Sm(e,n):pi},getById:function(e){return Or.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var i=new Xa(e),r,s;for(i.smoothChildTiming=Oo(e.smoothChildTiming),Or.remove(i),i._dp=0,i._time=i._tTime=Or._time,r=Or._first;r;)s=r._next,(n||!(!r._dur&&r instanceof ls&&r.vars.onComplete===r._targets[0]))&&vc(i,r,r._start-r._delay),r=s;return vc(Or,i,0),i},context:function(e,n){return e?new uG(e,n):Er},matchMedia:function(e){return new Uxe(e)},matchMediaRefresh:function(){return Em.forEach(function(e){var n=e.conditions,i,r;for(r in n)n[r]&&(n[r]=!1,i=1);i&&e.revert()})||JI()},addEventListener:function(e,n){var i=Qw[e]||(Qw[e]=[]);~i.indexOf(n)||i.push(n)},removeEventListener:function(e,n){var i=Qw[e],r=i&&i.indexOf(n);r>=0&&i.splice(r,1)},utils:{wrap:gxe,wrapYoyo:_xe,distribute:HV,random:GV,snap:VV,normalize:mxe,getUnit:ya,clamp:fxe,splitColor:XV,toArray:qu,selector:ZI,mapRange:jV,pipe:hxe,unitize:pxe,interpolate:yxe,shuffle:zV},install:AV,effects:XD,ticker:eu,updateRoot:Xa.updateRoot,plugins:Ko,globalTimeline:Or,core:{PropTween:Po,globals:DV,Tween:ls,Timeline:Xa,Animation:Dx,getCache:bm,_removeLinkedListItem:dA,reverting:function(){return Qs},context:function(e){return e&&Er&&(Er.data.push(e),e._ctx=Er),Er},suppressOverwrites:function(e){return B6=e}}};ko("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return zM[t]=ls[t]});eu.add(Xa.updateRoot);Yg=zM.to({},{duration:0});var Bxe=function(e,n){for(var i=e._pt;i&&i.p!==n&&i.op!==n&&i.fp!==n;)i=i._next;return i},zxe=function(e,n){var i=e._targets,r,s,a;for(r in n)for(s=i.length;s--;)a=e._ptLookup[s][r],a&&(a=a.d)&&(a._pt&&(a=Bxe(a,r)),a&&a.modifier&&a.modifier(n[r],e,i[s],r))},JD=function(e,n){return{name:e,headless:1,rawVars:1,init:function(r,s,a){a._onInit=function(o){var l,f;if(Ls(s)&&(l={},ko(s,function(p){return l[p]=1}),s=l),n){l={};for(f in s)l[f]=n(s[f]);s=l}zxe(o,s)}}}},Uo=zM.registerPlugin({name:"attr",init:function(e,n,i,r,s){var a,o,l;this.tween=i;for(a in n)l=e.getAttribute(a)||"",o=this.add(e,"setAttribute",(l||0)+"",n[a],r,s,0,0,a),o.op=a,o.b=l,this._props.push(a)},render:function(e,n){for(var i=n._pt;i;)Qs?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,n){for(var i=n.length;i--;)this.add(e,i,e[i]||0,n[i],0,0,0,0,0,1)}},JD("roundProps",KI),JD("modifiers"),JD("snap",VV))||zM;ls.version=Xa.version=Uo.version="3.14.2";CV=1;H6()&&U_();pi.Power0;pi.Power1;pi.Power2;pi.Power3;pi.Power4;pi.Linear;pi.Quad;pi.Cubic;pi.Quart;pi.Quint;pi.Strong;pi.Elastic;pi.Back;pi.SteppedEase;pi.Bounce;pi.Sine;pi.Expo;pi.Circ;var a5,fh,i_,J6,fm,o5,ek,Hxe=function(){return typeof window<"u"},Yf={},Jp=180/Math.PI,r_=Math.PI/180,Dg=Math.atan2,u5=1e8,tk=/([A-Z])/g,Vxe=/(left|right|width|margin|padding|x)/i,Gxe=/[\s,\(]\S/,Mc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},eN=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Wxe=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},jxe=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},qxe=function(e,n){return n.set(n.t,n.p,e===1?n.e:e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},$xe=function(e,n){var i=n.s+n.c*e;n.set(n.t,n.p,~~(i+(i<0?-.5:.5))+n.u,n)},lG=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},cG=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Xxe=function(e,n,i){return e.style[n]=i},Yxe=function(e,n,i){return e.style.setProperty(n,i)},Zxe=function(e,n,i){return e._gsap[n]=i},Kxe=function(e,n,i){return e._gsap.scaleX=e._gsap.scaleY=i},Qxe=function(e,n,i,r,s){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(s,a)},Jxe=function(e,n,i,r,s){var a=e._gsap;a[n]=i,a.renderTransform(s,a)},Pr="transform",Lo=Pr+"Origin",e1e=function t(e,n){var i=this,r=this.target,s=r.style,a=r._gsap;if(e in Yf&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Mc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=Mf(r,o)}):this.tfm[e]=a.x?a[e]:Mf(r,e),e===Lo&&(this.tfm.zOrigin=a.zOrigin);else return Mc.transform.split(",").forEach(function(o){return t.call(i,o,n)});if(this.props.indexOf(Pr)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Lo,n,"")),e=Pr}(s||n)&&this.props.push(e,n,s[e])},fG=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},t1e=function(){var e=this.props,n=this.target,i=n.style,r=n._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?n[e[s]](e[s+2]):n[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(tk,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=ek(),(!s||!s.isStart)&&!i[Pr]&&(fG(i),r.zOrigin&&i[Lo]&&(i[Lo]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},dG=function(e,n){var i={target:e,props:[],revert:t1e,save:e1e};return e._gsap||Uo.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(r){return i.save(r)}),i},hG,tN=function(e,n){var i=fh.createElementNS?fh.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):fh.createElement(e);return i&&i.style?i:fh.createElement(e)},ru=function t(e,n,i){var r=getComputedStyle(e);return r[n]||r.getPropertyValue(n.replace(tk,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&t(e,B_(n)||n,1)||""},l5="O,Moz,ms,Ms,Webkit".split(","),B_=function(e,n,i){var r=n||fm,s=r.style,a=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(l5[a]+e in s););return a<0?null:(a===3?"ms":a>=0?l5[a]:"")+e},nN=function(){Hxe()&&window.document&&(a5=window,fh=a5.document,i_=fh.documentElement,fm=tN("div")||{style:{}},tN("div"),Pr=B_(Pr),Lo=Pr+"Origin",fm.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",hG=!!B_("perspective"),ek=Uo.core.reverting,J6=1)},c5=function(e){var n=e.ownerSVGElement,i=tN("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",i.appendChild(r),i_.appendChild(i);try{s=r.getBBox()}catch{}return i.removeChild(r),i_.removeChild(i),s},f5=function(e,n){for(var i=n.length;i--;)if(e.hasAttribute(n[i]))return e.getAttribute(n[i])},pG=function(e){var n,i;try{n=e.getBBox()}catch{n=c5(e),i=1}return n&&(n.width||n.height)||i||(n=c5(e)),n&&!n.width&&!n.x&&!n.y?{x:+f5(e,["x","cx","x1"])||0,y:+f5(e,["y","cy","y1"])||0,width:0,height:0}:n},mG=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&pG(e))},Fh=function(e,n){if(n){var i=e.style,r;n in Yf&&n!==Lo&&(n=Pr),i.removeProperty?(r=n.substr(0,2),(r==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),i.removeProperty(r==="--"?n:n.replace(tk,"-$1").toLowerCase())):i.removeAttribute(n)}},dh=function(e,n,i,r,s,a){var o=new Po(e._pt,n,i,0,1,a?cG:lG);return e._pt=o,o.b=r,o.e=s,e._props.push(i),o},d5={deg:1,rad:1,turn:1},n1e={grid:1,flex:1},Uh=function t(e,n,i,r){var s=parseFloat(i)||0,a=(i+"").trim().substr((s+"").length)||"px",o=fm.style,l=Vxe.test(n),f=e.tagName.toLowerCase()==="svg",p=(f?"client":"offset")+(l?"Width":"Height"),g=100,y=r==="px",_=r==="%",x,S,E,w;if(r===a||!s||d5[r]||d5[a])return s;if(a!=="px"&&!y&&(s=t(e,n,i,"px")),w=e.getCTM&&mG(e),(_||a==="%")&&(Yf[n]||~n.indexOf("adius")))return x=w?e.getBBox()[l?"width":"height"]:e[p],Kr(_?s/x*g:s/100*x);if(o[l?"width":"height"]=g+(y?a:r),S=r!=="rem"&&~n.indexOf("adius")||r==="em"&&e.appendChild&&!f?e:e.parentNode,w&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===fh||!S.appendChild)&&(S=fh.body),E=S._gsap,E&&_&&E.width&&l&&E.time===eu.time&&!E.uncache)return Kr(s/E.width*g);if(_&&(n==="height"||n==="width")){var C=e.style[n];e.style[n]=g+r,x=e[p],C?e.style[n]=C:Fh(e,n)}else(_||a==="%")&&!n1e[ru(S,"display")]&&(o.position=ru(e,"position")),S===e&&(o.position="static"),S.appendChild(fm),x=fm[p],S.removeChild(fm),o.position="absolute";return l&&_&&(E=bm(S),E.time=eu.time,E.width=S[p]),Kr(y?x*s/g:x&&s?g/x*s:0)},Mf=function(e,n,i,r){var s;return J6||nN(),n in Mc&&n!=="transform"&&(n=Mc[n],~n.indexOf(",")&&(n=n.split(",")[0])),Yf[n]&&n!=="transform"?(s=Ix(e,r),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:VM(ru(e,Lo))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=HM[n]&&HM[n](e,n,i)||ru(e,n)||IV(e,n)||(n==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?Uh(e,n,s,i)+i:s},i1e=function(e,n,i,r){if(!i||i==="none"){var s=B_(n,e,1),a=s&&ru(e,s,1);a&&a!==i?(n=s,i=a):n==="borderColor"&&(i=ru(e,"borderTopColor"))}var o=new Po(this._pt,e.style,n,0,1,aG),l=0,f=0,p,g,y,_,x,S,E,w,C,A,R,N;if(o.b=i,o.e=r,i+="",r+="",r.substring(0,6)==="var(--"&&(r=ru(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(S=e.style[n],e.style[n]=r,r=ru(e,n)||r,S?e.style[n]=S:Fh(e,n)),p=[i,r],ZV(p),i=p[0],r=p[1],y=i.match(Xg)||[],N=r.match(Xg)||[],N.length){for(;g=Xg.exec(r);)E=g[0],C=r.substring(l,g.index),x?x=(x+1)%5:(C.substr(-5)==="rgba("||C.substr(-5)==="hsla(")&&(x=1),E!==(S=y[f++]||"")&&(_=parseFloat(S)||0,R=S.substr((_+"").length),E.charAt(1)==="="&&(E=n_(_,E)+R),w=parseFloat(E),A=E.substr((w+"").length),l=Xg.lastIndex-A.length,A||(A=A||lu.units[n]||R,l===r.length&&(r+=A,o.e+=A)),R!==A&&(_=Uh(e,n,S,A)||0),o._pt={_next:o._pt,p:C||f===1?C:",",s:_,c:w-_,m:x&&x<4||n==="zIndex"?Math.round:0});o.c=l<r.length?r.substring(l,r.length):""}else o.r=n==="display"&&r==="none"?cG:lG;return MV.test(r)&&(o.e=0),this._pt=o,o},h5={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},r1e=function(e){var n=e.split(" "),i=n[0],r=n[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),n[0]=h5[i]||i,n[1]=h5[r]||r,n.join(" ")},s1e=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var i=n.t,r=i.style,s=n.u,a=i._gsap,o,l,f;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),f=s.length;--f>-1;)o=s[f],Yf[o]&&(l=1,o=o==="transformOrigin"?Lo:Pr),Fh(i,o);l&&(Fh(i,Pr),a&&(a.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Ix(i,1),a.uncache=1,fG(r)))}},HM={clearProps:function(e,n,i,r,s){if(s.data!=="isFromStart"){var a=e._pt=new Po(e._pt,n,i,0,0,s1e);return a.u=r,a.pr=-10,a.tween=s,e._props.push(i),1}}},Rx=[1,0,0,1,0,0],gG={},_G=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},p5=function(e){var n=ru(e,Pr);return _G(n)?Rx:n.substr(7).match(TV).map(Kr)},nk=function(e,n){var i=e._gsap||bm(e),r=e.style,s=p5(e),a,o,l,f;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Rx:s):(s===Rx&&!e.offsetParent&&e!==i_&&!i.svg&&(l=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(f=1,o=e.nextElementSibling,i_.appendChild(e)),s=p5(e),l?r.display=l:Fh(e,"display"),f&&(o?a.insertBefore(e,o):a?a.appendChild(e):i_.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},iN=function(e,n,i,r,s,a){var o=e._gsap,l=s||nk(e,!0),f=o.xOrigin||0,p=o.yOrigin||0,g=o.xOffset||0,y=o.yOffset||0,_=l[0],x=l[1],S=l[2],E=l[3],w=l[4],C=l[5],A=n.split(" "),R=parseFloat(A[0])||0,N=parseFloat(A[1])||0,O,P,z,k;i?l!==Rx&&(P=_*E-x*S)&&(z=R*(E/P)+N*(-S/P)+(S*C-E*w)/P,k=R*(-x/P)+N*(_/P)-(_*C-x*w)/P,R=z,N=k):(O=pG(e),R=O.x+(~A[0].indexOf("%")?R/100*O.width:R),N=O.y+(~(A[1]||A[0]).indexOf("%")?N/100*O.height:N)),r||r!==!1&&o.smooth?(w=R-f,C=N-p,o.xOffset=g+(w*_+C*S)-w,o.yOffset=y+(w*x+C*E)-C):o.xOffset=o.yOffset=0,o.xOrigin=R,o.yOrigin=N,o.smooth=!!r,o.origin=n,o.originIsAbsolute=!!i,e.style[Lo]="0px 0px",a&&(dh(a,o,"xOrigin",f,R),dh(a,o,"yOrigin",p,N),dh(a,o,"xOffset",g,o.xOffset),dh(a,o,"yOffset",y,o.yOffset)),e.setAttribute("data-svg-origin",R+" "+N)},Ix=function(e,n){var i=e._gsap||new eG(e);if("x"in i&&!n&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,a="px",o="deg",l=getComputedStyle(e),f=ru(e,Lo)||"0",p,g,y,_,x,S,E,w,C,A,R,N,O,P,z,k,F,G,$,ee,ne,re,W,q,te,se,Z,j,ue,ge,Se,Fe;return p=g=y=S=E=w=C=A=R=0,_=x=1,i.svg=!!(e.getCTM&&mG(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Pr]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Pr]!=="none"?l[Pr]:"")),r.scale=r.rotate=r.translate="none"),P=nk(e,i.svg),i.svg&&(i.uncache?(te=e.getBBox(),f=i.xOrigin-te.x+"px "+(i.yOrigin-te.y)+"px",q=""):q=!n&&e.getAttribute("data-svg-origin"),iN(e,q||f,!!q||i.originIsAbsolute,i.smooth!==!1,P)),N=i.xOrigin||0,O=i.yOrigin||0,P!==Rx&&(G=P[0],$=P[1],ee=P[2],ne=P[3],p=re=P[4],g=W=P[5],P.length===6?(_=Math.sqrt(G*G+$*$),x=Math.sqrt(ne*ne+ee*ee),S=G||$?Dg($,G)*Jp:0,C=ee||ne?Dg(ee,ne)*Jp+S:0,C&&(x*=Math.abs(Math.cos(C*r_))),i.svg&&(p-=N-(N*G+O*ee),g-=O-(N*$+O*ne))):(Fe=P[6],ge=P[7],Z=P[8],j=P[9],ue=P[10],Se=P[11],p=P[12],g=P[13],y=P[14],z=Dg(Fe,ue),E=z*Jp,z&&(k=Math.cos(-z),F=Math.sin(-z),q=re*k+Z*F,te=W*k+j*F,se=Fe*k+ue*F,Z=re*-F+Z*k,j=W*-F+j*k,ue=Fe*-F+ue*k,Se=ge*-F+Se*k,re=q,W=te,Fe=se),z=Dg(-ee,ue),w=z*Jp,z&&(k=Math.cos(-z),F=Math.sin(-z),q=G*k-Z*F,te=$*k-j*F,se=ee*k-ue*F,Se=ne*F+Se*k,G=q,$=te,ee=se),z=Dg($,G),S=z*Jp,z&&(k=Math.cos(z),F=Math.sin(z),q=G*k+$*F,te=re*k+W*F,$=$*k-G*F,W=W*k-re*F,G=q,re=te),E&&Math.abs(E)+Math.abs(S)>359.9&&(E=S=0,w=180-w),_=Kr(Math.sqrt(G*G+$*$+ee*ee)),x=Kr(Math.sqrt(W*W+Fe*Fe)),z=Dg(re,W),C=Math.abs(z)>2e-4?z*Jp:0,R=Se?1/(Se<0?-Se:Se):0),i.svg&&(q=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!_G(ru(e,Pr)),q&&e.setAttribute("transform",q))),Math.abs(C)>90&&Math.abs(C)<270&&(s?(_*=-1,C+=S<=0?180:-180,S+=S<=0?180:-180):(x*=-1,C+=C<=0?180:-180)),n=n||i.uncache,i.x=p-((i.xPercent=p&&(!n&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=g-((i.yPercent=g&&(!n&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=y+a,i.scaleX=Kr(_),i.scaleY=Kr(x),i.rotation=Kr(S)+o,i.rotationX=Kr(E)+o,i.rotationY=Kr(w)+o,i.skewX=C+o,i.skewY=A+o,i.transformPerspective=R+a,(i.zOrigin=parseFloat(f.split(" ")[2])||!n&&i.zOrigin||0)&&(r[Lo]=VM(f)),i.xOffset=i.yOffset=0,i.force3D=lu.force3D,i.renderTransform=i.svg?o1e:hG?yG:a1e,i.uncache=0,i},VM=function(e){return(e=e.split(" "))[0]+" "+e[1]},eR=function(e,n,i){var r=ya(n);return Kr(parseFloat(n)+parseFloat(Uh(e,"x",i+"px",r)))+r},a1e=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,yG(e,n)},Yp="0deg",Jv="0px",Zp=") ",yG=function(e,n){var i=n||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,l=i.z,f=i.rotation,p=i.rotationY,g=i.rotationX,y=i.skewX,_=i.skewY,x=i.scaleX,S=i.scaleY,E=i.transformPerspective,w=i.force3D,C=i.target,A=i.zOrigin,R="",N=w==="auto"&&e&&e!==1||w===!0;if(A&&(g!==Yp||p!==Yp)){var O=parseFloat(p)*r_,P=Math.sin(O),z=Math.cos(O),k;O=parseFloat(g)*r_,k=Math.cos(O),a=eR(C,a,P*k*-A),o=eR(C,o,-Math.sin(O)*-A),l=eR(C,l,z*k*-A+A)}E!==Jv&&(R+="perspective("+E+Zp),(r||s)&&(R+="translate("+r+"%, "+s+"%) "),(N||a!==Jv||o!==Jv||l!==Jv)&&(R+=l!==Jv||N?"translate3d("+a+", "+o+", "+l+") ":"translate("+a+", "+o+Zp),f!==Yp&&(R+="rotate("+f+Zp),p!==Yp&&(R+="rotateY("+p+Zp),g!==Yp&&(R+="rotateX("+g+Zp),(y!==Yp||_!==Yp)&&(R+="skew("+y+", "+_+Zp),(x!==1||S!==1)&&(R+="scale("+x+", "+S+Zp),C.style[Pr]=R||"translate(0, 0)"},o1e=function(e,n){var i=n||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,l=i.rotation,f=i.skewX,p=i.skewY,g=i.scaleX,y=i.scaleY,_=i.target,x=i.xOrigin,S=i.yOrigin,E=i.xOffset,w=i.yOffset,C=i.forceCSS,A=parseFloat(a),R=parseFloat(o),N,O,P,z,k;l=parseFloat(l),f=parseFloat(f),p=parseFloat(p),p&&(p=parseFloat(p),f+=p,l+=p),l||f?(l*=r_,f*=r_,N=Math.cos(l)*g,O=Math.sin(l)*g,P=Math.sin(l-f)*-y,z=Math.cos(l-f)*y,f&&(p*=r_,k=Math.tan(f-p),k=Math.sqrt(1+k*k),P*=k,z*=k,p&&(k=Math.tan(p),k=Math.sqrt(1+k*k),N*=k,O*=k)),N=Kr(N),O=Kr(O),P=Kr(P),z=Kr(z)):(N=g,z=y,O=P=0),(A&&!~(a+"").indexOf("px")||R&&!~(o+"").indexOf("px"))&&(A=Uh(_,"x",a,"px"),R=Uh(_,"y",o,"px")),(x||S||E||w)&&(A=Kr(A+x-(x*N+S*P)+E),R=Kr(R+S-(x*O+S*z)+w)),(r||s)&&(k=_.getBBox(),A=Kr(A+r/100*k.width),R=Kr(R+s/100*k.height)),k="matrix("+N+","+O+","+P+","+z+","+A+","+R+")",_.setAttribute("transform",k),C&&(_.style[Pr]=k)},u1e=function(e,n,i,r,s){var a=360,o=Ls(s),l=parseFloat(s)*(o&&~s.indexOf("rad")?Jp:1),f=l-r,p=r+f+"deg",g,y;return o&&(g=s.split("_")[1],g==="short"&&(f%=a,f!==f%(a/2)&&(f+=f<0?a:-a)),g==="cw"&&f<0?f=(f+a*u5)%a-~~(f/a)*a:g==="ccw"&&f>0&&(f=(f-a*u5)%a-~~(f/a)*a)),e._pt=y=new Po(e._pt,n,i,r,f,Wxe),y.e=p,y.u="deg",e._props.push(i),y},m5=function(e,n){for(var i in n)e[i]=n[i];return e},l1e=function(e,n,i){var r=m5({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=i.style,o,l,f,p,g,y,_,x;r.svg?(f=i.getAttribute("transform"),i.setAttribute("transform",""),a[Pr]=n,o=Ix(i,1),Fh(i,Pr),i.setAttribute("transform",f)):(f=getComputedStyle(i)[Pr],a[Pr]=n,o=Ix(i,1),a[Pr]=f);for(l in Yf)f=r[l],p=o[l],f!==p&&s.indexOf(l)<0&&(_=ya(f),x=ya(p),g=_!==x?Uh(i,l,f,x):parseFloat(f),y=parseFloat(p),e._pt=new Po(e._pt,o,l,g,y-g,eN),e._pt.u=x||0,e._props.push(l));m5(o,r)};ko("padding,margin,Width,Radius",function(t,e){var n="Top",i="Right",r="Bottom",s="Left",a=(e<3?[n,i,r,s]:[n+s,n+i,r+i,r+s]).map(function(o){return e<2?t+o:"border"+o+t});HM[e>1?"border"+t:t]=function(o,l,f,p,g){var y,_;if(arguments.length<4)return y=a.map(function(x){return Mf(o,x,f)}),_=y.join(" "),_.split(y[0]).length===5?y[0]:_;y=(p+"").split(" "),_={},a.forEach(function(x,S){return _[x]=y[S]=y[S]||y[(S-1)/2|0]}),o.init(l,_,g)}});var vG={name:"css",register:nN,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,i,r,s){var a=this._props,o=e.style,l=i.vars.startAt,f,p,g,y,_,x,S,E,w,C,A,R,N,O,P,z,k;J6||nN(),this.styles=this.styles||dG(e),z=this.styles.props,this.tween=i;for(S in n)if(S!=="autoRound"&&(p=n[S],!(Ko[S]&&tG(S,n,i,r,e,s)))){if(_=typeof p,x=HM[S],_==="function"&&(p=p.call(i,r,e,s),_=typeof p),_==="string"&&~p.indexOf("random(")&&(p=Cx(p)),x)x(this,e,S,p,i)&&(P=1);else if(S.substr(0,2)==="--")f=(getComputedStyle(e).getPropertyValue(S)+"").trim(),p+="",vh.lastIndex=0,vh.test(f)||(E=ya(f),w=ya(p),w?E!==w&&(f=Uh(e,S,f,w)+w):E&&(p+=E)),this.add(o,"setProperty",f,p,r,s,0,0,S),a.push(S),z.push(S,0,o[S]);else if(_!=="undefined"){if(l&&S in l?(f=typeof l[S]=="function"?l[S].call(i,r,e,s):l[S],Ls(f)&&~f.indexOf("random(")&&(f=Cx(f)),ya(f+"")||f==="auto"||(f+=lu.units[S]||ya(Mf(e,S))||""),(f+"").charAt(1)==="="&&(f=Mf(e,S))):f=Mf(e,S),y=parseFloat(f),C=_==="string"&&p.charAt(1)==="="&&p.substr(0,2),C&&(p=p.substr(2)),g=parseFloat(p),S in Mc&&(S==="autoAlpha"&&(y===1&&Mf(e,"visibility")==="hidden"&&g&&(y=0),z.push("visibility",0,o.visibility),dh(this,o,"visibility",y?"inherit":"hidden",g?"inherit":"hidden",!g)),S!=="scale"&&S!=="transform"&&(S=Mc[S],~S.indexOf(",")&&(S=S.split(",")[0]))),A=S in Yf,A){if(this.styles.save(S),k=p,_==="string"&&p.substring(0,6)==="var(--"){if(p=ru(e,p.substring(4,p.indexOf(")"))),p.substring(0,5)==="calc("){var F=e.style.perspective;e.style.perspective=p,p=ru(e,"perspective"),F?e.style.perspective=F:Fh(e,"perspective")}g=parseFloat(p)}if(R||(N=e._gsap,N.renderTransform&&!n.parseTransform||Ix(e,n.parseTransform),O=n.smoothOrigin!==!1&&N.smooth,R=this._pt=new Po(this._pt,o,Pr,0,1,N.renderTransform,N,0,-1),R.dep=1),S==="scale")this._pt=new Po(this._pt,N,"scaleY",N.scaleY,(C?n_(N.scaleY,C+g):g)-N.scaleY||0,eN),this._pt.u=0,a.push("scaleY",S),S+="X";else if(S==="transformOrigin"){z.push(Lo,0,o[Lo]),p=r1e(p),N.svg?iN(e,p,0,O,0,this):(w=parseFloat(p.split(" ")[2])||0,w!==N.zOrigin&&dh(this,N,"zOrigin",N.zOrigin,w),dh(this,o,S,VM(f),VM(p)));continue}else if(S==="svgOrigin"){iN(e,p,1,O,0,this);continue}else if(S in gG){u1e(this,N,S,y,C?n_(y,C+p):p);continue}else if(S==="smoothOrigin"){dh(this,N,"smooth",N.smooth,p);continue}else if(S==="force3D"){N[S]=p;continue}else if(S==="transform"){l1e(this,p,e);continue}}else S in o||(S=B_(S)||S);if(A||(g||g===0)&&(y||y===0)&&!Gxe.test(p)&&S in o)E=(f+"").substr((y+"").length),g||(g=0),w=ya(p)||(S in lu.units?lu.units[S]:E),E!==w&&(y=Uh(e,S,f,w)),this._pt=new Po(this._pt,A?N:o,S,y,(C?n_(y,C+g):g)-y,!A&&(w==="px"||S==="zIndex")&&n.autoRound!==!1?$xe:eN),this._pt.u=w||0,A&&k!==p?(this._pt.b=f,this._pt.e=k,this._pt.r=qxe):E!==w&&w!=="%"&&(this._pt.b=f,this._pt.r=jxe);else if(S in o)i1e.call(this,e,S,f,C?C+p:p);else if(S in e)this.add(e,S,f||e[S],C?C+p:p,r,s);else if(S!=="parseTransform"){G6(S,p);continue}A||(S in o?z.push(S,0,o[S]):typeof e[S]=="function"?z.push(S,2,e[S]()):z.push(S,1,f||e[S])),a.push(S)}}P&&oG(this)},render:function(e,n){if(n.tween._time||!ek())for(var i=n._pt;i;)i.r(e,i.d),i=i._next;else n.styles.revert()},get:Mf,aliases:Mc,getSetter:function(e,n,i){var r=Mc[n];return r&&r.indexOf(",")<0&&(n=r),n in Yf&&n!==Lo&&(e._gsap.x||Mf(e,"x"))?i&&o5===i?n==="scale"?Kxe:Zxe:(o5=i||{})&&(n==="scale"?Qxe:Jxe):e.style&&!z6(e.style[n])?Xxe:~n.indexOf("-")?Yxe:K6(e,n)},core:{_removeProperty:Fh,_getMatrix:nk}};Uo.utils.checkPrefix=B_;Uo.core.getStyleSaver=dG;(function(t,e,n,i){var r=ko(t+","+e+","+n,function(s){Yf[s]=1});ko(e,function(s){lu.units[s]="deg",gG[s]=1}),Mc[r[13]]=t+","+e,ko(i,function(s){var a=s.split(":");Mc[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ko("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){lu.units[t]="px"});Uo.registerPlugin(vG);var ma=Uo.registerPlugin(vG)||Uo;ma.core.Tween;function c1e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f1e(t,e,n){return e&&c1e(t.prototype,e),t}var Ys,Jw,tu,hh,ph,s_,bG,em,Ob,xG,Rf,Ml,SG,EG=function(){return Ys||typeof window<"u"&&(Ys=window.gsap)&&Ys.registerPlugin&&Ys},wG=1,Zg=[],si=[],Dc=[],kb=Date.now,rN=function(e,n){return n},d1e=function(){var e=Ob.core,n=e.bridge||{},i=e._scrollers,r=e._proxies;i.push.apply(i,si),r.push.apply(r,Dc),si=i,Dc=r,rN=function(a,o){return n[a](o)}},bh=function(e,n){return~Dc.indexOf(e)&&Dc[Dc.indexOf(e)+1][n]},Pb=function(e){return!!~xG.indexOf(e)},Ba=function(e,n,i,r,s){return e.addEventListener(n,i,{passive:r!==!1,capture:!!s})},Ua=function(e,n,i,r){return e.removeEventListener(n,i,!!r)},gw="scrollLeft",_w="scrollTop",sN=function(){return Rf&&Rf.isPressed||si.cache++},GM=function(e,n){var i=function r(s){if(s||s===0){wG&&(tu.history.scrollRestoration="manual");var a=Rf&&Rf.isPressed;s=r.v=Math.round(s)||(Rf&&Rf.iOS?1:0),e(s),r.cacheID=si.cache,a&&rN("ss",s)}else(n||si.cache!==r.cacheID||rN("ref"))&&(r.cacheID=si.cache,r.v=e());return r.v+r.offset};return i.offset=0,e&&i},Ya={s:gw,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:GM(function(t){return arguments.length?tu.scrollTo(t,xs.sc()):tu.pageXOffset||hh[gw]||ph[gw]||s_[gw]||0})},xs={s:_w,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ya,sc:GM(function(t){return arguments.length?tu.scrollTo(Ya.sc(),t):tu.pageYOffset||hh[_w]||ph[_w]||s_[_w]||0})},Mo=function(e,n){return(n&&n._ctx&&n._ctx.selector||Ys.utils.toArray)(e)[0]||(typeof e=="string"&&Ys.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},h1e=function(e,n){for(var i=n.length;i--;)if(n[i]===e||n[i].contains(e))return!0;return!1},Bh=function(e,n){var i=n.s,r=n.sc;Pb(e)&&(e=hh.scrollingElement||ph);var s=si.indexOf(e),a=r===xs.sc?1:2;!~s&&(s=si.push(e)-1),si[s+a]||Ba(e,"scroll",sN);var o=si[s+a],l=o||(si[s+a]=GM(bh(e,i),!0)||(Pb(e)?r:GM(function(f){return arguments.length?e[i]=f:e[i]})));return l.target=e,o||(l.smooth=Ys.getProperty(e,"scrollBehavior")==="smooth"),l},aN=function(e,n,i){var r=e,s=e,a=kb(),o=a,l=n||50,f=Math.max(500,l*3),p=function(x,S){var E=kb();S||E-a>l?(s=r,r=x,o=a,a=E):i?r+=x:r=s+(x-s)/(E-o)*(a-o)},g=function(){s=r=i?0:r,o=a=0},y=function(x){var S=o,E=s,w=kb();return(x||x===0)&&x!==r&&p(x),a===o||w-o>f?0:(r+(i?E:-E))/((i?w:a)-S)*1e3};return{update:p,reset:g,getVelocity:y}},eb=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},g5=function(e){var n=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(i)?n:i},TG=function(){Ob=Ys.core.globals().ScrollTrigger,Ob&&Ob.core&&d1e()},MG=function(e){return Ys=e||EG(),!Jw&&Ys&&typeof document<"u"&&document.body&&(tu=window,hh=document,ph=hh.documentElement,s_=hh.body,xG=[tu,hh,ph,s_],Ys.utils.clamp,SG=Ys.core.context||function(){},em="onpointerenter"in s_?"pointer":"mouse",bG=Jr.isTouch=tu.matchMedia&&tu.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in tu||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Ml=Jr.eventTypes=("ontouchstart"in ph?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in ph?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return wG=0},500),TG(),Jw=1),Jw};Ya.op=xs;si.cache=0;var Jr=(function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(i){Jw||MG(Ys)||console.warn("Please gsap.registerPlugin(Observer)"),Ob||TG();var r=i.tolerance,s=i.dragMinimum,a=i.type,o=i.target,l=i.lineHeight,f=i.debounce,p=i.preventDefault,g=i.onStop,y=i.onStopDelay,_=i.ignore,x=i.wheelSpeed,S=i.event,E=i.onDragStart,w=i.onDragEnd,C=i.onDrag,A=i.onPress,R=i.onRelease,N=i.onRight,O=i.onLeft,P=i.onUp,z=i.onDown,k=i.onChangeX,F=i.onChangeY,G=i.onChange,$=i.onToggleX,ee=i.onToggleY,ne=i.onHover,re=i.onHoverEnd,W=i.onMove,q=i.ignoreCheck,te=i.isNormalizer,se=i.onGestureStart,Z=i.onGestureEnd,j=i.onWheel,ue=i.onEnable,ge=i.onDisable,Se=i.onClick,Fe=i.scrollSpeed,ve=i.capture,fe=i.allowClicks,He=i.lockAxis,Xe=i.onLockAxis;this.target=o=Mo(o)||ph,this.vars=i,_&&(_=Ys.utils.toArray(_)),r=r||1e-9,s=s||0,x=x||1,Fe=Fe||1,a=a||"wheel,touch,pointer",f=f!==!1,l||(l=parseFloat(tu.getComputedStyle(s_).lineHeight)||22);var Ye,bt,Ct,at,Ae,Ve,Ue,de=this,ie=0,It=0,$e=i.passive||!p&&i.passive!==!1,dt=Bh(o,Ya),Be=Bh(o,xs),Q=dt(),H=Be(),pe=~a.indexOf("touch")&&!~a.indexOf("pointer")&&Ml[0]==="pointerdown",we=Pb(o),Re=o.ownerDocument||hh,Ie=[0,0,0],St=[0,0,0],lt=0,kt=function(){return lt=kb()},Nt=function(ht,Qe){return(de.event=ht)&&_&&h1e(ht.target,_)||Qe&&pe&&ht.pointerType!=="touch"||q&&q(ht,Qe)},Je=function(){de._vx.reset(),de._vy.reset(),bt.pause(),g&&g(de)},tt=function(){var ht=de.deltaX=g5(Ie),Qe=de.deltaY=g5(St),Ne=Math.abs(ht)>=r,st=Math.abs(Qe)>=r;G&&(Ne||st)&&G(de,ht,Qe,Ie,St),Ne&&(N&&de.deltaX>0&&N(de),O&&de.deltaX<0&&O(de),k&&k(de),$&&de.deltaX<0!=ie<0&&$(de),ie=de.deltaX,Ie[0]=Ie[1]=Ie[2]=0),st&&(z&&de.deltaY>0&&z(de),P&&de.deltaY<0&&P(de),F&&F(de),ee&&de.deltaY<0!=It<0&&ee(de),It=de.deltaY,St[0]=St[1]=St[2]=0),(at||Ct)&&(W&&W(de),Ct&&(E&&Ct===1&&E(de),C&&C(de),Ct=0),at=!1),Ve&&!(Ve=!1)&&Xe&&Xe(de),Ae&&(j(de),Ae=!1),Ye=0},xt=function(ht,Qe,Ne){Ie[Ne]+=ht,St[Ne]+=Qe,de._vx.update(ht),de._vy.update(Qe),f?Ye||(Ye=requestAnimationFrame(tt)):tt()},_t=function(ht,Qe){He&&!Ue&&(de.axis=Ue=Math.abs(ht)>Math.abs(Qe)?"x":"y",Ve=!0),Ue!=="y"&&(Ie[2]+=ht,de._vx.update(ht,!0)),Ue!=="x"&&(St[2]+=Qe,de._vy.update(Qe,!0)),f?Ye||(Ye=requestAnimationFrame(tt)):tt()},pt=function(ht){if(!Nt(ht,1)){ht=eb(ht,p);var Qe=ht.clientX,Ne=ht.clientY,st=Qe-de.x,Et=Ne-de.y,At=de.isDragging;de.x=Qe,de.y=Ne,(At||(st||Et)&&(Math.abs(de.startX-Qe)>=s||Math.abs(de.startY-Ne)>=s))&&(Ct||(Ct=At?2:1),At||(de.isDragging=!0),_t(st,Et))}},Zt=de.onPress=function(ot){Nt(ot,1)||ot&&ot.button||(de.axis=Ue=null,bt.pause(),de.isPressed=!0,ot=eb(ot),ie=It=0,de.startX=de.x=ot.clientX,de.startY=de.y=ot.clientY,de._vx.reset(),de._vy.reset(),Ba(te?o:Re,Ml[1],pt,$e,!0),de.deltaX=de.deltaY=0,A&&A(de))},ce=de.onRelease=function(ot){if(!Nt(ot,1)){Ua(te?o:Re,Ml[1],pt,!0);var ht=!isNaN(de.y-de.startY),Qe=de.isDragging,Ne=Qe&&(Math.abs(de.x-de.startX)>3||Math.abs(de.y-de.startY)>3),st=eb(ot);!Ne&&ht&&(de._vx.reset(),de._vy.reset(),p&&fe&&Ys.delayedCall(.08,function(){if(kb()-lt>300&&!ot.defaultPrevented){if(ot.target.click)ot.target.click();else if(Re.createEvent){var Et=Re.createEvent("MouseEvents");Et.initMouseEvent("click",!0,!0,tu,1,st.screenX,st.screenY,st.clientX,st.clientY,!1,!1,!1,!1,0,null),ot.target.dispatchEvent(Et)}}})),de.isDragging=de.isGesturing=de.isPressed=!1,g&&Qe&&!te&&bt.restart(!0),Ct&&tt(),w&&Qe&&w(de),R&&R(de,Ne)}},yt=function(ht){return ht.touches&&ht.touches.length>1&&(de.isGesturing=!0)&&se(ht,de.isDragging)},rt=function(){return(de.isGesturing=!1)||Z(de)},gt=function(ht){if(!Nt(ht)){var Qe=dt(),Ne=Be();xt((Qe-Q)*Fe,(Ne-H)*Fe,1),Q=Qe,H=Ne,g&&bt.restart(!0)}},je=function(ht){if(!Nt(ht)){ht=eb(ht,p),j&&(Ae=!0);var Qe=(ht.deltaMode===1?l:ht.deltaMode===2?tu.innerHeight:1)*x;xt(ht.deltaX*Qe,ht.deltaY*Qe,0),g&&!te&&bt.restart(!0)}},J=function(ht){if(!Nt(ht)){var Qe=ht.clientX,Ne=ht.clientY,st=Qe-de.x,Et=Ne-de.y;de.x=Qe,de.y=Ne,at=!0,g&&bt.restart(!0),(st||Et)&&_t(st,Et)}},le=function(ht){de.event=ht,ne(de)},xe=function(ht){de.event=ht,re(de)},et=function(ht){return Nt(ht)||eb(ht,p)&&Se(de)};bt=de._dc=Ys.delayedCall(y||.25,Je).pause(),de.deltaX=de.deltaY=0,de._vx=aN(0,50,!0),de._vy=aN(0,50,!0),de.scrollX=dt,de.scrollY=Be,de.isDragging=de.isGesturing=de.isPressed=!1,SG(this),de.enable=function(ot){return de.isEnabled||(Ba(we?Re:o,"scroll",sN),a.indexOf("scroll")>=0&&Ba(we?Re:o,"scroll",gt,$e,ve),a.indexOf("wheel")>=0&&Ba(o,"wheel",je,$e,ve),(a.indexOf("touch")>=0&&bG||a.indexOf("pointer")>=0)&&(Ba(o,Ml[0],Zt,$e,ve),Ba(Re,Ml[2],ce),Ba(Re,Ml[3],ce),fe&&Ba(o,"click",kt,!0,!0),Se&&Ba(o,"click",et),se&&Ba(Re,"gesturestart",yt),Z&&Ba(Re,"gestureend",rt),ne&&Ba(o,em+"enter",le),re&&Ba(o,em+"leave",xe),W&&Ba(o,em+"move",J)),de.isEnabled=!0,de.isDragging=de.isGesturing=de.isPressed=at=Ct=!1,de._vx.reset(),de._vy.reset(),Q=dt(),H=Be(),ot&&ot.type&&Zt(ot),ue&&ue(de)),de},de.disable=function(){de.isEnabled&&(Zg.filter(function(ot){return ot!==de&&Pb(ot.target)}).length||Ua(we?Re:o,"scroll",sN),de.isPressed&&(de._vx.reset(),de._vy.reset(),Ua(te?o:Re,Ml[1],pt,!0)),Ua(we?Re:o,"scroll",gt,ve),Ua(o,"wheel",je,ve),Ua(o,Ml[0],Zt,ve),Ua(Re,Ml[2],ce),Ua(Re,Ml[3],ce),Ua(o,"click",kt,!0),Ua(o,"click",et),Ua(Re,"gesturestart",yt),Ua(Re,"gestureend",rt),Ua(o,em+"enter",le),Ua(o,em+"leave",xe),Ua(o,em+"move",J),de.isEnabled=de.isPressed=de.isDragging=!1,ge&&ge(de))},de.kill=de.revert=function(){de.disable();var ot=Zg.indexOf(de);ot>=0&&Zg.splice(ot,1),Rf===de&&(Rf=0)},Zg.push(de),te&&Pb(o)&&(Rf=de),de.enable(S)},f1e(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t})();Jr.version="3.14.2";Jr.create=function(t){return new Jr(t)};Jr.register=MG;Jr.getAll=function(){return Zg.slice()};Jr.getById=function(t){return Zg.filter(function(e){return e.vars.id===t})[0]};EG()&&Ys.registerPlugin(Jr);var Xt,Ug,ri,nr,Jo,Fi,ik,WM,Nx,Lb,ob,yw,pa,mA,oN,Ga,_5,y5,Bg,CG,tR,AG,Va,uN,DG,RG,Yd,lN,rk,a_,sk,Fb,cN,nR,vw=1,ga=Date.now,iR=ga(),Yu=0,ub=0,v5=function(e,n,i){var r=Yo(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return i["_"+n+"Clamp"]=r,r?e.substr(6,e.length-7):e},b5=function(e,n){return n&&(!Yo(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},p1e=function t(){return ub&&requestAnimationFrame(t)},x5=function(){return mA=1},S5=function(){return mA=0},_c=function(e){return e},lb=function(e){return Math.round(e*1e5)/1e5||0},IG=function(){return typeof window<"u"},NG=function(){return Xt||IG()&&(Xt=window.gsap)&&Xt.registerPlugin&&Xt},Fm=function(e){return!!~ik.indexOf(e)},OG=function(e){return(e==="Height"?sk:ri["inner"+e])||Jo["client"+e]||Fi["client"+e]},kG=function(e){return bh(e,"getBoundingClientRect")||(Fm(e)?function(){return rT.width=ri.innerWidth,rT.height=sk,rT}:function(){return Df(e)})},m1e=function(e,n,i){var r=i.d,s=i.d2,a=i.a;return(a=bh(e,"getBoundingClientRect"))?function(){return a()[r]}:function(){return(n?OG(s):e["client"+s])||0}},g1e=function(e,n){return!n||~Dc.indexOf(e)?kG(e):function(){return rT}},Cc=function(e,n){var i=n.s,r=n.d2,s=n.d,a=n.a;return Math.max(0,(i="scroll"+r)&&(a=bh(e,i))?a()-kG(e)()[s]:Fm(e)?(Jo[i]||Fi[i])-OG(r):e[i]-e["offset"+r])},bw=function(e,n){for(var i=0;i<Bg.length;i+=3)(!n||~n.indexOf(Bg[i+1]))&&e(Bg[i],Bg[i+1],Bg[i+2])},Yo=function(e){return typeof e=="string"},va=function(e){return typeof e=="function"},cb=function(e){return typeof e=="number"},tm=function(e){return typeof e=="object"},tb=function(e,n,i){return e&&e.progress(n?0:1)&&i&&e.pause()},rR=function(e,n){if(e.enabled){var i=e._ctx?e._ctx.add(function(){return n(e)}):n(e);i&&i.totalTime&&(e.callbackAnimation=i)}},Rg=Math.abs,PG="left",LG="top",ak="right",ok="bottom",wm="width",Tm="height",Ub="Right",Bb="Left",zb="Top",Hb="Bottom",os="padding",Gu="margin",z_="Width",uk="Height",vs="px",Wu=function(e){return ri.getComputedStyle(e)},_1e=function(e){var n=Wu(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},E5=function(e,n){for(var i in n)i in e||(e[i]=n[i]);return e},Df=function(e,n){var i=n&&Wu(e)[oN]!=="matrix(1, 0, 0, 1, 0, 0)"&&Xt.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return i&&i.progress(0).kill(),r},jM=function(e,n){var i=n.d2;return e["offset"+i]||e["client"+i]||0},FG=function(e){var n=[],i=e.labels,r=e.duration(),s;for(s in i)n.push(i[s]/r);return n},y1e=function(e){return function(n){return Xt.utils.snap(FG(e),n)}},lk=function(e){var n=Xt.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(r,s){return r-s});return i?function(r,s,a){a===void 0&&(a=.001);var o;if(!s)return n(r);if(s>0){for(r-=a,o=0;o<i.length;o++)if(i[o]>=r)return i[o];return i[o-1]}else for(o=i.length,r+=a;o--;)if(i[o]<=r)return i[o];return i[0]}:function(r,s,a){a===void 0&&(a=.001);var o=n(r);return!s||Math.abs(o-r)<a||o-r<0==s<0?o:n(s<0?r-e:r+e)}},v1e=function(e){return function(n,i){return lk(FG(e))(n,i.direction)}},xw=function(e,n,i,r){return i.split(",").forEach(function(s){return e(n,s,r)})},Ns=function(e,n,i,r,s){return e.addEventListener(n,i,{passive:!r,capture:!!s})},Is=function(e,n,i,r){return e.removeEventListener(n,i,!!r)},Sw=function(e,n,i){i=i&&i.wheelHandler,i&&(e(n,"wheel",i),e(n,"touchmove",i))},w5={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ew={toggleActions:"play",anticipatePin:0},qM={top:0,left:0,center:.5,bottom:1,right:1},eT=function(e,n){if(Yo(e)){var i=e.indexOf("="),r=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(r*=n/100),e=e.substr(0,i-1)),e=r+(e in qM?qM[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},ww=function(e,n,i,r,s,a,o,l){var f=s.startColor,p=s.endColor,g=s.fontSize,y=s.indent,_=s.fontWeight,x=nr.createElement("div"),S=Fm(i)||bh(i,"pinType")==="fixed",E=e.indexOf("scroller")!==-1,w=S?Fi:i,C=e.indexOf("start")!==-1,A=C?f:p,R="border-color:"+A+";font-size:"+g+";color:"+A+";font-weight:"+_+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return R+="position:"+((E||l)&&S?"fixed;":"absolute;"),(E||l||!S)&&(R+=(r===xs?ak:ok)+":"+(a+parseFloat(y))+"px;"),o&&(R+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),x._isStart=C,x.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),x.style.cssText=R,x.innerText=n||n===0?e+"-"+n:e,w.children[0]?w.insertBefore(x,w.children[0]):w.appendChild(x),x._offset=x["offset"+r.op.d2],tT(x,0,r,C),x},tT=function(e,n,i,r){var s={display:"block"},a=i[r?"os2":"p2"],o=i[r?"p2":"os2"];e._isFlipped=r,s[i.a+"Percent"]=r?-100:0,s[i.a]=r?"1px":0,s["border"+a+z_]=1,s["border"+o+z_]=0,s[i.p]=n+"px",Xt.set(e,s)},Zn=[],fN={},Ox,T5=function(){return ga()-Yu>34&&(Ox||(Ox=requestAnimationFrame(Lf)))},Ig=function(){(!Va||!Va.isPressed||Va.startX>Fi.clientWidth)&&(si.cache++,Va?Ox||(Ox=requestAnimationFrame(Lf)):Lf(),Yu||Bm("scrollStart"),Yu=ga())},sR=function(){RG=ri.innerWidth,DG=ri.innerHeight},fb=function(e){si.cache++,(e===!0||!pa&&!AG&&!nr.fullscreenElement&&!nr.webkitFullscreenElement&&(!uN||RG!==ri.innerWidth||Math.abs(ri.innerHeight-DG)>ri.innerHeight*.25))&&WM.restart(!0)},Um={},b1e=[],UG=function t(){return Is(Kn,"scrollEnd",t)||dm(!0)},Bm=function(e){return Um[e]&&Um[e].map(function(n){return n()})||b1e},Xo=[],BG=function(e){for(var n=0;n<Xo.length;n+=5)(!e||Xo[n+4]&&Xo[n+4].query===e)&&(Xo[n].style.cssText=Xo[n+1],Xo[n].getBBox&&Xo[n].setAttribute("transform",Xo[n+2]||""),Xo[n+3].uncache=1)},zG=function(){return si.forEach(function(e){return va(e)&&++e.cacheID&&(e.rec=e())})},ck=function(e,n){var i;for(Ga=0;Ga<Zn.length;Ga++)i=Zn[Ga],i&&(!n||i._ctx===n)&&(e?i.kill(1):i.revert(!0,!0));Fb=!0,n&&BG(n),n||Bm("revert")},HG=function(e,n){si.cache++,(n||!Wa)&&si.forEach(function(i){return va(i)&&i.cacheID++&&(i.rec=0)}),Yo(e)&&(ri.history.scrollRestoration=rk=e)},Wa,Mm=0,M5,x1e=function(){if(M5!==Mm){var e=M5=Mm;requestAnimationFrame(function(){return e===Mm&&dm(!0)})}},VG=function(){Fi.appendChild(a_),sk=!Va&&a_.offsetHeight||ri.innerHeight,Fi.removeChild(a_)},C5=function(e){return Nx(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},dm=function(e,n){if(Jo=nr.documentElement,Fi=nr.body,ik=[ri,nr,Jo,Fi],Yu&&!e&&!Fb){Ns(Kn,"scrollEnd",UG);return}VG(),Wa=Kn.isRefreshing=!0,Fb||zG();var i=Bm("refreshInit");CG&&Kn.sort(),n||ck(),si.forEach(function(r){va(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),Zn.slice(0).forEach(function(r){return r.refresh()}),Fb=!1,Zn.forEach(function(r){if(r._subPinOffset&&r.pin){var s=r.vars.horizontal?"offsetWidth":"offsetHeight",a=r.pin[s];r.revert(!0,1),r.adjustPinSpacing(r.pin[s]-a),r.refresh()}}),cN=1,C5(!0),Zn.forEach(function(r){var s=Cc(r.scroller,r._dir),a=r.vars.end==="max"||r._endClamp&&r.end>s,o=r._startClamp&&r.start>=s;(a||o)&&r.setPositions(o?s-1:r.start,a?Math.max(o?s:r.start+1,s):r.end,!0)}),C5(!1),cN=0,i.forEach(function(r){return r&&r.render&&r.render(-1)}),si.forEach(function(r){va(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),HG(rk,1),WM.pause(),Mm++,Wa=2,Lf(2),Zn.forEach(function(r){return va(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Wa=Kn.isRefreshing=!1,Bm("refresh")},dN=0,nT=1,Vb,Lf=function(e){if(e===2||!Wa&&!Fb){Kn.isUpdating=!0,Vb&&Vb.update(0);var n=Zn.length,i=ga(),r=i-iR>=50,s=n&&Zn[0].scroll();if(nT=dN>s?-1:1,Wa||(dN=s),r&&(Yu&&!mA&&i-Yu>200&&(Yu=0,Bm("scrollEnd")),ob=iR,iR=i),nT<0){for(Ga=n;Ga-- >0;)Zn[Ga]&&Zn[Ga].update(0,r);nT=1}else for(Ga=0;Ga<n;Ga++)Zn[Ga]&&Zn[Ga].update(0,r);Kn.isUpdating=!1}Ox=0},hN=[PG,LG,ok,ak,Gu+Hb,Gu+Ub,Gu+zb,Gu+Bb,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],iT=hN.concat([wm,Tm,"boxSizing","max"+z_,"max"+uk,"position",Gu,os,os+zb,os+Ub,os+Hb,os+Bb]),S1e=function(e,n,i){o_(i);var r=e._gsap;if(r.spacerIsNative)o_(r.spacerState);else if(e._gsap.swappedIn){var s=n.parentNode;s&&(s.insertBefore(e,n),s.removeChild(n))}e._gsap.swappedIn=!1},aR=function(e,n,i,r){if(!e._gsap.swappedIn){for(var s=hN.length,a=n.style,o=e.style,l;s--;)l=hN[s],a[l]=i[l];a.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(a.display="inline-block"),o[ok]=o[ak]="auto",a.flexBasis=i.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[wm]=jM(e,Ya)+vs,a[Tm]=jM(e,xs)+vs,a[os]=o[Gu]=o[LG]=o[PG]="0",o_(r),o[wm]=o["max"+z_]=i[wm],o[Tm]=o["max"+uk]=i[Tm],o[os]=i[os],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},E1e=/([A-Z])/g,o_=function(e){if(e){var n=e.t.style,i=e.length,r=0,s,a;for((e.t._gsap||Xt.core.getCache(e.t)).uncache=1;r<i;r+=2)a=e[r+1],s=e[r],a?n[s]=a:n[s]&&n.removeProperty(s.replace(E1e,"-$1").toLowerCase())}},Tw=function(e){for(var n=iT.length,i=e.style,r=[],s=0;s<n;s++)r.push(iT[s],i[iT[s]]);return r.t=e,r},w1e=function(e,n,i){for(var r=[],s=e.length,a=i?8:0,o;a<s;a+=2)o=e[a],r.push(o,o in n?n[o]:e[a+1]);return r.t=e.t,r},rT={left:0,top:0},A5=function(e,n,i,r,s,a,o,l,f,p,g,y,_,x){va(e)&&(e=e(l)),Yo(e)&&e.substr(0,3)==="max"&&(e=y+(e.charAt(4)==="="?eT("0"+e.substr(3),i):0));var S=_?_.time():0,E,w,C;if(_&&_.seek(0),isNaN(e)||(e=+e),cb(e))_&&(e=Xt.utils.mapRange(_.scrollTrigger.start,_.scrollTrigger.end,0,y,e)),o&&tT(o,i,r,!0);else{va(n)&&(n=n(l));var A=(e||"0").split(" "),R,N,O,P;C=Mo(n,l)||Fi,R=Df(C)||{},(!R||!R.left&&!R.top)&&Wu(C).display==="none"&&(P=C.style.display,C.style.display="block",R=Df(C),P?C.style.display=P:C.style.removeProperty("display")),N=eT(A[0],R[r.d]),O=eT(A[1]||"0",i),e=R[r.p]-f[r.p]-p+N+s-O,o&&tT(o,O,r,i-O<20||o._isStart&&O>20),i-=i-O}if(x&&(l[x]=e||-.001,e<0&&(e=0)),a){var z=e+i,k=a._isStart;E="scroll"+r.d2,tT(a,z,r,k&&z>20||!k&&(g?Math.max(Fi[E],Jo[E]):a.parentNode[E])<=z+1),g&&(f=Df(o),g&&(a.style[r.op.p]=f[r.op.p]-r.op.m-a._offset+vs))}return _&&C&&(E=Df(C),_.seek(y),w=Df(C),_._caScrollDist=E[r.p]-w[r.p],e=e/_._caScrollDist*y),_&&_.seek(S),_?e:Math.round(e)},T1e=/(webkit|moz|length|cssText|inset)/i,D5=function(e,n,i,r){if(e.parentNode!==n){var s=e.style,a,o;if(n===Fi){e._stOrig=s.cssText,o=Wu(e);for(a in o)!+a&&!T1e.test(a)&&o[a]&&typeof s[a]=="string"&&a!=="0"&&(s[a]=o[a]);s.top=i,s.left=r}else s.cssText=e._stOrig;Xt.core.getCache(e).uncache=1,n.appendChild(e)}},GG=function(e,n,i){var r=n,s=r;return function(a){var o=Math.round(e());return o!==r&&o!==s&&Math.abs(o-r)>3&&Math.abs(o-s)>3&&(a=o,i&&i()),s=r,r=Math.round(a),r}},Mw=function(e,n,i){var r={};r[n.p]="+="+i,Xt.set(e,r)},R5=function(e,n){var i=Bh(e,n),r="_scroll"+n.p2,s=function a(o,l,f,p,g){var y=a.tween,_=l.onComplete,x={};f=f||i();var S=GG(i,f,function(){y.kill(),a.tween=0});return g=p&&g||0,p=p||o-f,y&&y.kill(),l[r]=o,l.inherit=!1,l.modifiers=x,x[r]=function(){return S(f+p*y.ratio+g*y.ratio*y.ratio)},l.onUpdate=function(){si.cache++,a.tween&&Lf()},l.onComplete=function(){a.tween=0,_&&_.call(y)},y=a.tween=Xt.to(e,l),y};return e[r]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},Ns(e,"wheel",i.wheelHandler),Kn.isTouch&&Ns(e,"touchmove",i.wheelHandler),s},Kn=(function(){function t(n,i){Ug||t.register(Xt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),lN(this),this.init(n,i)}var e=t.prototype;return e.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!ub){this.update=this.refresh=this.kill=_c;return}i=E5(Yo(i)||cb(i)||i.nodeType?{trigger:i}:i,Ew);var s=i,a=s.onUpdate,o=s.toggleClass,l=s.id,f=s.onToggle,p=s.onRefresh,g=s.scrub,y=s.trigger,_=s.pin,x=s.pinSpacing,S=s.invalidateOnRefresh,E=s.anticipatePin,w=s.onScrubComplete,C=s.onSnapComplete,A=s.once,R=s.snap,N=s.pinReparent,O=s.pinSpacer,P=s.containerAnimation,z=s.fastScrollEnd,k=s.preventOverlaps,F=i.horizontal||i.containerAnimation&&i.horizontal!==!1?Ya:xs,G=!g&&g!==0,$=Mo(i.scroller||ri),ee=Xt.core.getCache($),ne=Fm($),re=("pinType"in i?i.pinType:bh($,"pinType")||ne&&"fixed")==="fixed",W=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],q=G&&i.toggleActions.split(" "),te="markers"in i?i.markers:Ew.markers,se=ne?0:parseFloat(Wu($)["border"+F.p2+z_])||0,Z=this,j=i.onRefreshInit&&function(){return i.onRefreshInit(Z)},ue=m1e($,ne,F),ge=g1e($,ne),Se=0,Fe=0,ve=0,fe=Bh($,F),He,Xe,Ye,bt,Ct,at,Ae,Ve,Ue,de,ie,It,$e,dt,Be,Q,H,pe,we,Re,Ie,St,lt,kt,Nt,Je,tt,xt,_t,pt,Zt,ce,yt,rt,gt,je,J,le,xe;if(Z._startClamp=Z._endClamp=!1,Z._dir=F,E*=45,Z.scroller=$,Z.scroll=P?P.time.bind(P):fe,bt=fe(),Z.vars=i,r=r||i.animation,"refreshPriority"in i&&(CG=1,i.refreshPriority===-9999&&(Vb=Z)),ee.tweenScroll=ee.tweenScroll||{top:R5($,xs),left:R5($,Ya)},Z.tweenTo=He=ee.tweenScroll[F.p],Z.scrubDuration=function(Ne){yt=cb(Ne)&&Ne,yt?ce?ce.duration(Ne):ce=Xt.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:yt,paused:!0,onComplete:function(){return w&&w(Z)}}):(ce&&ce.progress(1).kill(),ce=0)},r&&(r.vars.lazy=!1,r._initted&&!Z.isReverted||r.vars.immediateRender!==!1&&i.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),Z.animation=r.pause(),r.scrollTrigger=Z,Z.scrubDuration(g),pt=0,l||(l=r.vars.id)),R&&((!tm(R)||R.push)&&(R={snapTo:R}),"scrollBehavior"in Fi.style&&Xt.set(ne?[Fi,Jo]:$,{scrollBehavior:"auto"}),si.forEach(function(Ne){return va(Ne)&&Ne.target===(ne?nr.scrollingElement||Jo:$)&&(Ne.smooth=!1)}),Ye=va(R.snapTo)?R.snapTo:R.snapTo==="labels"?y1e(r):R.snapTo==="labelsDirectional"?v1e(r):R.directional!==!1?function(Ne,st){return lk(R.snapTo)(Ne,ga()-Fe<500?0:st.direction)}:Xt.utils.snap(R.snapTo),rt=R.duration||{min:.1,max:2},rt=tm(rt)?Lb(rt.min,rt.max):Lb(rt,rt),gt=Xt.delayedCall(R.delay||yt/2||.1,function(){var Ne=fe(),st=ga()-Fe<500,Et=He.tween;if((st||Math.abs(Z.getVelocity())<10)&&!Et&&!mA&&Se!==Ne){var At=(Ne-at)/dt,Mn=r&&!G?r.totalProgress():At,un=st?0:(Mn-Zt)/(ga()-ob)*1e3||0,yn=Xt.utils.clamp(-At,1-At,Rg(un/2)*un/.185),Qn=At+(R.inertia===!1?0:yn),tn,Jt,pn=R,Ei=pn.onStart,En=pn.onInterrupt,wi=pn.onComplete;if(tn=Ye(Qn,Z),cb(tn)||(tn=Qn),Jt=Math.max(0,Math.round(at+tn*dt)),Ne<=Ae&&Ne>=at&&Jt!==Ne){if(Et&&!Et._initted&&Et.data<=Rg(Jt-Ne))return;R.inertia===!1&&(yn=tn-At),He(Jt,{duration:rt(Rg(Math.max(Rg(Qn-Mn),Rg(tn-Mn))*.185/un/.05||0)),ease:R.ease||"power3",data:Rg(Jt-Ne),onInterrupt:function(){return gt.restart(!0)&&En&&En(Z)},onComplete:function(){Z.update(),Se=fe(),r&&!G&&(ce?ce.resetTo("totalProgress",tn,r._tTime/r._tDur):r.progress(tn)),pt=Zt=r&&!G?r.totalProgress():Z.progress,C&&C(Z),wi&&wi(Z)}},Ne,yn*dt,Jt-Ne-yn*dt),Ei&&Ei(Z,He.tween)}}else Z.isActive&&Se!==Ne&&gt.restart(!0)}).pause()),l&&(fN[l]=Z),y=Z.trigger=Mo(y||_!==!0&&_),xe=y&&y._gsap&&y._gsap.stRevert,xe&&(xe=xe(Z)),_=_===!0?y:Mo(_),Yo(o)&&(o={targets:y,className:o}),_&&(x===!1||x===Gu||(x=!x&&_.parentNode&&_.parentNode.style&&Wu(_.parentNode).display==="flex"?!1:os),Z.pin=_,Xe=Xt.core.getCache(_),Xe.spacer?Be=Xe.pinState:(O&&(O=Mo(O),O&&!O.nodeType&&(O=O.current||O.nativeElement),Xe.spacerIsNative=!!O,O&&(Xe.spacerState=Tw(O))),Xe.spacer=pe=O||nr.createElement("div"),pe.classList.add("pin-spacer"),l&&pe.classList.add("pin-spacer-"+l),Xe.pinState=Be=Tw(_)),i.force3D!==!1&&Xt.set(_,{force3D:!0}),Z.spacer=pe=Xe.spacer,_t=Wu(_),kt=_t[x+F.os2],Re=Xt.getProperty(_),Ie=Xt.quickSetter(_,F.a,vs),aR(_,pe,_t),H=Tw(_)),te){It=tm(te)?E5(te,w5):w5,de=ww("scroller-start",l,$,F,It,0),ie=ww("scroller-end",l,$,F,It,0,de),we=de["offset"+F.op.d2];var et=Mo(bh($,"content")||$);Ve=this.markerStart=ww("start",l,et,F,It,we,0,P),Ue=this.markerEnd=ww("end",l,et,F,It,we,0,P),P&&(le=Xt.quickSetter([Ve,Ue],F.a,vs)),!re&&!(Dc.length&&bh($,"fixedMarkers")===!0)&&(_1e(ne?Fi:$),Xt.set([de,ie],{force3D:!0}),Je=Xt.quickSetter(de,F.a,vs),xt=Xt.quickSetter(ie,F.a,vs))}if(P){var ot=P.vars.onUpdate,ht=P.vars.onUpdateParams;P.eventCallback("onUpdate",function(){Z.update(0,0,1),ot&&ot.apply(P,ht||[])})}if(Z.previous=function(){return Zn[Zn.indexOf(Z)-1]},Z.next=function(){return Zn[Zn.indexOf(Z)+1]},Z.revert=function(Ne,st){if(!st)return Z.kill(!0);var Et=Ne!==!1||!Z.enabled,At=pa;Et!==Z.isReverted&&(Et&&(je=Math.max(fe(),Z.scroll.rec||0),ve=Z.progress,J=r&&r.progress()),Ve&&[Ve,Ue,de,ie].forEach(function(Mn){return Mn.style.display=Et?"none":"block"}),Et&&(pa=Z,Z.update(Et)),_&&(!N||!Z.isActive)&&(Et?S1e(_,pe,Be):aR(_,pe,Wu(_),Nt)),Et||Z.update(Et),pa=At,Z.isReverted=Et)},Z.refresh=function(Ne,st,Et,At){if(!((pa||!Z.enabled)&&!st)){if(_&&Ne&&Yu){Ns(t,"scrollEnd",UG);return}!Wa&&j&&j(Z),pa=Z,He.tween&&!Et&&(He.tween.kill(),He.tween=0),ce&&ce.pause(),S&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren?r.getChildren(!0,!0,!1).forEach(function(vt){return vt.vars.immediateRender&&vt.render(0,!0,!0)}):r.vars.immediateRender&&r.render(0,!0,!0)),Z.isReverted||Z.revert(!0,!0),Z._subPinOffset=!1;var Mn=ue(),un=ge(),yn=P?P.duration():Cc($,F),Qn=dt<=.01||!dt,tn=0,Jt=At||0,pn=tm(Et)?Et.end:i.end,Ei=i.endTrigger||y,En=tm(Et)?Et.start:i.start||(i.start===0||!y?0:_?"0 0":"0 100%"),wi=Z.pinnedContainer=i.pinnedContainer&&Mo(i.pinnedContainer,Z),_r=y&&Math.max(0,Zn.indexOf(Z))||0,Tt=_r,he,Ze,Ot,In,mn,X,ye,De,Ce,ae,Te,nt,qe;for(te&&tm(Et)&&(nt=Xt.getProperty(de,F.p),qe=Xt.getProperty(ie,F.p));Tt-- >0;)X=Zn[Tt],X.end||X.refresh(0,1)||(pa=Z),ye=X.pin,ye&&(ye===y||ye===_||ye===wi)&&!X.isReverted&&(ae||(ae=[]),ae.unshift(X),X.revert(!0,!0)),X!==Zn[Tt]&&(_r--,Tt--);for(va(En)&&(En=En(Z)),En=v5(En,"start",Z),at=A5(En,y,Mn,F,fe(),Ve,de,Z,un,se,re,yn,P,Z._startClamp&&"_startClamp")||(_?-.001:0),va(pn)&&(pn=pn(Z)),Yo(pn)&&!pn.indexOf("+=")&&(~pn.indexOf(" ")?pn=(Yo(En)?En.split(" ")[0]:"")+pn:(tn=eT(pn.substr(2),Mn),pn=Yo(En)?En:(P?Xt.utils.mapRange(0,P.duration(),P.scrollTrigger.start,P.scrollTrigger.end,at):at)+tn,Ei=y)),pn=v5(pn,"end",Z),Ae=Math.max(at,A5(pn||(Ei?"100% 0":yn),Ei,Mn,F,fe()+tn,Ue,ie,Z,un,se,re,yn,P,Z._endClamp&&"_endClamp"))||-.001,tn=0,Tt=_r;Tt--;)X=Zn[Tt]||{},ye=X.pin,ye&&X.start-X._pinPush<=at&&!P&&X.end>0&&(he=X.end-(Z._startClamp?Math.max(0,X.start):X.start),(ye===y&&X.start-X._pinPush<at||ye===wi)&&isNaN(En)&&(tn+=he*(1-X.progress)),ye===_&&(Jt+=he));if(at+=tn,Ae+=tn,Z._startClamp&&(Z._startClamp+=tn),Z._endClamp&&!Wa&&(Z._endClamp=Ae||-.001,Ae=Math.min(Ae,Cc($,F))),dt=Ae-at||(at-=.01)&&.001,Qn&&(ve=Xt.utils.clamp(0,1,Xt.utils.normalize(at,Ae,je))),Z._pinPush=Jt,Ve&&tn&&(he={},he[F.a]="+="+tn,wi&&(he[F.p]="-="+fe()),Xt.set([Ve,Ue],he)),_&&!(cN&&Z.end>=Cc($,F)))he=Wu(_),In=F===xs,Ot=fe(),St=parseFloat(Re(F.a))+Jt,!yn&&Ae>1&&(Te=(ne?nr.scrollingElement||Jo:$).style,Te={style:Te,value:Te["overflow"+F.a.toUpperCase()]},ne&&Wu(Fi)["overflow"+F.a.toUpperCase()]!=="scroll"&&(Te.style["overflow"+F.a.toUpperCase()]="scroll")),aR(_,pe,he),H=Tw(_),Ze=Df(_,!0),De=re&&Bh($,In?Ya:xs)(),x?(Nt=[x+F.os2,dt+Jt+vs],Nt.t=pe,Tt=x===os?jM(_,F)+dt+Jt:0,Tt&&(Nt.push(F.d,Tt+vs),pe.style.flexBasis!=="auto"&&(pe.style.flexBasis=Tt+vs)),o_(Nt),wi&&Zn.forEach(function(vt){vt.pin===wi&&vt.vars.pinSpacing!==!1&&(vt._subPinOffset=!0)}),re&&fe(je)):(Tt=jM(_,F),Tt&&pe.style.flexBasis!=="auto"&&(pe.style.flexBasis=Tt+vs)),re&&(mn={top:Ze.top+(In?Ot-at:De)+vs,left:Ze.left+(In?De:Ot-at)+vs,boxSizing:"border-box",position:"fixed"},mn[wm]=mn["max"+z_]=Math.ceil(Ze.width)+vs,mn[Tm]=mn["max"+uk]=Math.ceil(Ze.height)+vs,mn[Gu]=mn[Gu+zb]=mn[Gu+Ub]=mn[Gu+Hb]=mn[Gu+Bb]="0",mn[os]=he[os],mn[os+zb]=he[os+zb],mn[os+Ub]=he[os+Ub],mn[os+Hb]=he[os+Hb],mn[os+Bb]=he[os+Bb],Q=w1e(Be,mn,N),Wa&&fe(0)),r?(Ce=r._initted,tR(1),r.render(r.duration(),!0,!0),lt=Re(F.a)-St+dt+Jt,tt=Math.abs(dt-lt)>1,re&&tt&&Q.splice(Q.length-2,2),r.render(0,!0,!0),Ce||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),tR(0)):lt=dt,Te&&(Te.value?Te.style["overflow"+F.a.toUpperCase()]=Te.value:Te.style.removeProperty("overflow-"+F.a));else if(y&&fe()&&!P)for(Ze=y.parentNode;Ze&&Ze!==Fi;)Ze._pinOffset&&(at-=Ze._pinOffset,Ae-=Ze._pinOffset),Ze=Ze.parentNode;ae&&ae.forEach(function(vt){return vt.revert(!1,!0)}),Z.start=at,Z.end=Ae,bt=Ct=Wa?je:fe(),!P&&!Wa&&(bt<je&&fe(je),Z.scroll.rec=0),Z.revert(!1,!0),Fe=ga(),gt&&(Se=-1,gt.restart(!0)),pa=0,r&&G&&(r._initted||J)&&r.progress()!==J&&r.progress(J||0,!0).render(r.time(),!0,!0),(Qn||ve!==Z.progress||P||S||r&&!r._initted)&&(r&&!G&&(r._initted||ve||r.vars.immediateRender!==!1)&&r.totalProgress(P&&at<-.001&&!ve?Xt.utils.normalize(at,Ae,0):ve,!0),Z.progress=Qn||(bt-at)/dt===ve?0:ve),_&&x&&(pe._pinOffset=Math.round(Z.progress*lt)),ce&&ce.invalidate(),isNaN(nt)||(nt-=Xt.getProperty(de,F.p),qe-=Xt.getProperty(ie,F.p),Mw(de,F,nt),Mw(Ve,F,nt-(At||0)),Mw(ie,F,qe),Mw(Ue,F,qe-(At||0))),Qn&&!Wa&&Z.update(),p&&!Wa&&!$e&&($e=!0,p(Z),$e=!1)}},Z.getVelocity=function(){return(fe()-Ct)/(ga()-ob)*1e3||0},Z.endAnimation=function(){tb(Z.callbackAnimation),r&&(ce?ce.progress(1):r.paused()?G||tb(r,Z.direction<0,1):tb(r,r.reversed()))},Z.labelToScroll=function(Ne){return r&&r.labels&&(at||Z.refresh()||at)+r.labels[Ne]/r.duration()*dt||0},Z.getTrailing=function(Ne){var st=Zn.indexOf(Z),Et=Z.direction>0?Zn.slice(0,st).reverse():Zn.slice(st+1);return(Yo(Ne)?Et.filter(function(At){return At.vars.preventOverlaps===Ne}):Et).filter(function(At){return Z.direction>0?At.end<=at:At.start>=Ae})},Z.update=function(Ne,st,Et){if(!(P&&!Et&&!Ne)){var At=Wa===!0?je:Z.scroll(),Mn=Ne?0:(At-at)/dt,un=Mn<0?0:Mn>1?1:Mn||0,yn=Z.progress,Qn,tn,Jt,pn,Ei,En,wi,_r;if(st&&(Ct=bt,bt=P?fe():At,R&&(Zt=pt,pt=r&&!G?r.totalProgress():un)),E&&_&&!pa&&!vw&&Yu&&(!un&&at<At+(At-Ct)/(ga()-ob)*E?un=1e-4:un===1&&Ae>At+(At-Ct)/(ga()-ob)*E&&(un=.9999)),un!==yn&&Z.enabled){if(Qn=Z.isActive=!!un&&un<1,tn=!!yn&&yn<1,En=Qn!==tn,Ei=En||!!un!=!!yn,Z.direction=un>yn?1:-1,Z.progress=un,Ei&&!pa&&(Jt=un&&!yn?0:un===1?1:yn===1?2:3,G&&(pn=!En&&q[Jt+1]!=="none"&&q[Jt+1]||q[Jt],_r=r&&(pn==="complete"||pn==="reset"||pn in r))),k&&(En||_r)&&(_r||g||!r)&&(va(k)?k(Z):Z.getTrailing(k).forEach(function(Ot){return Ot.endAnimation()})),G||(ce&&!pa&&!vw?(ce._dp._time-ce._start!==ce._time&&ce.render(ce._dp._time-ce._start),ce.resetTo?ce.resetTo("totalProgress",un,r._tTime/r._tDur):(ce.vars.totalProgress=un,ce.invalidate().restart())):r&&r.totalProgress(un,!!(pa&&(Fe||Ne)))),_){if(Ne&&x&&(pe.style[x+F.os2]=kt),!re)Ie(lb(St+lt*un));else if(Ei){if(wi=!Ne&&un>yn&&Ae+1>At&&At+1>=Cc($,F),N)if(!Ne&&(Qn||wi)){var Tt=Df(_,!0),he=At-at;D5(_,Fi,Tt.top+(F===xs?he:0)+vs,Tt.left+(F===xs?0:he)+vs)}else D5(_,pe);o_(Qn||wi?Q:H),tt&&un<1&&Qn||Ie(St+(un===1&&!wi?lt:0))}}R&&!He.tween&&!pa&&!vw&&gt.restart(!0),o&&(En||A&&un&&(un<1||!nR))&&Nx(o.targets).forEach(function(Ot){return Ot.classList[Qn||A?"add":"remove"](o.className)}),a&&!G&&!Ne&&a(Z),Ei&&!pa?(G&&(_r&&(pn==="complete"?r.pause().totalProgress(1):pn==="reset"?r.restart(!0).pause():pn==="restart"?r.restart(!0):r[pn]()),a&&a(Z)),(En||!nR)&&(f&&En&&rR(Z,f),W[Jt]&&rR(Z,W[Jt]),A&&(un===1?Z.kill(!1,1):W[Jt]=0),En||(Jt=un===1?1:3,W[Jt]&&rR(Z,W[Jt]))),z&&!Qn&&Math.abs(Z.getVelocity())>(cb(z)?z:2500)&&(tb(Z.callbackAnimation),ce?ce.progress(1):tb(r,pn==="reverse"?1:!un,1))):G&&a&&!pa&&a(Z)}if(xt){var Ze=P?At/P.duration()*(P._caScrollDist||0):At;Je(Ze+(de._isFlipped?1:0)),xt(Ze)}le&&le(-At/P.duration()*(P._caScrollDist||0))}},Z.enable=function(Ne,st){Z.enabled||(Z.enabled=!0,Ns($,"resize",fb),ne||Ns($,"scroll",Ig),j&&Ns(t,"refreshInit",j),Ne!==!1&&(Z.progress=ve=0,bt=Ct=Se=fe()),st!==!1&&Z.refresh())},Z.getTween=function(Ne){return Ne&&He?He.tween:ce},Z.setPositions=function(Ne,st,Et,At){if(P){var Mn=P.scrollTrigger,un=P.duration(),yn=Mn.end-Mn.start;Ne=Mn.start+yn*Ne/un,st=Mn.start+yn*st/un}Z.refresh(!1,!1,{start:b5(Ne,Et&&!!Z._startClamp),end:b5(st,Et&&!!Z._endClamp)},At),Z.update()},Z.adjustPinSpacing=function(Ne){if(Nt&&Ne){var st=Nt.indexOf(F.d)+1;Nt[st]=parseFloat(Nt[st])+Ne+vs,Nt[1]=parseFloat(Nt[1])+Ne+vs,o_(Nt)}},Z.disable=function(Ne,st){if(Ne!==!1&&Z.revert(!0,!0),Z.enabled&&(Z.enabled=Z.isActive=!1,st||ce&&ce.pause(),je=0,Xe&&(Xe.uncache=1),j&&Is(t,"refreshInit",j),gt&&(gt.pause(),He.tween&&He.tween.kill()&&(He.tween=0)),!ne)){for(var Et=Zn.length;Et--;)if(Zn[Et].scroller===$&&Zn[Et]!==Z)return;Is($,"resize",fb),ne||Is($,"scroll",Ig)}},Z.kill=function(Ne,st){Z.disable(Ne,st),ce&&!st&&ce.kill(),l&&delete fN[l];var Et=Zn.indexOf(Z);Et>=0&&Zn.splice(Et,1),Et===Ga&&nT>0&&Ga--,Et=0,Zn.forEach(function(At){return At.scroller===Z.scroller&&(Et=1)}),Et||Wa||(Z.scroll.rec=0),r&&(r.scrollTrigger=null,Ne&&r.revert({kill:!1}),st||r.kill()),Ve&&[Ve,Ue,de,ie].forEach(function(At){return At.parentNode&&At.parentNode.removeChild(At)}),Vb===Z&&(Vb=0),_&&(Xe&&(Xe.uncache=1),Et=0,Zn.forEach(function(At){return At.pin===_&&Et++}),Et||(Xe.spacer=0)),i.onKill&&i.onKill(Z)},Zn.push(Z),Z.enable(!1,!1),xe&&xe(Z),r&&r.add&&!dt){var Qe=Z.update;Z.update=function(){Z.update=Qe,si.cache++,at||Ae||Z.refresh()},Xt.delayedCall(.01,Z.update),dt=.01,at=Ae=0}else Z.refresh();_&&x1e()},t.register=function(i){return Ug||(Xt=i||NG(),IG()&&window.document&&t.enable(),Ug=ub),Ug},t.defaults=function(i){if(i)for(var r in i)Ew[r]=i[r];return Ew},t.disable=function(i,r){ub=0,Zn.forEach(function(a){return a[r?"kill":"disable"](i)}),Is(ri,"wheel",Ig),Is(nr,"scroll",Ig),clearInterval(yw),Is(nr,"touchcancel",_c),Is(Fi,"touchstart",_c),xw(Is,nr,"pointerdown,touchstart,mousedown",x5),xw(Is,nr,"pointerup,touchend,mouseup",S5),WM.kill(),bw(Is);for(var s=0;s<si.length;s+=3)Sw(Is,si[s],si[s+1]),Sw(Is,si[s],si[s+2])},t.enable=function(){if(ri=window,nr=document,Jo=nr.documentElement,Fi=nr.body,Xt&&(Nx=Xt.utils.toArray,Lb=Xt.utils.clamp,lN=Xt.core.context||_c,tR=Xt.core.suppressOverwrites||_c,rk=ri.history.scrollRestoration||"auto",dN=ri.pageYOffset||0,Xt.core.globals("ScrollTrigger",t),Fi)){ub=1,a_=document.createElement("div"),a_.style.height="100vh",a_.style.position="absolute",VG(),p1e(),Jr.register(Xt),t.isTouch=Jr.isTouch,Yd=Jr.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),uN=Jr.isTouch===1,Ns(ri,"wheel",Ig),ik=[ri,nr,Jo,Fi],Xt.matchMedia?(t.matchMedia=function(f){var p=Xt.matchMedia(),g;for(g in f)p.add(g,f[g]);return p},Xt.addEventListener("matchMediaInit",function(){zG(),ck()}),Xt.addEventListener("matchMediaRevert",function(){return BG()}),Xt.addEventListener("matchMedia",function(){dm(0,1),Bm("matchMedia")}),Xt.matchMedia().add("(orientation: portrait)",function(){return sR(),sR})):console.warn("Requires GSAP 3.11.0 or later"),sR(),Ns(nr,"scroll",Ig);var i=Fi.hasAttribute("style"),r=Fi.style,s=r.borderTopStyle,a=Xt.core.Animation.prototype,o,l;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",o=Df(Fi),xs.m=Math.round(o.top+xs.sc())||0,Ya.m=Math.round(o.left+Ya.sc())||0,s?r.borderTopStyle=s:r.removeProperty("border-top-style"),i||(Fi.setAttribute("style",""),Fi.removeAttribute("style")),yw=setInterval(T5,250),Xt.delayedCall(.5,function(){return vw=0}),Ns(nr,"touchcancel",_c),Ns(Fi,"touchstart",_c),xw(Ns,nr,"pointerdown,touchstart,mousedown",x5),xw(Ns,nr,"pointerup,touchend,mouseup",S5),oN=Xt.utils.checkPrefix("transform"),iT.push(oN),Ug=ga(),WM=Xt.delayedCall(.2,dm).pause(),Bg=[nr,"visibilitychange",function(){var f=ri.innerWidth,p=ri.innerHeight;nr.hidden?(_5=f,y5=p):(_5!==f||y5!==p)&&fb()},nr,"DOMContentLoaded",dm,ri,"load",dm,ri,"resize",fb],bw(Ns),Zn.forEach(function(f){return f.enable(0,1)}),l=0;l<si.length;l+=3)Sw(Is,si[l],si[l+1]),Sw(Is,si[l],si[l+2])}},t.config=function(i){"limitCallbacks"in i&&(nR=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(yw)||(yw=r)&&setInterval(T5,r),"ignoreMobileResize"in i&&(uN=t.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(bw(Is)||bw(Ns,i.autoRefreshEvents||"none"),AG=(i.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(i,r){var s=Mo(i),a=si.indexOf(s),o=Fm(s);~a&&si.splice(a,o?6:2),r&&(o?Dc.unshift(ri,r,Fi,r,Jo,r):Dc.unshift(s,r))},t.clearMatchMedia=function(i){Zn.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},t.isInViewport=function(i,r,s){var a=(Yo(i)?Mo(i):i).getBoundingClientRect(),o=a[s?wm:Tm]*r||0;return s?a.right-o>0&&a.left+o<ri.innerWidth:a.bottom-o>0&&a.top+o<ri.innerHeight},t.positionInViewport=function(i,r,s){Yo(i)&&(i=Mo(i));var a=i.getBoundingClientRect(),o=a[s?wm:Tm],l=r==null?o/2:r in qM?qM[r]*o:~r.indexOf("%")?parseFloat(r)*o/100:parseFloat(r)||0;return s?(a.left+l)/ri.innerWidth:(a.top+l)/ri.innerHeight},t.killAll=function(i){if(Zn.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),i!==!0){var r=Um.killAll||[];Um={},r.forEach(function(s){return s()})}},t})();Kn.version="3.14.2";Kn.saveStyles=function(t){return t?Nx(t).forEach(function(e){if(e&&e.style){var n=Xo.indexOf(e);n>=0&&Xo.splice(n,5),Xo.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Xt.core.getCache(e),lN())}}):Xo};Kn.revert=function(t,e){return ck(!t,e)};Kn.create=function(t,e){return new Kn(t,e)};Kn.refresh=function(t){return t?fb(!0):(Ug||Kn.register())&&dm(!0)};Kn.update=function(t){return++si.cache&&Lf(t===!0?2:0)};Kn.clearScrollMemory=HG;Kn.maxScroll=function(t,e){return Cc(t,e?Ya:xs)};Kn.getScrollFunc=function(t,e){return Bh(Mo(t),e?Ya:xs)};Kn.getById=function(t){return fN[t]};Kn.getAll=function(){return Zn.filter(function(t){return t.vars.id!=="ScrollSmoother"})};Kn.isScrolling=function(){return!!Yu};Kn.snapDirectional=lk;Kn.addEventListener=function(t,e){var n=Um[t]||(Um[t]=[]);~n.indexOf(e)||n.push(e)};Kn.removeEventListener=function(t,e){var n=Um[t],i=n&&n.indexOf(e);i>=0&&n.splice(i,1)};Kn.batch=function(t,e){var n=[],i={},r=e.interval||.016,s=e.batchMax||1e9,a=function(f,p){var g=[],y=[],_=Xt.delayedCall(r,function(){p(g,y),g=[],y=[]}).pause();return function(x){g.length||_.restart(!0),g.push(x.trigger),y.push(x),s<=g.length&&_.progress(1)}},o;for(o in e)i[o]=o.substr(0,2)==="on"&&va(e[o])&&o!=="onRefreshInit"?a(o,e[o]):e[o];return va(s)&&(s=s(),Ns(Kn,"refresh",function(){return s=e.batchMax()})),Nx(t).forEach(function(l){var f={};for(o in i)f[o]=i[o];f.trigger=l,n.push(Kn.create(f))}),n};var I5=function(e,n,i,r){return n>r?e(r):n<0&&e(0),i>r?(r-n)/(i-n):i<0?n/(n-i):1},oR=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(Jr.isTouch?" pinch-zoom":""):"none",e===Jo&&t(Fi,n)},Cw={auto:1,scroll:1},M1e=function(e){var n=e.event,i=e.target,r=e.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,a=s._gsap||Xt.core.getCache(s),o=ga(),l;if(!a._isScrollT||o-a._isScrollT>2e3){for(;s&&s!==Fi&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(Cw[(l=Wu(s)).overflowY]||Cw[l.overflowX]));)s=s.parentNode;a._isScroll=s&&s!==i&&!Fm(s)&&(Cw[(l=Wu(s)).overflowY]||Cw[l.overflowX]),a._isScrollT=o}(a._isScroll||r==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},WG=function(e,n,i,r){return Jr.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:r=r&&M1e,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&Ns(nr,Jr.eventTypes[0],O5,!1,!0)},onDisable:function(){return Is(nr,Jr.eventTypes[0],O5,!0)}})},C1e=/(input|label|select|textarea)/i,N5,O5=function(e){var n=C1e.test(e.target.tagName);(n||N5)&&(e._gsapAllow=!0,N5=n)},A1e=function(e){tm(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,i=n.normalizeScrollX,r=n.momentum,s=n.allowNestedScroll,a=n.onRelease,o,l,f=Mo(e.target)||Jo,p=Xt.core.globals().ScrollSmoother,g=p&&p.get(),y=Yd&&(e.content&&Mo(e.content)||g&&e.content!==!1&&!g.smooth()&&g.content()),_=Bh(f,xs),x=Bh(f,Ya),S=1,E=(Jr.isTouch&&ri.visualViewport?ri.visualViewport.scale*ri.visualViewport.width:ri.outerWidth)/ri.innerWidth,w=0,C=va(r)?function(){return r(o)}:function(){return r||2.8},A,R,N=WG(f,e.type,!0,s),O=function(){return R=!1},P=_c,z=_c,k=function(){l=Cc(f,xs),z=Lb(Yd?1:0,l),i&&(P=Lb(0,Cc(f,Ya))),A=Mm},F=function(){y._gsap.y=lb(parseFloat(y._gsap.y)+_.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",_.offset=_.cacheID=0},G=function(){if(R){requestAnimationFrame(O);var te=lb(o.deltaY/2),se=z(_.v-te);if(y&&se!==_.v+_.offset){_.offset=se-_.v;var Z=lb((parseFloat(y&&y._gsap.y)||0)-_.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+Z+", 0, 1)",y._gsap.y=Z+"px",_.cacheID=si.cache,Lf()}return!0}_.offset&&F(),R=!0},$,ee,ne,re,W=function(){k(),$.isActive()&&$.vars.scrollY>l&&(_()>l?$.progress(1)&&_(l):$.resetTo("scrollY",l))};return y&&Xt.set(y,{y:"+=0"}),e.ignoreCheck=function(q){return Yd&&q.type==="touchmove"&&G()||S>1.05&&q.type!=="touchstart"||o.isGesturing||q.touches&&q.touches.length>1},e.onPress=function(){R=!1;var q=S;S=lb((ri.visualViewport&&ri.visualViewport.scale||1)/E),$.pause(),q!==S&&oR(f,S>1.01?!0:i?!1:"x"),ee=x(),ne=_(),k(),A=Mm},e.onRelease=e.onGestureStart=function(q,te){if(_.offset&&F(),!te)re.restart(!0);else{si.cache++;var se=C(),Z,j;i&&(Z=x(),j=Z+se*.05*-q.velocityX/.227,se*=I5(x,Z,j,Cc(f,Ya)),$.vars.scrollX=P(j)),Z=_(),j=Z+se*.05*-q.velocityY/.227,se*=I5(_,Z,j,Cc(f,xs)),$.vars.scrollY=z(j),$.invalidate().duration(se).play(.01),(Yd&&$.vars.scrollY>=l||Z>=l-1)&&Xt.to({},{onUpdate:W,duration:se})}a&&a(q)},e.onWheel=function(){$._ts&&$.pause(),ga()-w>1e3&&(A=0,w=ga())},e.onChange=function(q,te,se,Z,j){if(Mm!==A&&k(),te&&i&&x(P(Z[2]===te?ee+(q.startX-q.x):x()+te-Z[1])),se){_.offset&&F();var ue=j[2]===se,ge=ue?ne+q.startY-q.y:_()+se-j[1],Se=z(ge);ue&&ge!==Se&&(ne+=Se-ge),_(Se)}(se||te)&&Lf()},e.onEnable=function(){oR(f,i?!1:"x"),Kn.addEventListener("refresh",W),Ns(ri,"resize",W),_.smooth&&(_.target.style.scrollBehavior="auto",_.smooth=x.smooth=!1),N.enable()},e.onDisable=function(){oR(f,!0),Is(ri,"resize",W),Kn.removeEventListener("refresh",W),N.kill()},e.lockAxis=e.lockAxis!==!1,o=new Jr(e),o.iOS=Yd,Yd&&!_()&&_(1),Yd&&Xt.ticker.add(_c),re=o._dc,$=Xt.to(o,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:GG(_,_(),function(){return $.pause()})},onUpdate:Lf,onComplete:re.vars.onComplete}),o};Kn.sort=function(t){if(va(t))return Zn.sort(t);var e=ri.pageYOffset||0;return Kn.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+ri.innerHeight}),Zn.sort(t||function(n,i){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((i.vars.containerAnimation?1e6:i._sortY)+(i.vars.refreshPriority||0)*-1e6)})};Kn.observe=function(t){return new Jr(t)};Kn.normalizeScroll=function(t){if(typeof t>"u")return Va;if(t===!0&&Va)return Va.enable();if(t===!1){Va&&Va.kill(),Va=t;return}var e=t instanceof Jr?t:A1e(t);return Va&&Va.target===e.target&&Va.kill(),Fm(e.target)&&(Va=e),e};Kn.core={_getVelocityProp:aN,_inputObserver:WG,_scrollers:si,_proxies:Dc,bridge:{ss:function(){Yu||Bm("scrollStart"),Yu=ga()},ref:function(){return pa}}};NG()&&Xt.registerPlugin(Kn);var D1e=/(?:^\s+|\s+$)/g,R1e=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2642\u2640]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDD27\uDCBC\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCC\uDFCB]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function jG(t){var e=t.nodeType,n="";if(e===1||e===9||e===11){if(typeof t.textContent=="string")return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=jG(t)}else if(e===3||e===4)return t.nodeValue;return n}function pN(t,e,n,i,r){for(var s=t.firstChild,a=[],o;s;)s.nodeType===3?(o=(s.nodeValue+"").replace(/^\n+/g,""),i||(o=o.replace(/\s+/g," ")),a.push.apply(a,qG(o,e,n,i,r))):(s.nodeName+"").toLowerCase()==="br"?a[a.length-1]+="<br>":a.push(s.outerHTML),s=s.nextSibling;if(!r)for(o=a.length;o--;)a[o]==="&"&&a.splice(o,1,"&amp;");return a}function qG(t,e,n,i,r){if(t+="",n&&(t=t.trim?t.trim():t.replace(D1e,"")),e&&e!=="")return t.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(e);for(var s=[],a=t.length,o=0,l,f;o<a;o++)f=t.charAt(o),(f.charCodeAt(0)>=55296&&f.charCodeAt(0)<=56319||t.charCodeAt(o+1)>=65024&&t.charCodeAt(o+1)<=65039)&&(l=((t.substr(o,12).split(R1e)||[])[1]||"").length||2,f=t.substr(o,l),s.emoji=1,o+=l-1),s.push(r?f:f===">"?"&gt;":f==="<"?"&lt;":i&&f===" "&&(t.charAt(o-1)===" "||t.charAt(o+1)===" ")?"&nbsp;":f);return s}var db,Aw,I1e=function(){return db||typeof window<"u"&&(db=window.gsap)&&db.registerPlugin&&db},g1={version:"3.14.2",name:"text",init:function(e,n,i){typeof n!="object"&&(n={value:n});var r=e.nodeName.toUpperCase(),s=this,a=n,o=a.newClass,l=a.oldClass,f=a.preserveSpaces,p=a.rtl,g=s.delimiter=n.delimiter||"",y=s.fillChar=n.fillChar||(n.padSpace?"&nbsp;":""),_,x,S,E,w,C,A,R;if(s.svg=e.getBBox&&(r==="TEXT"||r==="TSPAN"),!("innerHTML"in e)&&!s.svg)return!1;if(s.target=e,!("value"in n)){s.text=s.original=[""];return}for(S=pN(e,g,!1,f,s.svg),Aw||(Aw=document.createElement("div")),Aw.innerHTML=n.value,x=pN(Aw,g,!1,f,s.svg),s.from=i._from,(s.from||p)&&!(p&&s.from)&&(r=S,S=x,x=r),s.hasClass=!!(o||l),s.newClass=p?l:o,s.oldClass=p?o:l,r=S.length-x.length,_=r<0?S:x,r<0&&(r=-r);--r>-1;)_.push(y);if(n.type==="diff"){for(E=0,w=[],C=[],A="",r=0;r<x.length;r++)R=x[r],R===S[r]?A+=R:(w[E]=A+R,C[E++]=A+S[r],A="");x=w,S=C,A&&(x.push(A),S.push(A))}n.speed&&i.duration(Math.min(.05/n.speed*_.length,n.maxDuration||9999)),s.rtl=p,s.original=S,s.text=x,s._props.push("text")},render:function(e,n){e>1?e=1:e<0&&(e=0),n.from&&(e=1-e);var i=n.text,r=n.hasClass,s=n.newClass,a=n.oldClass,o=n.delimiter,l=n.target,f=n.fillChar,p=n.original,g=n.rtl,y=i.length,_=(g?1-e:e)*y+.5|0,x,S,E;r&&e?(x=s&&_,S=a&&_!==y,E=(x?"<span class='"+s+"'>":"")+i.slice(0,_).join(o)+(x?"</span>":"")+(S?"<span class='"+a+"'>":"")+o+p.slice(_).join(o)+(S?"</span>":"")):E=i.slice(0,_).join(o)+o+p.slice(_).join(o),n.svg?l.textContent=E:l.innerHTML=f==="&nbsp;"&&~E.indexOf("  ")?E.split("  ").join("&nbsp;&nbsp;"):E}};g1.splitInnerHTML=pN;g1.emojiSafeSplit=qG;g1.getText=jG;I1e()&&db.registerPlugin(g1);ma.registerPlugin(Kn,g1);const k5="!<>-_\\/[]{}=+*^?#________",N1e=()=>{const[t,e]=U.useState(0),n=U.useRef(null),i=U.useRef(null),[r,s]=U.useState(!1);U.useEffect(()=>{const p=()=>{const g=document.documentElement.scrollHeight-window.innerHeight;if(g>0){const y=window.scrollY/g*100;e(Math.round(y))}else e(0)};return window.addEventListener("scroll",p),p(),()=>window.removeEventListener("scroll",p)},[]),U.useEffect(()=>{const p=ma.utils.toArray(".name-char");ma.from(p,{opacity:0,y:50,duration:.8,stagger:.05,ease:"power4.out"}),ma.from(".hero-description",{opacity:0,y:30,duration:1,delay:.8,ease:"power3.out"}),ma.to(".scroll-indicator",{scale:1.1,duration:1,repeat:-1,yoyo:!0,ease:"power1.inOut"}),ma.to(".grid-lines",{y:100,scrollTrigger:{trigger:"body",start:"top top",end:"bottom bottom",scrub:1}}),ma.utils.toArray("section:not(:first-child)").forEach(g=>{ma.from(g,{opacity:0,y:50,duration:1,scrollTrigger:{trigger:g,start:"top 80%",toggleActions:"play none none none"}})})},[]);const a=U.useCallback((p,g)=>{let y=0;const _=g.length,x=setInterval(()=>{p.innerText=g.split("").map((S,E)=>E<y||S===" "||S===`
`?S:k5[Math.floor(Math.random()*k5.length)]).join(""),y+=3,y>=_&&(clearInterval(x),p.innerText=g)},15)},[]);U.useEffect(()=>{if(i.current&&!r){const p=new IntersectionObserver(g=>{g.forEach(y=>{y.isIntersecting&&!r&&(s(!0),a(i.current,` frontend/
    react.tsx
    vue.ts
    typescript.d.ts
 backend/
    node.js
    python.py
    fastapi.py
 devops/
     docker
     aws`))})},{threshold:.5});return p.observe(i.current),()=>p.disconnect()}},[r,a]);const o=()=>{if(!n.current)return;ma.timeline().to(n.current,{x:-5,duration:.05,ease:"power1.inOut"}).to(n.current,{x:5,textShadow:"3px 0 #ff3333, -3px 0 #00ff00",duration:.05,ease:"power1.inOut"}).to(n.current,{x:-3,textShadow:"-2px 0 #ff3333, 2px 0 #00ff00",duration:.05,ease:"power1.inOut"}).to(n.current,{x:3,duration:.05,ease:"power1.inOut"}).to(n.current,{x:0,textShadow:"none",duration:.05,ease:"power1.inOut"})},f="Liang-Shih Lin".split("").map((p,g)=>V.jsx("span",{className:"name-char",style:{display:"inline-block"},children:p===" "?"":p},g));return V.jsxs("div",{className:"bg-[#0a0a0a] text-white font-ibm-mono min-h-screen overflow-x-hidden",children:[V.jsx("div",{className:"scanlines"}),V.jsx("div",{className:"noise-overlay"}),V.jsx(fA,{}),V.jsxs("div",{className:"fixed top-4 right-4 text-[#ff3333] z-50 mix-blend-difference scroll-indicator",children:["[SCROLL: ",t,"%]"]}),V.jsxs("main",{className:"relative z-10",children:[V.jsx("section",{className:"min-h-screen flex flex-col items-center justify-center overflow-hidden p-4 md:p-8",children:V.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[V.jsx("h1",{ref:n,className:"font-bold uppercase text-center mb-8 glitch-text","data-text":"LIANG-SHIH LIN",style:{fontSize:"clamp(2rem, 8vw, 5rem)",letterSpacing:"clamp(0.2rem, 1vw, 0.8rem)",lineHeight:"1"},onMouseEnter:o,children:f}),V.jsxs("div",{className:"hero-description space-y-6 mt-8",children:[V.jsxs("p",{className:"text-xl md:text-2xl text-[#666666] leading-relaxed",children:[V.jsx("span",{className:"text-[#ff3333]",children:">"})," Full-stack developer building"," ",V.jsx("span",{className:"text-white",children:"systems that work"})]}),V.jsxs("p",{className:"text-lg md:text-xl text-[#666666] leading-relaxed max-w-2xl mx-auto",children:["8+ years turning complex problems into clean, efficient solutions. From frontend interfaces to backend architectures, I build software that is ",V.jsx("span",{className:"text-[#ff3333]",children:"reliable"}),", ",V.jsx("span",{className:"text-[#ff3333]",children:"scalable"}),", and ",V.jsx("span",{className:"text-[#ff3333]",children:"maintainable"}),"."]}),V.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-8 text-sm md:text-base",children:[V.jsx("span",{className:"border border-[#666666] px-4 py-2 text-[#666666] hover:border-[#ff3333] hover:text-[#ff3333] transition-colors",children:"TAIWAN"}),V.jsx("span",{className:"border border-[#666666] px-4 py-2 text-[#666666] hover:border-[#ff3333] hover:text-[#ff3333] transition-colors",children:"REACT / VUE / TYPESCRIPT"}),V.jsx("span",{className:"border border-[#666666] px-4 py-2 text-[#666666] hover:border-[#ff3333] hover:text-[#ff3333] transition-colors",children:"NODE.JS / PYTHON"}),V.jsx("span",{className:"border border-[#666666] px-4 py-2 text-[#666666] hover:border-[#ff3333] hover:text-[#ff3333] transition-colors",children:"AWS / DOCKER"})]}),V.jsxs("div",{className:"mt-12 text-[#666666] animate-bounce",children:[V.jsx("span",{className:"text-sm tracking-widest",children:"SCROLL TO EXPLORE"}),V.jsx("div",{className:"mt-2",children:""})]})]})]})}),V.jsx("section",{className:"py-20 px-4 md:px-8 border-t-2 border-[#ff3333]",children:V.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-16",children:[V.jsx("div",{className:"md:col-span-1",children:V.jsx("pre",{className:"text-lg md:text-xl leading-relaxed text-[#666666]",children:`> FULL-STACK DEVELOPER
> TAIWAN
> SYSTEMS THAT WORK`})}),V.jsxs("div",{className:"md:col-span-2",children:[V.jsx("h2",{className:"text-[#ff3333] mb-4 text-xl cursor-blink",children:"[SKILLS]"}),V.jsx("pre",{ref:i,className:"text-sm md:text-base text-white",children:r?"":"> Loading..."})]})]})}),V.jsx(Rfe,{}),V.jsx(Vfe,{}),V.jsxs("footer",{className:"py-12 px-4 md:px-8 border-t-4 border-white mt-20 text-center",children:[V.jsx("h2",{className:"text-[#ff3333] text-xl mb-4 cursor-blink",children:"[CONTACT]"}),V.jsx("a",{href:"https://github.com/ll931217",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#ff3333] transition-colors duration-75 text-lg",children:"github.com/ll931217"}),V.jsx("pre",{className:"mt-12 text-[#666666]",children:"END OF TRANSMISSION"})]})]})]})};function P5(t,[e,n]){return Math.min(n,Math.max(e,t))}var O1e=U.createContext(void 0);function k1e(t){const e=U.useContext(O1e);return t||e||"ltr"}function P1e(t,e=globalThis?.document){const n=Js(t);U.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var L1e="DismissableLayer",mN="dismissableLayer.update",F1e="dismissableLayer.pointerDownOutside",U1e="dismissableLayer.focusOutside",L5,$G=U.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),XG=U.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,f=U.useContext($G),[p,g]=U.useState(null),y=p?.ownerDocument??globalThis?.document,[,_]=U.useState({}),x=sr(e,P=>g(P)),S=Array.from(f.layers),[E]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),w=S.indexOf(E),C=p?S.indexOf(p):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,R=C>=w,N=H1e(P=>{const z=P.target,k=[...f.branches].some(F=>F.contains(z));!R||k||(r?.(P),a?.(P),P.defaultPrevented||o?.())},y),O=V1e(P=>{const z=P.target;[...f.branches].some(F=>F.contains(z))||(s?.(P),a?.(P),P.defaultPrevented||o?.())},y);return P1e(P=>{C===f.layers.size-1&&(i?.(P),!P.defaultPrevented&&o&&(P.preventDefault(),o()))},y),U.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(L5=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),F5(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=L5)}},[p,y,n,f]),U.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),F5())},[p,f]),U.useEffect(()=>{const P=()=>_({});return document.addEventListener(mN,P),()=>document.removeEventListener(mN,P)},[]),V.jsx(Si.div,{...l,ref:x,style:{pointerEvents:A?R?"auto":"none":void 0,...t.style},onFocusCapture:Un(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Un(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Un(t.onPointerDownCapture,N.onPointerDownCapture)})});XG.displayName=L1e;var B1e="DismissableLayerBranch",z1e=U.forwardRef((t,e)=>{const n=U.useContext($G),i=U.useRef(null),r=sr(e,i);return U.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),V.jsx(Si.div,{...t,ref:r})});z1e.displayName=B1e;function H1e(t,e=globalThis?.document){const n=Js(t),i=U.useRef(!1),r=U.useRef(()=>{});return U.useEffect(()=>{const s=o=>{if(o.target&&!i.current){let l=function(){YG(F1e,n,f,{discrete:!0})};const f={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function V1e(t,e=globalThis?.document){const n=Js(t),i=U.useRef(!1);return U.useEffect(()=>{const r=s=>{s.target&&!i.current&&YG(U1e,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function F5(){const t=new CustomEvent(mN);document.dispatchEvent(t)}function YG(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?dC(r,s):r.dispatchEvent(s)}var uR=0;function G1e(){U.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??U5()),document.body.insertAdjacentElement("beforeend",t[1]??U5()),uR++,()=>{uR===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),uR--}},[])}function U5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var lR="focusScope.autoFocusOnMount",cR="focusScope.autoFocusOnUnmount",B5={bubbles:!1,cancelable:!0},W1e="FocusScope",ZG=U.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...a}=t,[o,l]=U.useState(null),f=Js(r),p=Js(s),g=U.useRef(null),y=sr(e,S=>l(S)),_=U.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;U.useEffect(()=>{if(i){let S=function(A){if(_.paused||!o)return;const R=A.target;o.contains(R)?g.current=R:Zd(g.current,{select:!0})},E=function(A){if(_.paused||!o)return;const R=A.relatedTarget;R!==null&&(o.contains(R)||Zd(g.current,{select:!0}))},w=function(A){if(document.activeElement===document.body)for(const N of A)N.removedNodes.length>0&&Zd(o)};document.addEventListener("focusin",S),document.addEventListener("focusout",E);const C=new MutationObserver(w);return o&&C.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",E),C.disconnect()}}},[i,o,_.paused]),U.useEffect(()=>{if(o){H5.add(_);const S=document.activeElement;if(!o.contains(S)){const w=new CustomEvent(lR,B5);o.addEventListener(lR,f),o.dispatchEvent(w),w.defaultPrevented||(j1e(Z1e(KG(o)),{select:!0}),document.activeElement===S&&Zd(o))}return()=>{o.removeEventListener(lR,f),setTimeout(()=>{const w=new CustomEvent(cR,B5);o.addEventListener(cR,p),o.dispatchEvent(w),w.defaultPrevented||Zd(S??document.body,{select:!0}),o.removeEventListener(cR,p),H5.remove(_)},0)}}},[o,f,p,_]);const x=U.useCallback(S=>{if(!n&&!i||_.paused)return;const E=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,w=document.activeElement;if(E&&w){const C=S.currentTarget,[A,R]=q1e(C);A&&R?!S.shiftKey&&w===R?(S.preventDefault(),n&&Zd(A,{select:!0})):S.shiftKey&&w===A&&(S.preventDefault(),n&&Zd(R,{select:!0})):w===C&&S.preventDefault()}},[n,i,_.paused]);return V.jsx(Si.div,{tabIndex:-1,...a,ref:y,onKeyDown:x})});ZG.displayName=W1e;function j1e(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(Zd(i,{select:e}),document.activeElement!==n)return}function q1e(t){const e=KG(t),n=z5(e,t),i=z5(e.reverse(),t);return[n,i]}function KG(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function z5(t,e){for(const n of t)if(!$1e(n,{upTo:e}))return n}function $1e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function X1e(t){return t instanceof HTMLInputElement&&"select"in t}function Zd(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&X1e(t)&&e&&t.select()}}var H5=Y1e();function Y1e(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=V5(t,e),t.unshift(e)},remove(e){t=V5(t,e),t[0]?.resume()}}}function V5(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function Z1e(t){return t.filter(e=>e.tagName!=="A")}var K1e="Portal",QG=U.forwardRef((t,e)=>{const{container:n,...i}=t,[r,s]=U.useState(!1);Ps(()=>s(!0),[]);const a=n||r&&globalThis?.document?.body;return a?lO.createPortal(V.jsx(Si.div,{...i,ref:e}),a):null});QG.displayName=K1e;function Q1e(t){const e=J1e(t),n=U.forwardRef((i,r)=>{const{children:s,...a}=i,o=U.Children.toArray(s),l=o.find(tSe);if(l){const f=l.props.children,p=o.map(g=>g===l?U.Children.count(f)>1?U.Children.only(null):U.isValidElement(f)?f.props.children:null:g);return V.jsx(e,{...a,ref:r,children:U.isValidElement(f)?U.cloneElement(f,void 0,p):null})}return V.jsx(e,{...a,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}function J1e(t){const e=U.forwardRef((n,i)=>{const{children:r,...s}=n;if(U.isValidElement(r)){const a=iSe(r),o=nSe(s,r.props);return r.type!==U.Fragment&&(o.ref=i?fC(i,a):a),U.cloneElement(r,o)}return U.Children.count(r)>1?U.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eSe=Symbol("radix.slottable");function tSe(t){return U.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eSe}function nSe(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...o)=>{const l=s(...o);return r(...o),l}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function iSe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function rSe(t){const e=U.useRef({value:t,previous:t});return U.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var sSe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ng=new WeakMap,Dw=new WeakMap,Rw={},fR=0,JG=function(t){return t&&(t.host||JG(t.parentNode))},aSe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=JG(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},oSe=function(t,e,n,i){var r=aSe(e,Array.isArray(t)?t:[t]);Rw[n]||(Rw[n]=new WeakMap);var s=Rw[n],a=[],o=new Set,l=new Set(r),f=function(g){!g||o.has(g)||(o.add(g),f(g.parentNode))};r.forEach(f);var p=function(g){!g||l.has(g)||Array.prototype.forEach.call(g.children,function(y){if(o.has(y))p(y);else try{var _=y.getAttribute(i),x=_!==null&&_!=="false",S=(Ng.get(y)||0)+1,E=(s.get(y)||0)+1;Ng.set(y,S),s.set(y,E),a.push(y),S===1&&x&&Dw.set(y,!0),E===1&&y.setAttribute(n,"true"),x||y.setAttribute(i,"true")}catch(w){console.error("aria-hidden: cannot operate on ",y,w)}})};return p(e),o.clear(),fR++,function(){a.forEach(function(g){var y=Ng.get(g)-1,_=s.get(g)-1;Ng.set(g,y),s.set(g,_),y||(Dw.has(g)||g.removeAttribute(i),Dw.delete(g)),_||g.removeAttribute(n)}),fR--,fR||(Ng=new WeakMap,Ng=new WeakMap,Dw=new WeakMap,Rw={})}},uSe=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),r=sSe(t);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),oSe(i,r,n,"aria-hidden")):function(){return null}},bc=function(){return bc=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bc.apply(this,arguments)};function eW(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function lSe(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}var sT="right-scroll-bar-position",aT="width-before-scroll-bar",cSe="with-scroll-bars-hidden",fSe="--removed-body-scroll-bar-size";function dR(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function dSe(t,e){var n=U.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var r=n.value;r!==i&&(n.value=i,n.callback(i,r))}}}})[0];return n.callback=e,n.facade}var hSe=typeof window<"u"?U.useLayoutEffect:U.useEffect,G5=new WeakMap;function pSe(t,e){var n=dSe(null,function(i){return t.forEach(function(r){return dR(r,i)})});return hSe(function(){var i=G5.get(n);if(i){var r=new Set(i),s=new Set(t),a=n.current;r.forEach(function(o){s.has(o)||dR(o,null)}),s.forEach(function(o){r.has(o)||dR(o,a)})}G5.set(n,t)},[t]),n}function mSe(t){return t}function gSe(t,e){e===void 0&&(e=mSe);var n=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,i);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(i=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){i=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var p=a;a=[],p.forEach(s)},f=function(){return Promise.resolve().then(l)};f(),n={push:function(p){a.push(p),f()},filter:function(p){return a=a.filter(p),n}}}};return r}function _Se(t){t===void 0&&(t={});var e=gSe(null);return e.options=bc({async:!0,ssr:!1},t),e}var tW=function(t){var e=t.sideCar,n=eW(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return U.createElement(i,bc({},n))};tW.isSideCarExport=!0;function ySe(t,e){return t.useMedium(e),tW}var nW=_Se(),hR=function(){},gA=U.forwardRef(function(t,e){var n=U.useRef(null),i=U.useState({onScrollCapture:hR,onWheelCapture:hR,onTouchMoveCapture:hR}),r=i[0],s=i[1],a=t.forwardProps,o=t.children,l=t.className,f=t.removeScrollBar,p=t.enabled,g=t.shards,y=t.sideCar,_=t.noRelative,x=t.noIsolation,S=t.inert,E=t.allowPinchZoom,w=t.as,C=w===void 0?"div":w,A=t.gapMode,R=eW(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=y,O=pSe([n,e]),P=bc(bc({},R),r);return U.createElement(U.Fragment,null,p&&U.createElement(N,{sideCar:nW,removeScrollBar:f,shards:g,noRelative:_,noIsolation:x,inert:S,setCallbacks:s,allowPinchZoom:!!E,lockRef:n,gapMode:A}),a?U.cloneElement(U.Children.only(o),bc(bc({},P),{ref:O})):U.createElement(C,bc({},P,{className:l,ref:O}),o))});gA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gA.classNames={fullWidth:aT,zeroRight:sT};var vSe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bSe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vSe();return e&&t.setAttribute("nonce",e),t}function xSe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function SSe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ESe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=bSe())&&(xSe(e,n),SSe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},wSe=function(){var t=ESe();return function(e,n){U.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},iW=function(){var t=wSe(),e=function(n){var i=n.styles,r=n.dynamic;return t(i,r),null};return e},TSe={left:0,top:0,right:0,gap:0},pR=function(t){return parseInt(t||"",10)||0},MSe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[pR(n),pR(i),pR(r)]},CSe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return TSe;var e=MSe(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},ASe=iW(),u_="data-scroll-locked",DSe=function(t,e,n,i){var r=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(cSe,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(o,"px ").concat(i,`;
  }
  body[`).concat(u_,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sT,` {
    right: `).concat(o,"px ").concat(i,`;
  }
  
  .`).concat(aT,` {
    margin-right: `).concat(o,"px ").concat(i,`;
  }
  
  .`).concat(sT," .").concat(sT,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(aT," .").concat(aT,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(u_,`] {
    `).concat(fSe,": ").concat(o,`px;
  }
`)},W5=function(){var t=parseInt(document.body.getAttribute(u_)||"0",10);return isFinite(t)?t:0},RSe=function(){U.useEffect(function(){return document.body.setAttribute(u_,(W5()+1).toString()),function(){var t=W5()-1;t<=0?document.body.removeAttribute(u_):document.body.setAttribute(u_,t.toString())}},[])},ISe=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,r=i===void 0?"margin":i;RSe();var s=U.useMemo(function(){return CSe(r)},[r]);return U.createElement(ASe,{styles:DSe(s,!e,r,n?"":"!important")})},gN=!1;if(typeof window<"u")try{var Iw=Object.defineProperty({},"passive",{get:function(){return gN=!0,!0}});window.addEventListener("test",Iw,Iw),window.removeEventListener("test",Iw,Iw)}catch{gN=!1}var Og=gN?{passive:!1}:!1,NSe=function(t){return t.tagName==="TEXTAREA"},rW=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!NSe(t)&&n[e]==="visible")},OSe=function(t){return rW(t,"overflowY")},kSe=function(t){return rW(t,"overflowX")},j5=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=sW(t,i);if(r){var s=aW(t,i),a=s[1],o=s[2];if(a>o)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},PSe=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},LSe=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},sW=function(t,e){return t==="v"?OSe(e):kSe(e)},aW=function(t,e){return t==="v"?PSe(e):LSe(e)},FSe=function(t,e){return t==="h"&&e==="rtl"?-1:1},USe=function(t,e,n,i,r){var s=FSe(t,window.getComputedStyle(e).direction),a=s*i,o=n.target,l=e.contains(o),f=!1,p=a>0,g=0,y=0;do{if(!o)break;var _=aW(t,o),x=_[0],S=_[1],E=_[2],w=S-E-s*x;(x||w)&&sW(t,o)&&(g+=w,y+=x);var C=o.parentNode;o=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(p&&Math.abs(g)<1||!p&&Math.abs(y)<1)&&(f=!0),f},Nw=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},q5=function(t){return[t.deltaX,t.deltaY]},$5=function(t){return t&&"current"in t?t.current:t},BSe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},zSe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},HSe=0,kg=[];function VSe(t){var e=U.useRef([]),n=U.useRef([0,0]),i=U.useRef(),r=U.useState(HSe++)[0],s=U.useState(iW)[0],a=U.useRef(t);U.useEffect(function(){a.current=t},[t]),U.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var S=lSe([t.lockRef.current],(t.shards||[]).map($5),!0).filter(Boolean);return S.forEach(function(E){return E.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),S.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var o=U.useCallback(function(S,E){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!a.current.allowPinchZoom;var w=Nw(S),C=n.current,A="deltaX"in S?S.deltaX:C[0]-w[0],R="deltaY"in S?S.deltaY:C[1]-w[1],N,O=S.target,P=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in S&&P==="h"&&O.type==="range")return!1;var z=window.getSelection(),k=z&&z.anchorNode,F=k?k===O||k.contains(O):!1;if(F)return!1;var G=j5(P,O);if(!G)return!0;if(G?N=P:(N=P==="v"?"h":"v",G=j5(P,O)),!G)return!1;if(!i.current&&"changedTouches"in S&&(A||R)&&(i.current=N),!N)return!0;var $=i.current||N;return USe($,E,S,$==="h"?A:R)},[]),l=U.useCallback(function(S){var E=S;if(!(!kg.length||kg[kg.length-1]!==s)){var w="deltaY"in E?q5(E):Nw(E),C=e.current.filter(function(N){return N.name===E.type&&(N.target===E.target||E.target===N.shadowParent)&&BSe(N.delta,w)})[0];if(C&&C.should){E.cancelable&&E.preventDefault();return}if(!C){var A=(a.current.shards||[]).map($5).filter(Boolean).filter(function(N){return N.contains(E.target)}),R=A.length>0?o(E,A[0]):!a.current.noIsolation;R&&E.cancelable&&E.preventDefault()}}},[]),f=U.useCallback(function(S,E,w,C){var A={name:S,delta:E,target:w,should:C,shadowParent:GSe(w)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(R){return R!==A})},1)},[]),p=U.useCallback(function(S){n.current=Nw(S),i.current=void 0},[]),g=U.useCallback(function(S){f(S.type,q5(S),S.target,o(S,t.lockRef.current))},[]),y=U.useCallback(function(S){f(S.type,Nw(S),S.target,o(S,t.lockRef.current))},[]);U.useEffect(function(){return kg.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",l,Og),document.addEventListener("touchmove",l,Og),document.addEventListener("touchstart",p,Og),function(){kg=kg.filter(function(S){return S!==s}),document.removeEventListener("wheel",l,Og),document.removeEventListener("touchmove",l,Og),document.removeEventListener("touchstart",p,Og)}},[]);var _=t.removeScrollBar,x=t.inert;return U.createElement(U.Fragment,null,x?U.createElement(s,{styles:zSe(r)}):null,_?U.createElement(ISe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function GSe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const WSe=ySe(nW,VSe);var oW=U.forwardRef(function(t,e){return U.createElement(gA,bc({},t,{ref:e,sideCar:WSe}))});oW.classNames=gA.classNames;var jSe=[" ","Enter","ArrowUp","ArrowDown"],qSe=[" ","Enter"],zm="Select",[_A,yA,$Se]=SB(zm),[uy]=Yx(zm,[$Se,EC]),vA=EC(),[XSe,Xh]=uy(zm),[YSe,ZSe]=uy(zm),uW=t=>{const{__scopeSelect:e,children:n,open:i,defaultOpen:r,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:f,name:p,autoComplete:g,disabled:y,required:_,form:x}=t,S=vA(e),[E,w]=U.useState(null),[C,A]=U.useState(null),[R,N]=U.useState(!1),O=k1e(f),[P,z]=WR({prop:i,defaultProp:r??!1,onChange:s,caller:zm}),[k,F]=WR({prop:a,defaultProp:o,onChange:l,caller:zm}),G=U.useRef(null),$=E?x||!!E.closest("form"):!0,[ee,ne]=U.useState(new Set),re=Array.from(ee).map(W=>W.props.value).join(";");return V.jsx(vle,{...S,children:V.jsxs(XSe,{required:_,scope:e,trigger:E,onTriggerChange:w,valueNode:C,onValueNodeChange:A,valueNodeHasChildren:R,onValueNodeHasChildrenChange:N,contentId:TO(),value:k,onValueChange:F,open:P,onOpenChange:z,dir:O,triggerPointerDownPosRef:G,disabled:y,children:[V.jsx(_A.Provider,{scope:e,children:V.jsx(YSe,{scope:t.__scopeSelect,onNativeOptionAdd:U.useCallback(W=>{ne(q=>new Set(q).add(W))},[]),onNativeOptionRemove:U.useCallback(W=>{ne(q=>{const te=new Set(q);return te.delete(W),te})},[]),children:n})}),$?V.jsxs(NW,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:g,value:k,onChange:W=>F(W.target.value),disabled:y,form:x,children:[k===void 0?V.jsx("option",{value:""}):null,Array.from(ee)]},re):null]})})};uW.displayName=zm;var lW="SelectTrigger",cW=U.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:i=!1,...r}=t,s=vA(n),a=Xh(lW,n),o=a.disabled||i,l=sr(e,a.onTriggerChange),f=yA(n),p=U.useRef("touch"),[g,y,_]=kW(S=>{const E=f().filter(A=>!A.disabled),w=E.find(A=>A.value===a.value),C=PW(E,S,w);C!==void 0&&a.onValueChange(C.value)}),x=S=>{o||(a.onOpenChange(!0),_()),S&&(a.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return V.jsx(E9,{asChild:!0,...s,children:V.jsx(Si.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":OW(a.value)?"":void 0,...r,ref:l,onClick:Un(r.onClick,S=>{S.currentTarget.focus(),p.current!=="mouse"&&x(S)}),onPointerDown:Un(r.onPointerDown,S=>{p.current=S.pointerType;const E=S.target;E.hasPointerCapture(S.pointerId)&&E.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(x(S),S.preventDefault())}),onKeyDown:Un(r.onKeyDown,S=>{const E=g.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&y(S.key),!(E&&S.key===" ")&&jSe.includes(S.key)&&(x(),S.preventDefault())})})})});cW.displayName=lW;var fW="SelectValue",dW=U.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:r,children:s,placeholder:a="",...o}=t,l=Xh(fW,n),{onValueNodeHasChildrenChange:f}=l,p=s!==void 0,g=sr(e,l.onValueNodeChange);return Ps(()=>{f(p)},[f,p]),V.jsx(Si.span,{...o,ref:g,style:{pointerEvents:"none"},children:OW(l.value)?V.jsx(V.Fragment,{children:a}):s})});dW.displayName=fW;var KSe="SelectIcon",hW=U.forwardRef((t,e)=>{const{__scopeSelect:n,children:i,...r}=t;return V.jsx(Si.span,{"aria-hidden":!0,...r,ref:e,children:i||""})});hW.displayName=KSe;var QSe="SelectPortal",pW=t=>V.jsx(QG,{asChild:!0,...t});pW.displayName=QSe;var Hm="SelectContent",mW=U.forwardRef((t,e)=>{const n=Xh(Hm,t.__scopeSelect),[i,r]=U.useState();if(Ps(()=>{r(new DocumentFragment)},[]),!n.open){const s=i;return s?Xm.createPortal(V.jsx(gW,{scope:t.__scopeSelect,children:V.jsx(_A.Slot,{scope:t.__scopeSelect,children:V.jsx("div",{children:t.children})})}),s):null}return V.jsx(_W,{...t,ref:e})});mW.displayName=Hm;var Al=10,[gW,Yh]=uy(Hm),JSe="SelectContentImpl",eEe=Q1e("SelectContent.RemoveScroll"),_W=U.forwardRef((t,e)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:_,sticky:x,hideWhenDetached:S,avoidCollisions:E,...w}=t,C=Xh(Hm,n),[A,R]=U.useState(null),[N,O]=U.useState(null),P=sr(e,fe=>R(fe)),[z,k]=U.useState(null),[F,G]=U.useState(null),$=yA(n),[ee,ne]=U.useState(!1),re=U.useRef(!1);U.useEffect(()=>{if(A)return uSe(A)},[A]),G1e();const W=U.useCallback(fe=>{const[He,...Xe]=$().map(Ct=>Ct.ref.current),[Ye]=Xe.slice(-1),bt=document.activeElement;for(const Ct of fe)if(Ct===bt||(Ct?.scrollIntoView({block:"nearest"}),Ct===He&&N&&(N.scrollTop=0),Ct===Ye&&N&&(N.scrollTop=N.scrollHeight),Ct?.focus(),document.activeElement!==bt))return},[$,N]),q=U.useCallback(()=>W([z,A]),[W,z,A]);U.useEffect(()=>{ee&&q()},[ee,q]);const{onOpenChange:te,triggerPointerDownPosRef:se}=C;U.useEffect(()=>{if(A){let fe={x:0,y:0};const He=Ye=>{fe={x:Math.abs(Math.round(Ye.pageX)-(se.current?.x??0)),y:Math.abs(Math.round(Ye.pageY)-(se.current?.y??0))}},Xe=Ye=>{fe.x<=10&&fe.y<=10?Ye.preventDefault():A.contains(Ye.target)||te(!1),document.removeEventListener("pointermove",He),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",He),document.addEventListener("pointerup",Xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",He),document.removeEventListener("pointerup",Xe,{capture:!0})}}},[A,te,se]),U.useEffect(()=>{const fe=()=>te(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[te]);const[Z,j]=kW(fe=>{const He=$().filter(bt=>!bt.disabled),Xe=He.find(bt=>bt.ref.current===document.activeElement),Ye=PW(He,fe,Xe);Ye&&setTimeout(()=>Ye.ref.current.focus())}),ue=U.useCallback((fe,He,Xe)=>{const Ye=!re.current&&!Xe;(C.value!==void 0&&C.value===He||Ye)&&(k(fe),Ye&&(re.current=!0))},[C.value]),ge=U.useCallback(()=>A?.focus(),[A]),Se=U.useCallback((fe,He,Xe)=>{const Ye=!re.current&&!Xe;(C.value!==void 0&&C.value===He||Ye)&&G(fe)},[C.value]),Fe=i==="popper"?_N:yW,ve=Fe===_N?{side:o,sideOffset:l,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:y,collisionPadding:_,sticky:x,hideWhenDetached:S,avoidCollisions:E}:{};return V.jsx(gW,{scope:n,content:A,viewport:N,onViewportChange:O,itemRefCallback:ue,selectedItem:z,onItemLeave:ge,itemTextRefCallback:Se,focusSelectedItem:q,selectedItemText:F,position:i,isPositioned:ee,searchRef:Z,children:V.jsx(oW,{as:eEe,allowPinchZoom:!0,children:V.jsx(ZG,{asChild:!0,trapped:C.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:Un(r,fe=>{C.trigger?.focus({preventScroll:!0}),fe.preventDefault()}),children:V.jsx(XG,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:V.jsx(Fe,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:fe=>fe.preventDefault(),...w,...ve,onPlaced:()=>ne(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Un(w.onKeyDown,fe=>{const He=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!He&&fe.key.length===1&&j(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let Ye=$().filter(bt=>!bt.disabled).map(bt=>bt.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(Ye=Ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const bt=fe.target,Ct=Ye.indexOf(bt);Ye=Ye.slice(Ct+1)}setTimeout(()=>W(Ye)),fe.preventDefault()}})})})})})})});_W.displayName=JSe;var tEe="SelectItemAlignedPosition",yW=U.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:i,...r}=t,s=Xh(Hm,n),a=Yh(Hm,n),[o,l]=U.useState(null),[f,p]=U.useState(null),g=sr(e,P=>p(P)),y=yA(n),_=U.useRef(!1),x=U.useRef(!0),{viewport:S,selectedItem:E,selectedItemText:w,focusSelectedItem:C}=a,A=U.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&f&&S&&E&&w){const P=s.trigger.getBoundingClientRect(),z=f.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),F=w.getBoundingClientRect();if(s.dir!=="rtl"){const bt=F.left-z.left,Ct=k.left-bt,at=P.left-Ct,Ae=P.width+at,Ve=Math.max(Ae,z.width),Ue=window.innerWidth-Al,de=P5(Ct,[Al,Math.max(Al,Ue-Ve)]);o.style.minWidth=Ae+"px",o.style.left=de+"px"}else{const bt=z.right-F.right,Ct=window.innerWidth-k.right-bt,at=window.innerWidth-P.right-Ct,Ae=P.width+at,Ve=Math.max(Ae,z.width),Ue=window.innerWidth-Al,de=P5(Ct,[Al,Math.max(Al,Ue-Ve)]);o.style.minWidth=Ae+"px",o.style.right=de+"px"}const G=y(),$=window.innerHeight-Al*2,ee=S.scrollHeight,ne=window.getComputedStyle(f),re=parseInt(ne.borderTopWidth,10),W=parseInt(ne.paddingTop,10),q=parseInt(ne.borderBottomWidth,10),te=parseInt(ne.paddingBottom,10),se=re+W+ee+te+q,Z=Math.min(E.offsetHeight*5,se),j=window.getComputedStyle(S),ue=parseInt(j.paddingTop,10),ge=parseInt(j.paddingBottom,10),Se=P.top+P.height/2-Al,Fe=$-Se,ve=E.offsetHeight/2,fe=E.offsetTop+ve,He=re+W+fe,Xe=se-He;if(He<=Se){const bt=G.length>0&&E===G[G.length-1].ref.current;o.style.bottom="0px";const Ct=f.clientHeight-S.offsetTop-S.offsetHeight,at=Math.max(Fe,ve+(bt?ge:0)+Ct+q),Ae=He+at;o.style.height=Ae+"px"}else{const bt=G.length>0&&E===G[0].ref.current;o.style.top="0px";const at=Math.max(Se,re+S.offsetTop+(bt?ue:0)+ve)+Xe;o.style.height=at+"px",S.scrollTop=He-Se+S.offsetTop}o.style.margin=`${Al}px 0`,o.style.minHeight=Z+"px",o.style.maxHeight=$+"px",i?.(),requestAnimationFrame(()=>_.current=!0)}},[y,s.trigger,s.valueNode,o,f,S,E,w,s.dir,i]);Ps(()=>A(),[A]);const[R,N]=U.useState();Ps(()=>{f&&N(window.getComputedStyle(f).zIndex)},[f]);const O=U.useCallback(P=>{P&&x.current===!0&&(A(),C?.(),x.current=!1)},[A,C]);return V.jsx(iEe,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:_,onScrollButtonChange:O,children:V.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:V.jsx(Si.div,{...r,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});yW.displayName=tEe;var nEe="SelectPopperPosition",_N=U.forwardRef((t,e)=>{const{__scopeSelect:n,align:i="start",collisionPadding:r=Al,...s}=t,a=vA(n);return V.jsx(w9,{...a,...s,ref:e,align:i,collisionPadding:r,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_N.displayName=nEe;var[iEe,fk]=uy(Hm,{}),yN="SelectViewport",vW=U.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:i,...r}=t,s=Yh(yN,n),a=fk(yN,n),o=sr(e,s.onViewportChange),l=U.useRef(0);return V.jsxs(V.Fragment,{children:[V.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),V.jsx(_A.Slot,{scope:n,children:V.jsx(Si.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:Un(r.onScroll,f=>{const p=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=a;if(y?.current&&g){const _=Math.abs(l.current-p.scrollTop);if(_>0){const x=window.innerHeight-Al*2,S=parseFloat(g.style.minHeight),E=parseFloat(g.style.height),w=Math.max(S,E);if(w<x){const C=w+_,A=Math.min(x,C),R=C-A;g.style.height=A+"px",g.style.bottom==="0px"&&(p.scrollTop=R>0?R:0,g.style.justifyContent="flex-end")}}}l.current=p.scrollTop})})})]})});vW.displayName=yN;var bW="SelectGroup",[rEe,sEe]=uy(bW),aEe=U.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,r=TO();return V.jsx(rEe,{scope:n,id:r,children:V.jsx(Si.div,{role:"group","aria-labelledby":r,...i,ref:e})})});aEe.displayName=bW;var xW="SelectLabel",SW=U.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,r=sEe(xW,n);return V.jsx(Si.div,{id:r.id,...i,ref:e})});SW.displayName=xW;var $M="SelectItem",[oEe,EW]=uy($M),wW=U.forwardRef((t,e)=>{const{__scopeSelect:n,value:i,disabled:r=!1,textValue:s,...a}=t,o=Xh($M,n),l=Yh($M,n),f=o.value===i,[p,g]=U.useState(s??""),[y,_]=U.useState(!1),x=sr(e,C=>l.itemRefCallback?.(C,i,r)),S=TO(),E=U.useRef("touch"),w=()=>{r||(o.onValueChange(i),o.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return V.jsx(oEe,{scope:n,value:i,disabled:r,textId:S,isSelected:f,onItemTextChange:U.useCallback(C=>{g(A=>A||(C?.textContent??"").trim())},[]),children:V.jsx(_A.ItemSlot,{scope:n,value:i,disabled:r,textValue:p,children:V.jsx(Si.div,{role:"option","aria-labelledby":S,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:x,onFocus:Un(a.onFocus,()=>_(!0)),onBlur:Un(a.onBlur,()=>_(!1)),onClick:Un(a.onClick,()=>{E.current!=="mouse"&&w()}),onPointerUp:Un(a.onPointerUp,()=>{E.current==="mouse"&&w()}),onPointerDown:Un(a.onPointerDown,C=>{E.current=C.pointerType}),onPointerMove:Un(a.onPointerMove,C=>{E.current=C.pointerType,r?l.onItemLeave?.():E.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Un(a.onPointerLeave,C=>{C.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Un(a.onKeyDown,C=>{l.searchRef?.current!==""&&C.key===" "||(qSe.includes(C.key)&&w(),C.key===" "&&C.preventDefault())})})})})});wW.displayName=$M;var hb="SelectItemText",TW=U.forwardRef((t,e)=>{const{__scopeSelect:n,className:i,style:r,...s}=t,a=Xh(hb,n),o=Yh(hb,n),l=EW(hb,n),f=ZSe(hb,n),[p,g]=U.useState(null),y=sr(e,w=>g(w),l.onItemTextChange,w=>o.itemTextRefCallback?.(w,l.value,l.disabled)),_=p?.textContent,x=U.useMemo(()=>V.jsx("option",{value:l.value,disabled:l.disabled,children:_},l.value),[l.disabled,l.value,_]),{onNativeOptionAdd:S,onNativeOptionRemove:E}=f;return Ps(()=>(S(x),()=>E(x)),[S,E,x]),V.jsxs(V.Fragment,{children:[V.jsx(Si.span,{id:l.textId,...s,ref:y}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Xm.createPortal(s.children,a.valueNode):null]})});TW.displayName=hb;var MW="SelectItemIndicator",CW=U.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return EW(MW,n).isSelected?V.jsx(Si.span,{"aria-hidden":!0,...i,ref:e}):null});CW.displayName=MW;var vN="SelectScrollUpButton",AW=U.forwardRef((t,e)=>{const n=Yh(vN,t.__scopeSelect),i=fk(vN,t.__scopeSelect),[r,s]=U.useState(!1),a=sr(e,i.onScrollButtonChange);return Ps(()=>{if(n.viewport&&n.isPositioned){let o=function(){const f=l.scrollTop>0;s(f)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),r?V.jsx(RW,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});AW.displayName=vN;var bN="SelectScrollDownButton",DW=U.forwardRef((t,e)=>{const n=Yh(bN,t.__scopeSelect),i=fk(bN,t.__scopeSelect),[r,s]=U.useState(!1),a=sr(e,i.onScrollButtonChange);return Ps(()=>{if(n.viewport&&n.isPositioned){let o=function(){const f=l.scrollHeight-l.clientHeight,p=Math.ceil(l.scrollTop)<f;s(p)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),r?V.jsx(RW,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});DW.displayName=bN;var RW=U.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:i,...r}=t,s=Yh("SelectScrollButton",n),a=U.useRef(null),o=yA(n),l=U.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return U.useEffect(()=>()=>l(),[l]),Ps(()=>{o().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),V.jsx(Si.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:Un(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(i,50))}),onPointerMove:Un(r.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(i,50))}),onPointerLeave:Un(r.onPointerLeave,()=>{l()})})}),uEe="SelectSeparator",IW=U.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t;return V.jsx(Si.div,{"aria-hidden":!0,...i,ref:e})});IW.displayName=uEe;var xN="SelectArrow",lEe=U.forwardRef((t,e)=>{const{__scopeSelect:n,...i}=t,r=vA(n),s=Xh(xN,n),a=Yh(xN,n);return s.open&&a.position==="popper"?V.jsx(T9,{...r,...i,ref:e}):null});lEe.displayName=xN;var cEe="SelectBubbleInput",NW=U.forwardRef(({__scopeSelect:t,value:e,...n},i)=>{const r=U.useRef(null),s=sr(i,r),a=rSe(e);return U.useEffect(()=>{const o=r.current;if(!o)return;const l=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&p){const g=new Event("change",{bubbles:!0});p.call(o,e),o.dispatchEvent(g)}},[a,e]),V.jsx(Si.select,{...n,style:{...AB,...n.style},ref:s,defaultValue:e})});NW.displayName=cEe;function OW(t){return t===""||t===void 0}function kW(t){const e=Js(t),n=U.useRef(""),i=U.useRef(0),r=U.useCallback(a=>{const o=n.current+a;e(o),(function l(f){n.current=f,window.clearTimeout(i.current),f!==""&&(i.current=window.setTimeout(()=>l(""),1e3))})(o)},[e]),s=U.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return U.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,r,s]}function PW(t,e,n){const r=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=fEe(t,Math.max(s,0));r.length===1&&(a=a.filter(f=>f!==n));const l=a.find(f=>f.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}function fEe(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var dEe=uW,LW=cW,hEe=dW,pEe=hW,mEe=pW,FW=mW,gEe=vW,UW=SW,BW=wW,_Ee=TW,yEe=CW,zW=AW,HW=DW,VW=IW;const vEe=dEe,bEe=hEe,GW=U.forwardRef(({className:t,children:e,...n},i)=>V.jsxs(LW,{ref:i,className:Wr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,V.jsx(pEe,{asChild:!0,children:V.jsx(QB,{className:"h-4 w-4 opacity-50"})})]}));GW.displayName=LW.displayName;const WW=U.forwardRef(({className:t,...e},n)=>V.jsx(zW,{ref:n,className:Wr("flex cursor-default items-center justify-center py-1",t),...e,children:V.jsx(aie,{className:"h-4 w-4"})}));WW.displayName=zW.displayName;const jW=U.forwardRef(({className:t,...e},n)=>V.jsx(HW,{ref:n,className:Wr("flex cursor-default items-center justify-center py-1",t),...e,children:V.jsx(QB,{className:"h-4 w-4"})}));jW.displayName=HW.displayName;const qW=U.forwardRef(({className:t,children:e,position:n="popper",...i},r)=>V.jsx(mEe,{children:V.jsxs(FW,{ref:r,className:Wr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[V.jsx(WW,{}),V.jsx(gEe,{className:Wr("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),V.jsx(jW,{})]})}));qW.displayName=FW.displayName;const xEe=U.forwardRef(({className:t,...e},n)=>V.jsx(UW,{ref:n,className:Wr("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));xEe.displayName=UW.displayName;const SN=U.forwardRef(({className:t,children:e,...n},i)=>V.jsxs(BW,{ref:i,className:Wr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[V.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:V.jsx(yEe,{children:V.jsx(iie,{className:"h-4 w-4"})})}),V.jsx(_Ee,{children:e})]}));SN.displayName=BW.displayName;const SEe=U.forwardRef(({className:t,...e},n)=>V.jsx(VW,{ref:n,className:Wr("-mx-1 my-1 h-px bg-muted",t),...e}));SEe.displayName=VW.displayName;function EEe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function $W(t){const e=U.useRef(t);return U.useEffect(()=>{e.current=t}),U.useMemo(()=>(...n)=>e.current?.(...n),[])}function wEe({prop:t,defaultProp:e,onChange:n=()=>{}}){const[i,r]=TEe({defaultProp:e,onChange:n}),s=t!==void 0,a=s?t:i,o=$W(n),l=U.useCallback(f=>{if(s){const g=typeof f=="function"?f(t):f;g!==t&&o(g)}else r(f)},[s,t,r,o]);return[a,l]}function TEe({defaultProp:t,onChange:e}){const n=U.useState(t),[i]=n,r=U.useRef(i),s=$W(e);return U.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),n}function MEe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function CEe(...t){return e=>t.forEach(n=>MEe(n,e))}var dk=U.forwardRef((t,e)=>{const{children:n,...i}=t,r=U.Children.toArray(n),s=r.find(DEe);if(s){const a=s.props.children,o=r.map(l=>l===s?U.Children.count(a)>1?U.Children.only(null):U.isValidElement(a)?a.props.children:null:l);return V.jsx(EN,{...i,ref:e,children:U.isValidElement(a)?U.cloneElement(a,void 0,o):null})}return V.jsx(EN,{...i,ref:e,children:n})});dk.displayName="Slot";var EN=U.forwardRef((t,e)=>{const{children:n,...i}=t;if(U.isValidElement(n)){const r=IEe(n);return U.cloneElement(n,{...REe(i,n.props),ref:e?CEe(e,r):r})}return U.Children.count(n)>1?U.Children.only(null):null});EN.displayName="SlotClone";var AEe=({children:t})=>V.jsx(V.Fragment,{children:t});function DEe(t){return U.isValidElement(t)&&t.type===AEe}function REe(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...o)=>{s(...o),r(...o)}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function IEe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var NEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],OEe=NEe.reduce((t,e)=>{const n=U.forwardRef((i,r)=>{const{asChild:s,...a}=i,o=s?dk:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),V.jsx(o,{...a,ref:r})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),kEe="Toggle",XW=U.forwardRef((t,e)=>{const{pressed:n,defaultPressed:i=!1,onPressedChange:r,...s}=t,[a=!1,o]=wEe({prop:n,onChange:r,defaultProp:i});return V.jsx(OEe.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":t.disabled?"":void 0,...s,ref:e,onClick:EEe(t.onClick,()=>{t.disabled||o(!a)})})});XW.displayName=kEe;var YW=XW;const PEe=pO("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),wN=U.forwardRef(({className:t,variant:e,size:n,...i},r)=>V.jsx(YW,{ref:r,className:Wr(PEe({variant:e,size:n,className:t})),...i}));wN.displayName=YW.displayName;const LEe=pO("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function FEe({className:t,variant:e,...n}){return V.jsx("div",{className:Wr(LEe({variant:e}),t),...n})}function UEe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function BEe(t,e=[]){let n=[];function i(s,a){const o=U.createContext(a),l=n.length;n=[...n,a];function f(g){const{scope:y,children:_,...x}=g,S=y?.[t][l]||o,E=U.useMemo(()=>x,Object.values(x));return V.jsx(S.Provider,{value:E,children:_})}function p(g,y){const _=y?.[t][l]||o,x=U.useContext(_);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${s}\``)}return f.displayName=s+"Provider",[f,p]}const r=()=>{const s=n.map(a=>U.createContext(a));return function(o){const l=o?.[t]||s;return U.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return r.scopeName=t,[i,zEe(r,...e)]}function zEe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const a=i.reduce((o,{useScope:l,scopeName:f})=>{const g=l(s)[`__scope${f}`];return{...o,...g}},{});return U.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function ZW(t){const e=U.useRef(t);return U.useEffect(()=>{e.current=t}),U.useMemo(()=>(...n)=>e.current?.(...n),[])}function HEe({prop:t,defaultProp:e,onChange:n=()=>{}}){const[i,r]=VEe({defaultProp:e,onChange:n}),s=t!==void 0,a=s?t:i,o=ZW(n),l=U.useCallback(f=>{if(s){const g=typeof f=="function"?f(t):f;g!==t&&o(g)}else r(f)},[s,t,r,o]);return[a,l]}function VEe({defaultProp:t,onChange:e}){const n=U.useState(t),[i]=n,r=U.useRef(i),s=ZW(e);return U.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),n}var XM=globalThis?.document?U.useLayoutEffect:()=>{};function GEe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function WEe(...t){return e=>t.forEach(n=>GEe(n,e))}function KW(...t){return U.useCallback(WEe(...t),t)}var jEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],hk=jEe.reduce((t,e)=>{const n=U.forwardRef((i,r)=>{const{asChild:s,...a}=i,o=s?dk:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),V.jsx(o,{...a,ref:r})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function qEe(t,e){return U.useReducer((n,i)=>e[n][i]??n,t)}var QW=t=>{const{present:e,children:n}=t,i=$Ee(e),r=typeof n=="function"?n({present:i.isPresent}):U.Children.only(n),s=KW(i.ref,XEe(r));return typeof n=="function"||i.isPresent?U.cloneElement(r,{ref:s}):null};QW.displayName="Presence";function $Ee(t){const[e,n]=U.useState(),i=U.useRef({}),r=U.useRef(t),s=U.useRef("none"),a=t?"mounted":"unmounted",[o,l]=qEe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return U.useEffect(()=>{const f=Ow(i.current);s.current=o==="mounted"?f:"none"},[o]),XM(()=>{const f=i.current,p=r.current;if(p!==t){const y=s.current,_=Ow(f);t?l("MOUNT"):_==="none"||f?.display==="none"?l("UNMOUNT"):l(p&&y!==_?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,l]),XM(()=>{if(e){const f=g=>{const _=Ow(i.current).includes(g.animationName);g.target===e&&_&&Xm.flushSync(()=>l("ANIMATION_END"))},p=g=>{g.target===e&&(s.current=Ow(i.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:U.useCallback(f=>{f&&(i.current=getComputedStyle(f)),n(f)},[])}}function Ow(t){return t?.animationName||"none"}function XEe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var YEe=cC.useId||(()=>{}),ZEe=0;function KEe(t){const[e,n]=U.useState(YEe());return XM(()=>{n(i=>i??String(ZEe++))},[t]),t||(e?`radix-${e}`:"")}var pk="Collapsible",[QEe]=BEe(pk),[JEe,mk]=QEe(pk),JW=U.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:i,defaultOpen:r,disabled:s,onOpenChange:a,...o}=t,[l=!1,f]=HEe({prop:i,defaultProp:r,onChange:a});return V.jsx(JEe,{scope:n,disabled:s,contentId:KEe(),open:l,onOpenToggle:U.useCallback(()=>f(p=>!p),[f]),children:V.jsx(hk.div,{"data-state":_k(l),"data-disabled":s?"":void 0,...o,ref:e})})});JW.displayName=pk;var ej="CollapsibleTrigger",tj=U.forwardRef((t,e)=>{const{__scopeCollapsible:n,...i}=t,r=mk(ej,n);return V.jsx(hk.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":_k(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...i,ref:e,onClick:UEe(t.onClick,r.onOpenToggle)})});tj.displayName=ej;var gk="CollapsibleContent",nj=U.forwardRef((t,e)=>{const{forceMount:n,...i}=t,r=mk(gk,t.__scopeCollapsible);return V.jsx(QW,{present:n||r.open,children:({present:s})=>V.jsx(ewe,{...i,ref:e,present:s})})});nj.displayName=gk;var ewe=U.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:i,children:r,...s}=t,a=mk(gk,n),[o,l]=U.useState(i),f=U.useRef(null),p=KW(e,f),g=U.useRef(0),y=g.current,_=U.useRef(0),x=_.current,S=a.open||o,E=U.useRef(S),w=U.useRef();return U.useEffect(()=>{const C=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(C)},[]),XM(()=>{const C=f.current;if(C){w.current=w.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const A=C.getBoundingClientRect();g.current=A.height,_.current=A.width,E.current||(C.style.transitionDuration=w.current.transitionDuration,C.style.animationName=w.current.animationName),l(i)}},[a.open,i]),V.jsx(hk.div,{"data-state":_k(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!S,...s,ref:p,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...t.style},children:S&&r})});function _k(t){return t?"open":"closed"}var twe=JW;const nwe=twe,iwe=tj,rwe=nj,ij=U.forwardRef(({className:t,type:e,...n},i)=>V.jsx("input",{type:e,className:Wr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,...n}));ij.displayName="Input";ma.registerPlugin(Kn);const swe=()=>{const[t,e]=U.useState(0),[n,i]=U.useState("all"),[r,s]=U.useState("all"),[a,o]=U.useState(!1),[l,f]=U.useState("");U.useEffect(()=>{const E=()=>{const w=document.documentElement.scrollHeight-window.innerHeight;if(w>0){const C=window.scrollY/w*100;e(Math.round(C))}else e(0)};return window.addEventListener("scroll",E),E(),()=>window.removeEventListener("scroll",E)},[]),U.useEffect(()=>{ma.utils.toArray("section").forEach(E=>{ma.from(E,{opacity:0,y:50,duration:1,scrollTrigger:{trigger:E,start:"top 80%",toggleActions:"play none none none"}})})},[]);const{data:p=[]}=gI({queryKey:["languages"],queryFn:Dfe}),{data:g,isLoading:y,error:_}=gI({queryKey:["repositories",n,r,l],queryFn:()=>GO(n,r,l)}),x=[{value:"all",label:"All Projects"},{value:"featured",label:"Featured"},{value:"recent",label:"Recent"},{value:"popular",label:"Popular"}];U.useEffect(()=>{s("all")},[n]);const S=E=>{f(E.target.value)};return V.jsxs("div",{className:"bg-[#0a0a0a] text-white font-ibm-mono min-h-screen overflow-x-hidden",children:[V.jsx("div",{className:"scanlines"}),V.jsx("div",{className:"noise-overlay"}),V.jsx(fA,{}),V.jsxs("div",{className:"fixed top-4 right-4 text-[#ff3333] z-50 mix-blend-difference",children:["[SCROLL: ",t,"%]"]}),V.jsxs("main",{className:"relative z-10",children:[V.jsx("section",{className:"min-h-[60vh] flex flex-col items-center justify-center overflow-hidden p-4 md:p-8 border-t-4 border-white",children:V.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[V.jsx("h1",{className:"font-bold uppercase text-center mb-8",style:{fontSize:"clamp(2rem, 6vw, 4rem)",letterSpacing:"clamp(0.2rem, 1vw, 0.8rem)",lineHeight:"1"},children:"PROJECTS"}),V.jsx("div",{className:"space-y-6 mt-8",children:V.jsxs("p",{className:"text-lg md:text-xl text-[#666666] leading-relaxed max-w-2xl mx-auto",children:[V.jsx("span",{className:"text-[#ff3333]",children:">"})," Explore my open-source projects and personal work. Each project represents my journey as a developer and my passion for creating"," ",V.jsx("span",{className:"text-white",children:"innovative solutions"}),"."]})})]})}),V.jsx("section",{className:"py-20 px-4 md:px-8",children:V.jsxs("div",{className:"max-w-6xl mx-auto",children:[V.jsxs("div",{className:"mb-8 relative",children:[V.jsx(JB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#666666]",size:18}),V.jsx(ij,{className:"pl-10 bg-[#0a0a0a]/50 border border-[#666666] text-white placeholder:text-[#666666] focus:border-[#ff3333] focus:outline-none transition-colors",type:"search",value:l,onChange:S,placeholder:"Search repositories..."})]}),V.jsx("div",{className:"flex flex-wrap gap-3 mb-4",children:x.map(E=>V.jsx("button",{onClick:()=>i(E.value),className:`px-4 py-2 border transition-colors ${n===E.value?"border-[#ff3333] text-[#ff3333] bg-[#ff3333]/10":"border-[#666666] text-[#666666] hover:border-[#ff3333] hover:text-[#ff3333]"}`,children:E.label},E.value))}),V.jsxs(nwe,{open:a,onOpenChange:o,className:"mb-6 space-y-2",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsxs(iwe,{className:"flex items-center gap-2 px-3 py-1.5 text-sm text-[#666666] hover:text-white rounded-md border border-[#666666] hover:border-[#ff3333] transition-colors",children:[V.jsx(cie,{size:16}),a?"Hide Filters":"Show Filters",r!=="all"&&V.jsx(FEe,{className:"ml-2 bg-[#ff3333]/20 text-[#ff3333] border border-[#ff3333]",children:r})]}),r!=="all"&&V.jsx("button",{onClick:()=>s("all"),className:"text-sm text-[#666666] hover:text-[#ff3333]",children:"Clear filters"})]}),V.jsx(rwe,{className:"pt-2 pb-4",children:V.jsx("div",{className:"space-y-4",children:V.jsxs("div",{children:[V.jsx("label",{className:"text-sm text-[#666666] mb-2 block",children:"Programming Language"}),V.jsxs(vEe,{value:r,onValueChange:s,children:[V.jsx(GW,{className:"w-full md:w-[180px] bg-[#0a0a0a]/50 border border-[#666666] text-white focus:border-[#ff3333]",children:V.jsx(bEe,{placeholder:"Select language"})}),V.jsxs(qW,{className:"bg-[#0a0a0a] border border-[#666666]",children:[V.jsx(SN,{value:"all",children:"All Languages"}),p.map(E=>V.jsx(SN,{value:E,children:E},E))]})]})]})})})]}),p.length>0&&V.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[V.jsx(wN,{pressed:r==="all",onClick:()=>s("all"),variant:"outline",size:"sm",className:"text-sm bg-[#0a0a0a]/50 border border-[#666666] text-[#666666] hover:border-[#ff3333] hover:text-[#ff3333] data-[state=on]:bg-[#ff3333]/10 data-[state=on]:border-[#ff3333] data-[state=on]:text-[#ff3333]",children:"All"}),p.slice(0,5).map(E=>V.jsx(wN,{pressed:r===E,onClick:()=>s(E),variant:"outline",size:"sm",className:"text-sm bg-[#0a0a0a]/50 border border-[#666666] text-[#666666] hover:border-[#ff3333] hover:text-[#ff3333] data-[state=on]:bg-[#ff3333]/10 data-[state=on]:border-[#ff3333] data-[state=on]:text-[#ff3333]",children:E},E)),p.length>5&&V.jsxs("button",{onClick:()=>o(!a),className:"text-sm underline text-[#666666] hover:text-[#ff3333]",children:[p.length-5," more..."]})]}),y?V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-pulse",children:[1,2,3,4,5,6].map(E=>V.jsx("div",{className:"h-48 bg-[#666666]/10 border border-[#666666]"},E))}):_?V.jsxs("div",{className:"bg-[#666666]/10 border border-[#ff3333] text-center py-8",children:[V.jsx(xie,{className:"w-12 h-12 mx-auto mb-4 text-[#ff3333]"}),V.jsx("p",{className:"text-[#ff3333] mb-4",children:"Failed to load projects. Please try again later."}),V.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 border border-[#ff3333] text-[#ff3333] hover:bg-[#ff3333]/10 transition-colors",children:"Try Again"})]}):g?.length===0?V.jsxs("div",{className:"bg-[#666666]/10 border border-[#666666] text-center py-8",children:[V.jsx("p",{className:"text-[#666666] mb-4",children:"No repositories found matching your criteria."}),V.jsx("button",{onClick:()=>{i("all"),s("all")},className:"px-4 py-2 border border-[#ff3333] text-[#ff3333] hover:bg-[#ff3333]/10 transition-colors",children:"View All Projects"})]}):V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g?.map(E=>V.jsx(r7,{repo:E},E.id))})]})}),V.jsx("footer",{className:"py-12 px-4 md:px-8 border-t-4 border-white text-center",children:V.jsx("pre",{className:"text-[#666666]",children:"END OF TRANSMISSION"})})]})]})};ma.registerPlugin(Kn);const awe=()=>{const[t,e]=U.useState(0),[n,i]=U.useState(""),[r,s]=U.useState(null);U.useEffect(()=>{const p=()=>{const g=document.documentElement.scrollHeight-window.innerHeight;if(g>0){const y=window.scrollY/g*100;e(Math.round(y))}else e(0)};return window.addEventListener("scroll",p),p(),()=>window.removeEventListener("scroll",p)},[]),U.useEffect(()=>{ma.utils.toArray("section").forEach(p=>{ma.from(p,{opacity:0,y:50,duration:1,scrollTrigger:{trigger:p,start:"top 80%",toggleActions:"play none none none"}})})},[]);const a=o7(),o=Array.from(new Set(a.flatMap(p=>p.tags))),f=[...a.filter(p=>{const g=p.title.toLowerCase().includes(n.toLowerCase())||p.excerpt.toLowerCase().includes(n.toLowerCase())||p.tags.some(_=>_.toLowerCase().includes(n.toLowerCase())),y=r?p.tags.includes(r):!0;return g&&y})].sort((p,g)=>new Date(g.date).getTime()-new Date(p.date).getTime());return V.jsxs("div",{className:"bg-[#0a0a0a] text-white font-ibm-mono min-h-screen overflow-x-hidden",children:[V.jsx("div",{className:"scanlines"}),V.jsx("div",{className:"noise-overlay"}),V.jsx(fA,{}),V.jsxs("div",{className:"fixed top-4 right-4 text-[#ff3333] z-50 mix-blend-difference",children:["[SCROLL: ",t,"%]"]}),V.jsxs("main",{className:"relative z-10",children:[V.jsx("section",{className:"min-h-[60vh] flex flex-col items-center justify-center overflow-hidden p-4 md:p-8 border-t-4 border-white",children:V.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[V.jsx("h1",{className:"font-bold uppercase text-center mb-8",style:{fontSize:"clamp(2rem, 6vw, 4rem)",letterSpacing:"clamp(0.2rem, 1vw, 0.8rem)",lineHeight:"1"},children:"BLOG"}),V.jsxs("div",{className:"space-y-6 mt-8",children:[V.jsxs("p",{className:"text-lg md:text-xl text-[#666666] leading-relaxed max-w-2xl mx-auto",children:[V.jsx("span",{className:"text-[#ff3333]",children:">"})," Thoughts, tutorials, and insights about programming, web development, and technology."]}),V.jsx("p",{className:"text-sm md:text-base text-[#666666] leading-relaxed max-w-2xl mx-auto",children:"I try to keep my blog posts as short as possible since I am someone that doesn't like reading, so why should I subject my viewers to more reading ;)"})]})]})}),V.jsx("section",{className:"py-20 px-4 md:px-8",children:V.jsxs("div",{className:"max-w-6xl mx-auto",children:[V.jsxs("div",{className:"mb-8 space-y-4",children:[V.jsxs("div",{className:"relative",children:[V.jsx(JB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[#666666]",size:18}),V.jsx("input",{type:"text",placeholder:"Search posts...",value:n,onChange:p=>i(p.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#0a0a0a]/50 border border-[#666666] text-white placeholder:text-[#666666] rounded-none focus:outline-none focus:border-[#ff3333] transition-colors"})]}),V.jsxs("div",{className:"flex flex-wrap gap-2",children:[V.jsx("button",{onClick:()=>s(null),className:`px-3 py-1 border text-sm transition-colors ${r===null?"border-[#ff3333] text-[#ff3333] bg-[#ff3333]/10":"border-[#666666] text-[#666666] hover:border-[#ff3333] hover:text-[#ff3333]"}`,children:"All"}),o.map(p=>V.jsx("button",{onClick:()=>s(p===r?null:p),className:`px-3 py-1 border text-sm transition-colors ${p===r?"border-[#ff3333] text-[#ff3333] bg-[#ff3333]/10":"border-[#666666] text-[#666666] hover:border-[#ff3333] hover:text-[#ff3333]"}`,children:p},p))]})]}),f.length===0?V.jsxs("div",{className:"bg-[#666666]/10 border border-[#666666] text-center py-8",children:[V.jsx("p",{className:"text-[#666666] mb-4",children:"No blog posts found matching your criteria."}),V.jsx("button",{onClick:()=>{i(""),s(null)},className:"px-4 py-2 border border-[#ff3333] text-[#ff3333] hover:bg-[#ff3333]/10 transition-colors",children:"Clear Filters"})]}):V.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(p=>V.jsx(s7,{blog:p},p.slug))})]})}),V.jsx("footer",{className:"py-12 px-4 md:px-8 border-t-4 border-white text-center",children:V.jsx("pre",{className:"text-[#666666]",children:"END OF TRANSMISSION"})})]})]})},owe=()=>{const t=r1(),[e,n]=U.useState(!1),i=[{path:"/",label:"Home"},{path:"/projects",label:"Projects"},{path:"/blog",label:"Blog"}],r=()=>{n(!e)};return V.jsx("header",{className:"border-b border-tokyo-selection sticky top-0 z-50 bg-tokyo-bg/90 backdrop-blur-sm",children:V.jsxs("nav",{className:"container mx-auto px-6 py-4",children:[V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx(kf,{to:"/",className:"text-xl font-bold text-tokyo-accent",children:"Liang-Shih Lin"}),V.jsx("div",{className:"hidden md:flex space-x-8",children:i.map(s=>V.jsx(kf,{to:s.path,className:Wr("nav-link",t.pathname===s.path&&"active"),children:s.label},s.path))}),V.jsx("button",{className:"md:hidden text-tokyo-fg hover:text-tokyo-accent",onClick:r,children:e?V.jsx(ez,{size:24}):V.jsx(yie,{size:24})})]}),e&&V.jsx("div",{className:"md:hidden mt-4 pb-4 animate-fade-in",children:V.jsx("div",{className:"flex flex-col space-y-4",children:i.map(s=>V.jsx(kf,{to:s.path,className:Wr("nav-link py-3 text-center",t.pathname===s.path&&"active"),onClick:()=>n(!1),children:s.label},s.path))})})]})})},uwe=()=>V.jsx("footer",{className:"border-t border-tokyo-selection py-8 mt-auto",children:V.jsx("div",{className:"container mx-auto px-6",children:V.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[V.jsx("div",{className:"mb-4 md:mb-0",children:V.jsxs("p",{className:"text-tokyo-comment",children:[" ",new Date().getFullYear()," Liang-Shih Lin | Built with React"]})}),V.jsxs("div",{className:"flex space-x-6",children:[V.jsx("a",{href:"https://github.com/ll931217",target:"_blank",rel:"noopener noreferrer",className:"text-tokyo-comment hover:text-tokyo-accent transition-colors",children:V.jsx(n7,{size:20})}),V.jsx("a",{href:"https://www.linkedin.com/in/ll931217/",target:"_blank",rel:"noopener noreferrer",className:"text-tokyo-comment hover:text-tokyo-accent transition-colors",children:V.jsx(pie,{size:20})}),V.jsx("a",{href:"mailto:liangshihlin@gmail.com",className:"text-tokyo-comment hover:text-tokyo-accent transition-colors",children:V.jsx(gie,{size:20})})]})]})})}),lwe=({children:t})=>V.jsxs("div",{className:"flex flex-col min-h-screen",children:[V.jsx(owe,{}),V.jsx("main",{className:"flex-grow container mx-auto px-6 py-8",children:t}),V.jsx(uwe,{})]}),cwe=()=>{const{slug:t}=efe(),e=K9(),n=t?Hfe(t):void 0;if(U.useEffect(()=>{window.scrollTo(0,0),!n&&t&&e("/blog")},[n,t,e]),!n)return null;const i=boe(n.content);return V.jsx(lwe,{children:V.jsxs("div",{className:"max-w-3xl mx-auto",children:[V.jsxs(kf,{to:"/blog",className:"inline-flex items-center text-tokyo-accent hover:text-tokyo-blue mb-6 transition-colors",children:[V.jsx(eie,{className:"mr-2 h-4 w-4"}),"Back to Blog"]}),V.jsxs("article",{children:[V.jsxs("header",{className:"mb-8",children:[V.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 text-tokyo-purple",children:n.title}),V.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-tokyo-comment",children:[V.jsx("time",{dateTime:n.date,children:Yz(n.date)}),V.jsxs("span",{children:["By ",n.author]}),V.jsx("div",{className:"flex flex-wrap gap-2 mt-4 md:mt-0",children:n.tags.map(r=>V.jsx(VO,{language:r},r))})]})]}),V.jsx("div",{className:"markdown prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:i}})]})]})})},fwe=()=>V.jsxs("div",{className:"bg-[#0a0a0a] text-white font-ibm-mono min-h-screen overflow-x-hidden",children:[V.jsx("div",{className:"scanlines"}),V.jsx("div",{className:"noise-overlay"}),V.jsx(fA,{}),V.jsxs("main",{className:"relative z-10 min-h-screen flex flex-col items-center justify-center p-4 md:p-8 border-t-4 border-white",children:[V.jsxs("div",{className:"max-w-md mx-auto text-center",children:[V.jsx("h1",{className:"text-8xl md:text-9xl font-bold mb-6 text-[#ff3333]",children:"404"}),V.jsxs("div",{className:"mb-8",children:[V.jsx("h2",{className:"text-2xl font-semibold mb-4 text-white uppercase tracking-widest",children:"Page Not Found"}),V.jsxs("p",{className:"text-[#666666]",children:[V.jsx("span",{className:"text-[#ff3333]",children:">"})," The page you're looking for doesn't exist or has been moved."]})]}),V.jsxs(kf,{to:"/",className:"inline-flex items-center px-6 py-3 border border-[#ff3333] text-[#ff3333] hover:bg-[#ff3333]/10 transition-colors",children:[V.jsx(die,{className:"mr-2 h-4 w-4"}),"Back to Home"]})]}),V.jsx("footer",{className:"mt-auto py-12 text-center",children:V.jsx("pre",{className:"text-[#666666]",children:"END OF TRANSMISSION"})})]})]}),dwe=new cce,hwe=()=>V.jsx(dce,{client:dwe,children:V.jsxs(Ble,{children:[V.jsx(woe,{}),V.jsx(nue,{}),V.jsx(Efe,{children:V.jsxs(gfe,{children:[V.jsx(Fg,{path:"/",element:V.jsx(N1e,{})}),V.jsx(Fg,{path:"/projects",element:V.jsx(swe,{})}),V.jsx(Fg,{path:"/blog",element:V.jsx(awe,{})}),V.jsx(Fg,{path:"/blog/:slug",element:V.jsx(cwe,{})}),V.jsx(Fg,{path:"*",element:V.jsx(fwe,{})})]})})]})});qte({dsn:"https://70aa6d6bd66bb6adefddba3d717d17f6@sentry.baoge.dev/3",integrations:[Hte(),xte()],tracesSampleRate:1,tracePropagationTargets:["localhost","https://baoge.dev"],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1});qj.createRoot(document.getElementById("root")).render(V.jsx(hwe,{}));
//# sourceMappingURL=index-BaY8yZS5.js.map
